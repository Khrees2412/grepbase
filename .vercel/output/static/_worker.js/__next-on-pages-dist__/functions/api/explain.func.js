var _g=Object.defineProperty;var lv=Object.getOwnPropertyDescriptor;var uv=Object.getOwnPropertyNames;var cv=Object.prototype.hasOwnProperty;var Hc=(Ui=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Ui,{get:(mr,Ul)=>(typeof require<"u"?require:mr)[Ul]}):Ui)(function(Ui){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+Ui+'" is not supported')});var Ep=(Ui,mr)=>()=>(Ui&&(mr=Ui(Ui=0)),mr);var $p=(Ui,mr,Ul,v)=>{if(mr&&typeof mr=="object"||typeof mr=="function")for(let p of uv(mr))!cv.call(Ui,p)&&p!==Ul&&_g(Ui,p,{get:()=>mr[p],enumerable:!(v=lv(mr,p))||v.enumerable});return Ui},$l=(Ui,mr,Ul)=>($p(Ui,mr,"default"),Ul&&$p(Ul,mr,"default"));var Tp=Ui=>$p(_g({},"__esModule",{value:!0}),Ui);var tc={};import*as gv from"node:async_hooks";var xg=Ep(()=>{$l(tc,gv)});var rc={};import*as yv from"node:buffer";var wg=Ep(()=>{$l(rc,yv)});var nc={};import*as vv from"async_hooks";var Sg=Ep(()=>{$l(nc,vv)});import{__getNamedExports as dv}from"../../../__next-on-pages-dist__/manifest/__RSC_SERVER_MANIFEST.js";var _u=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/explain"),pv=dv(_u,_u,_u),mv=pv.__RSC_SERVER_MANIFEST,xv=((Ui,mr,Ul)=>(mr._ENTRIES={},mr.__BUILD_MANIFEST={pages:{"/_app":[]},devFiles:[],polyfillFiles:["static/chunks/a6dad97d9634a72d.js"],lowPriorityFiles:[],rootMainFiles:["static/chunks/e0df3873fae7bdbe.js","static/chunks/7021c85f9439b89e.js","static/chunks/bd537e0a0b58a56b.js","static/chunks/cc759f7c2413b7ff.js","static/chunks/turbopack-f9e9c5bd2166a7b5.js"]},mr.__BUILD_MANIFEST.lowPriorityFiles=["/static/45wwz01MkHA8G0LiTpfIq/_buildManifest.js","/static/45wwz01MkHA8G0LiTpfIq/_ssgManifest.js"],Ui.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",Ui.__SERVER_FILES_MANIFEST={version:1,config:{distDir:".next",cacheComponents:!1,htmlLimitedBots:"[\\w-]+-Google|Google-[\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight",assetPrefix:"",trailingSlash:!1,images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:[{pathname:"**",search:""}],remotePatterns:[],qualities:[75],unoptimized:!1},reactMaxHeadersLength:6e3,cacheLife:{default:{stale:300,revalidate:900,expire:4294967294},seconds:{stale:30,revalidate:1,expire:60},minutes:{stale:300,revalidate:60,expire:3600},hours:{stale:300,revalidate:3600,expire:86400},days:{stale:300,revalidate:86400,expire:604800},weeks:{stale:300,revalidate:604800,expire:2592e3},max:{stale:300,revalidate:2592e3,expire:31536e3}},basePath:"",expireTime:31536e3,generateEtags:!0,poweredByHeader:!0,cacheHandlers:{},cacheMaxMemorySize:52428800,compress:!1,i18n:null,httpAgentOptions:{keepAlive:!0},pageExtensions:["tsx","ts","jsx","js"],useFileSystemPublicRoutes:!0,experimental:{ppr:!1,staleTimes:{dynamic:0,static:300},dynamicOnHover:!1,inlineCss:!1,authInterrupts:!1,fetchCacheKeyPrefix:"",isrFlushToDisk:!0,optimizeCss:!1,nextScriptWorkers:!1,disableOptimizedLoading:!1,largePageDataBytes:128e3,serverComponentsHmrCache:!0,caseSensitiveRoutes:!1,validateRSCRequestHeaders:!1,useSkewCookie:!1,preloadEntriesOnStart:!0,hideLogsAfterAbort:!1,removeUncaughtErrorAndRejectionListeners:!1,imgOptConcurrency:null,imgOptMaxInputPixels:268402689,imgOptSequentialRead:null,imgOptSkipMetadata:null,imgOptTimeoutInSeconds:7,proxyClientMaxBodySize:10485760,trustHostHeader:!0,isExperimentalCompile:!1}},appDir:"/Users/mac/Desktop/code/grepbase",relativeAppDir:"",files:[".next/routes-manifest.json",".next/server/pages-manifest.json",".next/build-manifest.json",".next/prerender-manifest.json",".next/server/functions-config-manifest.json",".next/server/middleware-manifest.json",".next/server/middleware-build-manifest.js",".next/server/app-paths-manifest.json",".next/app-path-routes-manifest.json",".next/server/server-reference-manifest.js",".next/server/server-reference-manifest.json",".next/BUILD_ID",".next/server/next-font-manifest.js",".next/server/next-font-manifest.json",".next/required-server-files.json"],ignore:[]},Ui.__RSC_SERVER_MANIFEST=mv,mr.__RSC_MANIFEST=mr.__RSC_MANIFEST||{},mr.__RSC_MANIFEST["/api/explain/route"]={moduleLoading:{prefix:"",crossOrigin:null},clientModules:{},ssrModuleMapping:{},edgeSSRModuleMapping:{},rscModuleMapping:{},edgeRscModuleMapping:{},entryCSSFiles:{},entryJSFiles:{}},(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/_next-internal_server_app_api_explain_route_actions_931b71b7.js",89003,(v,p,ve)=>{}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_next_dist_esm_build_templates_edge-app-route_d34589f6.js",48345,v=>{"use strict";let p;var ve,n=v.i(92480),Pe=v.i(87259),M=v.i(51615),ie=v.i(73246),Ze=v.i(23646),me=v.i(32995),$e=v.i(4842),V=v.i(68045),X=v.i(87167),U=v.i(20900),oe=v.i(83877),_e=v.i(546),ge=v.i(66163),ht=v.i(16423),ee=v.i(63402),Be=v.i(40409),re=v.i(14327),et=v.i(80441);v.i(27064);var Ge=v.i(34277),it=v.i(40831);v.i(17649);var bt=v.i(60378),Et=v.i(71062),tr=v.i(27509),Gt=v.i(97804),Ve=v.i(87633);async function cr(nr,zr,en){let Se=(0,Ve.createAIProvider)(en),q=`You are an expert code reviewer helping developers understand a codebase by walking through its git history commit by commit.

Project: ${zr.name}
${zr.description?`Description: ${zr.description}`:""}
Progress: Commit ${zr.currentCommitIndex} of ${zr.totalCommits}

Your role is to:
1. Explain what this commit does in plain English
2. Why these changes might have been made
3. How this fits into the overall project evolution
4. Key things a newcomer should understand about these changes

Be concise but thorough. Use markdown formatting.`,J=`Explain this commit:

**Commit:** ${nr.sha.substring(0,7)}
**Message:** ${nr.message}
**Author:** ${nr.authorName||"Unknown"}
**Date:** ${nr.date.toLocaleDateString()}

**Files Changed:** ${nr.filesChanged.length>0?nr.filesChanged.join(", "):"Unknown"}

${nr.diff?`**Diff:**
\`\`\`diff
${nr.diff.substring(0,2e3)}${nr.diff.length>2e3?`
... (truncated)`:""}
\`\`\``:""}`;return(0,Gt.streamText)({model:Se,system:q,prompt:J,maxOutputTokens:1e3})}async function ye(nr,zr){let en=(0,Ve.createAIProvider)(zr),Se=`You are an expert at explaining software projects to newcomers.
Help developers understand what this project does and how to start contributing.`,q=`Give me a beginner-friendly overview of this project:

**Project:** ${nr.name}
**Description:** ${nr.description||"No description"}
**Total Commits:** ${nr.totalCommits}

${nr.readme?`**README:**
${nr.readme.substring(0,5e3)}${nr.readme.length>5e3?`
... (truncated)`:""}`:"No README available."}

Please explain:
1. What this project does (in simple terms)
2. The main technologies/concepts used
3. Good starting points for understanding the codebase
4. Tips for making your first contribution`;return(0,Gt.streamText)({model:en,system:Se,prompt:q,maxOutputTokens:1500})}async function be(nr,zr,en){let Se=(0,Ve.createAIProvider)(en),q=`Project: ${zr.project.name}
`;zr.commit&&(q+=`
Current Commit: ${zr.commit.sha.substring(0,7)} - ${zr.commit.message}`),zr.file&&(q+=`
Current File: ${zr.file.path}
\`\`\`${zr.file.language}
${zr.file.content.substring(0,4e3)}
\`\`\``);let J=`You are a helpful assistant explaining code to developers learning a new codebase.
Answer questions clearly and concisely using the provided context.

${q}`;return(0,Gt.streamText)({model:Se,system:J,prompt:nr,maxOutputTokens:800})}async function Z(nr){try{let zr,en=(0,it.getDb)(),Se=await nr.json(),{type:q,repoId:J,commitSha:W,question:Fe,provider:rt,commits:Zt,projectName:_r,projectOwner:H,apiKey:Br,model:Gr,baseUrl:kn}=Se,Jn=rt?.type==="ollama"||rt?.type==="lmstudio";if(!rt?.type||!rt?.apiKey&&!Jn)return new Response(JSON.stringify({error:"AI provider configuration is required"}),{status:400,headers:{"Content-Type":"application/json"}});let Bn=rt?.type||Se.provider,ir=rt?.apiKey||Br,Qe=rt?.baseUrl||kn,qt=rt?.model||Gr,Qt={type:Bn,apiKey:ir,baseUrl:Qe,model:qt},nn=await en.select().from(bt.repositories).where((0,Et.eq)(bt.repositories.id,J)).limit(1);if(nn.length===0)return new Response(JSON.stringify({error:"Repository not found"}),{status:404,headers:{"Content-Type":"application/json"}});let Qr=await en.select().from(bt.commits).where((0,Et.eq)(bt.commits.repoId,J)),ar={name:nn[0].name,description:nn[0].description,readme:nn[0].readme,totalCommits:Qr.length,currentCommitIndex:0};if(q==="project")zr=await ye(ar,Qt);else if(q==="commit"&&W){let Vn=await en.select().from(bt.commits).where((0,Et.and)((0,Et.eq)(bt.commits.repoId,J),(0,Et.eq)(bt.commits.sha,W))).limit(1);if(Vn.length===0)return new Response(JSON.stringify({error:"Commit not found"}),{status:404,headers:{"Content-Type":"application/json"}});let In=await(0,tr.fetchCommitDiff)(nn[0].owner,nn[0].name,W),Sn={sha:Vn[0].sha,message:Vn[0].message,authorName:Vn[0].authorName,date:Vn[0].date,diff:In,filesChanged:[]};ar.currentCommitIndex=Vn[0].order,zr=await cr(Sn,ar,Qt)}else if(q==="question"&&Fe){let Vn;if(W){let In=await en.select().from(bt.commits).where((0,Et.and)((0,Et.eq)(bt.commits.repoId,J),(0,Et.eq)(bt.commits.sha,W))).limit(1);In.length>0&&(Vn={sha:In[0].sha,message:In[0].message,authorName:In[0].authorName,date:In[0].date,diff:null,filesChanged:[]},ar.currentCommitIndex=In[0].order)}zr=await be(Fe,{commit:Vn,project:ar},Qt)}else{if(q!=="day-summary"||!Zt||!(Zt.length>0))return new Response(JSON.stringify({error:"Invalid request type"}),{status:400,headers:{"Content-Type":"application/json"}});let{streamText:Vn}=await Promise.resolve().then(()=>v.i(45421)),{createAIProvider:In}=await Promise.resolve().then(()=>v.i(87633)),Sn=In(Qt),li=Zt.map(ut=>`\u2022 ${ut.sha?.substring(0,7)||"unknown"}: ${ut.message?.split(`
`)[0]||"No message"} (by ${ut.authorName||"Unknown"})`).join(`
`),mn=`You are an expert code reviewer helping developers understand commit activity.
Your job is to summarize what happened in a repository on a specific day.
Be concise but insightful. Focus on the narrative - what was the developer trying to accomplish?`,Re=`Summarize the following commits from ${H||"a repository"}/${_r||"repo"}:

${li}

Provide a brief, engaging summary of what was accomplished. Use markdown formatting.`;zr=Vn({model:Sn,system:mn,prompt:Re,maxOutputTokens:800})}return zr.toTextStreamResponse()}catch(zr){return console.error("Error generating explanation:",zr),new Response(JSON.stringify({error:zr instanceof Error?zr.message:"Failed to generate explanation"}),{status:500,headers:{"Content-Type":"application/json"}})}}v.s(["POST",()=>Z,"runtime",0,"edge"],85968);var vt=v.i(85968);let h=new ie.AppRouteRouteModule({definition:{kind:Ze.RouteKind.APP_ROUTE,page:"/api/explain/route",pathname:"/api/explain",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/explain/route.ts",nextConfigOutput:"",userland:vt}),{workAsyncStorage:Xt,workUnitAsyncStorage:lt,serverHooks:pr}=h;function pt(){return(0,me.patchFetch)({workAsyncStorage:Xt,workUnitAsyncStorage:lt})}async function ft(nr,zr,en){h.isDev&&(0,$e.addRequestMeta)(nr,"devRequestTimingInternalsEnd",process.hrtime.bigint());let Se="/api/explain/route";Se=Se.replace(/\/index$/,"")||"/";let q=await h.prepare(nr,zr,{srcPage:Se,multiZoneDraftMode:!1});if(!q)return zr.statusCode=400,zr.end("Bad Request"),en.waitUntil==null||en.waitUntil.call(en,Promise.resolve()),null;let{buildId:J,params:W,nextConfig:Fe,parsedUrl:rt,isDraftMode:Zt,prerenderManifest:_r,routerServerContext:H,isOnDemandRevalidate:Br,revalidateOnlyGenerated:Gr,resolvedPathname:kn,clientReferenceManifest:Jn,serverActionsManifest:Bn}=q,ir=(0,X.normalizeAppPath)(Se),Qe=!!(_r.dynamicRoutes[ir]||_r.routes[kn]),qt=async()=>(H?.render404?await H.render404(nr,zr,rt,!1):zr.end("This page could not be found"),null);if(Qe&&!Zt){let ut=!!_r.routes[kn],hr=_r.dynamicRoutes[ir];if(hr&&hr.fallback===!1&&!ut){if(Fe.experimental.adapterPath)return await qt();throw new et.NoFallbackError}}let Qt=null;!Qe||h.isDev||Zt||(Qt=(Qt=kn)==="/index"?"/":Qt);let nn=h.isDev===!0||!Qe,Qr=Qe&&!nn;Bn&&Jn&&(0,n.setManifestsSingleton)({page:Se,clientReferenceManifest:Jn,serverActionsManifest:Bn});let ar=nr.method||"GET",Vn=(0,V.getTracer)(),In=Vn.getActiveScopeSpan(),Sn={params:W,prerenderManifest:_r,renderOpts:{experimental:{authInterrupts:!!Fe.experimental.authInterrupts},cacheComponents:!!Fe.cacheComponents,supportsDynamicResponse:nn,incrementalCache:(0,$e.getRequestMeta)(nr,"incrementalCache"),cacheLifeProfiles:Fe.cacheLife,waitUntil:en.waitUntil,onClose:ut=>{zr.on("close",ut)},onAfterTaskError:void 0,onInstrumentationRequestError:(ut,hr,Ue,hn)=>h.onRequestError(nr,ut,Ue,hn,H)},sharedContext:{buildId:J}},li=new U.NodeNextRequest(nr),mn=new U.NodeNextResponse(zr),Re=oe.NextRequestAdapter.fromNodeNextRequest(li,(0,oe.signalFromNodeResponse)(zr));try{let ut=async hn=>h.handle(Re,Sn).finally(()=>{if(!hn)return;hn.setAttributes({"http.status_code":zr.statusCode,"next.rsc":!1});let pi=Vn.getRootSpanAttributes();if(!pi)return;if(pi.get("next.span_type")!==_e.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${pi.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let Kr=pi.get("next.route");if(Kr){let ta=`${ar} ${Kr}`;hn.setAttributes({"next.route":Kr,"http.route":Kr,"next.span_name":ta}),hn.updateName(ta)}else hn.updateName(`${ar} ${Se}`)}),hr=!!(0,$e.getRequestMeta)(nr,"minimalMode"),Ue=async hn=>{var pi,Kr;let ta=async({previousCacheEntry:Dn})=>{try{if(!hr&&Br&&Gr&&!Dn)return zr.statusCode=404,zr.setHeader("x-nextjs-cache","REVALIDATED"),zr.end("This page could not be found"),null;let Fi=await ut(hn);nr.fetchMetrics=Sn.renderOpts.fetchMetrics;let Ta=Sn.renderOpts.pendingWaitUntil;Ta&&en.waitUntil&&(en.waitUntil(Ta),Ta=void 0);let Gi=Sn.renderOpts.collectedTags;if(!Qe)return await(0,ht.sendResponse)(li,mn,Fi,Sn.renderOpts.pendingWaitUntil),null;{let Xr=await Fi.blob(),On=(0,ee.toNodeOutgoingHttpHeaders)(Fi.headers);Gi&&(On[re.NEXT_CACHE_TAGS_HEADER]=Gi),!On["content-type"]&&Xr.type&&(On["content-type"]=Xr.type);let oa=Sn.renderOpts.collectedRevalidate!==void 0&&!(Sn.renderOpts.collectedRevalidate>=re.INFINITE_CACHE)&&Sn.renderOpts.collectedRevalidate,Ca=Sn.renderOpts.collectedExpire===void 0||Sn.renderOpts.collectedExpire>=re.INFINITE_CACHE?void 0:Sn.renderOpts.collectedExpire;return{value:{kind:Ge.CachedRouteKind.APP_ROUTE,status:Fi.status,body:M.Buffer.from(await Xr.arrayBuffer()),headers:On},cacheControl:{revalidate:oa,expire:Ca}}}}catch(Fi){throw Dn?.isStale&&await h.onRequestError(nr,Fi,{routerKind:"App Router",routePath:Se,routeType:"route",revalidateReason:(0,ge.getRevalidateReason)({isStaticGeneration:Qr,isOnDemandRevalidate:Br})},!1,H),Fi}},Ii=await h.handleResponse({req:nr,nextConfig:Fe,cacheKey:Qt,routeKind:Ze.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:_r,isRoutePPREnabled:!1,isOnDemandRevalidate:Br,revalidateOnlyGenerated:Gr,responseGenerator:ta,waitUntil:en.waitUntil,isMinimalMode:hr});if(!Qe)return null;if((Ii==null||(pi=Ii.value)==null?void 0:pi.kind)!==Ge.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${Ii==null||(Kr=Ii.value)==null?void 0:Kr.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});hr||zr.setHeader("x-nextjs-cache",Br?"REVALIDATED":Ii.isMiss?"MISS":Ii.isStale?"STALE":"HIT"),Zt&&zr.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let wa=(0,ee.fromNodeOutgoingHttpHeaders)(Ii.value.headers);return hr&&Qe||wa.delete(re.NEXT_CACHE_TAGS_HEADER),!Ii.cacheControl||zr.getHeader("Cache-Control")||wa.get("Cache-Control")||wa.set("Cache-Control",(0,Be.getCacheControlHeader)(Ii.cacheControl)),await(0,ht.sendResponse)(li,mn,new Response(Ii.value.body,{headers:wa,status:Ii.value.status||200})),null};In?await Ue(In):await Vn.withPropagatedContext(nr.headers,()=>Vn.trace(_e.BaseServerSpan.handleRequest,{spanName:`${ar} ${Se}`,kind:V.SpanKind.SERVER,attributes:{"http.method":ar,"http.target":nr.url}},Ue))}catch(ut){if(ut instanceof et.NoFallbackError||await h.onRequestError(nr,ut,{routerKind:"App Router",routePath:ir,routeType:"route",revalidateReason:(0,ge.getRevalidateReason)({isStaticGeneration:Qr,isOnDemandRevalidate:Br})},!1,H),Qe)throw ut;return await(0,ht.sendResponse)(li,mn,new Response(null,{status:500})),null}}v.s(["handler",()=>ft,"patchFetch",()=>pt,"routeModule",()=>h,"serverHooks",()=>pr,"workAsyncStorage",()=>Xt,"workUnitAsyncStorage",()=>lt],67644);var an=v.i(67644);let gn=(ve=Ui.__RSC_MANIFEST)==null?void 0:ve["/api/explain/route"],ei=(p=Ui.__RSC_SERVER_MANIFEST)?JSON.parse(p):void 0;gn&&ei&&(0,n.setManifestsSingleton)({page:"/api/explain/route",clientReferenceManifest:gn,serverActionsManifest:ei});let pn=Pe.EdgeRouteModuleWrapper.wrap(an.routeModule,{page:"/api/explain/route"});v.s(["ComponentMod",0,an,"default",0,pn],48345)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/[root-of-the-server]__a45c7ec5._.js",85105,v=>{"use strict";var p=v.i(34953);v.s(["afterTaskAsyncStorage",()=>p.afterTaskAsyncStorageInstance])},78500,(v,p,ve)=>{p.exports=v.x("node:async_hooks",()=>(xg(),Tp(tc)))},69568,v=>{"use strict";let p;class ve extends Error{constructor($e,V){super(`Invariant: ${$e.endsWith(".")?$e:$e+"."} This is a bug in Next.js.`,V),this.name="InvariantError"}}class n{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.pendingTimeoutCleanup=null,this.subscribedSignals=null,this.invokeListenersIfNoPendingReads=()=>{if(this.pendingTimeoutCleanup=null,this.count===0){for(let $e=0;$e<this.listeners.length;$e++)this.listeners[$e]();this.listeners.length=0}},Object.defineProperty(new ve("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E728",enumerable:!1,configurable:!0})}noMorePendingCaches(){var $e;let V,X;this.tickPending||(this.tickPending=!0,queueMicrotask(()=>process.nextTick(()=>{if(this.tickPending=!1,this.count===0){for(let U=0;U<this.earlyListeners.length;U++)this.earlyListeners[U]();this.earlyListeners.length=0}}))),this.pendingTimeoutCleanup&&this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=($e=this.invokeListenersIfNoPendingReads,X=setImmediate(()=>{V=clearTimeout.bind(null,setTimeout($e,0))}),V=clearImmediate.bind(null,X),()=>V())}inputReady(){return new Promise($e=>{this.earlyListeners.push($e),this.count===0&&this.noMorePendingCaches()})}cacheReady(){return new Promise($e=>{this.listeners.push($e),this.count===0&&this.noMorePendingCaches()})}beginRead(){if(this.count++,this.pendingTimeoutCleanup&&(this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=null),this.subscribedSignals!==null)for(let $e of this.subscribedSignals)$e.beginRead()}endRead(){if(this.count===0)throw Object.defineProperty(new ve("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,this.count===0&&this.noMorePendingCaches(),this.subscribedSignals!==null)for(let $e of this.subscribedSignals)$e.endRead()}hasPendingReads(){return this.count>0}trackRead($e){this.beginRead();let V=this.endRead.bind(this);return $e.then(V,V),$e}subscribeToReads($e){if($e===this)throw Object.defineProperty(new ve("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});this.subscribedSignals===null&&(this.subscribedSignals=new Set),this.subscribedSignals.add($e);for(let V=0;V<this.count;V++)$e.beginRead();return this.unsubscribeFromReads.bind(this,$e)}unsubscribeFromReads($e){this.subscribedSignals&&this.subscribedSignals.delete($e)}}function Pe(){return p||(p=new n),p}function M(me){Pe().trackRead(me)}function ie(me){let $e=Pe();if(me!==null&&typeof me=="object"&&"then"in me&&typeof me.then=="function"){let V=Promise.resolve(me);$e.trackRead(V)}}function Ze(me){let $e=Pe().subscribeToReads(me);me.cacheReady().then($e)}v.s(["trackPendingChunkLoad",()=>M,"trackPendingImport",()=>ie,"trackPendingModules",()=>Ze],69568)},70438,v=>{"use strict";var p=v.i(89610);v.s(["actionAsyncStorage",()=>p.actionAsyncStorageInstance])},34080,35171,v=>{"use strict";let p=(0,v.i(42871).createAsyncLocalStorage)();v.s(["dynamicAccessAsyncStorageInstance",0,p],34080),v.s(["dynamicAccessAsyncStorage",0,p],35171)},51615,(v,p,ve)=>{p.exports=v.x("node:buffer",()=>(wg(),Tp(rc)))},42871,v=>{"use strict";let p=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class ve{disable(){throw p}getStore(){}run(){throw p}exit(){throw p}enterWith(){throw p}static bind(ie){return ie}}let n=typeof mr<"u"&&mr.AsyncLocalStorage;function Pe(){return n?new n:new ve}v.s(["createAsyncLocalStorage",()=>Pe])},13477,v=>{"use strict";let p=(0,v.i(42871).createAsyncLocalStorage)();v.s(["workAsyncStorageInstance",0,p])},68644,v=>{"use strict";var p=v.i(13477);v.s(["workAsyncStorage",()=>p.workAsyncStorageInstance])},85021,v=>{"use strict";let p=(0,v.i(42871).createAsyncLocalStorage)();v.s(["workUnitAsyncStorageInstance",0,p])},18904,v=>{"use strict";var p=v.i(85021);v.s(["workUnitAsyncStorage",()=>p.workUnitAsyncStorageInstance])},89610,v=>{"use strict";let p=(0,v.i(42871).createAsyncLocalStorage)();v.s(["actionAsyncStorageInstance",0,p])},34953,v=>{"use strict";let p=(0,v.i(42871).createAsyncLocalStorage)();v.s(["afterTaskAsyncStorageInstance",0,p])},84256,v=>{"use strict";async function p(){return"globalThis._ENTRIES"in mr&&mr._ENTRIES.middleware_instrumentation&&await mr._ENTRIES.middleware_instrumentation}let ve=null;async function n(){if(process.env.NEXT_PHASE==="phase-production-build")return;ve||(ve=p());let me=await ve;if(me?.register)try{await me.register()}catch($e){throw $e.message=`An error occurred while loading instrumentation hook: ${$e.message}`,$e}}async function Pe(...me){let $e=await p();try{var V;await($e==null||(V=$e.onRequestError)==null?void 0:V.call($e,...me))}catch(X){console.error("Error in instrumentation.onRequestError:",X)}}let M=null;function ie(){return M||(M=n()),M}function Ze(me){return`The edge runtime does not support Node.js '${me}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==v.g.process&&(process.env=v.g.process.env,v.g.process=process);try{Object.defineProperty(mr,"__import_unsupported",{value:function(me){let $e=new Proxy(function(){},{get(V,X){if(X==="then")return{};throw Object.defineProperty(Error(Ze(me)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(Ze(me)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(V,X,U){if(typeof U[0]=="function")return U[0]($e);throw Object.defineProperty(Error(Ze(me)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>$e})},enumerable:!1,configurable:!1})}catch{}ie(),v.s(["edgeInstrumentationOnRequestError",()=>Pe,"ensureInstrumentationRegistered",()=>ie,"getEdgeInstrumentationModule",()=>p])},27509,v=>{"use strict";let p="https://api.github.com";function ve(V){for(let X of[/github\.com\/([^\/]+)\/([^\/\?#]+)/,/^([^\/]+)\/([^\/]+)$/]){let U=V.match(X);if(U)return{owner:U[1],repo:U[2].replace(/\.git$/,"")}}return null}async function n(V,X){let U=await fetch(`${p}/repos/${V}/${X}`,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"Grepbase"}});if(!U.ok)throw Error(`Failed to fetch repository: ${U.status} ${U.statusText}`);let oe=await U.json();return{owner:oe.owner.login,name:oe.name,description:oe.description,stars:oe.stargazers_count,defaultBranch:oe.default_branch,url:oe.html_url}}async function Pe(V,X){try{let U=await fetch(`${p}/repos/${V}/${X}/readme`,{headers:{Accept:"application/vnd.github.v3.raw","User-Agent":"Grepbase"}});return U.ok?await U.text():null}catch{return null}}async function M(V,X,U=100){let oe=[],_e=1,ge=Math.min(100,U);for(;oe.length<U;){let ht=await fetch(`${p}/repos/${V}/${X}/commits?per_page=${ge}&page=${_e}`,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"Grepbase"}});if(!ht.ok)throw Error(`Failed to fetch commits: ${ht.status} ${ht.statusText}`);let ee=await ht.json();if(ee.length===0)break;for(let Be of ee)oe.push({sha:Be.sha,message:Be.commit.message,authorName:Be.commit.author?.name||null,authorEmail:Be.commit.author?.email||null,date:new Date(Be.commit.author?.date||Be.commit.committer?.date||new Date)});if(ee.length<ge)break;_e++}return oe.reverse().slice(0,U)}async function ie(V,X,U){let oe=await fetch(`${p}/repos/${V}/${X}/git/trees/${U}?recursive=1`,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"Grepbase"}});if(!oe.ok)throw Error(`Failed to fetch files: ${oe.status} ${oe.statusText}`);return(await oe.json()).tree.filter(_e=>_e.type==="blob").map(_e=>({path:_e.path,type:"file",size:_e.size||0,sha:_e.sha}))}async function Ze(V,X,U,oe){try{let _e=await fetch(`${p}/repos/${V}/${X}/contents/${oe}?ref=${U}`,{headers:{Accept:"application/vnd.github.v3.raw","User-Agent":"Grepbase"}});return _e.ok?await _e.text():null}catch{return null}}async function me(V,X,U){try{let oe=await fetch(`${p}/repos/${V}/${X}/commits/${U}`,{headers:{Accept:"application/vnd.github.v3.diff","User-Agent":"Grepbase"}});return oe.ok?await oe.text():null}catch{return null}}function $e(V){return{js:"javascript",jsx:"jsx",ts:"typescript",tsx:"tsx",py:"python",rs:"rust",go:"go",java:"java",cpp:"cpp",c:"c",h:"c",hpp:"cpp",rb:"ruby",php:"php",swift:"swift",kt:"kotlin",md:"markdown",json:"json",yaml:"yaml",yml:"yaml",toml:"toml",css:"css",scss:"scss",html:"html",xml:"xml",sql:"sql",sh:"bash",bash:"bash",zsh:"bash"}[V.split(".").pop()?.toLowerCase()||""]||"plaintext"}v.s(["fetchCommitDiff",()=>me,"fetchCommitHistory",()=>M,"fetchFileContent",()=>Ze,"fetchFilesAtCommit",()=>ie,"fetchReadme",()=>Pe,"fetchRepository",()=>n,"getLanguageFromPath",()=>$e,"parseGitHubUrl",()=>ve])},30371,(v,p,ve)=>{Ui._ENTRIES||={};let n=Promise.resolve().then(()=>v.i(48345));n.catch(()=>{}),Ui._ENTRIES["middleware_app/api/explain/route"]=new Proxy(n,{get(Pe,M){if(M==="then")return(Ze,me)=>Pe.then(Ze,me);let ie=(...Ze)=>Pe.then(me=>(0,me[M])(...Ze));return ie.then=(Ze,me)=>Pe.then($e=>$e[M]).then(Ze,me),ie}})},45421,v=>{"use strict";var p=v.i(97804),ve=v.i(28729),n=v.i(66125),Pe=v.i(8715);v.s(["AISDKError",()=>Pe.AISDKError,"APICallError",()=>Pe.APICallError,"AbstractChat",()=>p.AbstractChat,"DefaultChatTransport",()=>p.DefaultChatTransport,"DownloadError",()=>n.DownloadError,"EmptyResponseBodyError",()=>Pe.EmptyResponseBodyError,"Experimental_Agent",()=>p.Experimental_Agent,"HttpChatTransport",()=>p.HttpChatTransport,"InvalidArgumentError",()=>p.InvalidArgumentError,"InvalidDataContentError",()=>p.InvalidDataContentError,"InvalidMessageRoleError",()=>p.InvalidMessageRoleError,"InvalidPromptError",()=>Pe.InvalidPromptError,"InvalidResponseDataError",()=>Pe.InvalidResponseDataError,"InvalidStreamPartError",()=>p.InvalidStreamPartError,"InvalidToolApprovalError",()=>p.InvalidToolApprovalError,"InvalidToolInputError",()=>p.InvalidToolInputError,"JSONParseError",()=>Pe.JSONParseError,"JsonToSseTransformStream",()=>p.JsonToSseTransformStream,"LoadAPIKeyError",()=>Pe.LoadAPIKeyError,"LoadSettingError",()=>Pe.LoadSettingError,"MessageConversionError",()=>p.MessageConversionError,"NoContentGeneratedError",()=>Pe.NoContentGeneratedError,"NoImageGeneratedError",()=>p.NoImageGeneratedError,"NoObjectGeneratedError",()=>p.NoObjectGeneratedError,"NoOutputGeneratedError",()=>p.NoOutputGeneratedError,"NoSpeechGeneratedError",()=>p.NoSpeechGeneratedError,"NoSuchModelError",()=>Pe.NoSuchModelError,"NoSuchProviderError",()=>p.NoSuchProviderError,"NoSuchToolError",()=>p.NoSuchToolError,"Output",()=>p.Output,"RetryError",()=>p.RetryError,"SerialJobExecutor",()=>p.SerialJobExecutor,"TextStreamChatTransport",()=>p.TextStreamChatTransport,"TooManyEmbeddingValuesForCallError",()=>Pe.TooManyEmbeddingValuesForCallError,"ToolCallNotFoundForApprovalError",()=>p.ToolCallNotFoundForApprovalError,"ToolCallRepairError",()=>p.ToolCallRepairError,"ToolLoopAgent",()=>p.ToolLoopAgent,"TypeValidationError",()=>Pe.TypeValidationError,"UI_MESSAGE_STREAM_HEADERS",()=>p.UI_MESSAGE_STREAM_HEADERS,"UnsupportedFunctionalityError",()=>Pe.UnsupportedFunctionalityError,"UnsupportedModelVersionError",()=>p.UnsupportedModelVersionError,"addToolInputExamplesMiddleware",()=>p.addToolInputExamplesMiddleware,"asSchema",()=>n.asSchema,"assistantModelMessageSchema",()=>p.assistantModelMessageSchema,"callCompletionApi",()=>p.callCompletionApi,"consumeStream",()=>p.consumeStream,"convertFileListToFileUIParts",()=>p.convertFileListToFileUIParts,"convertToModelMessages",()=>p.convertToModelMessages,"cosineSimilarity",()=>p.cosineSimilarity,"createAgentUIStream",()=>p.createAgentUIStream,"createAgentUIStreamResponse",()=>p.createAgentUIStreamResponse,"createGateway",()=>ve.createGateway,"createIdGenerator",()=>n.createIdGenerator,"createProviderRegistry",()=>p.createProviderRegistry,"createTextStreamResponse",()=>p.createTextStreamResponse,"createUIMessageStream",()=>p.createUIMessageStream,"createUIMessageStreamResponse",()=>p.createUIMessageStreamResponse,"customProvider",()=>p.customProvider,"defaultEmbeddingSettingsMiddleware",()=>p.defaultEmbeddingSettingsMiddleware,"defaultSettingsMiddleware",()=>p.defaultSettingsMiddleware,"dynamicTool",()=>n.dynamicTool,"embed",()=>p.embed,"embedMany",()=>p.embedMany,"experimental_createProviderRegistry",()=>p.experimental_createProviderRegistry,"experimental_customProvider",()=>p.experimental_customProvider,"experimental_generateImage",()=>p.experimental_generateImage,"experimental_generateSpeech",()=>p.experimental_generateSpeech,"experimental_transcribe",()=>p.experimental_transcribe,"extractReasoningMiddleware",()=>p.extractReasoningMiddleware,"gateway",()=>ve.gateway,"generateId",()=>n.generateId,"generateImage",()=>p.generateImage,"generateObject",()=>p.generateObject,"generateText",()=>p.generateText,"getStaticToolName",()=>p.getStaticToolName,"getTextFromDataUrl",()=>p.getTextFromDataUrl,"getToolName",()=>p.getToolName,"getToolOrDynamicToolName",()=>p.getToolOrDynamicToolName,"hasToolCall",()=>p.hasToolCall,"isDataUIPart",()=>p.isDataUIPart,"isDeepEqualData",()=>p.isDeepEqualData,"isFileUIPart",()=>p.isFileUIPart,"isReasoningUIPart",()=>p.isReasoningUIPart,"isStaticToolUIPart",()=>p.isStaticToolUIPart,"isTextUIPart",()=>p.isTextUIPart,"isToolOrDynamicToolUIPart",()=>p.isToolOrDynamicToolUIPart,"isToolUIPart",()=>p.isToolUIPart,"jsonSchema",()=>n.jsonSchema,"lastAssistantMessageIsCompleteWithApprovalResponses",()=>p.lastAssistantMessageIsCompleteWithApprovalResponses,"lastAssistantMessageIsCompleteWithToolCalls",()=>p.lastAssistantMessageIsCompleteWithToolCalls,"modelMessageSchema",()=>p.modelMessageSchema,"parseJsonEventStream",()=>n.parseJsonEventStream,"parsePartialJson",()=>p.parsePartialJson,"pipeAgentUIStreamToResponse",()=>p.pipeAgentUIStreamToResponse,"pipeTextStreamToResponse",()=>p.pipeTextStreamToResponse,"pipeUIMessageStreamToResponse",()=>p.pipeUIMessageStreamToResponse,"pruneMessages",()=>p.pruneMessages,"readUIMessageStream",()=>p.readUIMessageStream,"rerank",()=>p.rerank,"safeValidateUIMessages",()=>p.safeValidateUIMessages,"simulateReadableStream",()=>p.simulateReadableStream,"simulateStreamingMiddleware",()=>p.simulateStreamingMiddleware,"smoothStream",()=>p.smoothStream,"stepCountIs",()=>p.stepCountIs,"streamObject",()=>p.streamObject,"streamText",()=>p.streamText,"systemModelMessageSchema",()=>p.systemModelMessageSchema,"tool",()=>n.tool,"toolModelMessageSchema",()=>p.toolModelMessageSchema,"uiMessageChunkSchema",()=>p.uiMessageChunkSchema,"userModelMessageSchema",()=>p.userModelMessageSchema,"validateUIMessages",()=>p.validateUIMessages,"wrapEmbeddingModel",()=>p.wrapEmbeddingModel,"wrapLanguageModel",()=>p.wrapLanguageModel,"wrapProvider",()=>p.wrapProvider,"zodSchema",()=>n.zodSchema])}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_a458cac4._.js",27396,(v,p,ve)=>{"use strict";var n=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,ie=Object.prototype.hasOwnProperty,Ze={},me={SYMBOL_FOR_REQ_CONTEXT:()=>V,getContext:()=>X};for(var $e in me)n(Ze,$e,{get:me[$e],enumerable:!0});p.exports=((U,oe,_e,ge)=>{if(oe&&typeof oe=="object"||typeof oe=="function")for(let ht of M(oe))ie.call(U,ht)||ht===void 0||n(U,ht,{get:()=>oe[ht],enumerable:!(ge=Pe(oe,ht))||ge.enumerable});return U})(n({},"__esModule",{value:!0}),Ze);let V=Symbol.for("@vercel/request-context");function X(){return mr[V]?.get?.()??{}}},17063,(v,p,ve)=>{"use strict";var n=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,ie=Object.prototype.hasOwnProperty,Ze={},me={getContext:()=>V.getContext,getVercelOidcToken:()=>X,getVercelOidcTokenSync:()=>U};for(var $e in me)n(Ze,$e,{get:me[$e],enumerable:!0});p.exports=((oe,_e,ge,ht)=>{if(_e&&typeof _e=="object"||typeof _e=="function")for(let ee of M(_e))ie.call(oe,ee)||ee===void 0||n(oe,ee,{get:()=>_e[ee],enumerable:!(ht=Pe(_e,ee))||ht.enumerable});return oe})(n({},"__esModule",{value:!0}),Ze);var V=v.r(27396);async function X(){return""}function U(){return""}},97804,28729,v=>{"use strict";var p,ve,n,Pe,M,ie,Ze,me,$e,V,X,U,oe,_e,ge,ht,ee,Be,re,et,Ge,it,bt,Et,tr,Gt,Ve,cr,ye,be=v.i(51615),Z=v.i(66125),vt=v.i(8715);v.i(6508);var h=v.i(39017),Xt=v.i(17063),lt=Symbol.for("vercel.ai.gateway.error"),pr=class zg extends(ve=Error,p=lt,ve){constructor({message:c,statusCode:b=500,cause:_}){super(c),this[p]=!0,this.statusCode=b,this.cause=_}static isInstance(c){return zg.hasMarker(c)}static hasMarker(c){return typeof c=="object"&&c!==null&&lt in c&&c[lt]===!0}},pt="GatewayAuthenticationError",ft=Symbol.for(`vercel.ai.gateway.error.${pt}`),an=class kg extends(Pe=pr,n=ft,Pe){constructor({message:c="Authentication failed",statusCode:b=401,cause:_}={}){super({message:c,statusCode:b,cause:_}),this[n]=!0,this.name=pt,this.type="authentication_error"}static isInstance(c){return pr.hasMarker(c)&&ft in c}static createContextualError({apiKeyProvided:c,oidcTokenProvided:b,message:_="Authentication failed",statusCode:S=401,cause:z}){return new kg({message:c?`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:b?`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,statusCode:S,cause:z})}},gn="GatewayInvalidRequestError",ei=Symbol.for(`vercel.ai.gateway.error.${gn}`),pn=class extends(ie=pr,M=ei,ie){constructor({message:s="Invalid request",statusCode:c=400,cause:b}={}){super({message:s,statusCode:c,cause:b}),this[M]=!0,this.name=gn,this.type="invalid_request_error"}static isInstance(s){return pr.hasMarker(s)&&ei in s}},nr="GatewayRateLimitError",zr=Symbol.for(`vercel.ai.gateway.error.${nr}`),en=class extends(me=pr,Ze=zr,me){constructor({message:s="Rate limit exceeded",statusCode:c=429,cause:b}={}){super({message:s,statusCode:c,cause:b}),this[Ze]=!0,this.name=nr,this.type="rate_limit_exceeded"}static isInstance(s){return pr.hasMarker(s)&&zr in s}},Se="GatewayModelNotFoundError",q=Symbol.for(`vercel.ai.gateway.error.${Se}`),J=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.object({modelId:h.z.string()}))),W=class extends(V=pr,$e=q,V){constructor({message:s="Model not found",statusCode:c=404,modelId:b,cause:_}={}){super({message:s,statusCode:c,cause:_}),this[$e]=!0,this.name=Se,this.type="model_not_found",this.modelId=b}static isInstance(s){return pr.hasMarker(s)&&q in s}},Fe="GatewayInternalServerError",rt=Symbol.for(`vercel.ai.gateway.error.${Fe}`),Zt=class extends(U=pr,X=rt,U){constructor({message:s="Internal server error",statusCode:c=500,cause:b}={}){super({message:s,statusCode:c,cause:b}),this[X]=!0,this.name=Fe,this.type="internal_server_error"}static isInstance(s){return pr.hasMarker(s)&&rt in s}},_r="GatewayResponseError",H=Symbol.for(`vercel.ai.gateway.error.${_r}`),Br=class extends(_e=pr,oe=H,_e){constructor({message:s="Invalid response from Gateway",statusCode:c=502,response:b,validationError:_,cause:S}={}){super({message:s,statusCode:c,cause:S}),this[oe]=!0,this.name=_r,this.type="response_error",this.response=b,this.validationError=_}static isInstance(s){return pr.hasMarker(s)&&H in s}};async function Gr({response:s,statusCode:c,defaultMessage:b="Gateway request failed",cause:_,authMethod:S}){let z=await(0,Z.safeValidateTypes)({value:s,schema:kn});if(!z.success)return new Br({message:`Invalid error response format: ${b}`,statusCode:c,response:s,validationError:z.error,cause:_});let N=z.value,I=N.error.type,K=N.error.message;switch(I){case"authentication_error":return an.createContextualError({apiKeyProvided:S==="api-key",oidcTokenProvided:S==="oidc",statusCode:c,cause:_});case"invalid_request_error":return new pn({message:K,statusCode:c,cause:_});case"rate_limit_exceeded":return new en({message:K,statusCode:c,cause:_});case"model_not_found":{let le=await(0,Z.safeValidateTypes)({value:N.error.param,schema:J});return new W({message:K,statusCode:c,modelId:le.success?le.value.modelId:void 0,cause:_})}default:return new Zt({message:K,statusCode:c,cause:_})}}var kn=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.object({error:h.z.object({message:h.z.string(),type:h.z.string().nullish(),param:h.z.unknown().nullish(),code:h.z.union([h.z.string(),h.z.number()]).nullish()})})));function Jn(s,c){var b;return pr.isInstance(s)?s:vt.APICallError.isInstance(s)?Gr({response:function(_){if(_.data!==void 0)return _.data;if(_.responseBody!=null)try{return JSON.parse(_.responseBody)}catch{return _.responseBody}return{}}(s),statusCode:(b=s.statusCode)!=null?b:500,defaultMessage:"Gateway request failed",cause:s,authMethod:c}):Gr({response:{},statusCode:500,defaultMessage:s instanceof Error?`Gateway request failed: ${s.message}`:"Unknown Gateway error",cause:s,authMethod:c})}var Bn="ai-gateway-auth-method";async function ir(s){let c=await(0,Z.safeValidateTypes)({value:s[Bn],schema:Qe});return c.success?c.value:void 0}var Qe=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.union([h.z.literal("api-key"),h.z.literal("oidc")]))),qt=class{constructor(s){this.config=s}async getAvailableModels(){try{let{value:s}=await(0,Z.getFromApi)({url:`${this.config.baseURL}/config`,headers:await(0,Z.resolve)(this.config.headers()),successfulResponseHandler:(0,Z.createJsonResponseHandler)(Qt),failedResponseHandler:(0,Z.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:c=>c}),fetch:this.config.fetch});return s}catch(s){throw await Jn(s)}}async getCredits(){try{let s=new URL(this.config.baseURL),{value:c}=await(0,Z.getFromApi)({url:`${s.origin}/v1/credits`,headers:await(0,Z.resolve)(this.config.headers()),successfulResponseHandler:(0,Z.createJsonResponseHandler)(nn),failedResponseHandler:(0,Z.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:b=>b}),fetch:this.config.fetch});return c}catch(s){throw await Jn(s)}}},Qt=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.object({models:h.z.array(h.z.object({id:h.z.string(),name:h.z.string(),description:h.z.string().nullish(),pricing:h.z.object({input:h.z.string(),output:h.z.string(),input_cache_read:h.z.string().nullish(),input_cache_write:h.z.string().nullish()}).transform(({input:s,output:c,input_cache_read:b,input_cache_write:_})=>({input:s,output:c,...b?{cachedInputTokens:b}:{},..._?{cacheCreationInputTokens:_}:{}})).nullish(),specification:h.z.object({specificationVersion:h.z.literal("v3"),provider:h.z.string(),modelId:h.z.string()}),modelType:h.z.enum(["language","embedding","image"]).nullish()}))}))),nn=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.object({balance:h.z.string(),total_used:h.z.string()}).transform(({balance:s,total_used:c})=>({balance:s,totalUsed:c})))),Qr=class{constructor(s,c){this.modelId=s,this.config=c,this.specificationVersion="v3",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(s){let{abortSignal:c,...b}=s;return{args:this.maybeEncodeFileParts(b),warnings:[]}}async doGenerate(s){let{args:c,warnings:b}=await this.getArgs(s),{abortSignal:_}=s,S=await(0,Z.resolve)(this.config.headers());try{let{responseHeaders:z,value:N,rawValue:I}=await(0,Z.postJsonToApi)({url:this.getUrl(),headers:(0,Z.combineHeaders)(S,s.headers,this.getModelConfigHeaders(this.modelId,!1),await(0,Z.resolve)(this.config.o11yHeaders)),body:c,successfulResponseHandler:(0,Z.createJsonResponseHandler)(h.z.any()),failedResponseHandler:(0,Z.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:K=>K}),..._&&{abortSignal:_},fetch:this.config.fetch});return{...N,request:{body:c},response:{headers:z,body:I},warnings:b}}catch(z){throw await Jn(z,await ir(S))}}async doStream(s){let{args:c,warnings:b}=await this.getArgs(s),{abortSignal:_}=s,S=await(0,Z.resolve)(this.config.headers());try{let{value:z,responseHeaders:N}=await(0,Z.postJsonToApi)({url:this.getUrl(),headers:(0,Z.combineHeaders)(S,s.headers,this.getModelConfigHeaders(this.modelId,!0),await(0,Z.resolve)(this.config.o11yHeaders)),body:c,successfulResponseHandler:(0,Z.createEventSourceResponseHandler)(h.z.any()),failedResponseHandler:(0,Z.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:I=>I}),..._&&{abortSignal:_},fetch:this.config.fetch});return{stream:z.pipeThrough(new TransformStream({start(I){b.length>0&&I.enqueue({type:"stream-start",warnings:b})},transform(I,K){if(I.success){let le=I.value;(le.type!=="raw"||s.includeRawChunks)&&(le.type==="response-metadata"&&le.timestamp&&typeof le.timestamp=="string"&&(le.timestamp=new Date(le.timestamp)),K.enqueue(le))}else K.error(I.error)}})),request:{body:c},response:{headers:N}}}catch(z){throw await Jn(z,await ir(S))}}isFilePart(s){return s&&typeof s=="object"&&"type"in s&&s.type==="file"}maybeEncodeFileParts(s){for(let c of s.prompt)for(let b of c.content)if(this.isFilePart(b)&&b.data instanceof Uint8Array){let _=Uint8Array.from(b.data),S=be.Buffer.from(_).toString("base64");b.data=new URL(`data:${b.mediaType||"application/octet-stream"};base64,${S}`)}return s}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(s,c){return{"ai-language-model-specification-version":"2","ai-language-model-id":s,"ai-language-model-streaming":String(c)}}},ar=class{constructor(s,c){this.modelId=s,this.config=c,this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:s,headers:c,abortSignal:b,providerOptions:_}){var S;let z=await(0,Z.resolve)(this.config.headers());try{let{responseHeaders:N,value:I,rawValue:K}=await(0,Z.postJsonToApi)({url:this.getUrl(),headers:(0,Z.combineHeaders)(z,c??{},this.getModelConfigHeaders(),await(0,Z.resolve)(this.config.o11yHeaders)),body:{values:s,..._?{providerOptions:_}:{}},successfulResponseHandler:(0,Z.createJsonResponseHandler)(Vn),failedResponseHandler:(0,Z.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:le=>le}),...b&&{abortSignal:b},fetch:this.config.fetch});return{embeddings:I.embeddings,usage:(S=I.usage)!=null?S:void 0,providerMetadata:I.providerMetadata,response:{headers:N,body:K},warnings:[]}}catch(N){throw await Jn(N,await ir(z))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},Vn=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.object({embeddings:h.z.array(h.z.array(h.z.number())),usage:h.z.object({tokens:h.z.number()}).nullish(),providerMetadata:h.z.record(h.z.string(),h.z.record(h.z.string(),h.z.unknown())).optional()}))),In=class{constructor(s,c){this.modelId=s,this.config=c,this.specificationVersion="v3",this.maxImagesPerCall=Number.MAX_SAFE_INTEGER}get provider(){return this.config.provider}async doGenerate({prompt:s,n:c,size:b,aspectRatio:_,seed:S,providerOptions:z,headers:N,abortSignal:I}){var K;let le=await(0,Z.resolve)(this.config.headers());try{let{responseHeaders:te,value:D,rawValue:ce}=await(0,Z.postJsonToApi)({url:this.getUrl(),headers:(0,Z.combineHeaders)(le,N??{},this.getModelConfigHeaders(),await(0,Z.resolve)(this.config.o11yHeaders)),body:{prompt:s,n:c,...b&&{size:b},..._&&{aspectRatio:_},...S&&{seed:S},...z&&{providerOptions:z}},successfulResponseHandler:(0,Z.createJsonResponseHandler)(li),failedResponseHandler:(0,Z.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:xt=>xt}),...I&&{abortSignal:I},fetch:this.config.fetch});return{images:D.images,warnings:(K=D.warnings)!=null?K:[],providerMetadata:D.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:te}}}catch(te){throw Jn(te,await ir(le))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":"2","ai-model-id":this.modelId}}},Sn=h.z.object({images:h.z.array(h.z.unknown()).optional()}).catchall(h.z.unknown()),li=h.z.object({images:h.z.array(h.z.string()),warnings:h.z.array(h.z.object({type:h.z.literal("other"),message:h.z.string()})).optional(),providerMetadata:h.z.record(h.z.string(),Sn).optional()});async function mn(){var s;return(s=(0,Xt.getContext)().headers)==null?void 0:s["x-vercel-id"]}function Re(s={}){var c,b;let _=null,S=null,z=(c=s.metadataCacheRefreshMillis)!=null?c:3e5,N=0,I=(b=(0,Z.withoutTrailingSlash)(s.baseURL))!=null?b:"https://ai-gateway.vercel.sh/v3/ai",K=async()=>{let Le=await hr(s);if(Le)return(0,Z.withUserAgentSuffix)({Authorization:`Bearer ${Le.token}`,"ai-gateway-protocol-version":"0.0.1",[Bn]:Le.authMethod,...s.headers},"ai-sdk/gateway/3.0.2");throw an.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},le=()=>{let Le=(0,Z.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),Vt=(0,Z.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),vr=(0,Z.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{let Wr=await mn();return{...Le&&{"ai-o11y-deployment-id":Le},...Vt&&{"ai-o11y-environment":Vt},...vr&&{"ai-o11y-region":vr},...Wr&&{"ai-o11y-request-id":Wr}}}},te=Le=>new Qr(Le,{provider:"gateway",baseURL:I,headers:K,fetch:s.fetch,o11yHeaders:le()}),D=async()=>{var Le,Vt,vr;let Wr=(vr=(Vt=(Le=s._internal)==null?void 0:Le.currentDate)==null?void 0:Vt.call(Le).getTime())!=null?vr:Date.now();return(!_||Wr-N>z)&&(N=Wr,_=new qt({baseURL:I,headers:K,fetch:s.fetch}).getAvailableModels().then(De=>(S=De,De)).catch(async De=>{throw await Jn(De,await ir(await K()))})),S?Promise.resolve(S):_},ce=async()=>new qt({baseURL:I,headers:K,fetch:s.fetch}).getCredits().catch(async Le=>{throw await Jn(Le,await ir(await K()))}),xt=function(Le){if(new.target)throw Error("The Gateway Provider model function cannot be called with the new keyword.");return te(Le)};xt.specificationVersion="v3",xt.getAvailableModels=D,xt.getCredits=ce,xt.imageModel=Le=>new In(Le,{provider:"gateway",baseURL:I,headers:K,fetch:s.fetch,o11yHeaders:le()}),xt.languageModel=te;let Oe=Le=>new ar(Le,{provider:"gateway",baseURL:I,headers:K,fetch:s.fetch,o11yHeaders:le()});return xt.embeddingModel=Oe,xt.textEmbeddingModel=Oe,xt}var ut=Re();async function hr(s){let c=(0,Z.loadOptionalSetting)({settingValue:s.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(c)return{token:c,authMethod:"api-key"};try{return{token:await(0,Xt.getVercelOidcToken)(),authMethod:"oidc"}}catch{return null}}v.s(["GatewayAuthenticationError",()=>an,"createGateway",()=>Re,"gateway",()=>ut],28729);var Ue=vt,hn=v.i(94323),pi=v.i(31232),Kr=Object.defineProperty,ta="AI_InvalidArgumentError",Ii=`vercel.ai.error.${ta}`,wa=Symbol.for(Ii),Dn=class extends Ue.AISDKError{constructor({parameter:s,value:c,message:b}){super({name:ta,message:`Invalid argument for parameter ${s}: ${b}`}),this[ge]=!0,this.parameter=s,this.value=c}static isInstance(s){return Ue.AISDKError.hasMarker(s,Ii)}};ge=wa;var Fi="AI_InvalidStreamPartError",Ta=`vercel.ai.error.${Fi}`,Gi=Symbol.for(Ta),Xr=class extends Ue.AISDKError{constructor({chunk:s,message:c}){super({name:Fi,message:c}),this[ht]=!0,this.chunk=s}static isInstance(s){return Ue.AISDKError.hasMarker(s,Ta)}};ht=Gi;var On="AI_InvalidToolApprovalError",oa=`vercel.ai.error.${On}`,Ca=Symbol.for(oa),_o=class extends Ue.AISDKError{constructor({approvalId:s}){super({name:On,message:`Tool approval response references unknown approvalId: "${s}". No matching tool-approval-request found in message history.`}),this[ee]=!0,this.approvalId=s}static isInstance(s){return Ue.AISDKError.hasMarker(s,oa)}};ee=Ca;var Za="AI_InvalidToolInputError",Qi=`vercel.ai.error.${Za}`,Xa=Symbol.for(Qi),Ya=class extends Ue.AISDKError{constructor({toolInput:s,toolName:c,cause:b,message:_=`Invalid input for tool ${c}: ${(0,Ue.getErrorMessage)(b)}`}){super({name:Za,message:_,cause:b}),this[Be]=!0,this.toolInput=s,this.toolName=c}static isInstance(s){return Ue.AISDKError.hasMarker(s,Qi)}};Be=Xa;var Ra="AI_ToolCallNotFoundForApprovalError",po=`vercel.ai.error.${Ra}`,mo=Symbol.for(po),wt=class extends Ue.AISDKError{constructor({toolCallId:s,approvalId:c}){super({name:Ra,message:`Tool call "${s}" not found for approval request "${c}".`}),this[re]=!0,this.toolCallId=s,this.approvalId=c}static isInstance(s){return Ue.AISDKError.hasMarker(s,po)}};re=mo;var Ce="AI_NoImageGeneratedError",br=`vercel.ai.error.${Ce}`,G=Symbol.for(br),Rr=class extends Ue.AISDKError{constructor({message:s="No image generated.",cause:c,responses:b}){super({name:Ce,message:s,cause:c}),this[et]=!0,this.responses=b}static isInstance(s){return Ue.AISDKError.hasMarker(s,br)}};et=G;var tn="AI_NoObjectGeneratedError",Fn=`vercel.ai.error.${tn}`,Tn=Symbol.for(Fn),Hr=class extends Ue.AISDKError{constructor({message:s="No object generated.",cause:c,text:b,response:_,usage:S,finishReason:z}){super({name:tn,message:s,cause:c}),this[Ge]=!0,this.text=b,this.response=_,this.usage=S,this.finishReason=z}static isInstance(s){return Ue.AISDKError.hasMarker(s,Fn)}};Ge=Tn;var Kn="AI_NoOutputGeneratedError",Xi=`vercel.ai.error.${Kn}`,Zi=Symbol.for(Xi),$i=class extends Ue.AISDKError{constructor({message:s="No output generated.",cause:c}={}){super({name:Kn,message:s,cause:c}),this[it]=!0}static isInstance(s){return Ue.AISDKError.hasMarker(s,Xi)}};it=Zi;var mi=class extends Ue.AISDKError{constructor(s){super({name:"AI_NoSpeechGeneratedError",message:"No speech audio generated."}),this.responses=s.responses}},Bi="AI_NoSuchToolError",Nt=`vercel.ai.error.${Bi}`,hi=Symbol.for(Nt),qn=class extends Ue.AISDKError{constructor({toolName:s,availableTools:c,message:b=`Model tried to call unavailable tool '${s}'. ${c===void 0?"No tools are available.":`Available tools: ${c.join(", ")}.`}`}){super({name:Bi,message:b}),this[bt]=!0,this.toolName=s,this.availableTools=c}static isInstance(s){return Ue.AISDKError.hasMarker(s,Nt)}};bt=hi;var ti="AI_ToolCallRepairError",yn=`vercel.ai.error.${ti}`,pa=Symbol.for(yn),ra=class extends Ue.AISDKError{constructor({cause:s,originalError:c,message:b=`Error repairing tool call: ${(0,Ue.getErrorMessage)(s)}`}){super({name:ti,message:b,cause:s}),this[Et]=!0,this.originalError=c}static isInstance(s){return Ue.AISDKError.hasMarker(s,yn)}};Et=pa;var Sr=class extends Ue.AISDKError{constructor(s){super({name:"AI_UnsupportedModelVersionError",message:`Unsupported model version ${s.version} for provider "${s.provider}" and model "${s.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=s.version,this.provider=s.provider,this.modelId=s.modelId}},Ri="AI_InvalidDataContentError",Vi=`vercel.ai.error.${Ri}`,Nn=Symbol.for(Vi),Yi=class extends Ue.AISDKError{constructor({content:s,cause:c,message:b=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof s}.`}){super({name:Ri,message:b,cause:c}),this[tr]=!0,this.content=s}static isInstance(s){return Ue.AISDKError.hasMarker(s,Vi)}};tr=Nn;var zi="AI_InvalidMessageRoleError",sa=`vercel.ai.error.${zi}`,Oa=Symbol.for(sa),ni=class extends Ue.AISDKError{constructor({role:s,message:c=`Invalid message role: '${s}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:zi,message:c}),this[Gt]=!0,this.role=s}static isInstance(s){return Ue.AISDKError.hasMarker(s,sa)}};Gt=Oa;var Na="AI_MessageConversionError",Oi=`vercel.ai.error.${Na}`,Ni=Symbol.for(Oi),ho=class extends Ue.AISDKError{constructor({originalMessage:s,message:c}){super({name:Na,message:c}),this[Ve]=!0,this.originalMessage=s}static isInstance(s){return Ue.AISDKError.hasMarker(s,Oi)}};Ve=Ni;var va="AI_RetryError",Jo=`vercel.ai.error.${va}`,ns=Symbol.for(Jo),bi=class extends Ue.AISDKError{constructor({message:s,reason:c,errors:b}){super({name:va,message:s}),this[cr]=!0,this.reason=c,this.errors=b,this.lastError=b[b.length-1]}static isInstance(s){return Ue.AISDKError.hasMarker(s,Jo)}};cr=ns;var xo=!1,Hi=s=>{if(s.warnings.length===0)return;let c=mr.AI_SDK_LOG_WARNINGS;if(c!==!1){if(typeof c=="function")return void c(s);for(let b of(xo||(xo=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.")),s.warnings))console.warn(function({warning:_,provider:S,model:z}){let N=`AI SDK Warning (${S} / ${z}):`;switch(_.type){case"unsupported":{let I=`${N} The feature "${_.feature}" is not supported.`;return _.details&&(I+=` ${_.details}`),I}case"compatibility":{let I=`${N} The feature "${_.feature}" is used in a compatibility mode.`;return _.details&&(I+=` ${_.details}`),I}case"other":return`${N} ${_.message}`;default:return`${N} ${JSON.stringify(_,null,2)}`}}({warning:b,provider:s.provider,model:s.model}))}};function Qn({provider:s,modelId:c}){Hi({warnings:[{type:"compatibility",feature:"specificationVersion",details:"Using v2 specification compatibility mode. Some features may not be available."}],provider:s,model:c})}function rr(s){return s.specificationVersion==="v3"?s:(Qn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,b)=>b==="specificationVersion"?"v3":c[b]}))}function Ei(s){return s.specificationVersion==="v3"?s:(Qn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,b)=>b==="specificationVersion"?"v3":c[b]}))}function Nr(s){return s.specificationVersion==="v3"?s:(Qn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get(c,b){switch(b){case"specificationVersion":return"v3";case"doGenerate":return async(..._)=>{let S=await c.doGenerate(..._);return{...S,finishReason:eo(S.finishReason),usage:qo(S.usage)}};case"doStream":return async(..._)=>{let S=await c.doStream(..._);return{...S,stream:S.stream.pipeThrough(new TransformStream({transform(z,N){z.type==="finish"?N.enqueue({...z,finishReason:eo(z.finishReason),usage:qo(z.usage)}):N.enqueue(z)}}))}};default:return c[b]}}}))}function eo(s){return{unified:s==="unknown"?"other":s,raw:void 0}}function qo(s){return{inputTokens:{total:s.inputTokens,noCache:void 0,cacheRead:s.cachedInputTokens,cacheWrite:void 0},outputTokens:{total:s.outputTokens,text:void 0,reasoning:s.reasoningTokens}}}function is(s){return s.specificationVersion==="v3"?s:(Qn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,b)=>b==="specificationVersion"?"v3":c[b]}))}function As(s){return s.specificationVersion==="v3"?s:(Qn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,b)=>b==="specificationVersion"?"v3":c[b]}))}function Sa(s){if(typeof s!="string"){if(s.specificationVersion!=="v3"&&s.specificationVersion!=="v2")throw new Sr({version:s.specificationVersion,provider:s.provider,modelId:s.modelId});return Nr(s)}return Ko().languageModel(s)}function Ms(s){if(typeof s!="string"){if(s.specificationVersion!=="v3"&&s.specificationVersion!=="v2")throw new Sr({version:s.specificationVersion,provider:s.provider,modelId:s.modelId});return rr(s)}return Ko().embeddingModel(s)}function Ko(){var s;return(s=mr.AI_SDK_DEFAULT_PROVIDER)!=null?s:ut}var fs=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],Rs=[{mediaType:"audio/mpeg",bytesPrefix:[255,251]},{mediaType:"audio/mpeg",bytesPrefix:[255,250]},{mediaType:"audio/mpeg",bytesPrefix:[255,243]},{mediaType:"audio/mpeg",bytesPrefix:[255,242]},{mediaType:"audio/mpeg",bytesPrefix:[255,227]},{mediaType:"audio/mpeg",bytesPrefix:[255,226]},{mediaType:"audio/wav",bytesPrefix:[82,73,70,70,null,null,null,null,87,65,86,69]},{mediaType:"audio/ogg",bytesPrefix:[79,103,103,83]},{mediaType:"audio/flac",bytesPrefix:[102,76,97,67]},{mediaType:"audio/aac",bytesPrefix:[64,21,0,0]},{mediaType:"audio/mp4",bytesPrefix:[102,116,121,112]},{mediaType:"audio/webm",bytesPrefix:[26,69,223,163]}];function fo({data:s,signatures:c}){let b,_,S=typeof s=="string"&&s.startsWith("SUQz")||typeof s!="string"&&s.length>10&&s[0]===73&&s[1]===68&&s[2]===51?(_=(127&(b=typeof s=="string"?(0,Z.convertBase64ToUint8Array)(s):s)[6])<<21|(127&b[7])<<14|(127&b[8])<<7|127&b[9],b.slice(_+10)):s,z=typeof S=="string"?(0,Z.convertBase64ToUint8Array)(S.substring(0,Math.min(S.length,24))):S;for(let N of c)if(z.length>=N.bytesPrefix.length&&N.bytesPrefix.every((I,K)=>I===null||z[K]===I))return N.mediaType}var na="6.0.3",Ba=async({url:s})=>{var c;let b=s.toString();try{let _=await fetch(b,{headers:(0,Z.withUserAgentSuffix)({},`ai-sdk/${na}`,(0,Z.getRuntimeEnvironmentUserAgent)())});if(!_.ok)throw new Z.DownloadError({url:b,statusCode:_.status,statusText:_.statusText});return{data:new Uint8Array(await _.arrayBuffer()),mediaType:(c=_.headers.get("content-type"))!=null?c:void 0}}catch(_){throw Z.DownloadError.isInstance(_)?_:new Z.DownloadError({url:b,cause:_})}};function An(s){try{let[c,b]=s.split(",");return{mediaType:c.split(";")[0].split(":")[1],base64Content:b}}catch{return{mediaType:void 0,base64Content:void 0}}}var u=h.z.union([h.z.string(),h.z.instanceof(Uint8Array),h.z.instanceof(ArrayBuffer),h.z.custom(s=>{var c,b;return(b=(c=mr.Buffer)==null?void 0:c.isBuffer(s))!=null&&b},{message:"Must be a Buffer"})]);function w(s){if(s instanceof Uint8Array)return{data:s,mediaType:void 0};if(s instanceof ArrayBuffer)return{data:new Uint8Array(s),mediaType:void 0};if(typeof s=="string")try{s=new URL(s)}catch{}if(s instanceof URL&&s.protocol==="data:"){let{mediaType:c,base64Content:b}=An(s.toString());if(c==null||b==null)throw new Ue.AISDKError({name:"InvalidDataContentError",message:`Invalid data URL format in content ${s.toString()}`});return{data:b,mediaType:c}}return{data:s,mediaType:void 0}}function R(s){if(s instanceof Uint8Array)return s;if(typeof s=="string")try{return(0,Z.convertBase64ToUint8Array)(s)}catch(c){throw new Yi({message:"Invalid data content. Content string is not a base64-encoded media.",content:s,cause:c})}if(s instanceof ArrayBuffer)return new Uint8Array(s);throw new Yi({content:s})}function P(s){return s===void 0?[]:Array.isArray(s)?s:[s]}async function A({prompt:s,supportedUrls:c,download:b=((_=Ba)=>S=>Promise.all(S.map(async z=>z.isUrlSupportedByModel?null:_(z))))()}){let _=await we(s.messages,b,c),S=[...s.system!=null?typeof s.system=="string"?[{role:"system",content:s.system}]:P(s.system).map(N=>({role:"system",content:N.content,providerOptions:N.providerOptions})):[],...s.messages.map(N=>function({message:I,downloadedAssets:K}){let le=I.role;switch(le){case"system":return{role:"system",content:I.content,providerOptions:I.providerOptions};case"user":return typeof I.content=="string"?{role:"user",content:[{type:"text",text:I.content}],providerOptions:I.providerOptions}:{role:"user",content:I.content.map(te=>function(D,ce){var xt;let Oe;if(D.type==="text")return{type:"text",text:D.text,providerOptions:D.providerOptions};let Le=D.type;switch(Le){case"image":Oe=D.image;break;case"file":Oe=D.data;break;default:throw Error(`Unsupported part type: ${Le}`)}let{data:Vt,mediaType:vr}=w(Oe),Wr=vr??D.mediaType,De=Vt;if(De instanceof URL){let Dr=ce[De.toString()];Dr&&(De=Dr.data,Wr!=null||(Wr=Dr.mediaType))}switch(Le){case"image":return(De instanceof Uint8Array||typeof De=="string")&&(Wr=(xt=fo({data:De,signatures:fs}))!=null?xt:Wr),{type:"file",mediaType:Wr??"image/*",filename:void 0,data:De,providerOptions:D.providerOptions};case"file":if(Wr==null)throw Error("Media type is missing for file part");return{type:"file",mediaType:Wr,filename:D.filename,data:De,providerOptions:D.providerOptions}}}(te,K)).filter(te=>te.type!=="text"||te.text!==""),providerOptions:I.providerOptions};case"assistant":return typeof I.content=="string"?{role:"assistant",content:[{type:"text",text:I.content}],providerOptions:I.providerOptions}:{role:"assistant",content:I.content.filter(te=>te.type!=="text"||te.text!==""||te.providerOptions!=null).filter(te=>te.type!=="tool-approval-request").map(te=>{let D=te.providerOptions;switch(te.type){case"file":{let{data:ce,mediaType:xt}=w(te.data);return{type:"file",data:ce,filename:te.filename,mediaType:xt??te.mediaType,providerOptions:D}}case"reasoning":return{type:"reasoning",text:te.text,providerOptions:D};case"text":return{type:"text",text:te.text,providerOptions:D};case"tool-call":return{type:"tool-call",toolCallId:te.toolCallId,toolName:te.toolName,input:te.input,providerExecuted:te.providerExecuted,providerOptions:D};case"tool-result":return{type:"tool-result",toolCallId:te.toolCallId,toolName:te.toolName,output:qe(te.output),providerOptions:D}}}),providerOptions:I.providerOptions};case"tool":return{role:"tool",content:I.content.filter(te=>te.type!=="tool-approval-response"||te.providerExecuted).map(te=>{switch(te.type){case"tool-result":return{type:"tool-result",toolCallId:te.toolCallId,toolName:te.toolName,output:qe(te.output),providerOptions:te.providerOptions};case"tool-approval-response":return{type:"tool-approval-response",approvalId:te.approvalId,approved:te.approved,reason:te.reason}}}),providerOptions:I.providerOptions};default:throw new ni({role:le})}}({message:N,downloadedAssets:_}))],z=[];for(let N of S){if(N.role!=="tool"){z.push(N);continue}let I=z.at(-1);I?.role==="tool"?I.content.push(...N.content):z.push(N)}return z}async function we(s,c,b){let _=s.filter(S=>S.role==="user").map(S=>S.content).filter(S=>Array.isArray(S)).flat().filter(S=>S.type==="image"||S.type==="file").map(S=>{var z;let N=(z=S.mediaType)!=null?z:S.type==="image"?"image/*":void 0,I=S.type==="image"?S.image:S.data;if(typeof I=="string")try{I=new URL(I)}catch{}return{mediaType:N,data:I}}).filter(S=>S.data instanceof URL).map(S=>({url:S.data,isUrlSupportedByModel:S.mediaType!=null&&(0,Z.isUrlSupported)({url:S.data.toString(),mediaType:S.mediaType,supportedUrls:b})}));return Object.fromEntries((await c(_)).map((S,z)=>S==null?null:[_[z].url.toString(),{data:S.data,mediaType:S.mediaType}]).filter(S=>S!=null))}function qe(s){return s.type!=="content"?s:{type:"content",value:s.value.map(c=>c.type!=="media"?c:c.mediaType.startsWith("image/")?{type:"image-data",data:c.data,mediaType:c.mediaType}:{type:"file-data",data:c.data,mediaType:c.mediaType})}}async function gt({toolCallId:s,input:c,output:b,tool:_,errorMode:S}){return S==="text"?{type:"error-text",value:(0,Ue.getErrorMessage)(b)}:S==="json"?{type:"error-json",value:je(b)}:_?.toModelOutput?await _.toModelOutput({toolCallId:s,input:c,output:b}):typeof b=="string"?{type:"text",value:b}:{type:"json",value:je(b)}}function je(s){return s===void 0?null:s}function _t({maxOutputTokens:s,temperature:c,topP:b,topK:_,presencePenalty:S,frequencyPenalty:z,seed:N,stopSequences:I}){if(s!=null){if(!Number.isInteger(s))throw new Dn({parameter:"maxOutputTokens",value:s,message:"maxOutputTokens must be an integer"});if(s<1)throw new Dn({parameter:"maxOutputTokens",value:s,message:"maxOutputTokens must be >= 1"})}if(c!=null&&typeof c!="number")throw new Dn({parameter:"temperature",value:c,message:"temperature must be a number"});if(b!=null&&typeof b!="number")throw new Dn({parameter:"topP",value:b,message:"topP must be a number"});if(_!=null&&typeof _!="number")throw new Dn({parameter:"topK",value:_,message:"topK must be a number"});if(S!=null&&typeof S!="number")throw new Dn({parameter:"presencePenalty",value:S,message:"presencePenalty must be a number"});if(z!=null&&typeof z!="number")throw new Dn({parameter:"frequencyPenalty",value:z,message:"frequencyPenalty must be a number"});if(N!=null&&!Number.isInteger(N))throw new Dn({parameter:"seed",value:N,message:"seed must be an integer"});return{maxOutputTokens:s,temperature:c,topP:b,topK:_,presencePenalty:S,frequencyPenalty:z,stopSequences:I,seed:N}}async function gr({tools:s,toolChoice:c,activeTools:b}){if(!(s!=null&&Object.keys(s).length>0))return{tools:void 0,toolChoice:void 0};let _=b!=null?Object.entries(s).filter(([z])=>b.includes(z)):Object.entries(s),S=[];for(let[z,N]of _){let I=N.type;switch(I){case void 0:case"dynamic":case"function":S.push({type:"function",name:z,description:N.description,inputSchema:await(0,Z.asSchema)(N.inputSchema).jsonSchema,...N.inputExamples!=null?{inputExamples:N.inputExamples}:{},providerOptions:N.providerOptions,...N.strict!=null?{strict:N.strict}:{}});break;case"provider":S.push({type:"provider",name:z,id:N.id,args:N.args});break;default:throw Error(`Unsupported tool type: ${I}`)}}return{tools:S,toolChoice:c==null?{type:"auto"}:typeof c=="string"?{type:c}:{type:"tool",toolName:c.toolName}}}var Tr=h.z.lazy(()=>h.z.union([h.z.null(),h.z.string(),h.z.number(),h.z.boolean(),h.z.record(h.z.string(),Tr.optional()),h.z.array(Tr)])),Yt=h.z.record(h.z.string(),h.z.record(h.z.string(),Tr.optional())),on=h.z.object({type:h.z.literal("text"),text:h.z.string(),providerOptions:Yt.optional()}),jr=h.z.object({type:h.z.literal("image"),image:h.z.union([u,h.z.instanceof(URL)]),mediaType:h.z.string().optional(),providerOptions:Yt.optional()}),sn=h.z.object({type:h.z.literal("file"),data:h.z.union([u,h.z.instanceof(URL)]),filename:h.z.string().optional(),mediaType:h.z.string(),providerOptions:Yt.optional()}),Or=h.z.object({type:h.z.literal("reasoning"),text:h.z.string(),providerOptions:Yt.optional()}),Vr=h.z.object({type:h.z.literal("tool-call"),toolCallId:h.z.string(),toolName:h.z.string(),input:h.z.unknown(),providerOptions:Yt.optional(),providerExecuted:h.z.boolean().optional()}),Mr=h.z.discriminatedUnion("type",[h.z.object({type:h.z.literal("text"),value:h.z.string(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("json"),value:Tr,providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("execution-denied"),reason:h.z.string().optional(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("error-text"),value:h.z.string(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("error-json"),value:Tr,providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("content"),value:h.z.array(h.z.union([h.z.object({type:h.z.literal("text"),text:h.z.string(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("media"),data:h.z.string(),mediaType:h.z.string()}),h.z.object({type:h.z.literal("file-data"),data:h.z.string(),mediaType:h.z.string(),filename:h.z.string().optional(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("file-url"),url:h.z.string(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("file-id"),fileId:h.z.union([h.z.string(),h.z.record(h.z.string(),h.z.string())]),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("image-data"),data:h.z.string(),mediaType:h.z.string(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("image-url"),url:h.z.string(),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("image-file-id"),fileId:h.z.union([h.z.string(),h.z.record(h.z.string(),h.z.string())]),providerOptions:Yt.optional()}),h.z.object({type:h.z.literal("custom"),providerOptions:Yt.optional()})]))})]),Ir=h.z.object({type:h.z.literal("tool-result"),toolCallId:h.z.string(),toolName:h.z.string(),output:Mr,providerOptions:Yt.optional()}),Ka=h.z.object({type:h.z.literal("tool-approval-request"),approvalId:h.z.string(),toolCallId:h.z.string()}),ba=h.z.object({type:h.z.literal("tool-approval-response"),approvalId:h.z.string(),approved:h.z.boolean(),reason:h.z.string().optional()}),go=h.z.object({role:h.z.literal("system"),content:h.z.string(),providerOptions:Yt.optional()}),Po=h.z.object({role:h.z.literal("user"),content:h.z.union([h.z.string(),h.z.array(h.z.union([on,jr,sn]))]),providerOptions:Yt.optional()}),wo=h.z.object({role:h.z.literal("assistant"),content:h.z.union([h.z.string(),h.z.array(h.z.union([on,sn,Or,Vr,Ir,Ka]))]),providerOptions:Yt.optional()}),Lo=h.z.object({role:h.z.literal("tool"),content:h.z.array(h.z.union([Ir,ba])),providerOptions:Yt.optional()}),ko=h.z.union([go,Po,wo,Lo]);async function _a(s){let c;if(s.prompt==null&&s.messages==null)throw new Ue.InvalidPromptError({prompt:s,message:"prompt or messages must be defined"});if(s.prompt!=null&&s.messages!=null)throw new Ue.InvalidPromptError({prompt:s,message:"prompt and messages cannot be defined at the same time"});if(s.system!=null&&typeof s.system!="string"&&!P(s.system).every(_=>typeof _=="object"&&_!==null&&"role"in _&&_.role==="system"))throw new Ue.InvalidPromptError({prompt:s,message:"system must be a string, SystemModelMessage, or array of SystemModelMessage"});if(s.prompt!=null&&typeof s.prompt=="string")c=[{role:"user",content:s.prompt}];else if(s.prompt!=null&&Array.isArray(s.prompt))c=s.prompt;else if(s.messages!=null)c=s.messages;else throw new Ue.InvalidPromptError({prompt:s,message:"prompt or messages must be defined"});if(c.length===0)throw new Ue.InvalidPromptError({prompt:s,message:"messages must not be empty"});let b=await(0,Z.safeValidateTypes)({value:c,schema:h.z.array(ko)});if(!b.success)throw new Ue.InvalidPromptError({prompt:s,message:"The messages do not match the ModelMessage[] schema.",cause:b.error});return{messages:c,system:s.system}}function Io(s){if(!an.isInstance(s))return s;let c="https://ai-sdk.dev/unauthenticated-ai-gateway";return(process==null?void 0:"production")==="production"?new Ue.AISDKError({name:"GatewayError",message:`Unauthenticated. Configure AI_GATEWAY_API_KEY or use a provider module. Learn more: ${c}`}):Object.assign(Error(`\x1B[1m\x1B[31mUnauthenticated request to AI Gateway.\x1B[0m

To authenticate, set the \x1B[33mAI_GATEWAY_API_KEY\x1B[0m environment variable with your API key.

Alternatively, you can use a provider module instead of the AI Gateway.

Learn more: \x1B[34m${c}\x1B[0m

`),{name:"GatewayAuthenticationError"})}function ia({operationId:s,telemetry:c}){return{"operation.name":`${s}${c?.functionId!=null?` ${c.functionId}`:""}`,"resource.name":c?.functionId,"ai.operationId":s,"ai.telemetry.functionId":c?.functionId}}function ao({model:s,settings:c,telemetry:b,headers:_}){var S;return{"ai.model.provider":s.provider,"ai.model.id":s.modelId,...Object.entries(c).reduce((z,[N,I])=>(z[`ai.settings.${N}`]=I,z),{}),...Object.entries((S=b?.metadata)!=null?S:{}).reduce((z,[N,I])=>(z[`ai.telemetry.metadata.${N}`]=I,z),{}),...Object.entries(_??{}).reduce((z,[N,I])=>(I!==void 0&&(z[`ai.request.headers.${N}`]=I),z),{})}}var Ws={startSpan:()=>jo,startActiveSpan:(s,c,b,_)=>typeof c=="function"?c(jo):typeof b=="function"?b(jo):typeof _=="function"?_(jo):void 0},jo={spanContext:()=>Ds,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},Ds={traceId:"",spanId:"",traceFlags:0};function Fo({isEnabled:s=!1,tracer:c}={}){return s?c||hn.trace.getTracer("ai"):Ws}async function ma({name:s,tracer:c,attributes:b,fn:_,endWhenDone:S=!0}){return c.startActiveSpan(s,{attributes:await b},async z=>{try{let N=await _(z);return S&&z.end(),N}catch(N){try{oo(z,N)}finally{z.end()}throw N}})}function oo(s,c){c instanceof Error?(s.recordException({name:c.name,message:c.message,stack:c.stack}),s.setStatus({code:pi.SpanStatusCode.ERROR,message:c.message})):s.setStatus({code:pi.SpanStatusCode.ERROR})}async function Wn({telemetry:s,attributes:c}){if(s?.isEnabled!==!0)return{};let b={};for(let[_,S]of Object.entries(c))if(S!=null){if(typeof S=="object"&&"input"in S&&typeof S.input=="function"){if(s?.recordInputs===!1)continue;let z=await S.input();z!=null&&(b[_]=z);continue}if(typeof S=="object"&&"output"in S&&typeof S.output=="function"){if(s?.recordOutputs===!1)continue;let z=await S.output();z!=null&&(b[_]=z);continue}b[_]=S}return b}function Wa(s){return JSON.stringify(s.map(c=>({...c,content:typeof c.content=="string"?c.content:c.content.map(b=>{var _;return b.type==="file"?{...b,data:b.data instanceof Uint8Array?typeof(_=b.data)=="string"?_:_ instanceof ArrayBuffer?(0,Z.convertUint8ArrayToBase64)(new Uint8Array(_)):(0,Z.convertUint8ArrayToBase64)(_):b.data}:b})})))}function za(s){return{inputTokens:s.inputTokens.total,inputTokenDetails:{noCacheTokens:s.inputTokens.noCache,cacheReadTokens:s.inputTokens.cacheRead,cacheWriteTokens:s.inputTokens.cacheWrite},outputTokens:s.outputTokens.total,outputTokenDetails:{textTokens:s.outputTokens.text,reasoningTokens:s.outputTokens.reasoning},totalTokens:Pa(s.inputTokens.total,s.outputTokens.total),raw:s.raw,reasoningTokens:s.outputTokens.reasoning,cachedInputTokens:s.inputTokens.cacheRead}}function gs(){return{inputTokens:void 0,inputTokenDetails:{noCacheTokens:void 0,cacheReadTokens:void 0,cacheWriteTokens:void 0},outputTokens:void 0,outputTokenDetails:{textTokens:void 0,reasoningTokens:void 0},totalTokens:void 0,raw:void 0}}function Ao(s,c){var b,_,S,z,N,I,K,le,te,D;return{inputTokens:Pa(s.inputTokens,c.inputTokens),inputTokenDetails:{noCacheTokens:Pa((b=s.inputTokenDetails)==null?void 0:b.noCacheTokens,(_=c.inputTokenDetails)==null?void 0:_.noCacheTokens),cacheReadTokens:Pa((S=s.inputTokenDetails)==null?void 0:S.cacheReadTokens,(z=c.inputTokenDetails)==null?void 0:z.cacheReadTokens),cacheWriteTokens:Pa((N=s.inputTokenDetails)==null?void 0:N.cacheWriteTokens,(I=c.inputTokenDetails)==null?void 0:I.cacheWriteTokens)},outputTokens:Pa(s.outputTokens,c.outputTokens),outputTokenDetails:{textTokens:Pa((K=s.outputTokenDetails)==null?void 0:K.textTokens,(le=c.outputTokenDetails)==null?void 0:le.textTokens),reasoningTokens:Pa((te=s.outputTokenDetails)==null?void 0:te.reasoningTokens,(D=c.outputTokenDetails)==null?void 0:D.reasoningTokens)},totalTokens:Pa(s.totalTokens,c.totalTokens),reasoningTokens:Pa(s.reasoningTokens,c.reasoningTokens),cachedInputTokens:Pa(s.cachedInputTokens,c.cachedInputTokens)}}function Pa(s,c){return s==null&&c==null?void 0:(s??0)+(c??0)}function Zo(s,c){if(s===void 0&&c===void 0)return;if(s===void 0)return c;if(c===void 0)return s;let b={...s};for(let _ in c)if(Object.prototype.hasOwnProperty.call(c,_)){let S=c[_];if(S===void 0)continue;let z=_ in s?s[_]:void 0,N=S!==null&&typeof S=="object"&&!Array.isArray(S)&&!(S instanceof Date)&&!(S instanceof RegExp),I=z!=null&&typeof z=="object"&&!Array.isArray(z)&&!(z instanceof Date)&&!(z instanceof RegExp);N&&I?b[_]=Zo(z,S):b[_]=S}return b}async function ys(s,{maxRetries:c,delayInMs:b,backoffFactor:_,abortSignal:S},z=[]){try{return await s()}catch(N){if((0,Z.isAbortError)(N)||c===0)throw N;let I=(0,Z.getErrorMessage)(N),K=[...z,N],le=K.length;if(le>c)throw new bi({message:`Failed after ${le} attempts. Last error: ${I}`,reason:"maxRetriesExceeded",errors:K});if(N instanceof Error&&Ue.APICallError.isInstance(N)&&N.isRetryable===!0&&le<=c)return await(0,Z.delay)(function({error:te,exponentialBackoffDelay:D}){let ce,xt=te.responseHeaders;if(!xt)return D;let Oe=xt["retry-after-ms"];if(Oe){let Vt=parseFloat(Oe);Number.isNaN(Vt)||(ce=Vt)}let Le=xt["retry-after"];if(Le&&ce===void 0){let Vt=parseFloat(Le);ce=Number.isNaN(Vt)?Date.parse(Le)-Date.now():1e3*Vt}return ce!=null&&!Number.isNaN(ce)&&0<=ce&&(ce<6e4||ce<D)?ce:D}({error:N,exponentialBackoffDelay:b}),{abortSignal:S}),ys(s,{maxRetries:c,delayInMs:_*b,backoffFactor:_,abortSignal:S},K);throw le===1?N:new bi({message:`Failed after ${le} attempts with non-retryable error: '${I}'`,reason:"errorNotRetryable",errors:K})}}function Va({maxRetries:s,abortSignal:c}){if(s!=null){if(!Number.isInteger(s))throw new Dn({parameter:"maxRetries",value:s,message:"maxRetries must be an integer"});if(s<0)throw new Dn({parameter:"maxRetries",value:s,message:"maxRetries must be >= 0"})}let b=s??2;return{maxRetries:b,retry:(({maxRetries:_=2,initialDelayInMs:S=2e3,backoffFactor:z=2,abortSignal:N}={})=>async I=>ys(I,{maxRetries:_,delayInMs:S,backoffFactor:z,abortSignal:N}))({maxRetries:b,abortSignal:c})}}function Zs({messages:s}){let c=s.at(-1);if(c?.role!="tool")return{approvedToolApprovals:[],deniedToolApprovals:[]};let b={};for(let I of s)if(I.role==="assistant"&&typeof I.content!="string")for(let K of I.content)K.type==="tool-call"&&(b[K.toolCallId]=K);let _={};for(let I of s)if(I.role==="assistant"&&typeof I.content!="string")for(let K of I.content)K.type==="tool-approval-request"&&(_[K.approvalId]=K);let S={};for(let I of c.content)I.type==="tool-result"&&(S[I.toolCallId]=I);let z=[],N=[];for(let I of c.content.filter(K=>K.type==="tool-approval-response")){let K=_[I.approvalId];if(K==null)throw new _o({approvalId:I.approvalId});if(S[K.toolCallId]!=null)continue;let le=b[K.toolCallId];if(le==null)throw new wt({toolCallId:K.toolCallId,approvalId:K.approvalId});let te={approvalRequest:K,approvalResponse:I,toolCall:le};I.approved?z.push(te):N.push(te)}return{approvedToolApprovals:z,deniedToolApprovals:N}}async function as({toolCall:s,tools:c,tracer:b,telemetry:_,messages:S,abortSignal:z,experimental_context:N,onPreliminaryToolResult:I}){let{toolName:K,toolCallId:le,input:te}=s,D=c?.[K];if(D?.execute!=null)return ma({name:"ai.toolCall",attributes:Wn({telemetry:_,attributes:{...ia({operationId:"ai.toolCall",telemetry:_}),"ai.toolCall.name":K,"ai.toolCall.id":le,"ai.toolCall.args":{output:()=>JSON.stringify(te)}}}),tracer:b,fn:async ce=>{let xt;try{for await(let Oe of(0,Z.executeTool)({execute:D.execute.bind(D),input:te,options:{toolCallId:le,messages:S,abortSignal:z,experimental_context:N}}))Oe.type==="preliminary"?I?.({...s,type:"tool-result",output:Oe.output,preliminary:!0}):xt=Oe.output}catch(Oe){return oo(ce,Oe),{type:"tool-error",toolCallId:le,toolName:K,input:te,error:Oe,dynamic:D.type==="dynamic",...s.providerMetadata!=null?{providerMetadata:s.providerMetadata}:{}}}try{ce.setAttributes(await Wn({telemetry:_,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(xt)}}}))}catch{}return{type:"tool-result",toolCallId:le,toolName:K,input:te,output:xt,dynamic:D.type==="dynamic",...s.providerMetadata!=null?{providerMetadata:s.providerMetadata}:{}}}})}function x(s){let c=s.filter(b=>b.type==="text");if(c.length!==0)return c.map(b=>b.text).join("")}var F=class{constructor({data:s,mediaType:c}){let b=s instanceof Uint8Array;this.base64Data=b?void 0:s,this.uint8ArrayData=b?s:void 0,this.mediaType=c}get base64(){return this.base64Data==null&&(this.base64Data=(0,Z.convertUint8ArrayToBase64)(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=(0,Z.convertBase64ToUint8Array)(this.base64Data)),this.uint8ArrayData}},ne=class extends F{constructor(s){super(s),this.type="file"}};async function he({tool:s,toolCall:c,messages:b,experimental_context:_}){return s.needsApproval!=null&&(typeof s.needsApproval=="boolean"?s.needsApproval:await s.needsApproval(c.input,{toolCallId:c.toolCallId,messages:b,experimental_context:_}))}var Ee={},Te={array:()=>nt,choice:()=>Ke,json:()=>mt,object:()=>pe,text:()=>He};for(var ae in Te)Kr(Ee,ae,{get:Te[ae],enumerable:!0});async function fe(s){if(s===void 0)return{value:void 0,state:"undefined-input"};let c=await(0,Z.safeParseJSON)({text:s});return c.success?{value:c.value,state:"successful-parse"}:(c=await(0,Z.safeParseJSON)({text:function(b){let _=["ROOT"],S=-1,z=null;function N(te,D,ce){switch(te){case'"':S=D,_.pop(),_.push(ce),_.push("INSIDE_STRING");break;case"f":case"t":case"n":S=D,z=D,_.pop(),_.push(ce),_.push("INSIDE_LITERAL");break;case"-":_.pop(),_.push(ce),_.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":S=D,_.pop(),_.push(ce),_.push("INSIDE_NUMBER");break;case"{":S=D,_.pop(),_.push(ce),_.push("INSIDE_OBJECT_START");break;case"[":S=D,_.pop(),_.push(ce),_.push("INSIDE_ARRAY_START")}}function I(te,D){switch(te){case",":_.pop(),_.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":S=D,_.pop()}}function K(te,D){switch(te){case",":_.pop(),_.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":S=D,_.pop()}}for(let te=0;te<b.length;te++){let D=b[te];switch(_[_.length-1]){case"ROOT":N(D,te,"FINISH");break;case"INSIDE_OBJECT_START":switch(D){case'"':_.pop(),_.push("INSIDE_OBJECT_KEY");break;case"}":S=te,_.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":D==='"'&&(_.pop(),_.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":D==='"'&&(_.pop(),_.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":D===":"&&(_.pop(),_.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":N(D,te,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":I(D,te);break;case"INSIDE_STRING":switch(D){case'"':_.pop(),S=te;break;case"\\":_.push("INSIDE_STRING_ESCAPE");break;default:S=te}break;case"INSIDE_ARRAY_START":D==="]"?(S=te,_.pop()):(S=te,N(D,te,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(D){case",":_.pop(),_.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":S=te,_.pop();break;default:S=te}break;case"INSIDE_ARRAY_AFTER_COMMA":N(D,te,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":_.pop(),S=te;break;case"INSIDE_NUMBER":switch(D){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":S=te;break;case"e":case"E":case"-":case".":break;case",":_.pop(),_[_.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&K(D,te),_[_.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&I(D,te);break;case"}":_.pop(),_[_.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&I(D,te);break;case"]":_.pop(),_[_.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&K(D,te);break;default:_.pop()}break;case"INSIDE_LITERAL":{let ce=b.substring(z,te+1);"false".startsWith(ce)||"true".startsWith(ce)||"null".startsWith(ce)?S=te:(_.pop(),_[_.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?I(D,te):_[_.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&K(D,te))}}}let le=b.slice(0,S+1);for(let te=_.length-1;te>=0;te--)switch(_[te]){case"INSIDE_STRING":le+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":le+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":le+="]";break;case"INSIDE_LITERAL":{let D=b.substring(z,b.length);"true".startsWith(D)?le+="true".slice(D.length):"false".startsWith(D)?le+="false".slice(D.length):"null".startsWith(D)&&(le+="null".slice(D.length))}}return le}(s)})).success?{value:c.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}var He=()=>({responseFormat:Promise.resolve({type:"text"}),parseCompleteOutput:async({text:s})=>s,parsePartialOutput:async({text:s})=>({partial:s})}),pe=({schema:s,name:c,description:b})=>{let _=(0,Z.asSchema)(s);return{responseFormat:(0,Z.resolve)(_.jsonSchema).then(S=>({type:"json",schema:S,...c!=null&&{name:c},...b!=null&&{description:b}})),async parseCompleteOutput({text:S},z){let N=await(0,Z.safeParseJSON)({text:S});if(!N.success)throw new Hr({message:"No object generated: could not parse the response.",cause:N.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});let I=await(0,Z.safeValidateTypes)({value:N.value,schema:_});if(!I.success)throw new Hr({message:"No object generated: response did not match schema.",cause:I.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});return I.value},async parsePartialOutput({text:S}){let z=await fe(S);switch(z.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:z.value}}}}},nt=({element:s,name:c,description:b})=>{let _=(0,Z.asSchema)(s);return{responseFormat:(0,Z.resolve)(_.jsonSchema).then(S=>{let{$schema:z,...N}=S;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:N}},required:["elements"],additionalProperties:!1},...c!=null&&{name:c},...b!=null&&{description:b}}}),async parseCompleteOutput({text:S},z){let N=await(0,Z.safeParseJSON)({text:S});if(!N.success)throw new Hr({message:"No object generated: could not parse the response.",cause:N.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});let I=N.value;if(I==null||typeof I!="object"||!("elements"in I)||!Array.isArray(I.elements))throw new Hr({message:"No object generated: response did not match schema.",cause:new Ue.TypeValidationError({value:I,cause:"response must be an object with an elements array"}),text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});for(let K of I.elements){let le=await(0,Z.safeValidateTypes)({value:K,schema:_});if(!le.success)throw new Hr({message:"No object generated: response did not match schema.",cause:le.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason})}return I.elements},async parsePartialOutput({text:S}){let z=await fe(S);switch(z.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let N=z.value;if(N==null||typeof N!="object"||!("elements"in N)||!Array.isArray(N.elements))return;let I=z.state==="repaired-parse"&&N.elements.length>0?N.elements.slice(0,-1):N.elements,K=[];for(let le of I){let te=await(0,Z.safeValidateTypes)({value:le,schema:_});te.success&&K.push(te.value)}return{partial:K}}}}}},Ke=({options:s,name:c,description:b})=>({responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:s}},required:["result"],additionalProperties:!1},...c!=null&&{name:c},...b!=null&&{description:b}}),async parseCompleteOutput({text:_},S){let z=await(0,Z.safeParseJSON)({text:_});if(!z.success)throw new Hr({message:"No object generated: could not parse the response.",cause:z.error,text:_,response:S.response,usage:S.usage,finishReason:S.finishReason});let N=z.value;if(N==null||typeof N!="object"||!("result"in N)||typeof N.result!="string"||!s.includes(N.result))throw new Hr({message:"No object generated: response did not match schema.",cause:new Ue.TypeValidationError({value:N,cause:"response must be an object that contains a choice value."}),text:_,response:S.response,usage:S.usage,finishReason:S.finishReason});return N.result},async parsePartialOutput({text:_}){let S=await fe(_);switch(S.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let z=S.value;if(z==null||typeof z!="object"||!("result"in z)||typeof z.result!="string")return;let N=s.filter(I=>I.startsWith(z.result));return S.state==="successful-parse"?N.includes(z.result)?{partial:z.result}:void 0:N.length===1?{partial:N[0]}:void 0}}}}),mt=({name:s,description:c}={})=>({responseFormat:Promise.resolve({type:"json",...s!=null&&{name:s},...c!=null&&{description:c}}),async parseCompleteOutput({text:b},_){let S=await(0,Z.safeParseJSON)({text:b});if(!S.success)throw new Hr({message:"No object generated: could not parse the response.",cause:S.error,text:b,response:_.response,usage:_.usage,finishReason:_.finishReason});return S.value},async parsePartialOutput({text:b}){let _=await fe(b);switch(_.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return _.value===void 0?void 0:{partial:_.value}}}});async function We({toolCall:s,tools:c,repairToolCall:b,system:_,messages:S}){var z;try{if(c==null){if(s.providerExecuted&&s.dynamic)return await jt(s);throw new qn({toolName:s.toolName})}try{return await St({toolCall:s,tools:c})}catch(N){if(b==null||!(qn.isInstance(N)||Ya.isInstance(N)))throw N;let I=null;try{I=await b({toolCall:s,tools:c,inputSchema:async({toolName:K})=>{let{inputSchema:le}=c[K];return await(0,Z.asSchema)(le).jsonSchema},system:_,messages:S,error:N})}catch(K){throw new ra({cause:K,originalError:N})}if(I==null)throw N;return await St({toolCall:I,tools:c})}}catch(N){let I=await(0,Z.safeParseJSON)({text:s.input}),K=I.success?I.value:s.input;return{type:"tool-call",toolCallId:s.toolCallId,toolName:s.toolName,input:K,dynamic:!0,invalid:!0,error:N,title:(z=c?.[s.toolName])==null?void 0:z.title,providerExecuted:s.providerExecuted,providerMetadata:s.providerMetadata}}}async function jt(s){let c=s.input.trim()===""?{success:!0,value:{}}:await(0,Z.safeParseJSON)({text:s.input});if(c.success===!1)throw new Ya({toolName:s.toolName,toolInput:s.input,cause:c.error});return{type:"tool-call",toolCallId:s.toolCallId,toolName:s.toolName,input:c.value,providerExecuted:!0,dynamic:!0,providerMetadata:s.providerMetadata}}async function St({toolCall:s,tools:c}){let b=s.toolName,_=c[b];if(_==null){if(s.providerExecuted&&s.dynamic)return await jt(s);throw new qn({toolName:s.toolName,availableTools:Object.keys(c)})}let S=(0,Z.asSchema)(_.inputSchema),z=s.input.trim()===""?await(0,Z.safeValidateTypes)({value:{},schema:S}):await(0,Z.safeParseJSON)({text:s.input,schema:S});if(z.success===!1)throw new Ya({toolName:b,toolInput:s.input,cause:z.error});return _.type==="dynamic"?{type:"tool-call",toolCallId:s.toolCallId,toolName:s.toolName,input:z.value,providerExecuted:s.providerExecuted,providerMetadata:s.providerMetadata,dynamic:!0,title:_.title}:{type:"tool-call",toolCallId:s.toolCallId,toolName:b,input:z.value,providerExecuted:s.providerExecuted,providerMetadata:s.providerMetadata,title:_.title}}var Xe=class{constructor({content:s,finishReason:c,rawFinishReason:b,usage:_,warnings:S,request:z,response:N,providerMetadata:I}){this.content=s,this.finishReason=c,this.rawFinishReason=b,this.usage=_,this.warnings=S,this.request=z,this.response=N,this.providerMetadata=I}get text(){return this.content.filter(s=>s.type==="text").map(s=>s.text).join("")}get reasoning(){return this.content.filter(s=>s.type==="reasoning")}get reasoningText(){return this.reasoning.length===0?void 0:this.reasoning.map(s=>s.text).join("")}get files(){return this.content.filter(s=>s.type==="file").map(s=>s.file)}get sources(){return this.content.filter(s=>s.type==="source")}get toolCalls(){return this.content.filter(s=>s.type==="tool-call")}get staticToolCalls(){return this.toolCalls.filter(s=>s.dynamic!==!0)}get dynamicToolCalls(){return this.toolCalls.filter(s=>s.dynamic===!0)}get toolResults(){return this.content.filter(s=>s.type==="tool-result")}get staticToolResults(){return this.toolResults.filter(s=>s.dynamic!==!0)}get dynamicToolResults(){return this.toolResults.filter(s=>s.dynamic===!0)}};function $t(s){return({steps:c})=>c.length===s}function at(s){return({steps:c})=>{var b,_,S;return(S=(_=(b=c[c.length-1])==null?void 0:b.toolCalls)==null?void 0:_.some(z=>z.toolName===s))!=null&&S}}async function Ut({stopConditions:s,steps:c}){return(await Promise.all(s.map(b=>b({steps:c})))).some(b=>b)}async function dr({content:s,tools:c}){let b=[],_=[];for(let z of s)if(z.type!=="source"&&(z.type!=="tool-result"&&z.type!=="tool-error"||z.providerExecuted)&&(z.type!=="text"||z.text.length!==0))switch(z.type){case"text":_.push({type:"text",text:z.text,providerOptions:z.providerMetadata});break;case"reasoning":_.push({type:"reasoning",text:z.text,providerOptions:z.providerMetadata});break;case"file":_.push({type:"file",data:z.file.base64,mediaType:z.file.mediaType,providerOptions:z.providerMetadata});break;case"tool-call":_.push({type:"tool-call",toolCallId:z.toolCallId,toolName:z.toolName,input:z.input,providerExecuted:z.providerExecuted,providerOptions:z.providerMetadata});break;case"tool-result":{let N=await gt({toolCallId:z.toolCallId,input:z.input,tool:c?.[z.toolName],output:z.output,errorMode:"none"});_.push({type:"tool-result",toolCallId:z.toolCallId,toolName:z.toolName,output:N,providerOptions:z.providerMetadata});break}case"tool-error":{let N=await gt({toolCallId:z.toolCallId,input:z.input,tool:c?.[z.toolName],output:z.error,errorMode:"json"});_.push({type:"tool-result",toolCallId:z.toolCallId,toolName:z.toolName,output:N,providerOptions:z.providerMetadata});break}case"tool-approval-request":_.push({type:"tool-approval-request",approvalId:z.approvalId,toolCallId:z.toolCall.toolCallId})}_.length>0&&b.push({role:"assistant",content:_});let S=[];for(let z of s){if(z.type!=="tool-result"&&z.type!=="tool-error"||z.providerExecuted)continue;let N=await gt({toolCallId:z.toolCallId,input:z.input,tool:c?.[z.toolName],output:z.type==="tool-result"?z.output:z.error,errorMode:z.type==="tool-error"?"text":"none"});S.push({type:"tool-result",toolCallId:z.toolCallId,toolName:z.toolName,output:N,...z.providerMetadata!=null?{providerOptions:z.providerMetadata}:{}})}return S.length>0&&b.push({role:"tool",content:S}),b}var Ie=(0,Z.createIdGenerator)({prefix:"aitxt",size:24});async function de({model:s,tools:c,toolChoice:b,system:_,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:K,stopWhen:le=$t(1),experimental_output:te,output:D=te,experimental_telemetry:ce,providerOptions:xt,experimental_activeTools:Oe,activeTools:Le=Oe,experimental_prepareStep:Vt,prepareStep:vr=Vt,experimental_repairToolCall:Wr,experimental_download:De,experimental_context:Dr,_internal:{generateId:dn=Ie,currentDate:Zn=()=>new Date}={},onStepFinish:gi,onFinish:ii,...xi}){let xn=Sa(s),zn=P(le),{maxRetries:fa,retry:ai}=Va({maxRetries:N,abortSignal:I}),Ai=_t(xi),ua=(0,Z.withUserAgentSuffix)(K??{},`ai/${na}`),Ha=ao({model:xn,telemetry:ce,headers:ua,settings:{...Ai,maxRetries:fa}}),Ja=await _a({system:_,prompt:S,messages:z}),Ia=Fo(ce);try{return await ma({name:"ai.generateText",attributes:Wn({telemetry:ce,attributes:{...ia({operationId:"ai.generateText",telemetry:ce}),...Ha,"ai.model.provider":xn.provider,"ai.model.id":xn.modelId,"ai.prompt":{input:()=>JSON.stringify({system:_,prompt:S,messages:z})}}}),tracer:Ia,fn:async Go=>{var ss,xs,Da,ls,To,no,ws,us;let Wi,Qo,Do=Ja.messages,Mi=[],{approvedToolApprovals:Xo,deniedToolApprovals:lo}=Zs({messages:Do}),Ss=Xo.filter(Ar=>!Ar.toolCall.providerExecuted);if(lo.length>0||Ss.length>0){let Ar=await ke({toolCalls:Ss.map(ki=>ki.toolCall),tools:c,tracer:Ia,telemetry:ce,messages:Do,abortSignal:I,experimental_context:Dr}),Yn=[];for(let ki of Ar){let Co=await gt({toolCallId:ki.toolCallId,input:ki.input,tool:c?.[ki.toolName],output:ki.type==="tool-result"?ki.output:ki.error,errorMode:ki.type==="tool-error"?"json":"none"});Yn.push({type:"tool-result",toolCallId:ki.toolCallId,toolName:ki.toolName,output:Co})}for(let ki of lo)Yn.push({type:"tool-result",toolCallId:ki.toolCall.toolCallId,toolName:ki.toolCall.toolName,output:{type:"execution-denied",reason:ki.approvalResponse.reason,...ki.toolCall.providerExecuted&&{providerOptions:{openai:{approvalId:ki.approvalResponse.approvalId}}}}});Mi.push({role:"tool",content:Yn})}let jn=[...Xo,...lo].filter(Ar=>Ar.toolCall.providerExecuted);jn.length>0&&Mi.push({role:"tool",content:jn.map(Ar=>({type:"tool-approval-response",approvalId:Ar.approvalResponse.approvalId,approved:Ar.approvalResponse.approved,reason:Ar.approvalResponse.reason,providerExecuted:!0}))});let bn=_t(xi),$n=[],Xn=[],_n=[],oi=new Map;do{let Ar=[...Do,...Mi],Yn=await vr?.({model:xn,steps:_n,stepNumber:_n.length,messages:Ar,experimental_context:Dr}),ki=Sa((ss=Yn?.model)!=null?ss:xn),Co=await A({prompt:{system:(xs=Yn?.system)!=null?xs:Ja.system,messages:(Da=Yn?.messages)!=null?Da:Ar},supportedUrls:await ki.supportedUrls,download:De});Dr=(ls=Yn?.experimental_context)!=null?ls:Dr;let{toolChoice:cs,tools:Us}=await gr({tools:c,toolChoice:(To=Yn?.toolChoice)!=null?To:b,activeTools:(no=Yn?.activeTools)!=null?no:Le});Wi=await ai(()=>{var ci;return ma({name:"ai.generateText.doGenerate",attributes:Wn({telemetry:ce,attributes:{...ia({operationId:"ai.generateText.doGenerate",telemetry:ce}),...Ha,"ai.model.provider":ki.provider,"ai.model.id":ki.modelId,"ai.prompt.messages":{input:()=>Wa(Co)},"ai.prompt.tools":{input:()=>Us?.map(ga=>JSON.stringify(ga))},"ai.prompt.toolChoice":{input:()=>cs!=null?JSON.stringify(cs):void 0},"gen_ai.system":ki.provider,"gen_ai.request.model":ki.modelId,"gen_ai.request.frequency_penalty":xi.frequencyPenalty,"gen_ai.request.max_tokens":xi.maxOutputTokens,"gen_ai.request.presence_penalty":xi.presencePenalty,"gen_ai.request.stop_sequences":xi.stopSequences,"gen_ai.request.temperature":(ci=xi.temperature)!=null?ci:void 0,"gen_ai.request.top_k":xi.topK,"gen_ai.request.top_p":xi.topP}}),tracer:Ia,fn:async ga=>{var Vo,co,ds,Uo,wi,So,ps,El;let Tl=Zo(xt,Yn?.providerOptions),bo=await ki.doGenerate({...bn,tools:Us,toolChoice:cs,responseFormat:await D?.responseFormat,prompt:Co,providerOptions:Tl,abortSignal:I,headers:ua}),Yo={id:(co=(Vo=bo.response)==null?void 0:Vo.id)!=null?co:dn(),timestamp:(Uo=(ds=bo.response)==null?void 0:ds.timestamp)!=null?Uo:Zn(),modelId:(So=(wi=bo.response)==null?void 0:wi.modelId)!=null?So:ki.modelId,headers:(ps=bo.response)==null?void 0:ps.headers,body:(El=bo.response)==null?void 0:El.body};return ga.setAttributes(await Wn({telemetry:ce,attributes:{"ai.response.finishReason":bo.finishReason.unified,"ai.response.text":{output:()=>x(bo.content)},"ai.response.toolCalls":{output:()=>{let fl=At(bo.content);return fl==null?void 0:JSON.stringify(fl)}},"ai.response.id":Yo.id,"ai.response.model":Yo.modelId,"ai.response.timestamp":Yo.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(bo.providerMetadata),"ai.usage.promptTokens":bo.usage.inputTokens.total,"ai.usage.completionTokens":bo.usage.outputTokens.total,"gen_ai.response.finish_reasons":[bo.finishReason.unified],"gen_ai.response.id":Yo.id,"gen_ai.response.model":Yo.modelId,"gen_ai.usage.input_tokens":bo.usage.inputTokens.total,"gen_ai.usage.output_tokens":bo.usage.outputTokens.total}})),{...bo,response:Yo}}})});let Ua=await Promise.all(Wi.content.filter(ci=>ci.type==="tool-call").map(ci=>We({toolCall:ci,tools:c,repairToolCall:Wr,system:_,messages:Ar}))),uo={};for(let ci of Ua){if(ci.invalid)continue;let ga=c?.[ci.toolName];ga!=null&&(ga?.onInputAvailable!=null&&await ga.onInputAvailable({input:ci.input,toolCallId:ci.toolCallId,messages:Ar,abortSignal:I,experimental_context:Dr}),await he({tool:ga,toolCall:ci,messages:Ar,experimental_context:Dr})&&(uo[ci.toolCallId]={type:"tool-approval-request",approvalId:dn(),toolCall:ci}))}let qa=Ua.filter(ci=>ci.invalid&&ci.dynamic);for(let ci of(Xn=[],qa))Xn.push({type:"tool-error",toolCallId:ci.toolCallId,toolName:ci.toolName,input:ci.input,error:(0,Z.getErrorMessage)(ci.error),dynamic:!0});for(let ci of($n=Ua.filter(ga=>!ga.providerExecuted),c!=null&&Xn.push(...await ke({toolCalls:$n.filter(ga=>!ga.invalid&&uo[ga.toolCallId]==null),tools:c,tracer:Ia,telemetry:ce,messages:Ar,abortSignal:I,experimental_context:Dr})),Ua)){if(!ci.providerExecuted)continue;let ga=c?.[ci.toolName];ga?.type==="provider"&&ga.supportsDeferredResults&&(Wi.content.some(Vo=>Vo.type==="tool-result"&&Vo.toolCallId===ci.toolCallId)||oi.set(ci.toolCallId,{toolName:ci.toolName}))}for(let ci of Wi.content)ci.type==="tool-result"&&oi.delete(ci.toolCallId);let qs=function({content:ci,toolCalls:ga,toolOutputs:Vo,toolApprovalRequests:co,tools:ds}){let Uo=[];for(let wi of ci)switch(wi.type){case"text":case"reasoning":case"source":Uo.push(wi);break;case"file":Uo.push({type:"file",file:new F(wi),...wi.providerMetadata!=null?{providerMetadata:wi.providerMetadata}:{}});break;case"tool-call":Uo.push(ga.find(So=>So.toolCallId===wi.toolCallId));break;case"tool-result":{let So=ga.find(ps=>ps.toolCallId===wi.toolCallId);if(So==null){let ps=ds?.[wi.toolName];if(!(ps?.type==="provider"&&ps.supportsDeferredResults))throw Error(`Tool call ${wi.toolCallId} not found.`);wi.isError?Uo.push({type:"tool-error",toolCallId:wi.toolCallId,toolName:wi.toolName,input:void 0,error:wi.result,providerExecuted:!0,dynamic:wi.dynamic}):Uo.push({type:"tool-result",toolCallId:wi.toolCallId,toolName:wi.toolName,input:void 0,output:wi.result,providerExecuted:!0,dynamic:wi.dynamic});break}wi.isError?Uo.push({type:"tool-error",toolCallId:wi.toolCallId,toolName:wi.toolName,input:So.input,error:wi.result,providerExecuted:!0,dynamic:So.dynamic}):Uo.push({type:"tool-result",toolCallId:wi.toolCallId,toolName:wi.toolName,input:So.input,output:wi.result,providerExecuted:!0,dynamic:So.dynamic});break}case"tool-approval-request":{let So=ga.find(ps=>ps.toolCallId===wi.toolCallId);if(So==null)throw new wt({toolCallId:wi.toolCallId,approvalId:wi.approvalId});Uo.push({type:"tool-approval-request",approvalId:wi.approvalId,toolCall:So})}}return[...Uo,...Vo,...co]}({content:Wi.content,toolCalls:Ua,toolOutputs:Xn,toolApprovalRequests:Object.values(uo),tools:c});Mi.push(...await dr({content:qs,tools:c}));let Xs=new Xe({content:qs,finishReason:Wi.finishReason.unified,rawFinishReason:Wi.finishReason.raw,usage:za(Wi.usage),warnings:Wi.warnings,providerMetadata:Wi.providerMetadata,request:(ws=Wi.request)!=null?ws:{},response:{...Wi.response,messages:structuredClone(Mi)}});Hi({warnings:(us=Wi.warnings)!=null?us:[],provider:ki.provider,model:ki.modelId}),_n.push(Xs),await gi?.(Xs)}while(($n.length>0&&Xn.length===$n.length||oi.size>0)&&!await Ut({stopConditions:zn,steps:_n}));Go.setAttributes(await Wn({telemetry:ce,attributes:{"ai.response.finishReason":Wi.finishReason.unified,"ai.response.text":{output:()=>x(Wi.content)},"ai.response.toolCalls":{output:()=>{let Ar=At(Wi.content);return Ar==null?void 0:JSON.stringify(Ar)}},"ai.response.providerMetadata":JSON.stringify(Wi.providerMetadata),"ai.usage.promptTokens":Wi.usage.inputTokens.total,"ai.usage.completionTokens":Wi.usage.outputTokens.total}}));let Gn=_n[_n.length-1],$r=_n.reduce((Ar,Yn)=>Ao(Ar,Yn.usage),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0});return await ii?.({finishReason:Gn.finishReason,rawFinishReason:Gn.rawFinishReason,usage:Gn.usage,content:Gn.content,text:Gn.text,reasoningText:Gn.reasoningText,reasoning:Gn.reasoning,files:Gn.files,sources:Gn.sources,toolCalls:Gn.toolCalls,staticToolCalls:Gn.staticToolCalls,dynamicToolCalls:Gn.dynamicToolCalls,toolResults:Gn.toolResults,staticToolResults:Gn.staticToolResults,dynamicToolResults:Gn.dynamicToolResults,request:Gn.request,response:Gn.response,warnings:Gn.warnings,providerMetadata:Gn.providerMetadata,steps:_n,totalUsage:$r,experimental_context:Dr}),Gn.finishReason==="stop"&&(Qo=await(D??He()).parseCompleteOutput({text:Gn.text},{response:Gn.response,usage:Gn.usage,finishReason:Gn.finishReason})),new kr({steps:_n,totalUsage:$r,output:Qo})}})}catch(Go){throw Io(Go)}}async function ke({toolCalls:s,tools:c,tracer:b,telemetry:_,messages:S,abortSignal:z,experimental_context:N}){return(await Promise.all(s.map(async I=>as({toolCall:I,tools:c,tracer:b,telemetry:_,messages:S,abortSignal:z,experimental_context:N})))).filter(I=>I!=null)}var kr=class{constructor(s){this.steps=s.steps,this._output=s.output,this.totalUsage=s.totalUsage}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get rawFinishReason(){return this.finalStep.rawFinishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get experimental_output(){return this.output}get output(){if(this._output==null)throw new $i;return this._output}};function At(s){let c=s.filter(b=>b.type==="tool-call");if(c.length!==0)return c.map(b=>({toolCallId:b.toolCallId,toolName:b.toolName,input:b.input}))}function zt(s,c){let b=new Headers(s??{});for(let[_,S]of Object.entries(c))b.has(_)||b.set(_,S);return b}function dt({status:s,statusText:c,headers:b,textStream:_}){return new Response(_.pipeThrough(new TextEncoderStream),{status:s??200,statusText:c,headers:zt(b,{"content-type":"text/plain; charset=utf-8"})})}function Me({response:s,status:c,statusText:b,headers:_,stream:S}){let z=c??200;b!==void 0?s.writeHead(z,b,_):s.writeHead(z,_);let N=S.getReader();(async()=>{try{for(;;){let{done:I,value:K}=await N.read();if(I)break;s.write(K)||await new Promise(le=>{s.once("drain",le)})}}catch(I){throw I}finally{s.end()}})()}function Bt({response:s,status:c,statusText:b,headers:_,textStream:S}){Me({response:s,status:c,statusText:b,headers:Object.fromEntries(zt(_,{"content-type":"text/plain; charset=utf-8"}).entries()),stream:S.pipeThrough(new TextEncoderStream)})}var Kt=class extends TransformStream{constructor(){super({transform(s,c){c.enqueue(`data: ${JSON.stringify(s)}

`)},flush(s){s.enqueue(`data: [DONE]

`)}})}},Tt={"content-type":"text/event-stream","cache-control":"no-cache",connection:"keep-alive","x-vercel-ai-ui-message-stream":"v1","x-accel-buffering":"no"};function Dt({status:s,statusText:c,headers:b,stream:_,consumeSseStream:S}){let z=_.pipeThrough(new Kt);if(S){let[N,I]=z.tee();z=N,S({stream:I})}return new Response(z.pipeThrough(new TextEncoderStream),{status:s,statusText:c,headers:zt(b,Tt)})}var Ur=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.union([h.z.strictObject({type:h.z.literal("text-start"),id:h.z.string(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("text-delta"),id:h.z.string(),delta:h.z.string(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("text-end"),id:h.z.string(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("error"),errorText:h.z.string()}),h.z.strictObject({type:h.z.literal("tool-input-start"),toolCallId:h.z.string(),toolName:h.z.string(),providerExecuted:h.z.boolean().optional(),dynamic:h.z.boolean().optional(),title:h.z.string().optional()}),h.z.strictObject({type:h.z.literal("tool-input-delta"),toolCallId:h.z.string(),inputTextDelta:h.z.string()}),h.z.strictObject({type:h.z.literal("tool-input-available"),toolCallId:h.z.string(),toolName:h.z.string(),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),providerMetadata:Yt.optional(),dynamic:h.z.boolean().optional(),title:h.z.string().optional()}),h.z.strictObject({type:h.z.literal("tool-input-error"),toolCallId:h.z.string(),toolName:h.z.string(),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),providerMetadata:Yt.optional(),dynamic:h.z.boolean().optional(),errorText:h.z.string(),title:h.z.string().optional()}),h.z.strictObject({type:h.z.literal("tool-approval-request"),approvalId:h.z.string(),toolCallId:h.z.string()}),h.z.strictObject({type:h.z.literal("tool-output-available"),toolCallId:h.z.string(),output:h.z.unknown(),providerExecuted:h.z.boolean().optional(),dynamic:h.z.boolean().optional(),preliminary:h.z.boolean().optional()}),h.z.strictObject({type:h.z.literal("tool-output-error"),toolCallId:h.z.string(),errorText:h.z.string(),providerExecuted:h.z.boolean().optional(),dynamic:h.z.boolean().optional()}),h.z.strictObject({type:h.z.literal("tool-output-denied"),toolCallId:h.z.string()}),h.z.strictObject({type:h.z.literal("reasoning-start"),id:h.z.string(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("reasoning-delta"),id:h.z.string(),delta:h.z.string(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("reasoning-end"),id:h.z.string(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("source-url"),sourceId:h.z.string(),url:h.z.string(),title:h.z.string().optional(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("source-document"),sourceId:h.z.string(),mediaType:h.z.string(),title:h.z.string(),filename:h.z.string().optional(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.literal("file"),url:h.z.string(),mediaType:h.z.string(),providerMetadata:Yt.optional()}),h.z.strictObject({type:h.z.custom(s=>typeof s=="string"&&s.startsWith("data-"),{message:'Type must start with "data-"'}),id:h.z.string().optional(),data:h.z.unknown(),transient:h.z.boolean().optional()}),h.z.strictObject({type:h.z.literal("start-step")}),h.z.strictObject({type:h.z.literal("finish-step")}),h.z.strictObject({type:h.z.literal("start"),messageId:h.z.string().optional(),messageMetadata:h.z.unknown().optional()}),h.z.strictObject({type:h.z.literal("finish"),finishReason:h.z.enum(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:h.z.unknown().optional()}),h.z.strictObject({type:h.z.literal("abort")}),h.z.strictObject({type:h.z.literal("message-metadata"),messageMetadata:h.z.unknown()})])));function fr(s){return s.type.startsWith("data-")}function sr(s){return s.type==="text"}function Ye(s){return s.type==="file"}function Lt(s){return s.type==="reasoning"}function yt(s){return s.type.startsWith("tool-")}function la(s){return s.type==="dynamic-tool"}function qr(s){return yt(s)||la(s)}function kt(s){return s.type.split("-").slice(1).join("-")}function Ne(s){return la(s)?s.toolName:kt(s)}function or({lastMessage:s,messageId:c}){return{message:s?.role==="assistant"?s:{id:c,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function Wt({stream:s,messageMetadataSchema:c,dataPartSchemas:b,runUpdateMessageJob:_,onError:S,onToolCall:z,onData:N}){return s.pipeThrough(new TransformStream({async transform(I,K){await _(async({state:le,write:te})=>{var D,ce,xt,Oe;function Le(De){let Dr=le.message.parts.filter(qr).find(dn=>dn.toolCallId===De);if(Dr==null)throw Error(`no tool invocation found for tool call ${De}`);return Dr}function Vt(De){var Dr;let dn=le.message.parts.find(Zn=>yt(Zn)&&Zn.toolCallId===De.toolCallId);dn!=null?(dn.state=De.state,dn.input=De.input,dn.output=De.output,dn.errorText=De.errorText,dn.rawInput=De.rawInput,dn.preliminary=De.preliminary,De.title!==void 0&&(dn.title=De.title),dn.providerExecuted=(Dr=De.providerExecuted)!=null?Dr:dn.providerExecuted,De.providerMetadata!=null&&dn.state==="input-available"&&(dn.callProviderMetadata=De.providerMetadata)):le.message.parts.push({type:`tool-${De.toolName}`,toolCallId:De.toolCallId,state:De.state,title:De.title,input:De.input,output:De.output,rawInput:De.rawInput,errorText:De.errorText,providerExecuted:De.providerExecuted,preliminary:De.preliminary,...De.providerMetadata!=null?{callProviderMetadata:De.providerMetadata}:{}})}function vr(De){var Dr,dn;let Zn=le.message.parts.find(gi=>gi.type==="dynamic-tool"&&gi.toolCallId===De.toolCallId);Zn!=null?(Zn.state=De.state,Zn.toolName=De.toolName,Zn.input=De.input,Zn.output=De.output,Zn.errorText=De.errorText,Zn.rawInput=(Dr=De.rawInput)!=null?Dr:Zn.rawInput,Zn.preliminary=De.preliminary,De.title!==void 0&&(Zn.title=De.title),Zn.providerExecuted=(dn=De.providerExecuted)!=null?dn:Zn.providerExecuted,De.providerMetadata!=null&&Zn.state==="input-available"&&(Zn.callProviderMetadata=De.providerMetadata)):le.message.parts.push({type:"dynamic-tool",toolName:De.toolName,toolCallId:De.toolCallId,state:De.state,input:De.input,output:De.output,errorText:De.errorText,preliminary:De.preliminary,providerExecuted:De.providerExecuted,title:De.title,...De.providerMetadata!=null?{callProviderMetadata:De.providerMetadata}:{}})}async function Wr(De){if(De!=null){let Dr=le.message.metadata!=null?Zo(le.message.metadata,De):De;c!=null&&await(0,Z.validateTypes)({value:Dr,schema:c}),le.message.metadata=Dr}}switch(I.type){case"text-start":{let De={type:"text",text:"",providerMetadata:I.providerMetadata,state:"streaming"};le.activeTextParts[I.id]=De,le.message.parts.push(De),te();break}case"text-delta":{let De=le.activeTextParts[I.id];De.text+=I.delta,De.providerMetadata=(D=I.providerMetadata)!=null?D:De.providerMetadata,te();break}case"text-end":{let De=le.activeTextParts[I.id];De.state="done",De.providerMetadata=(ce=I.providerMetadata)!=null?ce:De.providerMetadata,delete le.activeTextParts[I.id],te();break}case"reasoning-start":{let De={type:"reasoning",text:"",providerMetadata:I.providerMetadata,state:"streaming"};le.activeReasoningParts[I.id]=De,le.message.parts.push(De),te();break}case"reasoning-delta":{let De=le.activeReasoningParts[I.id];De.text+=I.delta,De.providerMetadata=(xt=I.providerMetadata)!=null?xt:De.providerMetadata,te();break}case"reasoning-end":{let De=le.activeReasoningParts[I.id];De.providerMetadata=(Oe=I.providerMetadata)!=null?Oe:De.providerMetadata,De.state="done",delete le.activeReasoningParts[I.id],te();break}case"file":le.message.parts.push({type:"file",mediaType:I.mediaType,url:I.url}),te();break;case"source-url":le.message.parts.push({type:"source-url",sourceId:I.sourceId,url:I.url,title:I.title,providerMetadata:I.providerMetadata}),te();break;case"source-document":le.message.parts.push({type:"source-document",sourceId:I.sourceId,mediaType:I.mediaType,title:I.title,filename:I.filename,providerMetadata:I.providerMetadata}),te();break;case"tool-input-start":{let De=le.message.parts.filter(yt);le.partialToolCalls[I.toolCallId]={text:"",toolName:I.toolName,index:De.length,dynamic:I.dynamic,title:I.title},I.dynamic?vr({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-streaming",input:void 0,providerExecuted:I.providerExecuted,title:I.title}):Vt({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-streaming",input:void 0,providerExecuted:I.providerExecuted,title:I.title}),te();break}case"tool-input-delta":{let De=le.partialToolCalls[I.toolCallId];De.text+=I.inputTextDelta;let{value:Dr}=await fe(De.text);De.dynamic?vr({toolCallId:I.toolCallId,toolName:De.toolName,state:"input-streaming",input:Dr,title:De.title}):Vt({toolCallId:I.toolCallId,toolName:De.toolName,state:"input-streaming",input:Dr,title:De.title}),te();break}case"tool-input-available":I.dynamic?vr({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-available",input:I.input,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata,title:I.title}):Vt({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-available",input:I.input,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata,title:I.title}),te(),z&&!I.providerExecuted&&await z({toolCall:I});break;case"tool-input-error":I.dynamic?vr({toolCallId:I.toolCallId,toolName:I.toolName,state:"output-error",input:I.input,errorText:I.errorText,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata}):Vt({toolCallId:I.toolCallId,toolName:I.toolName,state:"output-error",input:void 0,rawInput:I.input,errorText:I.errorText,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata}),te();break;case"tool-approval-request":{let De=Le(I.toolCallId);De.state="approval-requested",De.approval={id:I.approvalId},te();break}case"tool-output-denied":Le(I.toolCallId).state="output-denied",te();break;case"tool-output-available":{let De=Le(I.toolCallId);De.type==="dynamic-tool"?vr({toolCallId:I.toolCallId,toolName:De.toolName,state:"output-available",input:De.input,output:I.output,preliminary:I.preliminary,providerExecuted:I.providerExecuted,title:De.title}):Vt({toolCallId:I.toolCallId,toolName:kt(De),state:"output-available",input:De.input,output:I.output,providerExecuted:I.providerExecuted,preliminary:I.preliminary,title:De.title}),te();break}case"tool-output-error":{let De=Le(I.toolCallId);De.type==="dynamic-tool"?vr({toolCallId:I.toolCallId,toolName:De.toolName,state:"output-error",input:De.input,errorText:I.errorText,providerExecuted:I.providerExecuted,title:De.title}):Vt({toolCallId:I.toolCallId,toolName:kt(De),state:"output-error",input:De.input,rawInput:De.rawInput,errorText:I.errorText,providerExecuted:I.providerExecuted,title:De.title}),te();break}case"start-step":le.message.parts.push({type:"step-start"});break;case"finish-step":le.activeTextParts={},le.activeReasoningParts={};break;case"start":I.messageId!=null&&(le.message.id=I.messageId),await Wr(I.messageMetadata),(I.messageId!=null||I.messageMetadata!=null)&&te();break;case"finish":I.finishReason!=null&&(le.finishReason=I.finishReason),await Wr(I.messageMetadata),I.messageMetadata!=null&&te();break;case"message-metadata":await Wr(I.messageMetadata),I.messageMetadata!=null&&te();break;case"error":S?.(Error(I.errorText));break;default:if(I.type.startsWith("data-")){if(b?.[I.type]!=null&&await(0,Z.validateTypes)({value:I.data,schema:b[I.type]}),I.transient){N?.(I);break}let De=I.id!=null?le.message.parts.find(Dr=>I.type===Dr.type&&I.id===Dr.id):void 0;De!=null?De.data=I.data:le.message.parts.push(I),N?.(I),te()}}K.enqueue(I)})}}))}function ln({messageId:s,originalMessages:c=[],onFinish:b,onError:_,stream:S}){let z=c?.[c.length-1];z?.role!=="assistant"?z=void 0:s=z.id;let N=!1,I=S.pipeThrough(new TransformStream({transform(D,ce){D.type==="start"&&D.messageId==null&&s!=null&&(D.messageId=s),D.type==="abort"&&(N=!0),ce.enqueue(D)}}));if(b==null)return I;let K=or({lastMessage:z?structuredClone(z):void 0,messageId:s??""}),le=!1,te=async()=>{if(le||!b)return;le=!0;let D=K.message.id===z?.id;await b({isAborted:N,isContinuation:D,responseMessage:K.message,messages:[...D?c.slice(0,-1):c,K.message],finishReason:K.finishReason})};return Wt({stream:I,runUpdateMessageJob:async D=>{await D({state:K,write:()=>{}})},onError:_}).pipeThrough(new TransformStream({transform(D,ce){ce.enqueue(D)},async cancel(){await te()},async flush(){await te()}}))}function ja({response:s,status:c,statusText:b,headers:_,stream:S,consumeSseStream:z}){let N=S.pipeThrough(new Kt);if(z){let[I,K]=N.tee();N=I,z({stream:K})}Me({response:s,status:c,statusText:b,headers:Object.fromEntries(zt(_,Tt).entries()),stream:N.pipeThrough(new TextEncoderStream)})}function Pr(s){let c=s.pipeThrough(new TransformStream);return c[Symbol.asyncIterator]=function(){let b=this.getReader(),_=!1;async function S(z){var N;_=!0;try{z&&await((N=b.cancel)==null?void 0:N.call(b))}finally{try{b.releaseLock()}catch{}}}return{async next(){if(_)return{done:!0,value:void 0};let{done:z,value:N}=await b.read();return z?(await S(!0),{done:!0,value:void 0}):{done:!1,value:N}},return:async()=>(await S(!0),{done:!0,value:void 0}),async throw(z){throw await S(!0),z}}},c}async function Ti({stream:s,onError:c}){let b=s.getReader();try{for(;;){let{done:_}=await b.read();if(_)break}}catch(_){c?.(_)}finally{b.releaseLock()}}function yo(){let s,c;return{promise:new Promise((b,_)=>{s=b,c=_}),resolve:s,reject:c}}function Hn(){let s=[],c=null,b=!1,_=yo(),S=()=>{b=!0,_.resolve(),s.forEach(N=>N.cancel()),s=[],c?.close()},z=async()=>{if(b&&s.length===0){c?.close();return}if(s.length===0)return _=yo(),await _.promise,z();try{let{value:N,done:I}=await s[0].read();I?(s.shift(),s.length===0&&b?c?.close():await z()):c?.enqueue(N)}catch(N){c?.error(N),s.shift(),S()}};return{stream:new ReadableStream({start(N){c=N},pull:z,async cancel(){for(let N of s)await N.cancel();s=[],b=!0}}),addStream:N=>{if(b)throw Error("Cannot add inner stream: outer stream is closed");s.push(N.getReader()),_.resolve()},close:()=>{b=!0,_.resolve(),s.length===0&&c?.close()},terminate:S}}function Bs(){var s,c;return(c=(s=mr?.performance)==null?void 0:s.now())!=null?c:Date.now()}var Vs=(0,Z.createIdGenerator)({prefix:"aitxt",size:24});function vs({model:s,tools:c,toolChoice:b,system:_,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:K,stopWhen:le=$t(1),experimental_output:te,output:D=te,experimental_telemetry:ce,prepareStep:xt,providerOptions:Oe,experimental_activeTools:Le,activeTools:Vt=Le,experimental_repairToolCall:vr,experimental_transform:Wr,experimental_download:De,includeRawChunks:Dr=!1,onChunk:dn,onError:Zn=({error:ua})=>{console.error(ua)},onFinish:gi,onAbort:ii,onStepFinish:xi,experimental_context:xn,_internal:{now:zn=Bs,generateId:fa=Vs,currentDate:ai=()=>new Date}={},...Ai}){return new k({model:Sa(s),telemetry:ce,headers:K,settings:Ai,maxRetries:N,abortSignal:I,system:_,prompt:S,messages:z,tools:c,toolChoice:b,transforms:P(Wr),activeTools:Vt,repairToolCall:vr,stopConditions:P(le),output:D,providerOptions:Oe,prepareStep:xt,includeRawChunks:Dr,onChunk:dn,onError:Zn,onFinish:gi,onAbort:ii,onStepFinish:xi,now:zn,currentDate:ai,generateId:fa,experimental_context:xn,download:De})}var k=class{constructor({model:s,telemetry:c,headers:b,settings:_,maxRetries:S,abortSignal:z,system:N,prompt:I,messages:K,tools:le,toolChoice:te,transforms:D,activeTools:ce,repairToolCall:xt,stopConditions:Oe,output:Le,providerOptions:Vt,prepareStep:vr,includeRawChunks:Wr,now:De,currentDate:Dr,generateId:dn,onChunk:Zn,onError:gi,onFinish:ii,onAbort:xi,onStepFinish:xn,experimental_context:zn,download:fa}){let ai,Ai,ua,Ha,Ja;this._totalUsage=new Z.DelayedPromise,this._finishReason=new Z.DelayedPromise,this._rawFinishReason=new Z.DelayedPromise,this._steps=new Z.DelayedPromise,this.outputSpecification=Le,this.includeRawChunks=Wr,this.tools=le;let Ia=[],Go=[],ss={},xs=[],Da=[],ls=new Map,To={},no={},ws=new TransformStream({async transform(bn,$n){var Xn,_n,oi,Gn;$n.enqueue(bn);let{part:$r}=bn;if(($r.type==="text-delta"||$r.type==="reasoning-delta"||$r.type==="source"||$r.type==="tool-call"||$r.type==="tool-result"||$r.type==="tool-input-start"||$r.type==="tool-input-delta"||$r.type==="raw")&&await Zn?.({chunk:$r}),$r.type==="error"&&await gi({error:Io($r.error)}),$r.type==="text-start"&&(To[$r.id]={type:"text",text:"",providerMetadata:$r.providerMetadata},Ia.push(To[$r.id])),$r.type==="text-delta"){let Ar=To[$r.id];if(Ar==null)return void $n.enqueue({part:{type:"error",error:`text part ${$r.id} not found`},partialOutput:void 0});Ar.text+=$r.text,Ar.providerMetadata=(Xn=$r.providerMetadata)!=null?Xn:Ar.providerMetadata}if($r.type==="text-end"){let Ar=To[$r.id];if(Ar==null)return void $n.enqueue({part:{type:"error",error:`text part ${$r.id} not found`},partialOutput:void 0});Ar.providerMetadata=(_n=$r.providerMetadata)!=null?_n:Ar.providerMetadata,delete To[$r.id]}if($r.type==="reasoning-start"&&(no[$r.id]={type:"reasoning",text:"",providerMetadata:$r.providerMetadata},Ia.push(no[$r.id])),$r.type==="reasoning-delta"){let Ar=no[$r.id];if(Ar==null)return void $n.enqueue({part:{type:"error",error:`reasoning part ${$r.id} not found`},partialOutput:void 0});Ar.text+=$r.text,Ar.providerMetadata=(oi=$r.providerMetadata)!=null?oi:Ar.providerMetadata}if($r.type==="reasoning-end"){let Ar=no[$r.id];if(Ar==null)return void $n.enqueue({part:{type:"error",error:`reasoning part ${$r.id} not found`},partialOutput:void 0});Ar.providerMetadata=(Gn=$r.providerMetadata)!=null?Gn:Ar.providerMetadata,delete no[$r.id]}if($r.type==="file"&&Ia.push({type:"file",file:$r.file}),$r.type==="source"&&Ia.push($r),$r.type==="tool-call"&&Ia.push($r),$r.type!=="tool-result"||$r.preliminary||Ia.push($r),$r.type==="tool-approval-request"&&Ia.push($r),$r.type==="tool-error"&&Ia.push($r),$r.type==="start-step"&&(Ia=[],no={},To={},ss=$r.request,xs=$r.warnings),$r.type==="finish-step"){let Ar=await dr({content:Ia,tools:le}),Yn=new Xe({content:Ia,finishReason:$r.finishReason,rawFinishReason:$r.rawFinishReason,usage:$r.usage,warnings:xs,request:ss,response:{...$r.response,messages:[...Go,...Ar]},providerMetadata:$r.providerMetadata});await xn?.(Yn),Hi({warnings:xs,provider:s.provider,model:s.modelId}),Da.push(Yn),Go.push(...Ar),ai.resolve()}$r.type==="finish"&&(Ja=$r.totalUsage,ua=$r.finishReason,Ha=$r.rawFinishReason)},async flush(bn){try{if(Da.length===0){let oi=new $i({message:"No output generated. Check the stream for errors."});jn._finishReason.reject(oi),jn._rawFinishReason.reject(oi),jn._totalUsage.reject(oi),jn._steps.reject(oi);return}let $n=ua??"other",Xn=Ja??gs();jn._finishReason.resolve($n),jn._rawFinishReason.resolve(Ha),jn._totalUsage.resolve(Xn),jn._steps.resolve(Da);let _n=Da[Da.length-1];await ii?.({finishReason:_n.finishReason,rawFinishReason:_n.rawFinishReason,totalUsage:Xn,usage:_n.usage,content:_n.content,text:_n.text,reasoningText:_n.reasoningText,reasoning:_n.reasoning,files:_n.files,sources:_n.sources,toolCalls:_n.toolCalls,staticToolCalls:_n.staticToolCalls,dynamicToolCalls:_n.dynamicToolCalls,toolResults:_n.toolResults,staticToolResults:_n.staticToolResults,dynamicToolResults:_n.dynamicToolResults,request:_n.request,response:_n.response,warnings:_n.warnings,providerMetadata:_n.providerMetadata,steps:Da,experimental_context:zn}),Ai.setAttributes(await Wn({telemetry:c,attributes:{"ai.response.finishReason":$n,"ai.response.text":{output:()=>_n.text},"ai.response.toolCalls":{output:()=>{var oi;return(oi=_n.toolCalls)!=null&&oi.length?JSON.stringify(_n.toolCalls):void 0}},"ai.response.providerMetadata":JSON.stringify(_n.providerMetadata),"ai.usage.inputTokens":Xn.inputTokens,"ai.usage.outputTokens":Xn.outputTokens,"ai.usage.totalTokens":Xn.totalTokens,"ai.usage.reasoningTokens":Xn.reasoningTokens,"ai.usage.cachedInputTokens":Xn.cachedInputTokens}}))}catch($n){bn.error($n)}finally{Ai.end()}}}),us=Hn();this.addStream=us.addStream,this.closeStream=us.close;let Wi=us.stream.getReader(),Qo=new ReadableStream({async start(bn){bn.enqueue({type:"start"})},async pull(bn){function $n(){xi?.({steps:Da}),bn.enqueue({type:"abort"}),bn.close()}try{let{done:Xn,value:_n}=await Wi.read();if(Xn)return void bn.close();if(z?.aborted)return void $n();bn.enqueue(_n)}catch(Xn){(0,Z.isAbortError)(Xn)&&z?.aborted?$n():bn.error(Xn)}},cancel:bn=>us.stream.cancel(bn)});for(let bn of D)Qo=Qo.pipeThrough(bn({tools:le,stopStream(){us.terminate()}}));this.baseStream=Qo.pipeThrough(function(bn){let $n,Xn,_n="",oi="",Gn="";function $r({controller:Ar,partialOutput:Yn}){Ar.enqueue({part:{type:"text-delta",id:$n,text:oi,providerMetadata:Xn},partialOutput:Yn}),oi=""}return new TransformStream({async transform(Ar,Yn){var ki;if(Ar.type==="finish-step"&&oi.length>0&&$r({controller:Yn}),Ar.type!=="text-delta"&&Ar.type!=="text-start"&&Ar.type!=="text-end")return void Yn.enqueue({part:Ar,partialOutput:void 0});if($n==null)$n=Ar.id;else if(Ar.id!==$n)return void Yn.enqueue({part:Ar,partialOutput:void 0});if(Ar.type==="text-start")return void Yn.enqueue({part:Ar,partialOutput:void 0});if(Ar.type==="text-end"){oi.length>0&&$r({controller:Yn}),Yn.enqueue({part:Ar,partialOutput:void 0});return}_n+=Ar.text,oi+=Ar.text,Xn=(ki=Ar.providerMetadata)!=null?ki:Xn;let Co=await bn.parsePartialOutput({text:_n});if(Co!==void 0){let cs=JSON.stringify(Co.partial);cs!==Gn&&($r({controller:Yn,partialOutput:Co.partial}),Gn=cs)}}})}(Le??He())).pipeThrough(ws);let{maxRetries:Do,retry:Mi}=Va({maxRetries:S,abortSignal:z}),Xo=Fo(c),lo=_t(_),Ss=ao({model:s,telemetry:c,headers:b,settings:{...lo,maxRetries:Do}}),jn=this;ma({name:"ai.streamText",attributes:Wn({telemetry:c,attributes:{...ia({operationId:"ai.streamText",telemetry:c}),...Ss,"ai.prompt":{input:()=>JSON.stringify({system:N,prompt:I,messages:K})}}}),tracer:Xo,endWhenDone:!1,fn:async bn=>{Ai=bn;let $n=await _a({system:N,prompt:I,messages:K}),Xn=$n.messages,_n=[],{approvedToolApprovals:oi,deniedToolApprovals:Gn}=Zs({messages:Xn});if(Gn.length>0||oi.length>0){let Ar,Yn=[...oi,...Gn].filter(Ua=>Ua.toolCall.providerExecuted),ki=oi.filter(Ua=>!Ua.toolCall.providerExecuted),Co=Gn.filter(Ua=>!Ua.toolCall.providerExecuted),cs=Gn.filter(Ua=>Ua.toolCall.providerExecuted),Us=new ReadableStream({start(Ua){Ar=Ua}});jn.addStream(Us);try{for(let uo of[...Co,...cs])Ar?.enqueue({type:"tool-output-denied",toolCallId:uo.toolCall.toolCallId,toolName:uo.toolCall.toolName});let Ua=[];if(await Promise.all(ki.map(async uo=>{let qa=await as({toolCall:uo.toolCall,tools:le,tracer:Xo,telemetry:c,messages:Xn,abortSignal:z,experimental_context:zn,onPreliminaryToolResult:qs=>{Ar?.enqueue(qs)}});qa!=null&&(Ar?.enqueue(qa),Ua.push(qa))})),Yn.length>0&&_n.push({role:"tool",content:Yn.map(uo=>({type:"tool-approval-response",approvalId:uo.approvalResponse.approvalId,approved:uo.approvalResponse.approved,reason:uo.approvalResponse.reason,providerExecuted:!0}))}),Ua.length>0||Co.length>0){let uo=[];for(let qa of Ua)uo.push({type:"tool-result",toolCallId:qa.toolCallId,toolName:qa.toolName,output:await gt({toolCallId:qa.toolCallId,input:qa.input,tool:le?.[qa.toolName],output:qa.type==="tool-result"?qa.output:qa.error,errorMode:qa.type==="tool-error"?"json":"none"})});for(let qa of Co)uo.push({type:"tool-result",toolCallId:qa.toolCall.toolCallId,toolName:qa.toolCall.toolName,output:{type:"execution-denied",reason:qa.approvalResponse.reason}});_n.push({role:"tool",content:uo})}}finally{Ar?.close()}}async function $r({currentStep:Ar,responseMessages:Yn,usage:ki}){var Co,cs,Us,Ua,uo,qa;let qs,Xs,ci,ga=jn.includeRawChunks;ai=new Z.DelayedPromise;let Vo=[...Xn,...Yn],co=await vr?.({model:s,steps:Da,stepNumber:Da.length,messages:Vo,experimental_context:zn}),ds=Sa((Co=co?.model)!=null?Co:s),Uo=await A({prompt:{system:(cs=co?.system)!=null?cs:$n.system,messages:(Us=co?.messages)!=null?Us:Vo},supportedUrls:await ds.supportedUrls,download:fa}),{toolChoice:wi,tools:So}=await gr({tools:le,toolChoice:(Ua=co?.toolChoice)!=null?Ua:te,activeTools:(uo=co?.activeTools)!=null?uo:ce});zn=(qa=co?.experimental_context)!=null?qa:zn;let ps=Zo(Vt,co?.providerOptions),{result:{stream:El,response:Tl,request:bo},doStreamSpan:Yo,startTimestampMs:fl}=await Mi(()=>ma({name:"ai.streamText.doStream",attributes:Wn({telemetry:c,attributes:{...ia({operationId:"ai.streamText.doStream",telemetry:c}),...Ss,"ai.model.provider":ds.provider,"ai.model.id":ds.modelId,"ai.prompt.messages":{input:()=>Wa(Uo)},"ai.prompt.tools":{input:()=>So?.map(wn=>JSON.stringify(wn))},"ai.prompt.toolChoice":{input:()=>wi!=null?JSON.stringify(wi):void 0},"gen_ai.system":ds.provider,"gen_ai.request.model":ds.modelId,"gen_ai.request.frequency_penalty":lo.frequencyPenalty,"gen_ai.request.max_tokens":lo.maxOutputTokens,"gen_ai.request.presence_penalty":lo.presencePenalty,"gen_ai.request.stop_sequences":lo.stopSequences,"gen_ai.request.temperature":lo.temperature,"gen_ai.request.top_k":lo.topK,"gen_ai.request.top_p":lo.topP}}),tracer:Xo,endWhenDone:!1,fn:async wn=>({startTimestampMs:De(),doStreamSpan:wn,result:await ds.doStream({...lo,tools:So,toolChoice:wi,responseFormat:await Le?.responseFormat,prompt:Uo,providerOptions:ps,abortSignal:z,headers:b,includeRawChunks:ga})})})),xu=function({tools:wn,generatorStream:Ro,tracer:Ys,telemetry:el,system:ol,messages:La,abortSignal:Ls,repairToolCall:es,experimental_context:ea,generateId:ms}){let Oo,ks=null,eu=new ReadableStream({start(Li){ks=Li}}),Cl=new Set,Rl=new Map,sl=new Map,vl=!1;function ll(){vl&&Cl.size===0&&(Oo!=null&&ks.enqueue(Oo),ks.close())}let Ll=new TransformStream({async transform(Li,Ho){let bl=Li.type;switch(bl){case"stream-start":case"text-start":case"text-delta":case"text-end":case"reasoning-start":case"reasoning-delta":case"reasoning-end":case"tool-input-start":case"tool-input-delta":case"tool-input-end":case"source":case"response-metadata":case"error":case"raw":Ho.enqueue(Li);break;case"file":Ho.enqueue({type:"file",file:new ne({data:Li.data,mediaType:Li.mediaType})});break;case"finish":Oo={type:"finish",finishReason:Li.finishReason.unified,rawFinishReason:Li.finishReason.raw,usage:za(Li.usage),providerMetadata:Li.providerMetadata};break;case"tool-approval-request":{let ca=sl.get(Li.toolCallId);if(ca==null){ks.enqueue({type:"error",error:new wt({toolCallId:Li.toolCallId,approvalId:Li.approvalId})});break}Ho.enqueue({type:"tool-approval-request",approvalId:Li.approvalId,toolCall:ca});break}case"tool-call":try{let ca=await We({toolCall:Li,tools:wn,repairToolCall:es,system:ol,messages:La});if(sl.set(ca.toolCallId,ca),Ho.enqueue(ca),ca.invalid){ks.enqueue({type:"tool-error",toolCallId:ca.toolCallId,toolName:ca.toolName,input:ca.input,error:(0,Z.getErrorMessage)(ca.error),dynamic:!0,title:ca.title});break}let tl=wn?.[ca.toolName];if(tl==null)break;if(tl.onInputAvailable!=null&&await tl.onInputAvailable({input:ca.input,toolCallId:ca.toolCallId,messages:La,abortSignal:Ls,experimental_context:ea}),await he({tool:tl,toolCall:ca,messages:La,experimental_context:ea})){ks.enqueue({type:"tool-approval-request",approvalId:ms(),toolCall:ca});break}if(Rl.set(ca.toolCallId,ca.input),tl.execute!=null&&ca.providerExecuted!==!0){let Ol=ms();Cl.add(Ol),as({toolCall:ca,tools:wn,tracer:Ys,telemetry:el,messages:La,abortSignal:Ls,experimental_context:ea,onPreliminaryToolResult:_l=>{ks.enqueue(_l)}}).then(_l=>{ks.enqueue(_l),Cl.delete(Ol),ll()})}}catch(ca){ks.enqueue({type:"error",error:ca})}break;case"tool-result":{let ca=Li.toolName;Li.isError?ks.enqueue({type:"tool-error",toolCallId:Li.toolCallId,toolName:ca,input:Rl.get(Li.toolCallId),providerExecuted:!0,error:Li.result,dynamic:Li.dynamic}):Ho.enqueue({type:"tool-result",toolCallId:Li.toolCallId,toolName:ca,input:Rl.get(Li.toolCallId),output:Li.result,providerExecuted:!0,dynamic:Li.dynamic});break}default:throw Error(`Unhandled chunk type: ${bl}`)}},flush(){vl=!0,ll()}});return new ReadableStream({start:async Li=>Promise.all([Ro.pipeThrough(Ll).pipeTo(new WritableStream({write(Ho){Li.enqueue(Ho)},close(){}})),eu.pipeTo(new WritableStream({write(Ho){Li.enqueue(Ho)},close(){Li.close()}}))])})}({tools:le,generatorStream:El,tracer:Xo,telemetry:c,system:N,messages:Vo,repairToolCall:xt,abortSignal:z,experimental_context:zn,generateId:dn}),wu=bo??{},gl=[],yl=[],ql={},al="other",zs=gs(),Xl=!0,Ns={id:dn(),timestamp:Dr(),modelId:s.modelId},Yl="";jn.addStream(xu.pipeThrough(new TransformStream({async transform(wn,Ro){var Ys,el,ol,La,Ls;if(wn.type==="stream-start"){qs=wn.warnings;return}if(Xl){let ea=De()-fl;Xl=!1,Yo.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":ea}),Yo.setAttributes({"ai.response.msToFirstChunk":ea}),Ro.enqueue({type:"start-step",request:wu,warnings:qs??[]})}let es=wn.type;switch(es){case"tool-approval-request":case"text-start":case"text-end":case"reasoning-start":case"reasoning-end":case"file":case"source":Ro.enqueue(wn);break;case"text-delta":wn.delta.length>0&&(Ro.enqueue({type:"text-delta",id:wn.id,text:wn.delta,providerMetadata:wn.providerMetadata}),Yl+=wn.delta);break;case"reasoning-delta":Ro.enqueue({type:"reasoning-delta",id:wn.id,text:wn.delta,providerMetadata:wn.providerMetadata});break;case"tool-call":Ro.enqueue(wn),gl.push(wn);break;case"tool-result":Ro.enqueue(wn),wn.preliminary||yl.push(wn);break;case"tool-error":Ro.enqueue(wn),yl.push(wn);break;case"response-metadata":Ns={id:(Ys=wn.id)!=null?Ys:Ns.id,timestamp:(el=wn.timestamp)!=null?el:Ns.timestamp,modelId:(ol=wn.modelId)!=null?ol:Ns.modelId};break;case"finish":{zs=wn.usage,al=wn.finishReason,ci=wn.rawFinishReason,Xs=wn.providerMetadata;let ea=De()-fl;Yo.addEvent("ai.stream.finish"),Yo.setAttributes({"ai.response.msToFinish":ea,"ai.response.avgOutputTokensPerSecond":1e3*((La=zs.outputTokens)!=null?La:0)/ea});break}case"tool-input-start":{ql[wn.id]=wn.toolName;let ea=le?.[wn.toolName];ea?.onInputStart!=null&&await ea.onInputStart({toolCallId:wn.id,messages:Vo,abortSignal:z,experimental_context:zn}),Ro.enqueue({...wn,dynamic:(Ls=wn.dynamic)!=null?Ls:ea?.type==="dynamic",title:ea?.title});break}case"tool-input-end":delete ql[wn.id],Ro.enqueue(wn);break;case"tool-input-delta":{let ea=ql[wn.id],ms=le?.[ea];ms?.onInputDelta!=null&&await ms.onInputDelta({inputTextDelta:wn.delta,toolCallId:wn.id,messages:Vo,abortSignal:z,experimental_context:zn}),Ro.enqueue(wn);break}case"error":Ro.enqueue(wn),al="error";break;case"raw":ga&&Ro.enqueue(wn);break;default:throw Error(`Unknown chunk type: ${es}`)}},async flush(wn){let Ro=gl.length>0?JSON.stringify(gl):void 0;try{Yo.setAttributes(await Wn({telemetry:c,attributes:{"ai.response.finishReason":al,"ai.response.text":{output:()=>Yl},"ai.response.toolCalls":{output:()=>Ro},"ai.response.id":Ns.id,"ai.response.model":Ns.modelId,"ai.response.timestamp":Ns.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(Xs),"ai.usage.inputTokens":zs.inputTokens,"ai.usage.outputTokens":zs.outputTokens,"ai.usage.totalTokens":zs.totalTokens,"ai.usage.reasoningTokens":zs.reasoningTokens,"ai.usage.cachedInputTokens":zs.cachedInputTokens,"gen_ai.response.finish_reasons":[al],"gen_ai.response.id":Ns.id,"gen_ai.response.model":Ns.modelId,"gen_ai.usage.input_tokens":zs.inputTokens,"gen_ai.usage.output_tokens":zs.outputTokens}}))}catch{}finally{Yo.end()}wn.enqueue({type:"finish-step",finishReason:al,rawFinishReason:ci,usage:zs,providerMetadata:Xs,response:{...Ns,headers:Tl?.headers}});let Ys=Ao(ki,zs);await ai.promise;let el=gl.filter(La=>La.providerExecuted!==!0),ol=yl.filter(La=>La.providerExecuted!==!0);for(let La of gl){if(La.providerExecuted!==!0)continue;let Ls=le?.[La.toolName];Ls?.type==="provider"&&Ls.supportsDeferredResults&&(yl.some(es=>es.type==="tool-result"&&es.toolCallId===La.toolCallId)||ls.set(La.toolCallId,{toolName:La.toolName}))}for(let La of yl)La.type==="tool-result"&&ls.delete(La.toolCallId);if((el.length>0&&ol.length===el.length||ls.size>0)&&!await Ut({stopConditions:Oe,steps:Da})){Yn.push(...await dr({content:Da[Da.length-1].content,tools:le}));try{await $r({currentStep:Ar+1,responseMessages:Yn,usage:Ys})}catch(La){wn.enqueue({type:"error",error:La}),jn.closeStream()}}else wn.enqueue({type:"finish",finishReason:al,rawFinishReason:ci,totalUsage:Ys}),jn.closeStream()}})))}Go.push(..._n),await $r({currentStep:0,responseMessages:_n,usage:gs()})}}).catch(bn=>{jn.addStream(new ReadableStream({start($n){$n.enqueue({type:"error",error:bn}),$n.close()}})),jn.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(s=>s[s.length-1])}get content(){return this.finalStep.then(s=>s.content)}get warnings(){return this.finalStep.then(s=>s.warnings)}get providerMetadata(){return this.finalStep.then(s=>s.providerMetadata)}get text(){return this.finalStep.then(s=>s.text)}get reasoningText(){return this.finalStep.then(s=>s.reasoningText)}get reasoning(){return this.finalStep.then(s=>s.reasoning)}get sources(){return this.finalStep.then(s=>s.sources)}get files(){return this.finalStep.then(s=>s.files)}get toolCalls(){return this.finalStep.then(s=>s.toolCalls)}get staticToolCalls(){return this.finalStep.then(s=>s.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(s=>s.dynamicToolCalls)}get toolResults(){return this.finalStep.then(s=>s.toolResults)}get staticToolResults(){return this.finalStep.then(s=>s.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(s=>s.dynamicToolResults)}get usage(){return this.finalStep.then(s=>s.usage)}get request(){return this.finalStep.then(s=>s.request)}get response(){return this.finalStep.then(s=>s.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}get rawFinishReason(){return this.consumeStream(),this._rawFinishReason.promise}teeStream(){let[s,c]=this.baseStream.tee();return this.baseStream=c,s}get textStream(){return Pr(this.teeStream().pipeThrough(new TransformStream({transform({part:s},c){s.type==="text-delta"&&c.enqueue(s.text)}})))}get fullStream(){return Pr(this.teeStream().pipeThrough(new TransformStream({transform({part:s},c){c.enqueue(s)}})))}async consumeStream(s){var c;try{await Ti({stream:this.fullStream,onError:s?.onError})}catch(b){(c=s?.onError)==null||c.call(s,b)}}get experimental_partialOutputStream(){return this.partialOutputStream}get partialOutputStream(){return Pr(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:s},c){s!=null&&c.enqueue(s)}})))}get output(){return this.finalStep.then(s=>{var c;return((c=this.outputSpecification)!=null?c:He()).parseCompleteOutput({text:s.text},{response:s.response,usage:s.usage,finishReason:s.finishReason})})}toUIMessageStream({originalMessages:s,generateMessageId:c,onFinish:b,messageMetadata:_,sendReasoning:S=!0,sendSources:z=!1,sendStart:N=!0,sendFinish:I=!0,onError:K=Ue.getErrorMessage}={}){let le=c!=null?function({originalMessages:D,responseMessageId:ce}){if(D==null)return;let xt=D[D.length-1];return xt?.role==="assistant"?xt.id:typeof ce=="function"?ce():ce}({originalMessages:s,responseMessageId:c}):void 0,te=D=>{var ce;let xt=(ce=this.tools)==null?void 0:ce[D.toolName];return xt==null?D.dynamic:xt?.type==="dynamic"||void 0};return Pr(ln({stream:this.fullStream.pipeThrough(new TransformStream({transform:async(D,ce)=>{let xt=_?.({part:D}),Oe=D.type;switch(Oe){case"text-start":ce.enqueue({type:"text-start",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"text-delta":ce.enqueue({type:"text-delta",id:D.id,delta:D.text,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"text-end":ce.enqueue({type:"text-end",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"reasoning-start":ce.enqueue({type:"reasoning-start",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"reasoning-delta":S&&ce.enqueue({type:"reasoning-delta",id:D.id,delta:D.text,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"reasoning-end":ce.enqueue({type:"reasoning-end",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"file":ce.enqueue({type:"file",mediaType:D.file.mediaType,url:`data:${D.file.mediaType};base64,${D.file.base64}`});break;case"source":z&&D.sourceType==="url"&&ce.enqueue({type:"source-url",sourceId:D.id,url:D.url,title:D.title,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}}),z&&D.sourceType==="document"&&ce.enqueue({type:"source-document",sourceId:D.id,mediaType:D.mediaType,title:D.title,filename:D.filename,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"tool-input-start":{let Le=te(D);ce.enqueue({type:"tool-input-start",toolCallId:D.id,toolName:D.toolName,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...Le!=null?{dynamic:Le}:{},...D.title!=null?{title:D.title}:{}});break}case"tool-input-delta":ce.enqueue({type:"tool-input-delta",toolCallId:D.id,inputTextDelta:D.delta});break;case"tool-call":{let Le=te(D);D.invalid?ce.enqueue({type:"tool-input-error",toolCallId:D.toolCallId,toolName:D.toolName,input:D.input,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{},...Le!=null?{dynamic:Le}:{},errorText:K(D.error),...D.title!=null?{title:D.title}:{}}):ce.enqueue({type:"tool-input-available",toolCallId:D.toolCallId,toolName:D.toolName,input:D.input,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{},...Le!=null?{dynamic:Le}:{},...D.title!=null?{title:D.title}:{}});break}case"tool-approval-request":ce.enqueue({type:"tool-approval-request",approvalId:D.approvalId,toolCallId:D.toolCall.toolCallId});break;case"tool-result":{let Le=te(D);ce.enqueue({type:"tool-output-available",toolCallId:D.toolCallId,output:D.output,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...D.preliminary!=null?{preliminary:D.preliminary}:{},...Le!=null?{dynamic:Le}:{}});break}case"tool-error":{let Le=te(D);ce.enqueue({type:"tool-output-error",toolCallId:D.toolCallId,errorText:K(D.error),...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...Le!=null?{dynamic:Le}:{}});break}case"tool-output-denied":ce.enqueue({type:"tool-output-denied",toolCallId:D.toolCallId});break;case"error":ce.enqueue({type:"error",errorText:K(D.error)});break;case"start-step":ce.enqueue({type:"start-step"});break;case"finish-step":ce.enqueue({type:"finish-step"});break;case"start":N&&ce.enqueue({type:"start",...xt!=null?{messageMetadata:xt}:{},...le!=null?{messageId:le}:{}});break;case"finish":I&&ce.enqueue({type:"finish",finishReason:D.finishReason,...xt!=null?{messageMetadata:xt}:{}});break;case"abort":ce.enqueue(D);break;case"tool-input-end":case"raw":break;default:throw Error(`Unknown chunk type: ${Oe}`)}xt!=null&&Oe!=="start"&&Oe!=="finish"&&ce.enqueue({type:"message-metadata",messageMetadata:xt})}})),messageId:le??c?.(),originalMessages:s,onFinish:b,onError:K}))}pipeUIMessageStreamToResponse(s,{originalMessages:c,generateMessageId:b,onFinish:_,messageMetadata:S,sendReasoning:z,sendSources:N,sendFinish:I,sendStart:K,onError:le,...te}={}){ja({response:s,stream:this.toUIMessageStream({originalMessages:c,generateMessageId:b,onFinish:_,messageMetadata:S,sendReasoning:z,sendSources:N,sendFinish:I,sendStart:K,onError:le}),...te})}pipeTextStreamToResponse(s,c){Bt({response:s,textStream:this.textStream,...c})}toUIMessageStreamResponse({originalMessages:s,generateMessageId:c,onFinish:b,messageMetadata:_,sendReasoning:S,sendSources:z,sendFinish:N,sendStart:I,onError:K,...le}={}){return Dt({stream:this.toUIMessageStream({originalMessages:s,generateMessageId:c,onFinish:b,messageMetadata:_,sendReasoning:S,sendSources:z,sendFinish:N,sendStart:I,onError:K}),...le})}toTextStreamResponse(s){return dt({textStream:this.textStream,...s})}},d=class{constructor(s){this.version="agent-v1",this.settings=s}get id(){return this.settings.id}get tools(){return this.settings.tools}async prepareCall(s){var c,b,_,S;let z={...this.settings,stopWhen:(c=this.settings.stopWhen)!=null?c:$t(20),...s},{instructions:N,messages:I,prompt:K,...le}=(S=await((_=(b=this.settings).prepareCall)==null?void 0:_.call(b,z)))!=null?S:z;return{...le,system:N,messages:I,prompt:K}}async generate({abortSignal:s,...c}){return de({...await this.prepareCall(c),abortSignal:s})}async stream({abortSignal:s,experimental_transform:c,...b}){return vs({...await this.prepareCall(b),abortSignal:s,experimental_transform:c})}};function y({execute:s,onError:c=Z.getErrorMessage,originalMessages:b,onFinish:_,generateId:S=Z.generateId}){let z,N=[],I=new ReadableStream({start(le){z=le}});function K(le){try{z.enqueue(le)}catch{}}try{let le=s({writer:{write(te){K(te)},merge(te){N.push((async()=>{let D=te.getReader();for(;;){let{done:ce,value:xt}=await D.read();if(ce)break;K(xt)}})().catch(D=>{K({type:"error",errorText:c(D)})}))},onError:c}});le&&N.push(le.catch(te=>{K({type:"error",errorText:c(te)})}))}catch(le){K({type:"error",errorText:c(le)})}return new Promise(async le=>{for(;N.length>0;)await N.shift();le()}).finally(()=>{try{z.close()}catch{}}),ln({stream:I,messageId:S(),originalMessages:b,onFinish:_,onError:c})}function O({message:s,stream:c,onError:b,terminateOnError:_=!1}){var S;let z,N=!1,I=new ReadableStream({start(te){z=te}}),K=or({messageId:(S=s?.id)!=null?S:"",lastMessage:s}),le=te=>{b?.(te),!N&&_&&(N=!0,z?.error(te))};return Ti({stream:Wt({stream:c,runUpdateMessageJob:te=>te({state:K,write:()=>{z?.enqueue(structuredClone(K.message))}}),onError:le}),onError:le}).finally(()=>{N||z==null||z.close()}),Pr(I)}async function L(s,c){let b=[];for(let _ of(c?.ignoreIncompleteToolCalls&&(s=s.map(S=>({...S,parts:S.parts.filter(z=>!qr(z)||z.state!=="input-streaming"&&z.state!=="input-available")}))),s))switch(_.role){case"system":{let S=_.parts.filter(N=>N.type==="text"),z=S.reduce((N,I)=>I.providerMetadata!=null?{...N,...I.providerMetadata}:N,{});b.push({role:"system",content:S.map(N=>N.text).join(""),...Object.keys(z).length>0?{providerOptions:z}:{}});break}case"user":b.push({role:"user",content:_.parts.map(S=>{var z;return sr(S)?{type:"text",text:S.text,...S.providerMetadata!=null?{providerOptions:S.providerMetadata}:{}}:Ye(S)?{type:"file",mediaType:S.mediaType,filename:S.filename,data:S.url,...S.providerMetadata!=null?{providerOptions:S.providerMetadata}:{}}:fr(S)?(z=c?.convertDataPart)==null?void 0:z.call(c,S):void 0}).filter(Z.isNonNullable)});break;case"assistant":if(_.parts!=null){let S=[];async function z(){var N,I,K,le,te,D;if(S.length===0)return;let ce=[];for(let Oe of S)if(sr(Oe))ce.push({type:"text",text:Oe.text,...Oe.providerMetadata!=null?{providerOptions:Oe.providerMetadata}:{}});else if(Ye(Oe))ce.push({type:"file",mediaType:Oe.mediaType,filename:Oe.filename,data:Oe.url});else if(Lt(Oe))ce.push({type:"reasoning",text:Oe.text,providerOptions:Oe.providerMetadata});else if(qr(Oe)){let Le=Ne(Oe);Oe.state!=="input-streaming"&&(ce.push({type:"tool-call",toolCallId:Oe.toolCallId,toolName:Le,input:Oe.state==="output-error"?(N=Oe.input)!=null?N:"rawInput"in Oe?Oe.rawInput:void 0:Oe.input,providerExecuted:Oe.providerExecuted,...Oe.callProviderMetadata!=null?{providerOptions:Oe.callProviderMetadata}:{}}),Oe.approval!=null&&ce.push({type:"tool-approval-request",approvalId:Oe.approval.id,toolCallId:Oe.toolCallId}),Oe.providerExecuted===!0&&Oe.state!=="approval-responded"&&(Oe.state==="output-available"||Oe.state==="output-error")&&ce.push({type:"tool-result",toolCallId:Oe.toolCallId,toolName:Le,output:await gt({toolCallId:Oe.toolCallId,input:Oe.input,output:Oe.state==="output-error"?Oe.errorText:Oe.output,tool:(I=c?.tools)==null?void 0:I[Le],errorMode:Oe.state==="output-error"?"json":"none"}),...Oe.callProviderMetadata!=null?{providerOptions:Oe.callProviderMetadata}:{}}))}else if(fr(Oe)){let Le=(K=c?.convertDataPart)==null?void 0:K.call(c,Oe);Le!=null&&ce.push(Le)}else throw Error(`Unsupported part: ${Oe}`);b.push({role:"assistant",content:ce});let xt=S.filter(Oe=>{var Le;return qr(Oe)&&(Oe.providerExecuted!==!0||((Le=Oe.approval)==null?void 0:Le.approved)!=null)});if(xt.length>0){let Oe=[];for(let Le of xt)if(((le=Le.approval)==null?void 0:le.approved)!=null&&Oe.push({type:"tool-approval-response",approvalId:Le.approval.id,approved:Le.approval.approved,reason:Le.approval.reason,providerExecuted:Le.providerExecuted}),Le.providerExecuted!==!0)switch(Le.state){case"output-denied":Oe.push({type:"tool-result",toolCallId:Le.toolCallId,toolName:Ne(Le),output:{type:"error-text",value:(te=Le.approval.reason)!=null?te:"Tool execution denied."},...Le.callProviderMetadata!=null?{providerOptions:Le.callProviderMetadata}:{}});break;case"output-error":case"output-available":{let Vt=Ne(Le);Oe.push({type:"tool-result",toolCallId:Le.toolCallId,toolName:Vt,output:await gt({toolCallId:Le.toolCallId,input:Le.input,output:Le.state==="output-error"?Le.errorText:Le.output,tool:(D=c?.tools)==null?void 0:D[Vt],errorMode:Le.state==="output-error"?"text":"none"}),...Le.callProviderMetadata!=null?{providerOptions:Le.callProviderMetadata}:{}})}}Oe.length>0&&b.push({role:"tool",content:Oe})}S=[]}for(let N of _.parts)sr(N)||Lt(N)||Ye(N)||qr(N)||fr(N)?S.push(N):N.type==="step-start"&&await z();await z()}break;default:{let S=_.role;throw new ho({originalMessage:_,message:`Unsupported role: ${S}`})}}return b}var ue=(0,Z.lazySchema)(()=>(0,Z.zodSchema)(h.z.array(h.z.object({id:h.z.string(),role:h.z.enum(["system","user","assistant"]),metadata:h.z.unknown().optional(),parts:h.z.array(h.z.union([h.z.object({type:h.z.literal("text"),text:h.z.string(),state:h.z.enum(["streaming","done"]).optional(),providerMetadata:Yt.optional()}),h.z.object({type:h.z.literal("reasoning"),text:h.z.string(),state:h.z.enum(["streaming","done"]).optional(),providerMetadata:Yt.optional()}),h.z.object({type:h.z.literal("source-url"),sourceId:h.z.string(),url:h.z.string(),title:h.z.string().optional(),providerMetadata:Yt.optional()}),h.z.object({type:h.z.literal("source-document"),sourceId:h.z.string(),mediaType:h.z.string(),title:h.z.string(),filename:h.z.string().optional(),providerMetadata:Yt.optional()}),h.z.object({type:h.z.literal("file"),mediaType:h.z.string(),filename:h.z.string().optional(),url:h.z.string(),providerMetadata:Yt.optional()}),h.z.object({type:h.z.literal("step-start")}),h.z.object({type:h.z.string().startsWith("data-"),id:h.z.string().optional(),data:h.z.unknown()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("input-streaming"),input:h.z.unknown().optional(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("input-available"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("approval-requested"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.never().optional(),reason:h.z.never().optional()})}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("approval-responded"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.boolean(),reason:h.z.string().optional()})}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("output-available"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.unknown(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),preliminary:h.z.boolean().optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("output-error"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.string(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("output-denied"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!1),reason:h.z.string().optional()})}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("input-streaming"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("input-available"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("approval-requested"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.never().optional(),reason:h.z.never().optional()})}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("approval-responded"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.boolean(),reason:h.z.string().optional()})}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("output-available"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.unknown(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),preliminary:h.z.boolean().optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("output-error"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.never().optional(),errorText:h.z.string(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("output-denied"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Yt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!1),reason:h.z.string().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty")));async function E({messages:s,metadataSchema:c,dataSchemas:b,tools:_}){try{if(s==null)return{success:!1,error:new Dn({parameter:"messages",value:s,message:"messages parameter must be provided"})};let S=await(0,Z.validateTypes)({value:s,schema:ue});if(c)for(let z of S)await(0,Z.validateTypes)({value:z.metadata,schema:c});if(b)for(let z of S)for(let N of z.parts.filter(I=>I.type.startsWith("data-"))){let I=N.type.slice(5),K=b[I];if(!K)return{success:!1,error:new Ue.TypeValidationError({value:N.data,cause:`No data schema found for data part ${I}`})};await(0,Z.validateTypes)({value:N.data,schema:K})}if(_)for(let z of S)for(let N of z.parts.filter(I=>I.type.startsWith("tool-"))){let I=N.type.slice(5),K=_[I];if(!K)return{success:!1,error:new Ue.TypeValidationError({value:N.input,cause:`No tool schema found for tool part ${I}`})};(N.state==="input-available"||N.state==="output-available"||N.state==="output-error"&&N.input!==void 0)&&await(0,Z.validateTypes)({value:N.input,schema:K.inputSchema}),N.state==="output-available"&&K.outputSchema&&await(0,Z.validateTypes)({value:N.output,schema:K.outputSchema})}return{success:!0,data:S}}catch(S){return{success:!1,error:S}}}async function Y({messages:s,metadataSchema:c,dataSchemas:b,tools:_}){let S=await E({messages:s,metadataSchema:c,dataSchemas:b,tools:_});if(!S.success)throw S.error;return S.data}async function xe({agent:s,uiMessages:c,options:b,abortSignal:_,experimental_transform:S,...z}){let N=await Y({messages:c,tools:s.tools}),I=await L(N,{tools:s.tools});return(await s.stream({prompt:I,options:b,abortSignal:_,experimental_transform:S})).toUIMessageStream(z)}async function Ae({headers:s,status:c,statusText:b,consumeSseStream:_,...S}){return Dt({headers:s,status:c,statusText:b,consumeSseStream:_,stream:await xe(S)})}async function ot({response:s,headers:c,status:b,statusText:_,consumeSseStream:S,...z}){ja({response:s,headers:c,status:b,statusText:_,consumeSseStream:S,stream:await xe(z)})}async function Ot({model:s,value:c,providerOptions:b,maxRetries:_,abortSignal:S,headers:z,experimental_telemetry:N}){let I=Ms(s),{maxRetries:K,retry:le}=Va({maxRetries:_,abortSignal:S}),te=(0,Z.withUserAgentSuffix)(z??{},`ai/${na}`),D=ao({model:I,telemetry:N,headers:te,settings:{maxRetries:K}}),ce=Fo(N);return ma({name:"ai.embed",attributes:Wn({telemetry:N,attributes:{...ia({operationId:"ai.embed",telemetry:N}),...D,"ai.value":{input:()=>JSON.stringify(c)}}}),tracer:ce,fn:async xt=>{let{embedding:Oe,usage:Le,warnings:Vt,response:vr,providerMetadata:Wr}=await le(()=>ma({name:"ai.embed.doEmbed",attributes:Wn({telemetry:N,attributes:{...ia({operationId:"ai.embed.doEmbed",telemetry:N}),...D,"ai.values":{input:()=>[JSON.stringify(c)]}}}),tracer:ce,fn:async De=>{var Dr;let dn=await I.doEmbed({values:[c],abortSignal:S,headers:te,providerOptions:b}),Zn=dn.embeddings[0],gi=(Dr=dn.usage)!=null?Dr:{tokens:NaN};return De.setAttributes(await Wn({telemetry:N,attributes:{"ai.embeddings":{output:()=>dn.embeddings.map(ii=>JSON.stringify(ii))},"ai.usage.tokens":gi.tokens}})),{embedding:Zn,usage:gi,warnings:dn.warnings,providerMetadata:dn.providerMetadata,response:dn.response}}}));return xt.setAttributes(await Wn({telemetry:N,attributes:{"ai.embedding":{output:()=>JSON.stringify(Oe)},"ai.usage.tokens":Le.tokens}})),Hi({warnings:Vt,provider:I.provider,model:I.modelId}),new tt({value:c,embedding:Oe,usage:Le,warnings:Vt,providerMetadata:Wr,response:vr})}})}var tt=class{constructor(s){this.value=s.value,this.embedding=s.embedding,this.usage=s.usage,this.warnings=s.warnings,this.providerMetadata=s.providerMetadata,this.response=s.response}};function lr(s,c){if(c<=0)throw Error("chunkSize must be greater than 0");let b=[];for(let _=0;_<s.length;_+=c)b.push(s.slice(_,_+c));return b}async function Jt({model:s,values:c,maxParallelCalls:b=1/0,maxRetries:_,abortSignal:S,headers:z,providerOptions:N,experimental_telemetry:I}){let K=Ms(s),{maxRetries:le,retry:te}=Va({maxRetries:_,abortSignal:S}),D=(0,Z.withUserAgentSuffix)(z??{},`ai/${na}`),ce=ao({model:K,telemetry:I,headers:D,settings:{maxRetries:le}}),xt=Fo(I);return ma({name:"ai.embedMany",attributes:Wn({telemetry:I,attributes:{...ia({operationId:"ai.embedMany",telemetry:I}),...ce,"ai.values":{input:()=>c.map(Oe=>JSON.stringify(Oe))}}}),tracer:xt,fn:async Oe=>{var Le;let Vt,[vr,Wr]=await Promise.all([K.maxEmbeddingsPerCall,K.supportsParallelCalls]);if(vr==null||vr===1/0){let{embeddings:ii,usage:xi,warnings:xn,response:zn,providerMetadata:fa}=await te(()=>ma({name:"ai.embedMany.doEmbed",attributes:Wn({telemetry:I,attributes:{...ia({operationId:"ai.embedMany.doEmbed",telemetry:I}),...ce,"ai.values":{input:()=>c.map(ai=>JSON.stringify(ai))}}}),tracer:xt,fn:async ai=>{var Ai;let ua=await K.doEmbed({values:c,abortSignal:S,headers:D,providerOptions:N}),Ha=ua.embeddings,Ja=(Ai=ua.usage)!=null?Ai:{tokens:NaN};return ai.setAttributes(await Wn({telemetry:I,attributes:{"ai.embeddings":{output:()=>Ha.map(Ia=>JSON.stringify(Ia))},"ai.usage.tokens":Ja.tokens}})),{embeddings:Ha,usage:Ja,warnings:ua.warnings,providerMetadata:ua.providerMetadata,response:ua.response}}}));return Oe.setAttributes(await Wn({telemetry:I,attributes:{"ai.embeddings":{output:()=>ii.map(ai=>JSON.stringify(ai))},"ai.usage.tokens":xi.tokens}})),Hi({warnings:xn,provider:K.provider,model:K.modelId}),new er({values:c,embeddings:ii,usage:xi,warnings:xn,providerMetadata:fa,responses:[zn]})}let De=lr(c,vr),Dr=[],dn=[],Zn=[],gi=0;for(let ii of lr(De,Wr?b:1))for(let xi of await Promise.all(ii.map(xn=>te(()=>ma({name:"ai.embedMany.doEmbed",attributes:Wn({telemetry:I,attributes:{...ia({operationId:"ai.embedMany.doEmbed",telemetry:I}),...ce,"ai.values":{input:()=>xn.map(zn=>JSON.stringify(zn))}}}),tracer:xt,fn:async zn=>{var fa;let ai=await K.doEmbed({values:xn,abortSignal:S,headers:D,providerOptions:N}),Ai=ai.embeddings,ua=(fa=ai.usage)!=null?fa:{tokens:NaN};return zn.setAttributes(await Wn({telemetry:I,attributes:{"ai.embeddings":{output:()=>Ai.map(Ha=>JSON.stringify(Ha))},"ai.usage.tokens":ua.tokens}})),{embeddings:Ai,usage:ua,warnings:ai.warnings,providerMetadata:ai.providerMetadata,response:ai.response}}})))))if(Dr.push(...xi.embeddings),dn.push(...xi.warnings),Zn.push(xi.response),gi+=xi.usage.tokens,xi.providerMetadata)if(Vt)for(let[xn,zn]of Object.entries(xi.providerMetadata))Vt[xn]={...(Le=Vt[xn])!=null?Le:{},...zn};else Vt={...xi.providerMetadata};return Oe.setAttributes(await Wn({telemetry:I,attributes:{"ai.embeddings":{output:()=>Dr.map(ii=>JSON.stringify(ii))},"ai.usage.tokens":gi}})),Hi({warnings:dn,provider:K.provider,model:K.modelId}),new er({values:c,embeddings:Dr,usage:{tokens:gi},warnings:dn,providerMetadata:Vt,responses:Zn})}})}var er=class{constructor(s){this.values=s.values,this.embeddings=s.embeddings,this.usage=s.usage,this.warnings=s.warnings,this.providerMetadata=s.providerMetadata,this.responses=s.responses}};async function Pt({model:s,prompt:c,n:b=1,maxImagesPerCall:_,size:S,aspectRatio:z,seed:N,providerOptions:I,maxRetries:K,abortSignal:le,headers:te}){var D,ce,xt;let Oe=function(xn){if(typeof xn!="string"){if(xn.specificationVersion!=="v3"&&xn.specificationVersion!=="v2")throw new Sr({version:xn.specificationVersion,provider:xn.provider,modelId:xn.modelId});return Ei(xn)}return Ko().imageModel(xn)}(s),Le=(0,Z.withUserAgentSuffix)(te??{},`ai/${na}`),{retry:Vt}=Va({maxRetries:K,abortSignal:le}),vr=(D=_??await It(Oe))!=null?D:1,Wr=Math.ceil(b/vr),De=Array.from({length:Wr},(xn,zn)=>{if(zn<Wr-1)return vr;let fa=b%vr;return fa===0?vr:fa}),Dr=await Promise.all(De.map(async xn=>Vt(()=>{var zn;let{prompt:fa,files:ai,mask:Ai}=typeof(zn=c)=="string"?{prompt:zn,files:void 0,mask:void 0}:{prompt:zn.text,files:zn.images.map(Mt),mask:zn.mask?Mt(zn.mask):void 0};return Oe.doGenerate({prompt:fa,files:ai,mask:Ai,n:xn,abortSignal:le,headers:Le,size:S,aspectRatio:z,seed:N,providerOptions:I??{}})}))),dn=[],Zn=[],gi=[],ii={},xi={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};for(let xn of Dr){if(dn.push(...xn.images.map(zn=>{var fa;return new F({data:zn,mediaType:(fa=fo({data:zn,signatures:fs}))!=null?fa:"image/png"})})),Zn.push(...xn.warnings),xn.usage!=null&&(ce=xi,xt=xn.usage,xi={inputTokens:Pa(ce.inputTokens,xt.inputTokens),outputTokens:Pa(ce.outputTokens,xt.outputTokens),totalTokens:Pa(ce.totalTokens,xt.totalTokens)}),xn.providerMetadata)for(let[zn,fa]of Object.entries(xn.providerMetadata))if(zn==="gateway"){let ai=ii[zn];ai!=null&&typeof ai=="object"?ii[zn]={...ai,...fa}:ii[zn]=fa;let Ai=ii[zn].images;Array.isArray(Ai)&&Ai.length===0&&delete ii[zn].images}else ii[zn]!=null||(ii[zn]={images:[]}),ii[zn].images.push(...xn.providerMetadata[zn].images);gi.push(xn.response)}if(Hi({warnings:Zn,provider:Oe.provider,model:Oe.modelId}),!dn.length)throw new Rr({responses:gi});return new Ht({images:dn,warnings:Zn,responses:gi,providerMetadata:ii,usage:xi})}var Ht=class{constructor(s){this.images=s.images,this.warnings=s.warnings,this.responses=s.responses,this.providerMetadata=s.providerMetadata,this.usage=s.usage}get image(){return this.images[0]}};async function It(s){return s.maxImagesPerCall instanceof Function?s.maxImagesPerCall({modelId:s.modelId}):s.maxImagesPerCall}function Mt(s){if(typeof s=="string"&&s.startsWith("http"))return{type:"url",url:s};if(typeof s=="string"&&s.startsWith("data:")){let{mediaType:b,base64Content:_}=An(s);if(_!=null){let S=(0,Z.convertBase64ToUint8Array)(_);return{type:"file",data:S,mediaType:b||fo({data:S,signatures:fs})||"image/png"}}}let c=R(s);return{type:"file",data:c,mediaType:fo({data:c,signatures:fs})||"image/png"}}var cn={type:"no-schema",jsonSchema:async()=>{},validatePartialResult:async({value:s,textDelta:c})=>({success:!0,value:{partial:s,textDelta:c}}),validateFinalResult:async(s,c)=>s===void 0?{success:!1,error:new Hr({message:"No object generated: response did not match schema.",text:c.text,response:c.response,usage:c.usage,finishReason:c.finishReason})}:{success:!0,value:s},createElementStream(){throw new Ue.UnsupportedFunctionalityError({functionality:"element streams in no-schema mode"})}};function _i({output:s,schema:c,enumValues:b}){switch(s){case"object":let _;return _=(0,Z.asSchema)(c),{type:"object",jsonSchema:async()=>await _.jsonSchema,validatePartialResult:async({value:z,textDelta:N})=>({success:!0,value:{partial:z,textDelta:N}}),validateFinalResult:async z=>(0,Z.safeValidateTypes)({value:z,schema:_}),createElementStream(){throw new Ue.UnsupportedFunctionalityError({functionality:"element streams in object mode"})}};case"array":let S;return S=(0,Z.asSchema)(c),{type:"array",jsonSchema:async()=>{let{$schema:z,...N}=await S.jsonSchema;return{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:N}},required:["elements"],additionalProperties:!1}},async validatePartialResult({value:z,latestObject:N,isFirstDelta:I,isFinalDelta:K}){var le;if(!(0,Ue.isJSONObject)(z)||!(0,Ue.isJSONArray)(z.elements))return{success:!1,error:new Ue.TypeValidationError({value:z,cause:"value must be an object that contains an array of elements"})};let te=z.elements,D=[];for(let Oe=0;Oe<te.length;Oe++){let Le=te[Oe],Vt=await(0,Z.safeValidateTypes)({value:Le,schema:S});if(Oe!==te.length-1||K){if(!Vt.success)return Vt;D.push(Vt.value)}}let ce=(le=N?.length)!=null?le:0,xt="";return I&&(xt+="["),ce>0&&(xt+=","),xt+=D.slice(ce).map(Oe=>JSON.stringify(Oe)).join(","),K&&(xt+="]"),{success:!0,value:{partial:D,textDelta:xt}}},async validateFinalResult(z){if(!(0,Ue.isJSONObject)(z)||!(0,Ue.isJSONArray)(z.elements))return{success:!1,error:new Ue.TypeValidationError({value:z,cause:"value must be an object that contains an array of elements"})};let N=z.elements;for(let I of N){let K=await(0,Z.safeValidateTypes)({value:I,schema:S});if(!K.success)return K}return{success:!0,value:N}},createElementStream(z){let N=0;return Pr(z.pipeThrough(new TransformStream({transform(I,K){switch(I.type){case"object":{let le=I.object;for(;N<le.length;N++)K.enqueue(le[N]);break}case"text-delta":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${I}`)}}})))}};case"enum":return{type:"enum",jsonSchema:async()=>({$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:b}},required:["result"],additionalProperties:!1}),async validateFinalResult(z){if(!(0,Ue.isJSONObject)(z)||typeof z.result!="string")return{success:!1,error:new Ue.TypeValidationError({value:z,cause:'value must be an object that contains a string in the "result" property.'})};let N=z.result;return b.includes(N)?{success:!0,value:N}:{success:!1,error:new Ue.TypeValidationError({value:z,cause:"value must be a string in the enum"})}},async validatePartialResult({value:z,textDelta:N}){if(!(0,Ue.isJSONObject)(z)||typeof z.result!="string")return{success:!1,error:new Ue.TypeValidationError({value:z,cause:'value must be an object that contains a string in the "result" property.'})};let I=z.result,K=b.filter(le=>le.startsWith(I));return z.result.length===0||K.length===0?{success:!1,error:new Ue.TypeValidationError({value:z,cause:"value must be a string in the enum"})}:{success:!0,value:{partial:K.length>1?I:K[0],textDelta:N}}},createElementStream(){throw new Ue.UnsupportedFunctionalityError({functionality:"element streams in enum mode"})}};case"no-schema":return cn;default:throw Error(`Unsupported output: ${s}`)}}async function Ci(s,c,b){let _=await(0,Z.safeParseJSON)({text:s});if(!_.success)throw new Hr({message:"No object generated: could not parse the response.",cause:_.error,text:s,response:b.response,usage:b.usage,finishReason:b.finishReason});let S=await c.validateFinalResult(_.value,{text:s,response:b.response,usage:b.usage});if(!S.success)throw new Hr({message:"No object generated: response did not match schema.",cause:S.error,text:s,response:b.response,usage:b.usage,finishReason:b.finishReason});return S.value}async function Ln(s,c,b,_){try{return await Ci(s,c,_)}catch(S){if(b!=null&&Hr.isInstance(S)&&(Ue.JSONParseError.isInstance(S.cause)||Ue.TypeValidationError.isInstance(S.cause))){let z=await b({text:s,error:S.cause});if(z===null)throw S;return await Ci(z,c,_)}throw S}}function aa({output:s,schema:c,schemaName:b,schemaDescription:_,enumValues:S}){if(s!=null&&s!=="object"&&s!=="array"&&s!=="enum"&&s!=="no-schema")throw new Dn({parameter:"output",value:s,message:"Invalid output type."});if(s==="no-schema"){if(c!=null)throw new Dn({parameter:"schema",value:c,message:"Schema is not supported for no-schema output."});if(_!=null)throw new Dn({parameter:"schemaDescription",value:_,message:"Schema description is not supported for no-schema output."});if(b!=null)throw new Dn({parameter:"schemaName",value:b,message:"Schema name is not supported for no-schema output."});if(S!=null)throw new Dn({parameter:"enumValues",value:S,message:"Enum values are not supported for no-schema output."})}if(s==="object"){if(c==null)throw new Dn({parameter:"schema",value:c,message:"Schema is required for object output."});if(S!=null)throw new Dn({parameter:"enumValues",value:S,message:"Enum values are not supported for object output."})}if(s==="array"){if(c==null)throw new Dn({parameter:"schema",value:c,message:"Element schema is required for array output."});if(S!=null)throw new Dn({parameter:"enumValues",value:S,message:"Enum values are not supported for array output."})}if(s==="enum"){if(c!=null)throw new Dn({parameter:"schema",value:c,message:"Schema is not supported for enum output."});if(_!=null)throw new Dn({parameter:"schemaDescription",value:_,message:"Schema description is not supported for enum output."});if(b!=null)throw new Dn({parameter:"schemaName",value:b,message:"Schema name is not supported for enum output."});if(S==null)throw new Dn({parameter:"enumValues",value:S,message:"Enum values are required for enum output."});for(let z of S)if(typeof z!="string")throw new Dn({parameter:"enumValues",value:z,message:"Enum values must be strings."})}}var Pi=(0,Z.createIdGenerator)({prefix:"aiobj",size:24});async function fi(s){let{model:c,output:b="object",system:_,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:K,experimental_repairText:le,experimental_telemetry:te,experimental_download:D,providerOptions:ce,_internal:{generateId:xt=Pi,currentDate:Oe=()=>new Date}={},...Le}=s,Vt=Sa(c),vr="enum"in s?s.enum:void 0,{schema:Wr,schemaDescription:De,schemaName:Dr}="schema"in s?s:{};aa({output:b,schema:Wr,schemaName:Dr,schemaDescription:De,enumValues:vr});let{maxRetries:dn,retry:Zn}=Va({maxRetries:N,abortSignal:I}),gi=_i({output:b,schema:Wr,enumValues:vr}),ii=_t(Le),xi=(0,Z.withUserAgentSuffix)(K??{},`ai/${na}`),xn=ao({model:Vt,telemetry:te,headers:xi,settings:{...ii,maxRetries:dn}}),zn=Fo(te),fa=await gi.jsonSchema();try{return await ma({name:"ai.generateObject",attributes:Wn({telemetry:te,attributes:{...ia({operationId:"ai.generateObject",telemetry:te}),...xn,"ai.prompt":{input:()=>JSON.stringify({system:_,prompt:S,messages:z})},"ai.schema":fa!=null?{input:()=>JSON.stringify(fa)}:void 0,"ai.schema.name":Dr,"ai.schema.description":De,"ai.settings.output":gi.type}}),tracer:zn,fn:async ai=>{var Ai;let ua,Ha,Ja,Ia,Go,ss,xs,Da,ls=await _a({system:_,prompt:S,messages:z}),To=await A({prompt:ls,supportedUrls:await Vt.supportedUrls,download:D}),no=await Zn(()=>ma({name:"ai.generateObject.doGenerate",attributes:Wn({telemetry:te,attributes:{...ia({operationId:"ai.generateObject.doGenerate",telemetry:te}),...xn,"ai.prompt.messages":{input:()=>Wa(To)},"gen_ai.system":Vt.provider,"gen_ai.request.model":Vt.modelId,"gen_ai.request.frequency_penalty":ii.frequencyPenalty,"gen_ai.request.max_tokens":ii.maxOutputTokens,"gen_ai.request.presence_penalty":ii.presencePenalty,"gen_ai.request.temperature":ii.temperature,"gen_ai.request.top_k":ii.topK,"gen_ai.request.top_p":ii.topP}}),tracer:zn,fn:async us=>{var Wi,Qo,Do,Mi,Xo,lo,Ss,jn;let bn,$n=await Vt.doGenerate({responseFormat:{type:"json",schema:fa,name:Dr,description:De},..._t(Le),prompt:To,providerOptions:ce,abortSignal:I,headers:xi}),Xn={id:(Qo=(Wi=$n.response)==null?void 0:Wi.id)!=null?Qo:xt(),timestamp:(Mi=(Do=$n.response)==null?void 0:Do.timestamp)!=null?Mi:Oe(),modelId:(lo=(Xo=$n.response)==null?void 0:Xo.modelId)!=null?lo:Vt.modelId,headers:(Ss=$n.response)==null?void 0:Ss.headers,body:(jn=$n.response)==null?void 0:jn.body},_n=x($n.content),oi=(bn=$n.content.filter(Gn=>Gn.type==="reasoning"),bn.length===0?void 0:bn.map(Gn=>Gn.text).join(`
`));if(_n===void 0)throw new Hr({message:"No object generated: the model did not return a response.",response:Xn,usage:za($n.usage),finishReason:$n.finishReason.unified});return us.setAttributes(await Wn({telemetry:te,attributes:{"ai.response.finishReason":$n.finishReason.unified,"ai.response.object":{output:()=>_n},"ai.response.id":Xn.id,"ai.response.model":Xn.modelId,"ai.response.timestamp":Xn.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify($n.providerMetadata),"ai.usage.promptTokens":$n.usage.inputTokens.total,"ai.usage.completionTokens":$n.usage.outputTokens.total,"gen_ai.response.finish_reasons":[$n.finishReason.unified],"gen_ai.response.id":Xn.id,"gen_ai.response.model":Xn.modelId,"gen_ai.usage.input_tokens":$n.usage.inputTokens.total,"gen_ai.usage.output_tokens":$n.usage.outputTokens.total}})),{...$n,objectText:_n,reasoning:oi,responseData:Xn}}}));ua=no.objectText,Ha=no.finishReason.unified,Ja=za(no.usage),Ia=no.warnings,xs=no.providerMetadata,ss=(Ai=no.request)!=null?Ai:{},Go=no.responseData,Da=no.reasoning,Hi({warnings:Ia,provider:Vt.provider,model:Vt.modelId});let ws=await Ln(ua,gi,le,{response:Go,usage:Ja,finishReason:Ha});return ai.setAttributes(await Wn({telemetry:te,attributes:{"ai.response.finishReason":Ha,"ai.response.object":{output:()=>JSON.stringify(ws)},"ai.response.providerMetadata":JSON.stringify(xs),"ai.usage.promptTokens":Ja.inputTokens,"ai.usage.completionTokens":Ja.outputTokens}})),new vo({object:ws,reasoning:Da,finishReason:Ha,usage:Ja,warnings:Ia,request:ss,response:Go,providerMetadata:xs})}})}catch(ai){throw Io(ai)}}var vo=class{constructor(s){this.object=s.object,this.finishReason=s.finishReason,this.usage=s.usage,this.warnings=s.warnings,this.providerMetadata=s.providerMetadata,this.response=s.response,this.request=s.request,this.reasoning=s.reasoning}toJsonResponse(s){var c;return new Response(JSON.stringify(this.object),{status:(c=s?.status)!=null?c:200,headers:zt(s?.headers,{"content-type":"application/json; charset=utf-8"})})}};function ji(s,c){if(s.length!==c.length)throw new Dn({parameter:"vector1,vector2",value:{vector1Length:s.length,vector2Length:c.length},message:"Vectors must have the same length"});let b=s.length;if(b===0)return 0;let _=0,S=0,z=0;for(let N=0;N<b;N++){let I=s[N],K=c[N];_+=I*I,S+=K*K,z+=I*K}return _===0||S===0?0:z/(Math.sqrt(_)*Math.sqrt(S))}function ha(s){let[c,b]=s.split(",");if(c.split(";")[0].split(":")[1]==null||b==null)throw Error("Invalid data URL format");try{return window.atob(b)}catch{throw Error("Error decoding data URL")}}function to(s,c){if(s===c)return!0;if(s==null||c==null)return!1;if(typeof s!="object"&&typeof c!="object")return s===c;if(s.constructor!==c.constructor)return!1;if(s instanceof Date&&c instanceof Date)return s.getTime()===c.getTime();if(Array.isArray(s)){if(s.length!==c.length)return!1;for(let S=0;S<s.length;S++)if(!to(s[S],c[S]))return!1;return!0}let b=Object.keys(s),_=Object.keys(c);if(b.length!==_.length)return!1;for(let S of b)if(!_.includes(S)||!to(s[S],c[S]))return!1;return!0}var da=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(s){return new Promise((c,b)=>{this.queue.push(async()=>{try{await s(),c()}catch(_){b(_)}}),this.processQueue()})}};function Ga({chunks:s,initialDelayInMs:c=0,chunkDelayInMs:b=0,_internal:_}){var S;let z=(S=_?.delay)!=null?S:Z.delay,N=0;return new ReadableStream({async pull(I){N<s.length?(await z(N===0?c:b),I.enqueue(s[N++])):I.close()}})}var qi=(0,Z.createIdGenerator)({prefix:"aiobj",size:24});function ka(s){let{model:c,output:b="object",system:_,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:K,experimental_repairText:le,experimental_telemetry:te,experimental_download:D,providerOptions:ce,onError:xt=({error:gi})=>{console.error(gi)},onFinish:Oe,_internal:{generateId:Le=qi,currentDate:Vt=()=>new Date,now:vr=Bs}={},...Wr}=s,De="enum"in s&&s.enum?s.enum:void 0,{schema:Dr,schemaDescription:dn,schemaName:Zn}="schema"in s?s:{};return aa({output:b,schema:Dr,schemaName:Zn,schemaDescription:dn,enumValues:De}),new Aa({model:c,telemetry:te,headers:K,settings:Wr,maxRetries:N,abortSignal:I,outputStrategy:_i({output:b,schema:Dr,enumValues:De}),system:_,prompt:S,messages:z,schemaName:Zn,schemaDescription:dn,providerOptions:ce,repairText:le,onError:xt,onFinish:Oe,download:D,generateId:Le,currentDate:Vt,now:vr})}var Aa=class{constructor({model:s,headers:c,telemetry:b,settings:_,maxRetries:S,abortSignal:z,outputStrategy:N,system:I,prompt:K,messages:le,schemaName:te,schemaDescription:D,providerOptions:ce,repairText:xt,onError:Oe,onFinish:Le,download:Vt,generateId:vr,currentDate:Wr,now:De}){this._object=new Z.DelayedPromise,this._usage=new Z.DelayedPromise,this._providerMetadata=new Z.DelayedPromise,this._warnings=new Z.DelayedPromise,this._request=new Z.DelayedPromise,this._response=new Z.DelayedPromise,this._finishReason=new Z.DelayedPromise;let Dr=Sa(s),{maxRetries:dn,retry:Zn}=Va({maxRetries:S,abortSignal:z}),gi=_t(_),ii=ao({model:Dr,telemetry:b,headers:c,settings:{...gi,maxRetries:dn}}),xi=Fo(b),xn=this,zn=Hn(),fa=new TransformStream({transform(ai,Ai){Ai.enqueue(ai),ai.type==="error"&&Oe({error:Io(ai.error)})}});this.baseStream=zn.stream.pipeThrough(fa),ma({name:"ai.streamObject",attributes:Wn({telemetry:b,attributes:{...ia({operationId:"ai.streamObject",telemetry:b}),...ii,"ai.prompt":{input:()=>JSON.stringify({system:I,prompt:K,messages:le})},"ai.schema":{input:async()=>JSON.stringify(await N.jsonSchema())},"ai.schema.name":te,"ai.schema.description":D,"ai.settings.output":N.type}}),tracer:xi,endWhenDone:!1,fn:async ai=>{let Ai,ua,Ha,Ja,Ia,Go,ss,xs=await _a({system:I,prompt:K,messages:le}),Da={responseFormat:{type:"json",schema:await N.jsonSchema(),name:te,description:D},..._t(_),prompt:await A({prompt:xs,supportedUrls:await Dr.supportedUrls,download:Vt}),providerOptions:ce,abortSignal:z,headers:c,includeRawChunks:!1},{result:{stream:ls,response:To,request:no},doStreamSpan:ws,startTimestampMs:us}=await Zn(()=>ma({name:"ai.streamObject.doStream",attributes:Wn({telemetry:b,attributes:{...ia({operationId:"ai.streamObject.doStream",telemetry:b}),...ii,"ai.prompt.messages":{input:()=>Wa(Da.prompt)},"gen_ai.system":Dr.provider,"gen_ai.request.model":Dr.modelId,"gen_ai.request.frequency_penalty":gi.frequencyPenalty,"gen_ai.request.max_tokens":gi.maxOutputTokens,"gen_ai.request.presence_penalty":gi.presencePenalty,"gen_ai.request.temperature":gi.temperature,"gen_ai.request.top_k":gi.topK,"gen_ai.request.top_p":gi.topP}}),tracer:xi,endWhenDone:!1,fn:async jn=>({startTimestampMs:De(),doStreamSpan:jn,result:await Dr.doStream(Da)})}));xn._request.resolve(no??{});let Wi=gs(),Qo="",Do="",Mi={id:vr(),timestamp:Wr(),modelId:Dr.modelId},Xo=!0,lo=!0,Ss=ls.pipeThrough(new TransformStream({transform:(jn,bn)=>{switch(jn.type){case"text-delta":bn.enqueue(jn.delta);break;case"response-metadata":case"finish":case"error":case"stream-start":bn.enqueue(jn)}}})).pipeThrough(new TransformStream({async transform(jn,bn){var $n,Xn,_n;if(typeof jn=="object"&&jn.type==="stream-start"){Ai=jn.warnings;return}if(Xo){let oi=De()-us;Xo=!1,ws.addEvent("ai.stream.firstChunk",{"ai.stream.msToFirstChunk":oi}),ws.setAttributes({"ai.stream.msToFirstChunk":oi})}if(typeof jn=="string"){Qo+=jn,Do+=jn;let{value:oi,state:Gn}=await fe(Qo);if(oi!==void 0&&!to(Go,oi)){let $r=await N.validatePartialResult({value:oi,textDelta:Do,latestObject:ss,isFirstDelta:lo,isFinalDelta:Gn==="successful-parse"});$r.success&&!to(ss,$r.value.partial)&&(Go=oi,ss=$r.value.partial,bn.enqueue({type:"object",object:ss}),bn.enqueue({type:"text-delta",textDelta:$r.value.textDelta}),Do="",lo=!1)}return}switch(jn.type){case"response-metadata":Mi={id:($n=jn.id)!=null?$n:Mi.id,timestamp:(Xn=jn.timestamp)!=null?Xn:Mi.timestamp,modelId:(_n=jn.modelId)!=null?_n:Mi.modelId};break;case"finish":Do!==""&&bn.enqueue({type:"text-delta",textDelta:Do}),ua=jn.finishReason.unified,Wi=za(jn.usage),Ha=jn.providerMetadata,bn.enqueue({...jn,finishReason:jn.finishReason.unified,usage:Wi,response:Mi}),Hi({warnings:Ai??[],provider:Dr.provider,model:Dr.modelId}),xn._usage.resolve(Wi),xn._providerMetadata.resolve(Ha),xn._warnings.resolve(Ai),xn._response.resolve({...Mi,headers:To?.headers}),xn._finishReason.resolve(ua??"other");try{Ja=await Ln(Qo,N,xt,{response:Mi,usage:Wi,finishReason:ua}),xn._object.resolve(Ja)}catch(oi){Ia=oi,xn._object.reject(oi)}break;default:bn.enqueue(jn)}},async flush(jn){try{let bn=Wi??{promptTokens:NaN,completionTokens:NaN,totalTokens:NaN};ws.setAttributes(await Wn({telemetry:b,attributes:{"ai.response.finishReason":ua,"ai.response.object":{output:()=>JSON.stringify(Ja)},"ai.response.id":Mi.id,"ai.response.model":Mi.modelId,"ai.response.timestamp":Mi.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(Ha),"ai.usage.inputTokens":bn.inputTokens,"ai.usage.outputTokens":bn.outputTokens,"ai.usage.totalTokens":bn.totalTokens,"ai.usage.reasoningTokens":bn.reasoningTokens,"ai.usage.cachedInputTokens":bn.cachedInputTokens,"gen_ai.response.finish_reasons":[ua],"gen_ai.response.id":Mi.id,"gen_ai.response.model":Mi.modelId,"gen_ai.usage.input_tokens":bn.inputTokens,"gen_ai.usage.output_tokens":bn.outputTokens}})),ws.end(),ai.setAttributes(await Wn({telemetry:b,attributes:{"ai.usage.inputTokens":bn.inputTokens,"ai.usage.outputTokens":bn.outputTokens,"ai.usage.totalTokens":bn.totalTokens,"ai.usage.reasoningTokens":bn.reasoningTokens,"ai.usage.cachedInputTokens":bn.cachedInputTokens,"ai.response.object":{output:()=>JSON.stringify(Ja)},"ai.response.providerMetadata":JSON.stringify(Ha)}})),await Le?.({usage:bn,object:Ja,error:Ia,response:{...Mi,headers:To?.headers},warnings:Ai,providerMetadata:Ha})}catch(bn){jn.enqueue({type:"error",error:bn})}finally{ai.end()}}}));zn.addStream(Ss)}}).catch(ai=>{zn.addStream(new ReadableStream({start(Ai){Ai.enqueue({type:"error",error:ai}),Ai.close()}}))}).finally(()=>{zn.close()}),this.outputStrategy=N}get object(){return this._object.promise}get usage(){return this._usage.promise}get providerMetadata(){return this._providerMetadata.promise}get warnings(){return this._warnings.promise}get request(){return this._request.promise}get response(){return this._response.promise}get finishReason(){return this._finishReason.promise}get partialObjectStream(){return Pr(this.baseStream.pipeThrough(new TransformStream({transform(s,c){switch(s.type){case"object":c.enqueue(s.object);break;case"text-delta":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${s}`)}}})))}get elementStream(){return this.outputStrategy.createElementStream(this.baseStream)}get textStream(){return Pr(this.baseStream.pipeThrough(new TransformStream({transform(s,c){switch(s.type){case"text-delta":c.enqueue(s.textDelta);break;case"object":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${s}`)}}})))}get fullStream(){return Pr(this.baseStream)}pipeTextStreamToResponse(s,c){Bt({response:s,textStream:this.textStream,...c})}toTextStreamResponse(s){return dt({textStream:this.textStream,...s})}},Ma=class extends F{constructor({data:s,mediaType:c}){super({data:s,mediaType:c});let b="mp3";if(c){let _=c.split("/");_.length===2&&c!=="audio/mpeg"&&(b=_[1])}if(!b)throw Error("Audio format must be provided or determinable from media type");this.format=b}};async function Mo({model:s,text:c,voice:b,outputFormat:_,instructions:S,speed:z,language:N,providerOptions:I={},maxRetries:K,abortSignal:le,headers:te}){var D;let ce=function(Vt){var vr,Wr;if(typeof Vt!="string"){if(Vt.specificationVersion!=="v3"&&Vt.specificationVersion!=="v2")throw new Sr({version:Vt.specificationVersion,provider:Vt.provider,modelId:Vt.modelId});return is(Vt)}return(Wr=(vr=Ko()).speechModel)==null?void 0:Wr.call(vr,Vt)}(s);if(!ce)throw Error("Model could not be resolved");let xt=(0,Z.withUserAgentSuffix)(te??{},`ai/${na}`),{retry:Oe}=Va({maxRetries:K,abortSignal:le}),Le=await Oe(()=>ce.doGenerate({text:c,voice:b,outputFormat:_,instructions:S,speed:z,language:N,abortSignal:le,headers:xt,providerOptions:I}));if(!Le.audio||Le.audio.length===0)throw new mi({responses:[Le.response]});return Hi({warnings:Le.warnings,provider:ce.provider,model:ce.modelId}),new Rn({audio:new Ma({data:Le.audio,mediaType:(D=fo({data:Le.audio,signatures:Rs}))!=null?D:"audio/mp3"}),warnings:Le.warnings,responses:[Le.response],providerMetadata:Le.providerMetadata})}var Rn=class{constructor(s){var c;this.audio=s.audio,this.warnings=s.warnings,this.responses=s.responses,this.providerMetadata=(c=s.providerMetadata)!=null?c:{}}};function ui({messages:s,reasoning:c="none",toolCalls:b=[],emptyMessages:_="remove"}){for(let S of((c==="all"||c==="before-last-message")&&(s=s.map((z,N)=>z.role!=="assistant"||typeof z.content=="string"||c==="before-last-message"&&N===s.length-1?z:{...z,content:z.content.filter(I=>I.type!=="reasoning")})),b==="none"?b=[]:b==="all"?b=[{type:"all"}]:b==="before-last-message"?b=[{type:"before-last-message"}]:typeof b=="string"&&(b=[{type:b}]),b)){let z=S.type==="all"?void 0:S.type==="before-last-message"?1:Number(S.type.slice(12).slice(0,-9)),N=new Set,I=new Set;if(z!=null){for(let K of s.slice(-z))if((K.role==="assistant"||K.role==="tool")&&typeof K.content!="string")for(let le of K.content)le.type==="tool-call"||le.type==="tool-result"?N.add(le.toolCallId):(le.type==="tool-approval-request"||le.type==="tool-approval-response")&&I.add(le.approvalId)}s=s.map((K,le)=>{if(K.role!=="assistant"&&K.role!=="tool"||typeof K.content=="string"||z&&le>=s.length-z)return K;let te={},D={};return{...K,content:K.content.filter(ce=>ce.type!=="tool-call"&&ce.type!=="tool-result"&&ce.type!=="tool-approval-request"&&ce.type!=="tool-approval-response"||(ce.type==="tool-call"?te[ce.toolCallId]=ce.toolName:ce.type==="tool-approval-request"&&(D[ce.approvalId]=te[ce.toolCallId]),!!((ce.type==="tool-call"||ce.type==="tool-result")&&N.has(ce.toolCallId)||(ce.type==="tool-approval-request"||ce.type==="tool-approval-response")&&I.has(ce.approvalId))||S.tools!=null&&!S.tools.includes(ce.type==="tool-call"||ce.type==="tool-result"?ce.toolName:D[ce.approvalId])))}})}return _==="remove"&&(s=s.filter(S=>S.content.length>0)),s}var so={word:/\S+\s+/m,line:/\n+/m};function bs({delayInMs:s=10,chunking:c="word",_internal:{delay:b=Z.delay}={}}={}){let _;if(typeof c=="function")_=S=>{let z=c(S);if(z==null)return null;if(!z.length)throw Error("Chunking function must return a non-empty string.");if(!S.startsWith(z))throw Error(`Chunking function must return a match that is a prefix of the buffer. Received: "${z}" expected to start with "${S}"`);return z};else{let S=typeof c=="string"?so[c]:c;if(S==null)throw new Ue.InvalidArgumentError({argument:"chunking",message:`Chunking must be "word" or "line" or a RegExp. Received: ${c}`});_=z=>{let N=S.exec(z);return N?z.slice(0,N.index)+N?.[0]:null}}return()=>{let S="",z="";return new TransformStream({async transform(N,I){let K;if(N.type!=="text-delta"){S.length>0&&(I.enqueue({type:"text-delta",text:S,id:z}),S=""),I.enqueue(N);return}for(N.id!==z&&S.length>0&&(I.enqueue({type:"text-delta",text:S,id:z}),S=""),S+=N.text,z=N.id;(K=_(S))!=null;)I.enqueue({type:"text-delta",text:K,id:z}),S=S.slice(K.length),await b(s)}})}}function Bo({settings:s}){return{specificationVersion:"v3",transformParams:async({params:c})=>Zo(s,c)}}function Wo({settings:s}){return{specificationVersion:"v3",transformParams:async({params:c})=>Zo(s,c)}}function _s({tagName:s,separator:c=`
`,startWithReasoning:b=!1}){let _=`<${s}>`,S=`</${s}>`;return{specificationVersion:"v3",wrapGenerate:async({doGenerate:z})=>{let{content:N,...I}=await z(),K=[];for(let le of N){if(le.type!=="text"){K.push(le);continue}let te=b?_+le.text:le.text,D=RegExp(`${_}(.*?)${S}`,"gs"),ce=Array.from(te.matchAll(D));if(!ce.length){K.push(le);continue}let xt=ce.map(Le=>Le[1]).join(c),Oe=te;for(let Le=ce.length-1;Le>=0;Le--){let Vt=ce[Le],vr=Oe.slice(0,Vt.index),Wr=Oe.slice(Vt.index+Vt[0].length);Oe=vr+(vr.length>0&&Wr.length>0?c:"")+Wr}K.push({type:"reasoning",text:xt}),K.push({type:"text",text:Oe})}return{content:K,...I}},wrapStream:async({doStream:z})=>{let N,{stream:I,...K}=await z(),le={};return{stream:I.pipeThrough(new TransformStream({transform:(te,D)=>{if(te.type==="text-start"){N=te;return}if(te.type==="text-end"&&N&&(D.enqueue(N),N=void 0),te.type!=="text-delta")return void D.enqueue(te);le[te.id]==null&&(le[te.id]={isFirstReasoning:!0,isFirstText:!0,afterSwitch:!1,isReasoning:b,buffer:"",idCounter:0,textId:te.id});let ce=le[te.id];function xt(Oe){if(Oe.length>0){let Le=!ce.afterSwitch||(ce.isReasoning?ce.isFirstReasoning:ce.isFirstText)?"":c;ce.isReasoning&&(ce.afterSwitch||ce.isFirstReasoning)&&D.enqueue({type:"reasoning-start",id:`reasoning-${ce.idCounter}`}),ce.isReasoning?D.enqueue({type:"reasoning-delta",delta:Le+Oe,id:`reasoning-${ce.idCounter}`}):(N&&(D.enqueue(N),N=void 0),D.enqueue({type:"text-delta",delta:Le+Oe,id:ce.textId})),ce.afterSwitch=!1,ce.isReasoning?ce.isFirstReasoning=!1:ce.isFirstText=!1}}for(ce.buffer+=te.delta;;){let Oe=ce.isReasoning?S:_,Le=function(Vt,vr){if(vr.length===0)return null;let Wr=Vt.indexOf(vr);if(Wr!==-1)return Wr;for(let De=Vt.length-1;De>=0;De--){let Dr=Vt.substring(De);if(vr.startsWith(Dr))return De}return null}(ce.buffer,Oe);if(Le==null){xt(ce.buffer),ce.buffer="";break}if(xt(ce.buffer.slice(0,Le)),Le+Oe.length<=ce.buffer.length)ce.buffer=ce.buffer.slice(Le+Oe.length),ce.isReasoning&&D.enqueue({type:"reasoning-end",id:`reasoning-${ce.idCounter++}`}),ce.isReasoning=!ce.isReasoning,ce.afterSwitch=!0;else{ce.buffer=ce.buffer.slice(Le);break}}}})),...K}}}}function T(){return{specificationVersion:"v3",wrapStream:async({doGenerate:s})=>{let c=await s(),b=0;return{stream:new ReadableStream({start(_){for(let S of(_.enqueue({type:"stream-start",warnings:c.warnings}),_.enqueue({type:"response-metadata",...c.response}),c.content))switch(S.type){case"text":S.text.length>0&&(_.enqueue({type:"text-start",id:String(b)}),_.enqueue({type:"text-delta",id:String(b),delta:S.text}),_.enqueue({type:"text-end",id:String(b)}),b++);break;case"reasoning":_.enqueue({type:"reasoning-start",id:String(b),providerMetadata:S.providerMetadata}),_.enqueue({type:"reasoning-delta",id:String(b),delta:S.text}),_.enqueue({type:"reasoning-end",id:String(b)}),b++;break;default:_.enqueue(S)}_.enqueue({type:"finish",finishReason:c.finishReason,usage:c.usage,providerMetadata:c.providerMetadata}),_.close()}}),request:c.request,response:c.response}}}}function o(s){return JSON.stringify(s.input)}function l({prefix:s="Input Examples:",format:c=o,remove:b=!0}={}){return{specificationVersion:"v3",transformParams:async({params:_})=>{var S;if(!((S=_.tools)!=null&&S.length))return _;let z=_.tools.map(N=>{var I;if(N.type!=="function"||!((I=N.inputExamples)!=null&&I.length))return N;let K=N.inputExamples.map((D,ce)=>c(D,ce)).join(`
`),le=`${s}
${K}`,te=N.description?`${N.description}

${le}`:le;return{...N,description:te,inputExamples:b?void 0:N.inputExamples}});return{..._,tools:z}}}}var C=({model:s,middleware:c,modelId:b,providerId:_})=>[...P(c)].reverse().reduce((S,z)=>B({model:S,middleware:z,modelId:b,providerId:_}),s),B=({model:s,middleware:{transformParams:c,wrapGenerate:b,wrapStream:_,overrideProvider:S,overrideModelId:z,overrideSupportedUrls:N},modelId:I,providerId:K})=>{var le,te,D;async function ce({params:xt,type:Oe}){return c?await c({params:xt,type:Oe,model:s}):xt}return{specificationVersion:"v3",provider:(le=K??S?.({model:s}))!=null?le:s.provider,modelId:(te=I??z?.({model:s}))!=null?te:s.modelId,supportedUrls:(D=N?.({model:s}))!=null?D:s.supportedUrls,async doGenerate(xt){let Oe=await ce({params:xt,type:"generate"}),Le=async()=>s.doGenerate(Oe);return b?b({doGenerate:Le,doStream:async()=>s.doStream(Oe),params:Oe,model:s}):Le()},async doStream(xt){let Oe=await ce({params:xt,type:"stream"}),Le=async()=>s.doGenerate(Oe),Vt=async()=>s.doStream(Oe);return _?_({doGenerate:Le,doStream:Vt,params:Oe,model:s}):Vt()}}},se=({model:s,middleware:c,modelId:b,providerId:_})=>[...P(c)].reverse().reduce((S,z)=>Je({model:S,middleware:z,modelId:b,providerId:_}),s),Je=({model:s,middleware:{transformParams:c,wrapEmbed:b,overrideProvider:_,overrideModelId:S,overrideMaxEmbeddingsPerCall:z,overrideSupportsParallelCalls:N},modelId:I,providerId:K})=>{var le,te,D,ce;async function xt({params:Oe}){return c?await c({params:Oe,model:s}):Oe}return{specificationVersion:"v3",provider:(le=K??_?.({model:s}))!=null?le:s.provider,modelId:(te=I??S?.({model:s}))!=null?te:s.modelId,maxEmbeddingsPerCall:(D=z?.({model:s}))!=null?D:s.maxEmbeddingsPerCall,supportsParallelCalls:(ce=N?.({model:s}))!=null?ce:s.supportsParallelCalls,async doEmbed(Oe){let Le=await xt({params:Oe}),Vt=async()=>s.doEmbed(Le);return b?b({doEmbed:Vt,params:Le,model:s}):Vt()}}};function st(s){return"specificationVersion"in s&&s.specificationVersion==="v3"?s:{specificationVersion:"v3",languageModel:c=>Nr(s.languageModel(c)),embeddingModel:c=>rr(s.textEmbeddingModel(c)),imageModel:c=>Ei(s.imageModel(c)),transcriptionModel:s.transcriptionModel?c=>As(s.transcriptionModel(c)):void 0,speechModel:s.speechModel?c=>is(s.speechModel(c)):void 0,rerankingModel:void 0}}function ur({provider:s,languageModelMiddleware:c}){let b=st(s);return{specificationVersion:"v3",languageModel:_=>C({model:b.languageModel(_),middleware:c}),embeddingModel:b.embeddingModel,imageModel:b.imageModel,transcriptionModel:b.transcriptionModel,speechModel:b.speechModel,rerankingModel:b.rerankingModel}}function Er({languageModels:s,embeddingModels:c,imageModels:b,transcriptionModels:_,speechModels:S,rerankingModels:z,fallbackProvider:N}){let I=N?st(N):void 0;return{specificationVersion:"v3",languageModel(K){if(s!=null&&K in s)return s[K];if(I)return I.languageModel(K);throw new Ue.NoSuchModelError({modelId:K,modelType:"languageModel"})},embeddingModel(K){if(c!=null&&K in c)return c[K];if(I)return I.embeddingModel(K);throw new Ue.NoSuchModelError({modelId:K,modelType:"embeddingModel"})},imageModel(K){if(b!=null&&K in b)return b[K];if(I?.imageModel)return I.imageModel(K);throw new Ue.NoSuchModelError({modelId:K,modelType:"imageModel"})},transcriptionModel(K){if(_!=null&&K in _)return _[K];if(I?.transcriptionModel)return I.transcriptionModel(K);throw new Ue.NoSuchModelError({modelId:K,modelType:"transcriptionModel"})},speechModel(K){if(S!=null&&K in S)return S[K];if(I?.speechModel)return I.speechModel(K);throw new Ue.NoSuchModelError({modelId:K,modelType:"speechModel"})},rerankingModel(K){if(z!=null&&K in z)return z[K];if(I?.rerankingModel)return I.rerankingModel(K);throw new Ue.NoSuchModelError({modelId:K,modelType:"rerankingModel"})}}}var rn="AI_NoSuchProviderError",vn=`vercel.ai.error.${rn}`,ct=Symbol.for(vn),yr=class extends Ue.NoSuchModelError{constructor({modelId:s,modelType:c,providerId:b,availableProviders:_,message:S=`No such provider: ${b} (available providers: ${_.join()})`}){super({errorName:rn,modelId:s,modelType:c,message:S}),this[ye]=!0,this.providerId=b,this.availableProviders=_}static isInstance(s){return Ue.AISDKError.hasMarker(s,vn)}};function wr(s,{separator:c=":",languageModelMiddleware:b}={}){let _=new Cr({separator:c,languageModelMiddleware:b});for(let[S,z]of Object.entries(s))_.registerProvider({id:S,provider:z});return _}ye=ct;var Cr=class{constructor({separator:s,languageModelMiddleware:c}){this.providers={},this.separator=s,this.languageModelMiddleware=c}registerProvider({id:s,provider:c}){this.providers[s]=c}getProvider(s,c){let b=this.providers[s];if(b==null)throw new yr({modelId:s,modelType:c,providerId:s,availableProviders:Object.keys(this.providers)});return b}splitId(s,c){let b=s.indexOf(this.separator);if(b===-1)throw new Ue.NoSuchModelError({modelId:s,modelType:c,message:`Invalid ${c} id for registry: ${s} (must be in the format "providerId${this.separator}modelId")`});return[s.slice(0,b),s.slice(b+this.separator.length)]}languageModel(s){var c,b;let[_,S]=this.splitId(s,"languageModel"),z=(b=(c=this.getProvider(_,"languageModel")).languageModel)==null?void 0:b.call(c,S);if(z==null)throw new Ue.NoSuchModelError({modelId:s,modelType:"languageModel"});return this.languageModelMiddleware!=null&&(z=C({model:z,middleware:this.languageModelMiddleware})),z}embeddingModel(s){var c;let[b,_]=this.splitId(s,"embeddingModel"),S=this.getProvider(b,"embeddingModel"),z=(c=S.embeddingModel)==null?void 0:c.call(S,_);if(z==null)throw new Ue.NoSuchModelError({modelId:s,modelType:"embeddingModel"});return z}imageModel(s){var c;let[b,_]=this.splitId(s,"imageModel"),S=this.getProvider(b,"imageModel"),z=(c=S.imageModel)==null?void 0:c.call(S,_);if(z==null)throw new Ue.NoSuchModelError({modelId:s,modelType:"imageModel"});return z}transcriptionModel(s){var c;let[b,_]=this.splitId(s,"transcriptionModel"),S=this.getProvider(b,"transcriptionModel"),z=(c=S.transcriptionModel)==null?void 0:c.call(S,_);if(z==null)throw new Ue.NoSuchModelError({modelId:s,modelType:"transcriptionModel"});return z}speechModel(s){var c;let[b,_]=this.splitId(s,"speechModel"),S=this.getProvider(b,"speechModel"),z=(c=S.speechModel)==null?void 0:c.call(S,_);if(z==null)throw new Ue.NoSuchModelError({modelId:s,modelType:"speechModel"});return z}rerankingModel(s){var c;let[b,_]=this.splitId(s,"rerankingModel"),S=this.getProvider(b,"rerankingModel"),z=(c=S.rerankingModel)==null?void 0:c.call(S,_);if(z==null)throw new Ue.NoSuchModelError({modelId:s,modelType:"rerankingModel"});return z}};async function un({model:s,documents:c,query:b,topN:_,maxRetries:S,abortSignal:z,headers:N,providerOptions:I,experimental_telemetry:K}){if(c.length===0)return new fn({originalDocuments:[],ranking:[],providerMetadata:void 0,response:{timestamp:new Date,modelId:s.modelId}});let{maxRetries:le,retry:te}=Va({maxRetries:S,abortSignal:z}),D=typeof c[0]=="string"?{type:"text",values:c}:{type:"object",values:c},ce=ao({model:s,telemetry:K,headers:N,settings:{maxRetries:le}}),xt=Fo(K);return ma({name:"ai.rerank",attributes:Wn({telemetry:K,attributes:{...ia({operationId:"ai.rerank",telemetry:K}),...ce,"ai.documents":{input:()=>c.map(Oe=>JSON.stringify(Oe))}}}),tracer:xt,fn:async()=>{var Oe,Le;let{ranking:Vt,response:vr,providerMetadata:Wr,warnings:De}=await te(()=>ma({name:"ai.rerank.doRerank",attributes:Wn({telemetry:K,attributes:{...ia({operationId:"ai.rerank.doRerank",telemetry:K}),...ce,"ai.documents":{input:()=>c.map(Dr=>JSON.stringify(Dr))}}}),tracer:xt,fn:async Dr=>{let dn=await s.doRerank({documents:D,query:b,topN:_,providerOptions:I,abortSignal:z,headers:N}),Zn=dn.ranking;return Dr.setAttributes(await Wn({telemetry:K,attributes:{"ai.ranking.type":D.type,"ai.ranking":{output:()=>Zn.map(gi=>JSON.stringify(gi))}}})),{ranking:Zn,providerMetadata:dn.providerMetadata,response:dn.response,warnings:dn.warnings}}}));return Hi({warnings:De??[],provider:s.provider,model:s.modelId}),new fn({originalDocuments:c,ranking:Vt.map(Dr=>({originalIndex:Dr.index,score:Dr.relevanceScore,document:c[Dr.index]})),providerMetadata:Wr,response:{id:vr?.id,timestamp:(Oe=vr?.timestamp)!=null?Oe:new Date,modelId:(Le=vr?.modelId)!=null?Le:s.modelId,headers:vr?.headers,body:vr?.body}})}})}var fn=class{constructor(s){this.originalDocuments=s.originalDocuments,this.ranking=s.ranking,this.response=s.response,this.providerMetadata=s.providerMetadata}get rerankedDocuments(){return this.ranking.map(s=>s.document)}},Pn=class extends Ue.AISDKError{constructor(s){super({name:"AI_NoTranscriptGeneratedError",message:"No transcript generated."}),this.responses=s.responses}};async function Un({model:s,audio:c,providerOptions:b={},maxRetries:_,abortSignal:S,headers:z}){let N=function(D){var ce,xt;if(typeof D!="string"){if(D.specificationVersion!=="v3"&&D.specificationVersion!=="v2")throw new Sr({version:D.specificationVersion,provider:D.provider,modelId:D.modelId});return As(D)}return(xt=(ce=Ko()).transcriptionModel)==null?void 0:xt.call(ce,D)}(s);if(!N)throw Error("Model could not be resolved");let{retry:I}=Va({maxRetries:_,abortSignal:S}),K=(0,Z.withUserAgentSuffix)(z??{},`ai/${na}`),le=c instanceof URL?(await Ba({url:c})).data:R(c),te=await I(()=>{var D;return N.doGenerate({audio:le,abortSignal:S,headers:K,providerOptions:b,mediaType:(D=fo({data:le,signatures:Rs}))!=null?D:"audio/wav"})});if(Hi({warnings:te.warnings,provider:N.provider,model:N.modelId}),!te.text)throw new Pn({responses:[te.response]});return new $o({text:te.text,segments:te.segments,language:te.language,durationInSeconds:te.durationInSeconds,warnings:te.warnings,responses:[te.response],providerMetadata:te.providerMetadata})}var $o=class{constructor(s){var c;this.text=s.text,this.segments=s.segments,this.language=s.language,this.durationInSeconds=s.durationInSeconds,this.warnings=s.warnings,this.responses=s.responses,this.providerMetadata=(c=s.providerMetadata)!=null?c:{}}};async function ro({stream:s,onTextPart:c}){let b=s.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:_,value:S}=await b.read();if(_)break;await c(S)}}async function Ji({api:s,prompt:c,credentials:b,headers:_,body:S,streamProtocol:z="data",setCompletion:N,setLoading:I,setError:K,setAbortController:le,onFinish:te,onError:D,fetch:ce=fetch}){var xt;try{I(!0),K(void 0);let Oe=new AbortController;le(Oe),N("");let Le=await ce(s,{method:"POST",body:JSON.stringify({prompt:c,...S}),credentials:b,headers:(0,Z.withUserAgentSuffix)({"Content-Type":"application/json",..._},`ai-sdk/${na}`,(0,Z.getRuntimeEnvironmentUserAgent)()),signal:Oe.signal}).catch(vr=>{throw vr});if(!Le.ok)throw Error((xt=await Le.text())!=null?xt:"Failed to fetch the chat response.");if(!Le.body)throw Error("The response body is empty.");let Vt="";switch(z){case"text":await ro({stream:Le.body,onTextPart:vr=>{Vt+=vr,N(Vt)}});break;case"data":await Ti({stream:(0,Z.parseJsonEventStream)({stream:Le.body,schema:Ur}).pipeThrough(new TransformStream({async transform(vr){if(!vr.success)throw vr.error;let Wr=vr.value;if(Wr.type==="text-delta")Vt+=Wr.delta,N(Vt);else if(Wr.type==="error")throw Error(Wr.errorText)}})),onError:vr=>{throw vr}});break;default:throw Error(`Unknown stream protocol: ${z}`)}return te&&te(c,Vt),le(null),Vt}catch(Oe){if(Oe.name==="AbortError")return le(null),null;Oe instanceof Error&&D&&D(Oe),K(Oe)}finally{I(!1)}}async function Ki(s){if(s==null)return[];if(!mr.FileList||!(s instanceof mr.FileList))throw Error("FileList is not supported in the current environment");return Promise.all(Array.from(s).map(async c=>{let{name:b,type:_}=c;return{type:"file",mediaType:_,filename:b,url:await new Promise((S,z)=>{let N=new FileReader;N.onload=I=>{var K;S((K=I.target)==null?void 0:K.result)},N.onerror=I=>z(I),N.readAsDataURL(c)})}}))}var Eo=class{constructor({api:s="/api/chat",credentials:c,headers:b,body:_,fetch:S,prepareSendMessagesRequest:z,prepareReconnectToStreamRequest:N}){this.api=s,this.credentials=c,this.headers=b,this.body=_,this.fetch=S,this.prepareSendMessagesRequest=z,this.prepareReconnectToStreamRequest=N}async sendMessages({abortSignal:s,...c}){var b,_,S,z,N;let I=await(0,Z.resolve)(this.body),K=await(0,Z.resolve)(this.headers),le=await(0,Z.resolve)(this.credentials),te={...(0,Z.normalizeHeaders)(K),...(0,Z.normalizeHeaders)(c.headers)},D=await((b=this.prepareSendMessagesRequest)==null?void 0:b.call(this,{api:this.api,id:c.chatId,messages:c.messages,body:{...I,...c.body},headers:te,credentials:le,requestMetadata:c.metadata,trigger:c.trigger,messageId:c.messageId})),ce=(_=D?.api)!=null?_:this.api,xt=D?.headers!==void 0?(0,Z.normalizeHeaders)(D.headers):te,Oe=D?.body!==void 0?D.body:{...I,...c.body,id:c.chatId,messages:c.messages,trigger:c.trigger,messageId:c.messageId},Le=(S=D?.credentials)!=null?S:le,Vt=(z=this.fetch)!=null?z:mr.fetch,vr=await Vt(ce,{method:"POST",headers:(0,Z.withUserAgentSuffix)({"Content-Type":"application/json",...xt},`ai-sdk/${na}`,(0,Z.getRuntimeEnvironmentUserAgent)()),body:JSON.stringify(Oe),credentials:Le,signal:s});if(!vr.ok)throw Error((N=await vr.text())!=null?N:"Failed to fetch the chat response.");if(!vr.body)throw Error("The response body is empty.");return this.processResponseStream(vr.body)}async reconnectToStream(s){var c,b,_,S,z;let N=await(0,Z.resolve)(this.body),I=await(0,Z.resolve)(this.headers),K=await(0,Z.resolve)(this.credentials),le={...(0,Z.normalizeHeaders)(I),...(0,Z.normalizeHeaders)(s.headers)},te=await((c=this.prepareReconnectToStreamRequest)==null?void 0:c.call(this,{api:this.api,id:s.chatId,body:{...N,...s.body},headers:le,credentials:K,requestMetadata:s.metadata})),D=(b=te?.api)!=null?b:`${this.api}/${s.chatId}/stream`,ce=te?.headers!==void 0?(0,Z.normalizeHeaders)(te.headers):le,xt=(_=te?.credentials)!=null?_:K,Oe=(S=this.fetch)!=null?S:mr.fetch,Le=await Oe(D,{method:"GET",headers:(0,Z.withUserAgentSuffix)(ce,`ai-sdk/${na}`,(0,Z.getRuntimeEnvironmentUserAgent)()),credentials:xt});if(Le.status===204)return null;if(!Le.ok)throw Error((z=await Le.text())!=null?z:"Failed to fetch the chat response.");if(!Le.body)throw Error("The response body is empty.");return this.processResponseStream(Le.body)}},Os=class extends Eo{constructor(s={}){super(s)}processResponseStream(s){return(0,Z.parseJsonEventStream)({stream:s,schema:Ur}).pipeThrough(new TransformStream({async transform(c,b){if(!c.success)throw c.error;b.enqueue(c.value)}}))}},Hs=class{constructor({generateId:s=Z.generateId,id:c=s(),transport:b=new Os,messageMetadataSchema:_,dataPartSchemas:S,state:z,onError:N,onToolCall:I,onFinish:K,onData:le,sendAutomaticallyWhen:te}){this.activeResponse=void 0,this.jobExecutor=new da,this.sendMessage=async(D,ce)=>{var xt,Oe,Le,Vt;let vr;if(D==null)return void await this.makeRequest({trigger:"submit-message",messageId:(xt=this.lastMessage)==null?void 0:xt.id,...ce});if(vr="text"in D||"files"in D?{parts:[...Array.isArray(D.files)?D.files:await Ki(D.files),..."text"in D&&D.text!=null?[{type:"text",text:D.text}]:[]]}:D,D.messageId!=null){let Wr=this.state.messages.findIndex(De=>De.id===D.messageId);if(Wr===-1)throw Error(`message with id ${D.messageId} not found`);if(this.state.messages[Wr].role!=="user")throw Error(`message with id ${D.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,Wr+1),this.state.replaceMessage(Wr,{...vr,id:D.messageId,role:(Oe=vr.role)!=null?Oe:"user",metadata:D.metadata})}else this.state.pushMessage({...vr,id:(Le=vr.id)!=null?Le:this.generateId(),role:(Vt=vr.role)!=null?Vt:"user",metadata:D.metadata});await this.makeRequest({trigger:"submit-message",messageId:D.messageId,...ce})},this.regenerate=async({messageId:D,...ce}={})=>{let xt=D==null?this.state.messages.length-1:this.state.messages.findIndex(Oe=>Oe.id===D);if(xt===-1)throw Error(`message ${D} not found`);this.state.messages=this.state.messages.slice(0,this.messages[xt].role==="assistant"?xt:xt+1),await this.makeRequest({trigger:"regenerate-message",messageId:D,...ce})},this.resumeStream=async(D={})=>{await this.makeRequest({trigger:"resume-stream",...D})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolApprovalResponse=async({id:D,approved:ce,reason:xt})=>this.jobExecutor.run(async()=>{var Oe,Le;let Vt=this.state.messages,vr=Vt[Vt.length-1],Wr=De=>qr(De)&&De.state==="approval-requested"&&De.approval.id===D?{...De,state:"approval-responded",approval:{id:D,approved:ce,reason:xt}}:De;this.state.replaceMessage(Vt.length-1,{...vr,parts:vr.parts.map(Wr)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(Wr)),this.status!=="streaming"&&this.status!=="submitted"&&((Oe=this.sendAutomaticallyWhen)==null?void 0:Oe.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(Le=this.lastMessage)==null?void 0:Le.id})}),this.addToolOutput=async({state:D="output-available",tool:ce,toolCallId:xt,output:Oe,errorText:Le})=>this.jobExecutor.run(async()=>{var Vt,vr;let Wr=this.state.messages,De=Wr[Wr.length-1],Dr=dn=>qr(dn)&&dn.toolCallId===xt?{...dn,state:D,output:Oe,errorText:Le}:dn;this.state.replaceMessage(Wr.length-1,{...De,parts:De.parts.map(Dr)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(Dr)),this.status!=="streaming"&&this.status!=="submitted"&&((Vt=this.sendAutomaticallyWhen)==null?void 0:Vt.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(vr=this.lastMessage)==null?void 0:vr.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var D;(this.status==="streaming"||this.status==="submitted")&&((D=this.activeResponse)==null?void 0:D.abortController)&&this.activeResponse.abortController.abort()},this.id=c,this.transport=b,this.generateId=s,this.messageMetadataSchema=_,this.dataPartSchemas=S,this.state=z,this.onError=N,this.onToolCall=I,this.onFinish=K,this.onData=le,this.sendAutomaticallyWhen=te}get status(){return this.state.status}setStatus({status:s,error:c}){this.status!==s&&(this.state.status=s,this.state.error=c)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(s){this.state.messages=s}async makeRequest({trigger:s,metadata:c,headers:b,body:_,messageId:S}){var z,N,I,K;this.setStatus({status:"submitted",error:void 0});let le=this.lastMessage,te=!1,D=!1,ce=!1;try{let xt,Oe={state:or({lastMessage:this.state.snapshot(le),messageId:this.generateId()}),abortController:new AbortController};if(Oe.abortController.signal.addEventListener("abort",()=>{te=!0}),this.activeResponse=Oe,s==="resume-stream"){let Vt=await this.transport.reconnectToStream({chatId:this.id,metadata:c,headers:b,body:_});if(Vt==null)return void this.setStatus({status:"ready"});xt=Vt}else xt=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:Oe.abortController.signal,metadata:c,headers:b,body:_,trigger:s,messageId:S});let Le=Vt=>this.jobExecutor.run(()=>Vt({state:Oe.state,write:()=>{var vr;this.setStatus({status:"streaming"}),Oe.state.message.id===((vr=this.lastMessage)==null?void 0:vr.id)?this.state.replaceMessage(this.state.messages.length-1,Oe.state.message):this.state.pushMessage(Oe.state.message)}}));await Ti({stream:Wt({stream:xt,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:Le,onError:Vt=>{throw Vt}}),onError:Vt=>{throw Vt}}),this.setStatus({status:"ready"})}catch(xt){if(te||xt.name==="AbortError")return te=!0,this.setStatus({status:"ready"}),null;ce=!0,xt instanceof TypeError&&(xt.message.toLowerCase().includes("fetch")||xt.message.toLowerCase().includes("network"))&&(D=!0),this.onError&&xt instanceof Error&&this.onError(xt),this.setStatus({status:"error",error:xt})}finally{try{(N=this.onFinish)==null||N.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:te,isDisconnect:D,isError:ce,finishReason:(z=this.activeResponse)==null?void 0:z.state.finishReason})}catch(xt){console.error(xt)}this.activeResponse=void 0}((I=this.sendAutomaticallyWhen)==null?void 0:I.call(this,{messages:this.state.messages}))&&!ce&&await this.makeRequest({trigger:"submit-message",messageId:(K=this.lastMessage)==null?void 0:K.id,metadata:c,headers:b,body:_})}};function Gs({messages:s}){let c=s[s.length-1];if(!c||c.role!=="assistant")return!1;let b=c.parts.reduce((S,z,N)=>z.type==="step-start"?N:S,-1),_=c.parts.slice(b+1).filter(qr).filter(S=>!S.providerExecuted);return _.filter(S=>S.state==="approval-responded").length>0&&_.every(S=>S.state==="output-available"||S.state==="output-error"||S.state==="approval-responded")}function Qs({messages:s}){let c=s[s.length-1];if(!c||c.role!=="assistant")return!1;let b=c.parts.reduce((S,z,N)=>z.type==="step-start"?N:S,-1),_=c.parts.slice(b+1).filter(qr).filter(S=>!S.providerExecuted);return _.length>0&&_.every(S=>S.state==="output-available"||S.state==="output-error")}var os=class extends Eo{constructor(s={}){super(s)}processResponseStream(s){return function({stream:c}){return c.pipeThrough(new TransformStream({start(b){b.enqueue({type:"start"}),b.enqueue({type:"start-step"}),b.enqueue({type:"text-start",id:"text-1"})},async transform(b,_){_.enqueue({type:"text-delta",id:"text-1",delta:b})},async flush(b){b.enqueue({type:"text-end",id:"text-1"}),b.enqueue({type:"finish-step"}),b.enqueue({type:"finish"})}}))}({stream:s.pipeThrough(new TextDecoderStream)})}};v.s(["AbstractChat",()=>Hs,"DefaultChatTransport",()=>Os,"Experimental_Agent",()=>d,"HttpChatTransport",()=>Eo,"InvalidArgumentError",()=>Dn,"InvalidDataContentError",()=>Yi,"InvalidMessageRoleError",()=>ni,"InvalidStreamPartError",()=>Xr,"InvalidToolApprovalError",()=>_o,"InvalidToolInputError",()=>Ya,"JsonToSseTransformStream",()=>Kt,"MessageConversionError",()=>ho,"NoImageGeneratedError",()=>Rr,"NoObjectGeneratedError",()=>Hr,"NoOutputGeneratedError",()=>$i,"NoSpeechGeneratedError",()=>mi,"NoSuchProviderError",()=>yr,"NoSuchToolError",()=>qn,"Output",()=>Ee,"RetryError",()=>bi,"SerialJobExecutor",()=>da,"TextStreamChatTransport",()=>os,"ToolCallNotFoundForApprovalError",()=>wt,"ToolCallRepairError",()=>ra,"ToolLoopAgent",()=>d,"UI_MESSAGE_STREAM_HEADERS",()=>Tt,"UnsupportedModelVersionError",()=>Sr,"addToolInputExamplesMiddleware",()=>l,"assistantModelMessageSchema",()=>wo,"callCompletionApi",()=>Ji,"consumeStream",()=>Ti,"convertFileListToFileUIParts",()=>Ki,"convertToModelMessages",()=>L,"cosineSimilarity",()=>ji,"createAgentUIStream",()=>xe,"createAgentUIStreamResponse",()=>Ae,"createProviderRegistry",()=>wr,"createTextStreamResponse",()=>dt,"createUIMessageStream",()=>y,"createUIMessageStreamResponse",()=>Dt,"customProvider",()=>Er,"defaultEmbeddingSettingsMiddleware",()=>Bo,"defaultSettingsMiddleware",()=>Wo,"embed",()=>Ot,"embedMany",()=>Jt,"experimental_createProviderRegistry",()=>wr,"experimental_customProvider",()=>Er,"experimental_generateImage",()=>Pt,"experimental_generateSpeech",()=>Mo,"experimental_transcribe",()=>Un,"extractReasoningMiddleware",()=>_s,"generateImage",()=>Pt,"generateObject",()=>fi,"generateText",()=>de,"getStaticToolName",()=>kt,"getTextFromDataUrl",()=>ha,"getToolName",()=>Ne,"getToolOrDynamicToolName",()=>Ne,"hasToolCall",()=>at,"isDataUIPart",()=>fr,"isDeepEqualData",()=>to,"isFileUIPart",()=>Ye,"isReasoningUIPart",()=>Lt,"isStaticToolUIPart",()=>yt,"isTextUIPart",()=>sr,"isToolOrDynamicToolUIPart",()=>qr,"isToolUIPart",()=>qr,"lastAssistantMessageIsCompleteWithApprovalResponses",()=>Gs,"lastAssistantMessageIsCompleteWithToolCalls",()=>Qs,"modelMessageSchema",()=>ko,"parsePartialJson",()=>fe,"pipeAgentUIStreamToResponse",()=>ot,"pipeTextStreamToResponse",()=>Bt,"pipeUIMessageStreamToResponse",()=>ja,"pruneMessages",()=>ui,"readUIMessageStream",()=>O,"rerank",()=>un,"safeValidateUIMessages",()=>E,"simulateReadableStream",()=>Ga,"simulateStreamingMiddleware",()=>T,"smoothStream",()=>bs,"stepCountIs",()=>$t,"streamObject",()=>ka,"streamText",()=>vs,"systemModelMessageSchema",()=>go,"toolModelMessageSchema",()=>Lo,"uiMessageChunkSchema",()=>Ur,"userModelMessageSchema",()=>Po,"validateUIMessages",()=>Y,"wrapEmbeddingModel",()=>se,"wrapLanguageModel",()=>C,"wrapProvider",()=>ur],97804)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_@opentelemetry_api_build_esm_a886cc58._.js",30623,24158,v=>{"use strict";function p(ie){return Symbol.for(ie)}var ve=new function ie(Ze){var me=this;me._currentContext=Ze?new Map(Ze):new Map,me.getValue=function($e){return me._currentContext.get($e)},me.setValue=function($e,V){var X=new ie(me._currentContext);return X._currentContext.set($e,V),X},me.deleteValue=function($e){var V=new ie(me._currentContext);return V._currentContext.delete($e),V}};v.s(["ROOT_CONTEXT",()=>ve,"createContextKey",()=>p],24158);var n=function(ie,Ze){var me=typeof Symbol=="function"&&ie[Symbol.iterator];if(!me)return ie;var $e,V,X=me.call(ie),U=[];try{for(;(Ze===void 0||Ze-- >0)&&!($e=X.next()).done;)U.push($e.value)}catch(oe){V={error:oe}}finally{try{$e&&!$e.done&&(me=X.return)&&me.call(X)}finally{if(V)throw V.error}}return U},Pe=function(ie,Ze,me){if(me||arguments.length==2)for(var $e,V=0,X=Ze.length;V<X;V++)!$e&&V in Ze||($e||($e=Array.prototype.slice.call(Ze,0,V)),$e[V]=Ze[V]);return ie.concat($e||Array.prototype.slice.call(Ze))},M=function(){function ie(){}return ie.prototype.active=function(){return ve},ie.prototype.with=function(Ze,me,$e){for(var V=[],X=3;X<arguments.length;X++)V[X-3]=arguments[X];return me.call.apply(me,Pe([$e],n(V),!1))},ie.prototype.bind=function(Ze,me){return me},ie.prototype.enable=function(){return this},ie.prototype.disable=function(){return this},ie}();v.s(["NoopContextManager",()=>M],30623)},98688,v=>{"use strict";var p=typeof mr=="object"?mr:typeof Ui=="object"?Ui:v.g,ve="1.9.0",n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,Pe=function($e){var V=new Set([$e]),X=new Set,U=$e.match(n);if(!U)return function(){return!1};var oe={major:+U[1],minor:+U[2],patch:+U[3],prerelease:U[4]};if(oe.prerelease!=null)return function(ge){return ge===$e};function _e(ge){return X.add(ge),!1}return function(ge){if(V.has(ge))return!0;if(X.has(ge))return!1;var ht=ge.match(n);if(!ht)return _e(ge);var ee={major:+ht[1],minor:+ht[2],patch:+ht[3],prerelease:ht[4]};return ee.prerelease!=null||oe.major!==ee.major?_e(ge):oe.major===0?oe.minor===ee.minor&&oe.patch<=ee.patch?(V.add(ge),!0):_e(ge):oe.minor<=ee.minor?(V.add(ge),!0):_e(ge)}}(ve),M=Symbol.for("opentelemetry.js.api."+ve.split(".")[0]);function ie($e,V,X,U){U===void 0&&(U=!1);var oe,_e=p[M]=(oe=p[M])!=null?oe:{version:ve};if(!U&&_e[$e]){var ge=Error("@opentelemetry/api: Attempted duplicate registration of API: "+$e);return X.error(ge.stack||ge.message),!1}if(_e.version!==ve){var ge=Error("@opentelemetry/api: Registration of version v"+_e.version+" for "+$e+" does not match previously registered API v"+ve);return X.error(ge.stack||ge.message),!1}return _e[$e]=V,X.debug("@opentelemetry/api: Registered a global for "+$e+" v"+ve+"."),!0}function Ze($e){var V,X,U=(V=p[M])==null?void 0:V.version;if(U&&Pe(U))return(X=p[M])==null?void 0:X[$e]}function me($e,V){V.debug("@opentelemetry/api: Unregistering a global for "+$e+" v"+ve+".");var X=p[M];X&&delete X[$e]}v.s(["getGlobal",()=>Ze,"registerGlobal",()=>ie,"unregisterGlobal",()=>me],98688)},94323,63689,91008,34529,89622,65839,9729,68677,29322,31232,v=>{"use strict";var p,ve,n,Pe,M,ie,Ze=v.i(98688),me=v.i(30623),$e=function(q,J){var W=typeof Symbol=="function"&&q[Symbol.iterator];if(!W)return q;var Fe,rt,Zt=W.call(q),_r=[];try{for(;(J===void 0||J-- >0)&&!(Fe=Zt.next()).done;)_r.push(Fe.value)}catch(H){rt={error:H}}finally{try{Fe&&!Fe.done&&(W=Zt.return)&&W.call(Zt)}finally{if(rt)throw rt.error}}return _r},V=function(q,J,W){if(W||arguments.length==2)for(var Fe,rt=0,Zt=J.length;rt<Zt;rt++)!Fe&&rt in J||(Fe||(Fe=Array.prototype.slice.call(J,0,rt)),Fe[rt]=J[rt]);return q.concat(Fe||Array.prototype.slice.call(J))},X=function(){function q(J){this._namespace=J.namespace||"DiagComponentLogger"}return q.prototype.debug=function(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];return U("debug",this._namespace,J)},q.prototype.error=function(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];return U("error",this._namespace,J)},q.prototype.info=function(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];return U("info",this._namespace,J)},q.prototype.warn=function(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];return U("warn",this._namespace,J)},q.prototype.verbose=function(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];return U("verbose",this._namespace,J)},q}();function U(q,J,W){var Fe=(0,Ze.getGlobal)("diag");if(Fe)return W.unshift(J),Fe[q].apply(Fe,V([],$e(W),!1))}(p=Pe||(Pe={}))[p.NONE=0]="NONE",p[p.ERROR=30]="ERROR",p[p.WARN=50]="WARN",p[p.INFO=60]="INFO",p[p.DEBUG=70]="DEBUG",p[p.VERBOSE=80]="VERBOSE",p[p.ALL=9999]="ALL",v.s(["DiagLogLevel",()=>Pe],63689);var oe=function(q,J){var W=typeof Symbol=="function"&&q[Symbol.iterator];if(!W)return q;var Fe,rt,Zt=W.call(q),_r=[];try{for(;(J===void 0||J-- >0)&&!(Fe=Zt.next()).done;)_r.push(Fe.value)}catch(H){rt={error:H}}finally{try{Fe&&!Fe.done&&(W=Zt.return)&&W.call(Zt)}finally{if(rt)throw rt.error}}return _r},_e=function(q,J,W){if(W||arguments.length==2)for(var Fe,rt=0,Zt=J.length;rt<Zt;rt++)!Fe&&rt in J||(Fe||(Fe=Array.prototype.slice.call(J,0,rt)),Fe[rt]=J[rt]);return q.concat(Fe||Array.prototype.slice.call(J))},ge=function(){function q(){function J(Fe){return function(){for(var rt=[],Zt=0;Zt<arguments.length;Zt++)rt[Zt]=arguments[Zt];var _r=(0,Ze.getGlobal)("diag");if(_r)return _r[Fe].apply(_r,_e([],oe(rt),!1))}}var W=this;W.setLogger=function(Fe,rt){if(rt===void 0&&(rt={logLevel:Pe.INFO}),Fe===W){var Zt,_r,H,Br=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return W.error((Zt=Br.stack)!=null?Zt:Br.message),!1}typeof rt=="number"&&(rt={logLevel:rt});var Gr=(0,Ze.getGlobal)("diag"),kn=function(Bn,ir){function Qe(qt,Qt){var nn=ir[qt];return typeof nn=="function"&&Bn>=Qt?nn.bind(ir):function(){}}return Bn<Pe.NONE?Bn=Pe.NONE:Bn>Pe.ALL&&(Bn=Pe.ALL),ir=ir||{},{error:Qe("error",Pe.ERROR),warn:Qe("warn",Pe.WARN),info:Qe("info",Pe.INFO),debug:Qe("debug",Pe.DEBUG),verbose:Qe("verbose",Pe.VERBOSE)}}((_r=rt.logLevel)!=null?_r:Pe.INFO,Fe);if(Gr&&!rt.suppressOverrideMessage){var Jn=(H=Error().stack)!=null?H:"<failed to generate stacktrace>";Gr.warn("Current logger will be overwritten from "+Jn),kn.warn("Current logger will overwrite one already registered from "+Jn)}return(0,Ze.registerGlobal)("diag",kn,W,!0)},W.disable=function(){(0,Ze.unregisterGlobal)("diag",W)},W.createComponentLogger=function(Fe){return new X(Fe)},W.verbose=J("verbose"),W.debug=J("debug"),W.info=J("info"),W.warn=J("warn"),W.error=J("error")}return q.instance=function(){return this._instance||(this._instance=new q),this._instance},q}();v.s(["DiagAPI",()=>ge],91008);var ht=function(q,J){var W=typeof Symbol=="function"&&q[Symbol.iterator];if(!W)return q;var Fe,rt,Zt=W.call(q),_r=[];try{for(;(J===void 0||J-- >0)&&!(Fe=Zt.next()).done;)_r.push(Fe.value)}catch(H){rt={error:H}}finally{try{Fe&&!Fe.done&&(W=Zt.return)&&W.call(Zt)}finally{if(rt)throw rt.error}}return _r},ee=function(q,J,W){if(W||arguments.length==2)for(var Fe,rt=0,Zt=J.length;rt<Zt;rt++)!Fe&&rt in J||(Fe||(Fe=Array.prototype.slice.call(J,0,rt)),Fe[rt]=J[rt]);return q.concat(Fe||Array.prototype.slice.call(J))},Be="context",re=new me.NoopContextManager,et=function(){function q(){}return q.getInstance=function(){return this._instance||(this._instance=new q),this._instance},q.prototype.setGlobalContextManager=function(J){return(0,Ze.registerGlobal)(Be,J,ge.instance())},q.prototype.active=function(){return this._getContextManager().active()},q.prototype.with=function(J,W,Fe){for(var rt,Zt=[],_r=3;_r<arguments.length;_r++)Zt[_r-3]=arguments[_r];return(rt=this._getContextManager()).with.apply(rt,ee([J,W,Fe],ht(Zt),!1))},q.prototype.bind=function(J,W){return this._getContextManager().bind(J,W)},q.prototype._getContextManager=function(){return(0,Ze.getGlobal)(Be)||re},q.prototype.disable=function(){this._getContextManager().disable(),(0,Ze.unregisterGlobal)(Be,ge.instance())},q}();v.s(["ContextAPI",()=>et],34529);var Ge=v.i(24158);(ve=M||(M={}))[ve.NONE=0]="NONE",ve[ve.SAMPLED=1]="SAMPLED",v.s(["TraceFlags",()=>M],89622);var it="0000000000000000",bt="00000000000000000000000000000000",Et={traceId:bt,spanId:it,traceFlags:M.NONE};v.s(["INVALID_SPANID",()=>it,"INVALID_SPAN_CONTEXT",()=>Et,"INVALID_TRACEID",()=>bt],65839);var tr=function(){function q(J){J===void 0&&(J=Et),this._spanContext=J}return q.prototype.spanContext=function(){return this._spanContext},q.prototype.setAttribute=function(J,W){return this},q.prototype.setAttributes=function(J){return this},q.prototype.addEvent=function(J,W){return this},q.prototype.addLink=function(J){return this},q.prototype.addLinks=function(J){return this},q.prototype.setStatus=function(J){return this},q.prototype.updateName=function(J){return this},q.prototype.end=function(J){},q.prototype.isRecording=function(){return!1},q.prototype.recordException=function(J,W){},q}(),Gt=(0,Ge.createContextKey)("OpenTelemetry Context Key SPAN");function Ve(q){return q.getValue(Gt)||void 0}function cr(){return Ve(et.getInstance().active())}function ye(q,J){return q.setValue(Gt,J)}function be(q){return q.deleteValue(Gt)}function Z(q,J){return ye(q,new tr(J))}function vt(q){var J;return(J=Ve(q))==null?void 0:J.spanContext()}var h=/^([0-9a-f]{32})$/i,Xt=/^[0-9a-f]{16}$/i;function lt(q){return h.test(q)&&q!==bt}function pr(q){return Xt.test(q)&&q!==it}function pt(q){return lt(q.traceId)&&pr(q.spanId)}function ft(q){return new tr(q)}v.s(["isSpanContextValid",()=>pt,"isValidSpanId",()=>pr,"isValidTraceId",()=>lt,"wrapSpanContext",()=>ft],9729);var an=et.getInstance(),gn=function(){function q(){}return q.prototype.startSpan=function(J,W,Fe){if(Fe===void 0&&(Fe=an.active()),W?.root)return new tr;var rt,Zt=Fe&&vt(Fe);return typeof(rt=Zt)=="object"&&typeof rt.spanId=="string"&&typeof rt.traceId=="string"&&typeof rt.traceFlags=="number"&&pt(Zt)?new tr(Zt):new tr},q.prototype.startActiveSpan=function(J,W,Fe,rt){if(!(arguments.length<2)){arguments.length==2?H=W:arguments.length==3?(Zt=W,H=Fe):(Zt=W,_r=Fe,H=rt);var Zt,_r,H,Br=_r??an.active(),Gr=this.startSpan(J,Zt,Br),kn=ye(Br,Gr);return an.with(kn,H,void 0,Gr)}},q}(),ei=new gn,pn=function(){function q(J,W,Fe,rt){this._provider=J,this.name=W,this.version=Fe,this.options=rt}return q.prototype.startSpan=function(J,W,Fe){return this._getTracer().startSpan(J,W,Fe)},q.prototype.startActiveSpan=function(J,W,Fe,rt){var Zt=this._getTracer();return Reflect.apply(Zt.startActiveSpan,Zt,arguments)},q.prototype._getTracer=function(){if(this._delegate)return this._delegate;var J=this._provider.getDelegateTracer(this.name,this.version,this.options);return J?(this._delegate=J,this._delegate):ei},q}();v.s(["ProxyTracer",()=>pn],68677);var nr=new(function(){function q(){}return q.prototype.getTracer=function(J,W,Fe){return new gn},q}()),zr=function(){function q(){}return q.prototype.getTracer=function(J,W,Fe){var rt;return(rt=this.getDelegateTracer(J,W,Fe))!=null?rt:new pn(this,J,W,Fe)},q.prototype.getDelegate=function(){var J;return(J=this._delegate)!=null?J:nr},q.prototype.setDelegate=function(J){this._delegate=J},q.prototype.getDelegateTracer=function(J,W,Fe){var rt;return(rt=this._delegate)==null?void 0:rt.getTracer(J,W,Fe)},q}();v.s(["ProxyTracerProvider",()=>zr],29322);var en="trace",Se=function(){function q(){this._proxyTracerProvider=new zr,this.wrapSpanContext=ft,this.isSpanContextValid=pt,this.deleteSpan=be,this.getSpan=Ve,this.getActiveSpan=cr,this.getSpanContext=vt,this.setSpan=ye,this.setSpanContext=Z}return q.getInstance=function(){return this._instance||(this._instance=new q),this._instance},q.prototype.setGlobalTracerProvider=function(J){var W=(0,Ze.registerGlobal)(en,this._proxyTracerProvider,ge.instance());return W&&this._proxyTracerProvider.setDelegate(J),W},q.prototype.getTracerProvider=function(){return(0,Ze.getGlobal)(en)||this._proxyTracerProvider},q.prototype.getTracer=function(J,W){return this.getTracerProvider().getTracer(J,W)},q.prototype.disable=function(){(0,Ze.unregisterGlobal)(en,ge.instance()),this._proxyTracerProvider=new zr},q}().getInstance();v.s(["trace",()=>Se],94323),(n=ie||(ie={}))[n.UNSET=0]="UNSET",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",v.s(["SpanStatusCode",()=>ie],31232)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/_7ece717d._.js",59518,(v,p,ve)=>{},58168,(v,p,ve)=>{"use strict";let n,Pe,M,ie,Ze;var me=Object.create,$e=Object.defineProperty,V=Object.getOwnPropertyDescriptor,X=Object.getOwnPropertyNames,U=Object.getPrototypeOf,oe=Object.prototype.hasOwnProperty,_e=(bt,Et,tr,Gt)=>{if(Et&&typeof Et=="object"||typeof Et=="function")for(let Ve of X(Et))oe.call(bt,Ve)||Ve===tr||$e(bt,Ve,{get:()=>Et[Ve],enumerable:!(Gt=V(Et,Ve))||Gt.enumerable});return bt},ge=(n={"../../node_modules/dedent-tabs/dist/dedent-tabs.js"(bt){Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=function(Et){for(var tr=typeof Et=="string"?[Et]:Et.raw,Gt="",Ve=0;Ve<tr.length;Ve++)if(Gt+=tr[Ve].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{"),Ve<(1>=arguments.length?0:arguments.length-1)){var cr=Gt.substring(Gt.lastIndexOf(`
`)+1).match(/^(\s*)\S?/);Gt+=((1>Ve+1||arguments.length<=Ve+1?void 0:arguments[Ve+1])+"").replace(/\n/g,`
`+cr[1])}var ye=Gt.split(`
`),be=null;if(ye.forEach(function(vt){var h=Math.min,Xt=vt.match(/^(\s+)\S+/);if(Xt){var lt=Xt[1].length;be=be?h(be,lt):lt}}),be!==null){var Z=be;Gt=ye.map(function(vt){return vt[0]===" "||vt[0]==="	"?vt.slice(Z):vt}).join(`
`)}return Gt.trim().replace(/\\n/g,`
`)}}},function(){return Pe||(0,n[X(n)[0]])((Pe={exports:{}}).exports,Pe),Pe.exports}),ht={},ee={getOptionalRequestContext:()=>Ge,getRequestContext:()=>it};for(var Be in ee)$e(ht,Be,{get:ee[Be],enumerable:!0});p.exports=_e($e({},"__esModule",{value:!0}),ht),v.r(59518);var re=(Ze=(M=ge())!=null?me(U(M)):{},_e(!ie&&M&&M.__esModule?Ze:$e(Ze,"default",{value:M,enumerable:!0}),M)),et=Symbol.for("__cloudflare-request-context__");function Ge(){let bt=mr[et];if((process?.release?.name==="node"?"nodejs":"edge")=="nodejs")throw Error(re.default`
			\`getRequestContext\` and \`getOptionalRequestContext\` can only be run
			inside the edge runtime, so please make sure to have included
			\`export const runtime = 'edge'\` in all the routes using such functions
			(regardless of whether they are used directly or indirectly through imports).
		`);return bt}function it(){let bt=Ge();if(!bt)throw process?.env?.NEXT_PHASE==="phase-production-build"?Error(re.default`
				\n\`getRequestContext\` is being called at the top level of a route file, this is not supported
				for more details see https://developers.cloudflare.com/pages/framework-guides/nextjs/ssr/troubleshooting/#top-level-getrequestcontext \n
			`):Error("Failed to retrieve the Cloudflare request context.");return bt}},40831,71062,76436,60378,17649,v=>{"use strict";let p,ve;var n,Pe=v.i(58168);let M=Symbol.for("drizzle:entityKind");function ie(T,o){if(!T||typeof T!="object")return!1;if(T instanceof o)return!0;if(!Object.prototype.hasOwnProperty.call(o,M))throw Error(`Class "${o.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let l=Object.getPrototypeOf(T).constructor;if(l)for(;l;){if(M in l&&l[M]===o[M])return!0;l=Object.getPrototypeOf(l)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class Ze{static[M]="ConsoleLogWriter";write(o){console.log(o)}}class me{static[M]="DefaultLogger";writer;constructor(o){this.writer=o?.writer??new Ze}logQuery(o,l){let C=l.map(se=>{try{return JSON.stringify(se)}catch{return String(se)}}),B=C.length?` -- params: [${C.join(", ")}]`:"";this.writer.write(`Query: ${o}${B}`)}}class $e{static[M]="NoopLogger";logQuery(){}}let V=Symbol.for("drizzle:Name"),X=Symbol.for("drizzle:Schema"),U=Symbol.for("drizzle:Columns"),oe=Symbol.for("drizzle:ExtraConfigColumns"),_e=Symbol.for("drizzle:OriginalName"),ge=Symbol.for("drizzle:BaseName"),ht=Symbol.for("drizzle:IsAlias"),ee=Symbol.for("drizzle:ExtraConfigBuilder"),Be=Symbol.for("drizzle:IsDrizzleTable");class re{static[M]="Table";static Symbol={Name:V,Schema:X,OriginalName:_e,Columns:U,ExtraConfigColumns:oe,BaseName:ge,IsAlias:ht,ExtraConfigBuilder:ee};[V];[_e];[X];[U];[oe];[ge];[ht]=!1;[Be]=!0;[ee]=void 0;constructor(o,l,C){this[V]=this[_e]=o,this[X]=l,this[ge]=C}}function et(T){return`${T[X]??"public"}.${T[V]}`}class Ge{constructor(o,l){this.table=o,this.config=l,this.name=l.name,this.keyAsName=l.keyAsName,this.notNull=l.notNull,this.default=l.default,this.defaultFn=l.defaultFn,this.onUpdateFn=l.onUpdateFn,this.hasDefault=l.hasDefault,this.primary=l.primaryKey,this.isUnique=l.isUnique,this.uniqueName=l.uniqueName,this.uniqueType=l.uniqueType,this.dataType=l.dataType,this.columnType=l.columnType,this.generated=l.generated,this.generatedIdentity=l.generatedIdentity}static[M]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(o){return o}mapToDriverValue(o){return o}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class it{static[M]="ColumnBuilder";config;constructor(o,l,C){this.config={name:o,keyAsName:o==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:l,columnType:C,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(o){return this.config.default=o,this.config.hasDefault=!0,this}$defaultFn(o){return this.config.defaultFn=o,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(o){return this.config.onUpdateFn=o,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(o){this.config.name===""&&(this.config.name=o)}}class bt{static[M]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(o,l){this.reference=()=>{let{name:C,columns:B,foreignColumns:se}=o();return{name:C,columns:B,foreignTable:se[0].table,foreignColumns:se}},l&&(this._onUpdate=l.onUpdate,this._onDelete=l.onDelete)}onUpdate(o){return this._onUpdate=o===void 0?"no action":o,this}onDelete(o){return this._onDelete=o===void 0?"no action":o,this}build(o){return new Et(o,this)}}class Et{constructor(o,l){this.table=o,this.reference=l.reference,this.onUpdate=l._onUpdate,this.onDelete=l._onDelete}static[M]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:o,columns:l,foreignColumns:C}=this.reference(),B=l.map(st=>st.name),se=C.map(st=>st.name),Je=[this.table[V],...B,C[0].table[V],...se];return o??`${Je.join("_")}_fk`}}function tr(T,...o){return T(...o)}function Gt(T,o){return`${T[V]}_${o.join("_")}_unique`}class Ve{constructor(o,l){this.name=l,this.columns=o}static[M]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(o){return new ye(o,this.columns,this.nullsNotDistinctConfig,this.name)}}class cr{static[M]="PgUniqueOnConstraintBuilder";name;constructor(o){this.name=o}on(...o){return new Ve(o,this.name)}}class ye{constructor(o,l,C,B){this.table=o,this.columns=l,this.name=B??Gt(this.table,this.columns.map(se=>se.name)),this.nullsNotDistinct=C}static[M]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function be(T,o,l){for(let C=o;C<T.length;C++){let B=T[C];if(B==="\\"){C++;continue}if(B==='"')return[T.slice(o,C).replace(/\\/g,""),C+1];if(!l&&(B===","||B==="}"))return[T.slice(o,C).replace(/\\/g,""),C]}return[T.slice(o).replace(/\\/g,""),T.length]}class Z extends it{foreignKeyConfigs=[];static[M]="PgColumnBuilder";array(o){return new lt(this.config.name,this,o)}references(o,l={}){return this.foreignKeyConfigs.push({ref:o,actions:l}),this}unique(o,l){return this.config.isUnique=!0,this.config.uniqueName=o,this.config.uniqueType=l?.nulls,this}generatedAlwaysAs(o){return this.config.generated={as:o,type:"always",mode:"stored"},this}buildForeignKeys(o,l){return this.foreignKeyConfigs.map(({ref:C,actions:B})=>tr((se,Je)=>{let st=new bt(()=>({columns:[o],foreignColumns:[se()]}));return Je.onUpdate&&st.onUpdate(Je.onUpdate),Je.onDelete&&st.onDelete(Je.onDelete),st.build(l)},C,B))}buildExtraConfigColumn(o){return new h(o,this.config)}}class vt extends Ge{constructor(o,l){l.uniqueName||(l.uniqueName=Gt(o,[l.name])),super(o,l),this.table=o}static[M]="PgColumn"}class h extends vt{static[M]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(o){return this.indexConfig.opClass=o,this}}class Xt{static[M]="IndexedColumn";constructor(o,l,C,B){this.name=o,this.keyAsName=l,this.type=C,this.indexConfig=B}name;keyAsName;type;indexConfig}class lt extends Z{static[M]="PgArrayBuilder";constructor(o,l,C){super(o,"array","PgArray"),this.config.baseBuilder=l,this.config.size=C}build(o){let l=this.config.baseBuilder.build(o);return new pr(o,this.config,l)}}class pr extends vt{constructor(o,l,C,B){super(o,l),this.baseColumn=C,this.range=B,this.size=l.size}size;static[M]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(o){return typeof o=="string"&&(o=function(l){let[C]=function B(se,Je=0){let st=[],ur=Je,Er=!1;for(;ur<se.length;){let rn=se[ur];if(rn===","){(Er||ur===Je)&&st.push(""),Er=!0,ur++;continue}if(Er=!1,rn==="\\"){ur+=2;continue}if(rn==='"'){let[yr,wr]=be(se,ur+1,!0);st.push(yr),ur=wr;continue}if(rn==="}")return[st,ur+1];if(rn==="{"){let[yr,wr]=B(se,ur+1);st.push(yr),ur=wr;continue}let[vn,ct]=be(se,ur,!1);st.push(vn),ur=ct}return[st,ur]}(l,1);return C}(o)),o.map(l=>this.baseColumn.mapFromDriverValue(l))}mapToDriverValue(o,l=!1){let C=o.map(B=>B===null?null:ie(this.baseColumn,pr)?this.baseColumn.mapToDriverValue(B,!0):this.baseColumn.mapToDriverValue(B));return l?C:function B(se){return`{${se.map(Je=>Array.isArray(Je)?B(Je):typeof Je=="string"?`"${Je.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${Je}`).join(",")}}`}(C)}}class pt extends Z{static[M]="PgEnumObjectColumnBuilder";constructor(o,l){super(o,"string","PgEnumObjectColumn"),this.config.enum=l}build(o){return new ft(o,this.config)}}class ft extends vt{static[M]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(o,l){super(o,l),this.enum=l.enum}getSQLType(){return this.enum.enumName}}let an=Symbol.for("drizzle:isPgEnum");class gn extends Z{static[M]="PgEnumColumnBuilder";constructor(o,l){super(o,"string","PgEnumColumn"),this.config.enum=l}build(o){return new ei(o,this.config)}}class ei extends vt{static[M]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(o,l){super(o,l),this.enum=l.enum}getSQLType(){return this.enum.enumName}}class pn{static[M]="Subquery";constructor(o,l,C,B=!1,se=[]){this._={brand:"Subquery",sql:o,selectedFields:l,alias:C,isWith:B,usedTables:se}}}class nr extends pn{static[M]="WithSubquery"}let zr=(T,o)=>p?(ve||(ve=p.trace.getTracer("drizzle-orm","0.45.1")),tr((l,C)=>C.startActiveSpan(T,B=>{try{return o(B)}catch(se){throw B.setStatus({code:l.SpanStatusCode.ERROR,message:se instanceof Error?se.message:"Unknown error"}),se}finally{B.end()}}),p,ve)):o(),en=Symbol.for("drizzle:ViewBaseConfig");class Se{static[M]="FakePrimitiveParam"}function q(T){return T!=null&&typeof T.getSQL=="function"}class J{static[M]="StringChunk";value;constructor(o){this.value=Array.isArray(o)?o:[o]}getSQL(){return new W([this])}}class W{constructor(o){for(let l of(this.queryChunks=o,o))if(ie(l,re)){let C=l[re.Symbol.Schema];this.usedTables.push(C===void 0?l[re.Symbol.Name]:C+"."+l[re.Symbol.Name])}}static[M]="SQL";decoder=rt;shouldInlineParams=!1;usedTables=[];append(o){return this.queryChunks.push(...o.queryChunks),this}toQuery(o){return zr("drizzle.buildSQL",l=>{let C=this.buildQueryFromSourceParams(this.queryChunks,o);return l?.setAttributes({"drizzle.query.text":C.sql,"drizzle.query.params":JSON.stringify(C.params)}),C})}buildQueryFromSourceParams(o,l){let C=Object.assign({},l,{inlineParams:l.inlineParams||this.shouldInlineParams,paramStartIndex:l.paramStartIndex||{value:0}}),{casing:B,escapeName:se,escapeParam:Je,prepareTyping:st,inlineParams:ur,paramStartIndex:Er}=C;var rn=o.map(ct=>{if(ie(ct,J))return{sql:ct.value.join(""),params:[]};if(ie(ct,Fe))return{sql:se(ct.value),params:[]};if(ct===void 0)return{sql:"",params:[]};if(Array.isArray(ct)){let yr=[new J("(")];for(let[wr,Cr]of ct.entries())yr.push(Cr),wr<ct.length-1&&yr.push(new J(", "));return yr.push(new J(")")),this.buildQueryFromSourceParams(yr,C)}if(ie(ct,W))return this.buildQueryFromSourceParams(ct.queryChunks,{...C,inlineParams:ur||ct.shouldInlineParams});if(ie(ct,re)){let yr=ct[re.Symbol.Schema],wr=ct[re.Symbol.Name];return{sql:yr===void 0||ct[ht]?se(wr):se(yr)+"."+se(wr),params:[]}}if(ie(ct,Ge)){let yr=B.getColumnCasing(ct);if(l.invokeSource==="indexes")return{sql:se(yr),params:[]};let wr=ct.table[re.Symbol.Schema];return{sql:ct.table[ht]||wr===void 0?se(ct.table[re.Symbol.Name])+"."+se(yr):se(wr)+"."+se(ct.table[re.Symbol.Name])+"."+se(yr),params:[]}}if(ie(ct,ir)){let yr=ct[en].schema,wr=ct[en].name;return{sql:yr===void 0||ct[en].isAlias?se(wr):se(yr)+"."+se(wr),params:[]}}if(ie(ct,_r)){if(ie(ct.value,kn))return{sql:Je(Er.value++,ct),params:[ct],typings:["none"]};let yr=ct.value===null?null:ct.encoder.mapToDriverValue(ct.value);if(ie(yr,W))return this.buildQueryFromSourceParams([yr],C);if(ur)return{sql:this.mapInlineParam(yr,C),params:[]};let wr=["none"];return st&&(wr=[st(ct.encoder)]),{sql:Je(Er.value++,yr),params:[yr],typings:wr}}return ie(ct,kn)?{sql:Je(Er.value++,ct),params:[ct],typings:["none"]}:ie(ct,W.Aliased)&&ct.fieldAlias!==void 0?{sql:se(ct.fieldAlias),params:[]}:ie(ct,pn)?ct._.isWith?{sql:se(ct._.alias),params:[]}:this.buildQueryFromSourceParams([new J("("),ct._.sql,new J(") "),new Fe(ct._.alias)],C):ct&&typeof ct=="function"&&an in ct&&ct[an]===!0?ct.schema?{sql:se(ct.schema)+"."+se(ct.enumName),params:[]}:{sql:se(ct.enumName),params:[]}:q(ct)?ct.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([ct.getSQL()],C):this.buildQueryFromSourceParams([new J("("),ct.getSQL(),new J(")")],C):ur?{sql:this.mapInlineParam(ct,C),params:[]}:{sql:Je(Er.value++,ct),params:[ct],typings:["none"]}});let vn={sql:"",params:[]};for(let ct of rn)vn.sql+=ct.sql,vn.params.push(...ct.params),ct.typings?.length&&(vn.typings||(vn.typings=[]),vn.typings.push(...ct.typings));return vn}mapInlineParam(o,{escapeString:l}){if(o===null)return"null";if(typeof o=="number"||typeof o=="boolean")return o.toString();if(typeof o=="string")return l(o);if(typeof o=="object"){let C=o.toString();return l(C==="[object Object]"?JSON.stringify(o):C)}throw Error("Unexpected param value: "+o)}getSQL(){return this}as(o){return o===void 0?this:new W.Aliased(this,o)}mapWith(o){return this.decoder=typeof o=="function"?{mapFromDriverValue:o}:o,this}inlineParams(){return this.shouldInlineParams=!0,this}if(o){return o?this:void 0}}class Fe{constructor(o){this.value=o}static[M]="Name";brand;getSQL(){return new W([this])}}let rt={mapFromDriverValue:T=>T},Zt={mapToDriverValue:T=>T};({...rt,...Zt});class _r{constructor(o,l=Zt){this.value=o,this.encoder=l}static[M]="Param";brand;getSQL(){return new W([this])}}function H(T,...o){let l=[];for(let[C,B]of((o.length>0||T.length>0&&T[0]!=="")&&l.push(new J(T[0])),o.entries()))l.push(B,new J(T[C+1]));return new W(l)}(n=H||(H={})).empty=function(){return new W([])},n.fromList=function(T){return new W(T)},n.raw=function(T){return new W([new J(T)])},n.join=function(T,o){let l=[];for(let[C,B]of T.entries())C>0&&o!==void 0&&l.push(o),l.push(B);return new W(l)},n.identifier=function(T){return new Fe(T)},n.placeholder=function(T){return new kn(T)},n.param=function(T,o){return new _r(T,o)};var Br=W||(W={});class Gr{constructor(o,l){this.sql=o,this.fieldAlias=l}static[M]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new Gr(this.sql,this.fieldAlias)}}Br.Aliased=Gr;class kn{constructor(o){this.name=o}static[M]="Placeholder";getSQL(){return new W([this])}}function Jn(T,o){return T.map(l=>{if(ie(l,kn)){if(!(l.name in o))throw Error(`No value for placeholder "${l.name}" was provided`);return o[l.name]}if(ie(l,_r)&&ie(l.value,kn)){if(!(l.value.name in o))throw Error(`No value for placeholder "${l.value.name}" was provided`);return l.encoder.mapToDriverValue(o[l.value.name])}return l})}let Bn=Symbol.for("drizzle:IsDrizzleView");class ir{static[M]="View";[en];[Bn]=!0;constructor({name:o,schema:l,selectedFields:C,query:B}){this[en]={name:o,originalName:o,schema:l,selectedFields:C,query:B,isExisting:!B,isAlias:!1}}getSQL(){return new W([this])}}function Qe(T,o,l){let C={},B=T.reduce((se,{path:Je,field:st},ur)=>{let Er;Er=ie(st,Ge)?st:ie(st,W)?st.decoder:ie(st,pn)?st._.sql.decoder:st.sql.decoder;let rn=se;for(let[vn,ct]of Je.entries())if(vn<Je.length-1)ct in rn||(rn[ct]={}),rn=rn[ct];else{let yr=o[ur],wr=rn[ct]=yr===null?null:Er.mapFromDriverValue(yr);if(l&&ie(st,Ge)&&Je.length===2){let Cr=Je[0];Cr in C?typeof C[Cr]=="string"&&C[Cr]!==st.table[V]&&(C[Cr]=!1):C[Cr]=wr===null&&st.table[V]}}return se},{});if(l&&Object.keys(C).length>0)for(let[se,Je]of Object.entries(C))typeof Je!="string"||l[Je]||(B[se]=null);return B}function qt(T,o){return Object.entries(T).reduce((l,[C,B])=>{if(typeof C!="string")return l;let se=o?[...o,C]:[C];return ie(B,Ge)||ie(B,W)||ie(B,W.Aliased)||ie(B,pn)?l.push({path:se,field:B}):ie(B,re)?l.push(...qt(B[re.Symbol.Columns],se)):l.push(...qt(B,se)),l},[])}function Qt(T,o){let l=Object.keys(T),C=Object.keys(o);if(l.length!==C.length)return!1;for(let[B,se]of l.entries())if(se!==C[B])return!1;return!0}function nn(T,o){let l=Object.entries(o).filter(([,C])=>C!==void 0).map(([C,B])=>ie(B,W)||ie(B,Ge)?[C,B]:[C,new _r(B,T[re.Symbol.Columns][C])]);if(l.length===0)throw Error("No values to set");return Object.fromEntries(l)}function Qr(T){return ie(T,pn)?T._.alias:ie(T,ir)?T[en].name:ie(T,W)?void 0:T[re.Symbol.IsAlias]?T[re.Symbol.Name]:T[re.Symbol.BaseName]}function ar(T,o){return{name:typeof T=="string"&&T.length>0?T:"",config:typeof T=="object"?T:o}}Ge.prototype.getSQL=function(){return new W([this])},re.prototype.getSQL=function(){return new W([this])},pn.prototype.getSQL=function(){return new W([this])};let Vn=typeof TextDecoder>"u"?null:new TextDecoder;class In extends Z{static[M]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(o){if(o){let{name:l,...C}=o;this.config.generatedIdentity={type:"always",sequenceName:l,sequenceOptions:C}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(o){if(o){let{name:l,...C}=o;this.config.generatedIdentity={type:"byDefault",sequenceName:l,sequenceOptions:C}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class Sn extends In{static[M]="PgBigInt53Builder";constructor(o){super(o,"number","PgBigInt53")}build(o){return new li(o,this.config)}}class li extends vt{static[M]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}}class mn extends In{static[M]="PgBigInt64Builder";constructor(o){super(o,"bigint","PgBigInt64")}build(o){return new Re(o,this.config)}}class Re extends vt{static[M]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(o){return BigInt(o)}}class ut extends Z{static[M]="PgBigSerial53Builder";constructor(o){super(o,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new hr(o,this.config)}}class hr extends vt{static[M]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}}class Ue extends Z{static[M]="PgBigSerial64Builder";constructor(o){super(o,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(o){return new hn(o,this.config)}}class hn extends vt{static[M]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(o){return BigInt(o)}}class pi extends Z{static[M]="PgBooleanBuilder";constructor(o){super(o,"boolean","PgBoolean")}build(o){return new Kr(o,this.config)}}class Kr extends vt{static[M]="PgBoolean";getSQLType(){return"boolean"}}class ta extends Z{static[M]="PgCharBuilder";constructor(o,l){super(o,"string","PgChar"),this.config.length=l.length,this.config.enumValues=l.enum}build(o){return new Ii(o,this.config)}}class Ii extends vt{static[M]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}class wa extends Z{static[M]="PgCidrBuilder";constructor(o){super(o,"string","PgCidr")}build(o){return new Dn(o,this.config)}}class Dn extends vt{static[M]="PgCidr";getSQLType(){return"cidr"}}class Fi extends Z{static[M]="PgCustomColumnBuilder";constructor(o,l,C){super(o,"custom","PgCustomColumn"),this.config.fieldConfig=l,this.config.customTypeParams=C}build(o){return new Ta(o,this.config)}}class Ta extends vt{static[M]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(o,l){super(o,l),this.sqlName=l.customTypeParams.dataType(l.fieldConfig),this.mapTo=l.customTypeParams.toDriver,this.mapFrom=l.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(o){return typeof this.mapFrom=="function"?this.mapFrom(o):o}mapToDriverValue(o){return typeof this.mapTo=="function"?this.mapTo(o):o}}class Gi extends Z{static[M]="PgDateColumnBaseBuilder";defaultNow(){return this.default(H`now()`)}}class Xr extends Gi{static[M]="PgDateBuilder";constructor(o){super(o,"date","PgDate")}build(o){return new On(o,this.config)}}class On extends vt{static[M]="PgDate";getSQLType(){return"date"}mapFromDriverValue(o){return typeof o=="string"?new Date(o):o}mapToDriverValue(o){return o.toISOString()}}class oa extends Gi{static[M]="PgDateStringBuilder";constructor(o){super(o,"string","PgDateString")}build(o){return new Ca(o,this.config)}}class Ca extends vt{static[M]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(o){return typeof o=="string"?o:o.toISOString().slice(0,-14)}}class _o extends Z{static[M]="PgDoublePrecisionBuilder";constructor(o){super(o,"number","PgDoublePrecision")}build(o){return new Za(o,this.config)}}class Za extends vt{static[M]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(o){return typeof o=="string"?Number.parseFloat(o):o}}class Qi extends Z{static[M]="PgInetBuilder";constructor(o){super(o,"string","PgInet")}build(o){return new Xa(o,this.config)}}class Xa extends vt{static[M]="PgInet";getSQLType(){return"inet"}}class Ya extends In{static[M]="PgIntegerBuilder";constructor(o){super(o,"number","PgInteger")}build(o){return new Ra(o,this.config)}}class Ra extends vt{static[M]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(o){return typeof o=="string"?Number.parseInt(o):o}}class po extends Z{static[M]="PgIntervalBuilder";constructor(o,l){super(o,"string","PgInterval"),this.config.intervalConfig=l}build(o){return new mo(o,this.config)}}class mo extends vt{static[M]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let o=this.fields?` ${this.fields}`:"",l=this.precision?`(${this.precision})`:"";return`interval${o}${l}`}}class wt extends Z{static[M]="PgJsonBuilder";constructor(o){super(o,"json","PgJson")}build(o){return new Ce(o,this.config)}}class Ce extends vt{static[M]="PgJson";constructor(o,l){super(o,l)}getSQLType(){return"json"}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){if(typeof o=="string")try{return JSON.parse(o)}catch{}return o}}class br extends Z{static[M]="PgJsonbBuilder";constructor(o){super(o,"json","PgJsonb")}build(o){return new G(o,this.config)}}class G extends vt{static[M]="PgJsonb";constructor(o,l){super(o,l)}getSQLType(){return"jsonb"}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){if(typeof o=="string")try{return JSON.parse(o)}catch{}return o}}class Rr extends Z{static[M]="PgLineBuilder";constructor(o){super(o,"array","PgLine")}build(o){return new tn(o,this.config)}}class tn extends vt{static[M]="PgLine";getSQLType(){return"line"}mapFromDriverValue(o){let[l,C,B]=o.slice(1,-1).split(",");return[Number.parseFloat(l),Number.parseFloat(C),Number.parseFloat(B)]}mapToDriverValue(o){return`{${o[0]},${o[1]},${o[2]}}`}}class Fn extends Z{static[M]="PgLineABCBuilder";constructor(o){super(o,"json","PgLineABC")}build(o){return new Tn(o,this.config)}}class Tn extends vt{static[M]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(o){let[l,C,B]=o.slice(1,-1).split(",");return{a:Number.parseFloat(l),b:Number.parseFloat(C),c:Number.parseFloat(B)}}mapToDriverValue(o){return`{${o.a},${o.b},${o.c}}`}}class Hr extends Z{static[M]="PgMacaddrBuilder";constructor(o){super(o,"string","PgMacaddr")}build(o){return new Kn(o,this.config)}}class Kn extends vt{static[M]="PgMacaddr";getSQLType(){return"macaddr"}}class Xi extends Z{static[M]="PgMacaddr8Builder";constructor(o){super(o,"string","PgMacaddr8")}build(o){return new Zi(o,this.config)}}class Zi extends vt{static[M]="PgMacaddr8";getSQLType(){return"macaddr8"}}class $i extends Z{static[M]="PgNumericBuilder";constructor(o,l,C){super(o,"string","PgNumeric"),this.config.precision=l,this.config.scale=C}build(o){return new mi(o,this.config)}}class mi extends vt{static[M]="PgNumeric";precision;scale;constructor(o,l){super(o,l),this.precision=l.precision,this.scale=l.scale}mapFromDriverValue(o){return typeof o=="string"?o:String(o)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class Bi extends Z{static[M]="PgNumericNumberBuilder";constructor(o,l,C){super(o,"number","PgNumericNumber"),this.config.precision=l,this.config.scale=C}build(o){return new Nt(o,this.config)}}class Nt extends vt{static[M]="PgNumericNumber";precision;scale;constructor(o,l){super(o,l),this.precision=l.precision,this.scale=l.scale}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class hi extends Z{static[M]="PgNumericBigIntBuilder";constructor(o,l,C){super(o,"bigint","PgNumericBigInt"),this.config.precision=l,this.config.scale=C}build(o){return new qn(o,this.config)}}class qn extends vt{static[M]="PgNumericBigInt";precision;scale;constructor(o,l){super(o,l),this.precision=l.precision,this.scale=l.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class ti extends Z{static[M]="PgPointTupleBuilder";constructor(o){super(o,"array","PgPointTuple")}build(o){return new yn(o,this.config)}}class yn extends vt{static[M]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(o){if(typeof o=="string"){let[l,C]=o.slice(1,-1).split(",");return[Number.parseFloat(l),Number.parseFloat(C)]}return[o.x,o.y]}mapToDriverValue(o){return`(${o[0]},${o[1]})`}}class pa extends Z{static[M]="PgPointObjectBuilder";constructor(o){super(o,"json","PgPointObject")}build(o){return new ra(o,this.config)}}class ra extends vt{static[M]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(o){if(typeof o=="string"){let[l,C]=o.slice(1,-1).split(",");return{x:Number.parseFloat(l),y:Number.parseFloat(C)}}return o}mapToDriverValue(o){return`(${o.x},${o.y})`}}function Sr(T,o){let l=new DataView(new ArrayBuffer(8));for(let C=0;C<8;C++)l.setUint8(C,T[o+C]);return l.getFloat64(0,!0)}function Ri(T){let o=function(Je){let st=[];for(let ur=0;ur<Je.length;ur+=2)st.push(Number.parseInt(Je.slice(ur,ur+2),16));return new Uint8Array(st)}(T),l=0,C=o[0];l+=1;let B=new DataView(o.buffer),se=B.getUint32(l,C===1);if(l+=4,536870912&se&&(B.getUint32(l,C===1),l+=4),(65535&se)==1){let Je=Sr(o,l),st=Sr(o,l+=8);return l+=8,[Je,st]}throw Error("Unsupported geometry type")}class Vi extends Z{static[M]="PgGeometryBuilder";constructor(o){super(o,"array","PgGeometry")}build(o){return new Nn(o,this.config)}}class Nn extends vt{static[M]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(o){return Ri(o)}mapToDriverValue(o){return`point(${o[0]} ${o[1]})`}}class Yi extends Z{static[M]="PgGeometryObjectBuilder";constructor(o){super(o,"json","PgGeometryObject")}build(o){return new zi(o,this.config)}}class zi extends vt{static[M]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(o){let l=Ri(o);return{x:l[0],y:l[1]}}mapToDriverValue(o){return`point(${o.x} ${o.y})`}}class sa extends Z{static[M]="PgRealBuilder";constructor(o,l){super(o,"number","PgReal"),this.config.length=l}build(o){return new Oa(o,this.config)}}class Oa extends vt{static[M]="PgReal";constructor(o,l){super(o,l)}getSQLType(){return"real"}mapFromDriverValue=o=>typeof o=="string"?Number.parseFloat(o):o}class ni extends Z{static[M]="PgSerialBuilder";constructor(o){super(o,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new Na(o,this.config)}}class Na extends vt{static[M]="PgSerial";getSQLType(){return"serial"}}class Oi extends In{static[M]="PgSmallIntBuilder";constructor(o){super(o,"number","PgSmallInt")}build(o){return new Ni(o,this.config)}}class Ni extends vt{static[M]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=o=>typeof o=="string"?Number(o):o}class ho extends Z{static[M]="PgSmallSerialBuilder";constructor(o){super(o,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new va(o,this.config)}}class va extends vt{static[M]="PgSmallSerial";getSQLType(){return"smallserial"}}class Jo extends Z{static[M]="PgTextBuilder";constructor(o,l){super(o,"string","PgText"),this.config.enumValues=l.enum}build(o){return new ns(o,this.config)}}class ns extends vt{static[M]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}class bi extends Gi{constructor(o,l,C){super(o,"string","PgTime"),this.withTimezone=l,this.precision=C,this.config.withTimezone=l,this.config.precision=C}static[M]="PgTimeBuilder";build(o){return new xo(o,this.config)}}class xo extends vt{static[M]="PgTime";withTimezone;precision;constructor(o,l){super(o,l),this.withTimezone=l.withTimezone,this.precision=l.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}class Hi extends Gi{static[M]="PgTimestampBuilder";constructor(o,l,C){super(o,"date","PgTimestamp"),this.config.withTimezone=l,this.config.precision=C}build(o){return new Qn(o,this.config)}}class Qn extends vt{static[M]="PgTimestamp";withTimezone;precision;constructor(o,l){super(o,l),this.withTimezone=l.withTimezone,this.precision=l.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(o){return typeof o=="string"?new Date(this.withTimezone?o:o+"+0000"):o}mapToDriverValue=o=>o.toISOString()}class rr extends Gi{static[M]="PgTimestampStringBuilder";constructor(o,l,C){super(o,"string","PgTimestampString"),this.config.withTimezone=l,this.config.precision=C}build(o){return new Ei(o,this.config)}}class Ei extends vt{static[M]="PgTimestampString";withTimezone;precision;constructor(o,l){super(o,l),this.withTimezone=l.withTimezone,this.precision=l.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(o){if(typeof o=="string")return o;let l=o.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let C=o.getTimezoneOffset();return`${l}${C<=0?"+":"-"}${Math.floor(Math.abs(C)/60).toString().padStart(2,"0")}`}return l}}class Nr extends Z{static[M]="PgUUIDBuilder";constructor(o){super(o,"string","PgUUID")}defaultRandom(){return this.default(H`gen_random_uuid()`)}build(o){return new eo(o,this.config)}}class eo extends vt{static[M]="PgUUID";getSQLType(){return"uuid"}}class qo extends Z{static[M]="PgVarcharBuilder";constructor(o,l){super(o,"string","PgVarchar"),this.config.length=l.length,this.config.enumValues=l.enum}build(o){return new is(o,this.config)}}class is extends vt{static[M]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}class As extends Z{static[M]="PgBinaryVectorBuilder";constructor(o,l){super(o,"string","PgBinaryVector"),this.config.dimensions=l.dimensions}build(o){return new Sa(o,this.config)}}class Sa extends vt{static[M]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}class Ms extends Z{static[M]="PgHalfVectorBuilder";constructor(o,l){super(o,"array","PgHalfVector"),this.config.dimensions=l.dimensions}build(o){return new Ko(o,this.config)}}class Ko extends vt{static[M]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){return o.slice(1,-1).split(",").map(l=>Number.parseFloat(l))}}class fs extends Z{static[M]="PgSparseVectorBuilder";constructor(o,l){super(o,"string","PgSparseVector"),this.config.dimensions=l.dimensions}build(o){return new Rs(o,this.config)}}class Rs extends vt{static[M]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}class fo extends Z{static[M]="PgVectorBuilder";constructor(o,l){super(o,"array","PgVector"),this.config.dimensions=l.dimensions}build(o){return new na(o,this.config)}}class na extends vt{static[M]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){return o.slice(1,-1).split(",").map(l=>Number.parseFloat(l))}}let Ba=Symbol.for("drizzle:PgInlineForeignKeys"),An=Symbol.for("drizzle:EnableRLS");class u extends re{static[M]="PgTable";static Symbol=Object.assign({},re.Symbol,{InlineForeignKeys:Ba,EnableRLS:An});[Ba]=[];[An]=!1;[re.Symbol.ExtraConfigBuilder]=void 0;[re.Symbol.ExtraConfigColumns]={}}class w{static[M]="PgPrimaryKeyBuilder";columns;name;constructor(o,l){this.columns=o,this.name=l}build(o){return new R(o,this.columns,this.name)}}class R{constructor(o,l,C){this.table=o,this.columns=l,this.name=C}static[M]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[u.Symbol.Name]}_${this.columns.map(o=>o.name).join("_")}_pk`}}function P(T,o){return typeof o!="object"||o===null||!("mapToDriverValue"in o)||typeof o.mapToDriverValue!="function"||q(T)||ie(T,_r)||ie(T,kn)||ie(T,Ge)||ie(T,re)||ie(T,ir)?T:new _r(T,o)}let A=(T,o)=>H`${T} = ${P(o,T)}`,we=(T,o)=>H`${T} <> ${P(o,T)}`;function qe(...T){let o=T.filter(l=>l!==void 0);if(o.length!==0)return new W(o.length===1?o:[new J("("),H.join(o,new J(" and ")),new J(")")])}function gt(...T){let o=T.filter(l=>l!==void 0);if(o.length!==0)return new W(o.length===1?o:[new J("("),H.join(o,new J(" or ")),new J(")")])}function je(T){return H`not ${T}`}let _t=(T,o)=>H`${T} > ${P(o,T)}`,gr=(T,o)=>H`${T} >= ${P(o,T)}`,Tr=(T,o)=>H`${T} < ${P(o,T)}`,Yt=(T,o)=>H`${T} <= ${P(o,T)}`;function on(T,o){return Array.isArray(o)?o.length===0?H`false`:H`${T} in ${o.map(l=>P(l,T))}`:H`${T} in ${P(o,T)}`}function jr(T,o){return Array.isArray(o)?o.length===0?H`true`:H`${T} not in ${o.map(l=>P(l,T))}`:H`${T} not in ${P(o,T)}`}function sn(T){return H`${T} is null`}function Or(T){return H`${T} is not null`}function Vr(T){return H`exists ${T}`}function Mr(T){return H`not exists ${T}`}function Ir(T,o,l){return H`${T} between ${P(o,T)} and ${P(l,T)}`}function Ka(T,o,l){return H`${T} not between ${P(o,T)} and ${P(l,T)}`}function ba(T,o){return H`${T} like ${o}`}function go(T,o){return H`${T} not like ${o}`}function Po(T,o){return H`${T} ilike ${o}`}function wo(T,o){return H`${T} not ilike ${o}`}function Lo(T){return H`${T} asc`}function ko(T){return H`${T} desc`}v.s(["and",()=>qe,"between",()=>Ir,"eq",()=>A,"exists",()=>Vr,"gt",()=>_t,"gte",()=>gr,"ilike",()=>Po,"inArray",()=>on,"isNotNull",()=>Or,"isNull",()=>sn,"like",()=>ba,"lt",()=>Tr,"lte",()=>Yt,"ne",()=>we,"not",()=>je,"notBetween",()=>Ka,"notExists",()=>Mr,"notIlike",()=>wo,"notInArray",()=>jr,"notLike",()=>go,"or",()=>gt],71062),v.s(["asc",()=>Lo,"desc",()=>ko],76436);class _a{constructor(o,l,C){this.sourceTable=o,this.referencedTable=l,this.relationName=C,this.referencedTableName=l[re.Symbol.Name]}static[M]="Relation";referencedTableName;fieldName}class Io{constructor(o,l){this.table=o,this.config=l}static[M]="Relations"}class ia extends _a{constructor(o,l,C,B){super(o,l,C?.relationName),this.config=C,this.isNullable=B}static[M]="One";withFieldName(o){let l=new ia(this.sourceTable,this.referencedTable,this.config,this.isNullable);return l.fieldName=o,l}}class ao extends _a{constructor(o,l,C){super(o,l,C?.relationName),this.config=C}static[M]="Many";withFieldName(o){let l=new ao(this.sourceTable,this.referencedTable,this.config);return l.fieldName=o,l}}function Ws(T){return{one:function(o,l){return new ia(T,o,l,l?.fields.reduce((C,B)=>C&&B.notNull,!0)??!1)},many:function(o,l){return new ao(T,o,l)}}}class jo{constructor(o){this.table=o}static[M]="ColumnAliasProxyHandler";get(o,l){return l==="table"?this.table:o[l]}}class Ds{constructor(o,l){this.alias=o,this.replaceOriginalName=l}static[M]="TableAliasProxyHandler";get(o,l){if(l===re.Symbol.IsAlias)return!0;if(l===re.Symbol.Name||this.replaceOriginalName&&l===re.Symbol.OriginalName)return this.alias;if(l===en)return{...o[en],name:this.alias,isAlias:!0};if(l===re.Symbol.Columns){let B=o[re.Symbol.Columns];if(!B)return B;let se={};return Object.keys(B).map(Je=>{se[Je]=new Proxy(B[Je],new jo(new Proxy(o,this)))}),se}let C=o[l];return ie(C,Ge)?new Proxy(C,new jo(new Proxy(o,this))):C}}class Fo{constructor(o){this.alias=o}static[M]="RelationTableAliasProxyHandler";get(o,l){return l==="sourceTable"?ma(o.sourceTable,this.alias):o[l]}}function ma(T,o){return new Proxy(T,new Ds(o,!1))}function oo(T,o){return new Proxy(T,new jo(new Proxy(T.table,new Ds(o,!1))))}function Wn(T,o){return new W.Aliased(Wa(T.sql,o),T.fieldAlias)}function Wa(T,o){return H.join(T.queryChunks.map(l=>ie(l,Ge)?oo(l,o):ie(l,W)?Wa(l,o):ie(l,W.Aliased)?Wn(l,o):l))}class za{static[M]="SelectionProxyHandler";config;constructor(o){this.config={...o}}get(o,l){if(l==="_")return{...o._,selectedFields:new Proxy(o._.selectedFields,this)};if(l===en)return{...o[en],selectedFields:new Proxy(o[en].selectedFields,this)};if(typeof l=="symbol")return o[l];let C=(ie(o,pn)?o._.selectedFields:ie(o,ir)?o[en].selectedFields:o)[l];if(ie(C,W.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!C.isSelectionField)return C.sql;let B=C.clone();return B.isSelectionField=!0,B}if(ie(C,W)){if(this.config.sqlBehavior==="sql")return C;throw Error(`You tried to reference "${l}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return ie(C,Ge)?this.config.alias?new Proxy(C,new jo(new Proxy(C.table,new Ds(this.config.alias,this.config.replaceOriginalName??!1)))):C:typeof C!="object"||C===null?C:new Proxy(C,new za(this.config))}}function gs(T){return(T.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(o=>o.toLowerCase()).join("_")}function Ao(T){return(T.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((o,l,C)=>o+(C===0?l.toLowerCase():`${l[0].toUpperCase()}${l.slice(1)}`),"")}function Pa(T){return T}class Zo{static[M]="CasingCache";cache={};cachedTables={};convert;constructor(o){this.convert=o==="snake_case"?gs:o==="camelCase"?Ao:Pa}getColumnCasing(o){if(!o.keyAsName)return o.name;let l=o.table[re.Symbol.Schema]??"public",C=o.table[re.Symbol.OriginalName],B=`${l}.${C}.${o.name}`;return this.cache[B]||this.cacheTable(o.table),this.cache[B]}cacheTable(o){let l=o[re.Symbol.Schema]??"public",C=o[re.Symbol.OriginalName],B=`${l}.${C}`;if(!this.cachedTables[B]){for(let se of Object.values(o[re.Symbol.Columns])){let Je=`${B}.${se.name}`;this.cache[Je]=this.convert(se.name)}this.cachedTables[B]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class ys extends Error{static[M]="DrizzleError";constructor({message:o,cause:l}){super(o),this.name="DrizzleError",this.cause=l}}class Va extends Error{constructor(o,l,C){super(`Failed query: ${o}
params: ${l}`),this.query=o,this.params=l,this.cause=C,Error.captureStackTrace(this,Va),C&&(this.cause=C)}}class Zs extends ys{static[M]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class as{static[M]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(o,l){this.reference=()=>{let{name:C,columns:B,foreignColumns:se}=o();return{name:C,columns:B,foreignTable:se[0].table,foreignColumns:se}},l&&(this._onUpdate=l.onUpdate,this._onDelete=l.onDelete)}onUpdate(o){return this._onUpdate=o,this}onDelete(o){return this._onDelete=o,this}build(o){return new x(o,this)}}class x{constructor(o,l){this.table=o,this.reference=l.reference,this.onUpdate=l._onUpdate,this.onDelete=l._onDelete}static[M]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){let{name:o,columns:l,foreignColumns:C}=this.reference(),B=l.map(st=>st.name),se=C.map(st=>st.name),Je=[this.table[V],...B,C[0].table[V],...se];return o??`${Je.join("_")}_fk`}}function F(T,o){return`${T[V]}_${o.join("_")}_unique`}class ne{constructor(o,l){this.name=l,this.columns=o}static[M]="SQLiteUniqueConstraintBuilder";columns;build(o){return new Ee(o,this.columns,this.name)}}class he{static[M]="SQLiteUniqueOnConstraintBuilder";name;constructor(o){this.name=o}on(...o){return new ne(o,this.name)}}class Ee{constructor(o,l,C){this.table=o,this.columns=l,this.name=C??F(this.table,this.columns.map(B=>B.name))}static[M]="SQLiteUniqueConstraint";columns;name;getName(){return this.name}}class Te extends it{static[M]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(o,l={}){return this.foreignKeyConfigs.push({ref:o,actions:l}),this}unique(o){return this.config.isUnique=!0,this.config.uniqueName=o,this}generatedAlwaysAs(o,l){return this.config.generated={as:o,type:"always",mode:l?.mode??"virtual"},this}buildForeignKeys(o,l){return this.foreignKeyConfigs.map(({ref:C,actions:B})=>{let se;return se=new as(()=>({columns:[o],foreignColumns:[C()]})),B.onUpdate&&se.onUpdate(B.onUpdate),B.onDelete&&se.onDelete(B.onDelete),se.build(l)})}}class ae extends Ge{constructor(o,l){l.uniqueName||(l.uniqueName=F(o,[l.name])),super(o,l),this.table=o}static[M]="SQLiteColumn"}var fe=v.i(51615);class He extends Te{static[M]="SQLiteBigIntBuilder";constructor(o){super(o,"bigint","SQLiteBigInt")}build(o){return new pe(o,this.config)}}class pe extends ae{static[M]="SQLiteBigInt";getSQLType(){return"blob"}mapFromDriverValue(o){return fe.Buffer!==void 0&&fe.Buffer.from?BigInt((fe.Buffer.isBuffer(o)?o:o instanceof ArrayBuffer?fe.Buffer.from(o):o.buffer?fe.Buffer.from(o.buffer,o.byteOffset,o.byteLength):fe.Buffer.from(o)).toString("utf8")):BigInt(Vn.decode(o))}mapToDriverValue(o){return fe.Buffer.from(o.toString())}}class nt extends Te{static[M]="SQLiteBlobJsonBuilder";constructor(o){super(o,"json","SQLiteBlobJson")}build(o){return new Ke(o,this.config)}}class Ke extends ae{static[M]="SQLiteBlobJson";getSQLType(){return"blob"}mapFromDriverValue(o){return fe.Buffer!==void 0&&fe.Buffer.from?JSON.parse((fe.Buffer.isBuffer(o)?o:o instanceof ArrayBuffer?fe.Buffer.from(o):o.buffer?fe.Buffer.from(o.buffer,o.byteOffset,o.byteLength):fe.Buffer.from(o)).toString("utf8")):JSON.parse(Vn.decode(o))}mapToDriverValue(o){return fe.Buffer.from(JSON.stringify(o))}}class mt extends Te{static[M]="SQLiteBlobBufferBuilder";constructor(o){super(o,"buffer","SQLiteBlobBuffer")}build(o){return new We(o,this.config)}}class We extends ae{static[M]="SQLiteBlobBuffer";mapFromDriverValue(o){return fe.Buffer.isBuffer(o)?o:fe.Buffer.from(o)}getSQLType(){return"blob"}}function jt(T,o){let{name:l,config:C}=ar(T,o);return C?.mode==="json"?new nt(l):C?.mode==="bigint"?new He(l):new mt(l)}class St extends Te{static[M]="SQLiteCustomColumnBuilder";constructor(o,l,C){super(o,"custom","SQLiteCustomColumn"),this.config.fieldConfig=l,this.config.customTypeParams=C}build(o){return new Xe(o,this.config)}}class Xe extends ae{static[M]="SQLiteCustomColumn";sqlName;mapTo;mapFrom;constructor(o,l){super(o,l),this.sqlName=l.customTypeParams.dataType(l.fieldConfig),this.mapTo=l.customTypeParams.toDriver,this.mapFrom=l.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(o){return typeof this.mapFrom=="function"?this.mapFrom(o):o}mapToDriverValue(o){return typeof this.mapTo=="function"?this.mapTo(o):o}}function $t(T){return(o,l)=>{let{name:C,config:B}=ar(o,l);return new St(C,B,T)}}class at extends Te{static[M]="SQLiteBaseIntegerBuilder";constructor(o,l,C){super(o,l,C),this.config.autoIncrement=!1}primaryKey(o){return o?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}class Ut extends ae{static[M]="SQLiteBaseInteger";autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}}class dr extends at{static[M]="SQLiteIntegerBuilder";constructor(o){super(o,"number","SQLiteInteger")}build(o){return new Ie(o,this.config)}}class Ie extends Ut{static[M]="SQLiteInteger"}class de extends at{static[M]="SQLiteTimestampBuilder";constructor(o,l){super(o,"date","SQLiteTimestamp"),this.config.mode=l}defaultNow(){return this.default(H`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(o){return new ke(o,this.config)}}class ke extends Ut{static[M]="SQLiteTimestamp";mode=this.config.mode;mapFromDriverValue(o){return new Date(this.config.mode==="timestamp"?1e3*o:o)}mapToDriverValue(o){let l=o.getTime();return this.config.mode==="timestamp"?Math.floor(l/1e3):l}}class kr extends at{static[M]="SQLiteBooleanBuilder";constructor(o,l){super(o,"boolean","SQLiteBoolean"),this.config.mode=l}build(o){return new At(o,this.config)}}class At extends Ut{static[M]="SQLiteBoolean";mode=this.config.mode;mapFromDriverValue(o){return Number(o)===1}mapToDriverValue(o){return+!!o}}function zt(T,o){let{name:l,config:C}=ar(T,o);return C?.mode==="timestamp"||C?.mode==="timestamp_ms"?new de(l,C.mode):C?.mode==="boolean"?new kr(l,C.mode):new dr(l)}class dt extends Te{static[M]="SQLiteNumericBuilder";constructor(o){super(o,"string","SQLiteNumeric")}build(o){return new Me(o,this.config)}}class Me extends ae{static[M]="SQLiteNumeric";mapFromDriverValue(o){return typeof o=="string"?o:String(o)}getSQLType(){return"numeric"}}class Bt extends Te{static[M]="SQLiteNumericNumberBuilder";constructor(o){super(o,"number","SQLiteNumericNumber")}build(o){return new Kt(o,this.config)}}class Kt extends ae{static[M]="SQLiteNumericNumber";mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}mapToDriverValue=String;getSQLType(){return"numeric"}}class Tt extends Te{static[M]="SQLiteNumericBigIntBuilder";constructor(o){super(o,"bigint","SQLiteNumericBigInt")}build(o){return new Dt(o,this.config)}}class Dt extends ae{static[M]="SQLiteNumericBigInt";mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return"numeric"}}function Ur(T,o){let{name:l,config:C}=ar(T,o),B=C?.mode;return B==="number"?new Bt(l):B==="bigint"?new Tt(l):new dt(l)}class fr extends Te{static[M]="SQLiteRealBuilder";constructor(o){super(o,"number","SQLiteReal")}build(o){return new sr(o,this.config)}}class sr extends ae{static[M]="SQLiteReal";getSQLType(){return"real"}}function Ye(T){return new fr(T??"")}class Lt extends Te{static[M]="SQLiteTextBuilder";constructor(o,l){super(o,"string","SQLiteText"),this.config.enumValues=l.enum,this.config.length=l.length}build(o){return new yt(o,this.config)}}class yt extends ae{static[M]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(o,l){super(o,l)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class la extends Te{static[M]="SQLiteTextJsonBuilder";constructor(o){super(o,"json","SQLiteTextJson")}build(o){return new qr(o,this.config)}}class qr extends ae{static[M]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(o){return JSON.parse(o)}mapToDriverValue(o){return JSON.stringify(o)}}function kt(T,o={}){let{name:l,config:C}=ar(T,o);return C.mode==="json"?new la(l):new Lt(l,C)}let Ne=Symbol.for("drizzle:SQLiteInlineForeignKeys");class or extends re{static[M]="SQLiteTable";static Symbol=Object.assign({},re.Symbol,{InlineForeignKeys:Ne});[re.Symbol.Columns];[Ne]=[];[re.Symbol.ExtraConfigBuilder]=void 0}let Wt=(T,o,l)=>function(C,B,se,Je,st=C){let ur=new or(C,void 0,st),Er=Object.fromEntries(Object.entries(typeof B=="function"?B({blob:jt,customType:$t,integer:zt,numeric:Ur,real:Ye,text:kt}):B).map(([vn,ct])=>{ct.setName(vn);let yr=ct.build(ur);return ur[Ne].push(...ct.buildForeignKeys(yr,ur)),[vn,yr]})),rn=Object.assign(ur,Er);return rn[re.Symbol.Columns]=Er,rn[re.Symbol.ExtraConfigColumns]=Er,se&&(rn[or.Symbol.ExtraConfigBuilder]=se),rn}(T,o,l);class ln extends ir{static[M]="SQLiteViewBase"}class ja{static[M]="SQLiteDialect";casing;constructor(o){this.casing=new Zo(o?.casing)}escapeName(o){return`"${o}"`}escapeParam(o){return"?"}escapeString(o){return`'${o.replace(/'/g,"''")}'`}buildWithCTE(o){if(!o?.length)return;let l=[H`with `];for(let[C,B]of o.entries())l.push(H`${H.identifier(B._.alias)} as (${B._.sql})`),C<o.length-1&&l.push(H`, `);return l.push(H` `),H.join(l)}buildDeleteQuery({table:o,where:l,returning:C,withList:B,limit:se,orderBy:Je}){let st=this.buildWithCTE(B),ur=C?H` returning ${this.buildSelection(C,{isSingleTable:!0})}`:void 0,Er=l?H` where ${l}`:void 0,rn=this.buildOrderBy(Je),vn=this.buildLimit(se);return H`${st}delete from ${o}${Er}${ur}${rn}${vn}`}buildUpdateSet(o,l){let C=o[re.Symbol.Columns],B=Object.keys(C).filter(Je=>l[Je]!==void 0||C[Je]?.onUpdateFn!==void 0),se=B.length;return H.join(B.flatMap((Je,st)=>{let ur=C[Je],Er=ur.onUpdateFn?.(),rn=l[Je]??(ie(Er,W)?Er:H.param(Er,ur)),vn=H`${H.identifier(this.casing.getColumnCasing(ur))} = ${rn}`;return st<se-1?[vn,H.raw(", ")]:[vn]}))}buildUpdateQuery({table:o,set:l,where:C,returning:B,withList:se,joins:Je,from:st,limit:ur,orderBy:Er}){let rn=this.buildWithCTE(se),vn=this.buildUpdateSet(o,l),ct=st&&H.join([H.raw(" from "),this.buildFromTable(st)]),yr=this.buildJoins(Je),wr=B?H` returning ${this.buildSelection(B,{isSingleTable:!0})}`:void 0,Cr=C?H` where ${C}`:void 0,un=this.buildOrderBy(Er),fn=this.buildLimit(ur);return H`${rn}update ${o} set ${vn}${ct}${yr}${Cr}${wr}${un}${fn}`}buildSelection(o,{isSingleTable:l=!1}={}){let C=o.length,B=o.flatMap(({field:se},Je)=>{let st=[];if(ie(se,W.Aliased)&&se.isSelectionField)st.push(H.identifier(se.fieldAlias));else if(ie(se,W.Aliased)||ie(se,W)){let ur=ie(se,W.Aliased)?se.sql:se;l?st.push(new W(ur.queryChunks.map(Er=>ie(Er,Ge)?H.identifier(this.casing.getColumnCasing(Er)):Er))):st.push(ur),ie(se,W.Aliased)&&st.push(H` as ${H.identifier(se.fieldAlias)}`)}else if(ie(se,Ge)){let ur=se.table[re.Symbol.Name];se.columnType==="SQLiteNumericBigInt"?l?st.push(H`cast(${H.identifier(this.casing.getColumnCasing(se))} as text)`):st.push(H`cast(${H.identifier(ur)}.${H.identifier(this.casing.getColumnCasing(se))} as text)`):l?st.push(H.identifier(this.casing.getColumnCasing(se))):st.push(H`${H.identifier(ur)}.${H.identifier(this.casing.getColumnCasing(se))}`)}else if(ie(se,pn)){let ur=Object.entries(se._.selectedFields);if(ur.length===1){let Er=ur[0][1],rn=ie(Er,W)?Er.decoder:ie(Er,Ge)?{mapFromDriverValue:vn=>Er.mapFromDriverValue(vn)}:Er.sql.decoder;rn&&(se._.sql.decoder=rn)}st.push(se)}return Je<C-1&&st.push(H`, `),st});return H.join(B)}buildJoins(o){if(!o||o.length===0)return;let l=[];if(o)for(let[C,B]of o.entries()){C===0&&l.push(H` `);let se=B.table,Je=B.on?H` on ${B.on}`:void 0;if(ie(se,or)){let st=se[or.Symbol.Name],ur=se[or.Symbol.Schema],Er=se[or.Symbol.OriginalName],rn=st===Er?void 0:B.alias;l.push(H`${H.raw(B.joinType)} join ${ur?H`${H.identifier(ur)}.`:void 0}${H.identifier(Er)}${rn&&H` ${H.identifier(rn)}`}${Je}`)}else l.push(H`${H.raw(B.joinType)} join ${se}${Je}`);C<o.length-1&&l.push(H` `)}return H.join(l)}buildLimit(o){return typeof o=="object"||typeof o=="number"&&o>=0?H` limit ${o}`:void 0}buildOrderBy(o){let l=[];if(o)for(let[C,B]of o.entries())l.push(B),C<o.length-1&&l.push(H`, `);return l.length>0?H` order by ${H.join(l)}`:void 0}buildFromTable(o){return ie(o,re)&&o[re.Symbol.IsAlias]?H`${H`${H.identifier(o[re.Symbol.Schema]??"")}.`.if(o[re.Symbol.Schema])}${H.identifier(o[re.Symbol.OriginalName])} ${H.identifier(o[re.Symbol.Name])}`:o}buildSelectQuery({withList:o,fields:l,fieldsFlat:C,where:B,having:se,table:Je,joins:st,orderBy:ur,groupBy:Er,limit:rn,offset:vn,distinct:ct,setOperators:yr}){let wr=C??qt(l);for(let os of wr){let s;if(ie(os.field,Ge)&&os.field.table[V]!==(ie(Je,pn)?Je._.alias:ie(Je,ln)?Je[en].name:ie(Je,W)?void 0:Je[V])&&(s=os.field.table,!st?.some(({alias:c})=>c===(s[re.Symbol.IsAlias]?s[V]:s[re.Symbol.BaseName])))){let c=os.field.table[V];throw Error(`Your "${os.path.join("->")}" field references a column "${c}"."${os.field.name}", but the table "${c}" is not part of the query! Did you forget to join it?`)}}let Cr=!st||st.length===0,un=this.buildWithCTE(o),fn=ct?H` distinct`:void 0,Pn=this.buildSelection(wr,{isSingleTable:Cr}),Un=this.buildFromTable(Je),$o=this.buildJoins(st),ro=B?H` where ${B}`:void 0,Ji=se?H` having ${se}`:void 0,Ki=[];if(Er)for(let[os,s]of Er.entries())Ki.push(s),os<Er.length-1&&Ki.push(H`, `);let Eo=Ki.length>0?H` group by ${H.join(Ki)}`:void 0,Os=this.buildOrderBy(ur),Hs=this.buildLimit(rn),Gs=vn?H` offset ${vn}`:void 0,Qs=H`${un}select${fn} ${Pn} from ${Un}${$o}${ro}${Eo}${Ji}${Os}${Hs}${Gs}`;return yr.length>0?this.buildSetOperations(Qs,yr):Qs}buildSetOperations(o,l){let[C,...B]=l;if(!C)throw Error("Cannot pass undefined values to any set operator");return B.length===0?this.buildSetOperationQuery({leftSelect:o,setOperator:C}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:o,setOperator:C}),B)}buildSetOperationQuery({leftSelect:o,setOperator:{type:l,isAll:C,rightSelect:B,limit:se,orderBy:Je,offset:st}}){let ur,Er=H`${o.getSQL()} `,rn=H`${B.getSQL()}`;if(Je&&Je.length>0){let wr=[];for(let Cr of Je)if(ie(Cr,ae))wr.push(H.identifier(Cr.name));else if(ie(Cr,W)){for(let un=0;un<Cr.queryChunks.length;un++){let fn=Cr.queryChunks[un];ie(fn,ae)&&(Cr.queryChunks[un]=H.identifier(this.casing.getColumnCasing(fn)))}wr.push(H`${Cr}`)}else wr.push(H`${Cr}`);ur=H` order by ${H.join(wr,H`, `)}`}let vn=typeof se=="object"||typeof se=="number"&&se>=0?H` limit ${se}`:void 0,ct=H.raw(`${l} ${C?"all ":""}`),yr=st?H` offset ${st}`:void 0;return H`${Er}${ct}${rn}${ur}${vn}${yr}`}buildInsertQuery({table:o,values:l,onConflict:C,returning:B,withList:se,select:Je}){let st=[],ur=Object.entries(o[re.Symbol.Columns]).filter(([wr,Cr])=>!Cr.shouldDisableInsert()),Er=ur.map(([,wr])=>H.identifier(this.casing.getColumnCasing(wr)));if(Je)ie(l,W)?st.push(l):st.push(l.getSQL());else for(let[wr,Cr]of(st.push(H.raw("values ")),l.entries())){let un=[];for(let[fn,Pn]of ur){let Un=Cr[fn];if(Un===void 0||ie(Un,_r)&&Un.value===void 0){let $o;if(Pn.default!==null&&Pn.default!==void 0)$o=ie(Pn.default,W)?Pn.default:H.param(Pn.default,Pn);else if(Pn.defaultFn!==void 0){let ro=Pn.defaultFn();$o=ie(ro,W)?ro:H.param(ro,Pn)}else if(Pn.default||Pn.onUpdateFn===void 0)$o=H`null`;else{let ro=Pn.onUpdateFn();$o=ie(ro,W)?ro:H.param(ro,Pn)}un.push($o)}else un.push(Un)}st.push(un),wr<l.length-1&&st.push(H`, `)}let rn=this.buildWithCTE(se),vn=H.join(st),ct=B?H` returning ${this.buildSelection(B,{isSingleTable:!0})}`:void 0,yr=C?.length?H.join(C):void 0;return H`${rn}insert into ${o} ${Er} ${vn}${yr}${ct}`}sqlToQuery(o,l){return o.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:l})}buildRelationalQuery({fullSchema:o,schema:l,tableNamesMap:C,table:B,tableConfig:se,queryConfig:Je,tableAlias:st,nestedQueryRelation:ur,joinOn:Er}){let rn,vn=[],ct,yr,wr=[],Cr,un=[];if(Je===!0)vn=Object.entries(se.columns).map(([fn,Pn])=>({dbKey:Pn.name,tsKey:fn,field:oo(Pn,st),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let fn=Object.fromEntries(Object.entries(se.columns).map(([Ji,Ki])=>[Ji,oo(Ki,st)]));if(Je.where){let Ji=typeof Je.where=="function"?Je.where(fn,{and:qe,between:Ir,eq:A,exists:Vr,gt:_t,gte:gr,ilike:Po,inArray:on,isNull:sn,isNotNull:Or,like:ba,lt:Tr,lte:Yt,ne:we,not:je,notBetween:Ka,notExists:Mr,notLike:go,notIlike:wo,notInArray:jr,or:gt,sql:H}):Je.where;Cr=Ji&&Wa(Ji,st)}let Pn=[],Un=[];if(Je.columns){let Ji=!1;for(let[Ki,Eo]of Object.entries(Je.columns))Eo!==void 0&&Ki in se.columns&&(Ji||Eo!==!0||(Ji=!0),Un.push(Ki));Un.length>0&&(Un=Ji?Un.filter(Ki=>Je.columns?.[Ki]===!0):Object.keys(se.columns).filter(Ki=>!Un.includes(Ki)))}else Un=Object.keys(se.columns);for(let Ji of Un){let Ki=se.columns[Ji];Pn.push({tsKey:Ji,value:Ki})}let $o=[];if(Je.with&&($o=Object.entries(Je.with).filter(Ji=>!!Ji[1]).map(([Ji,Ki])=>({tsKey:Ji,queryConfig:Ki,relation:se.relations[Ji]}))),Je.extras)for(let[Ji,Ki]of Object.entries(typeof Je.extras=="function"?Je.extras(fn,{sql:H}):Je.extras))Pn.push({tsKey:Ji,value:Wn(Ki,st)});for(let{tsKey:Ji,value:Ki}of Pn)vn.push({dbKey:ie(Ki,W.Aliased)?Ki.fieldAlias:se.columns[Ji].name,tsKey:Ji,field:ie(Ki,Ge)?oo(Ki,st):Ki,relationTableTsKey:void 0,isJson:!1,selection:[]});let ro=typeof Je.orderBy=="function"?Je.orderBy(fn,{sql:H,asc:Lo,desc:ko}):Je.orderBy??[];for(let{tsKey:Ji,queryConfig:Ki,relation:Eo}of(Array.isArray(ro)||(ro=[ro]),wr=ro.map(Os=>ie(Os,Ge)?oo(Os,st):Wa(Os,st)),ct=Je.limit,yr=Je.offset,$o)){let Os=function(c,b,_){if(ie(_,ia)&&_.config)return{fields:_.config.fields,references:_.config.references};let S=b[et(_.referencedTable)];if(!S)throw Error(`Table "${_.referencedTable[re.Symbol.Name]}" not found in schema`);let z=c[S];if(!z)throw Error(`Table "${S}" not found in schema`);let N=_.sourceTable,I=b[et(N)];if(!I)throw Error(`Table "${N[re.Symbol.Name]}" not found in schema`);let K=[];for(let le of Object.values(z.relations))(_.relationName&&_!==le&&le.relationName===_.relationName||!_.relationName&&le.referencedTable===_.sourceTable)&&K.push(le);if(K.length>1)throw _.relationName?Error(`There are multiple relations with name "${_.relationName}" in table "${S}"`):Error(`There are multiple relations between "${S}" and "${_.sourceTable[re.Symbol.Name]}". Please specify relation name`);if(K[0]&&ie(K[0],ia)&&K[0].config)return{fields:K[0].config.references,references:K[0].config.fields};throw Error(`There is not enough information to infer relation "${I}.${_.fieldName}"`)}(l,C,Eo),Hs=C[et(Eo.referencedTable)],Gs=`${st}_${Ji}`,Qs=qe(...Os.fields.map((c,b)=>A(oo(Os.references[b],Gs),oo(c,st)))),os=this.buildRelationalQuery({fullSchema:o,schema:l,tableNamesMap:C,table:o[Hs],tableConfig:l[Hs],queryConfig:ie(Eo,ia)?Ki===!0?{limit:1}:{...Ki,limit:1}:Ki,tableAlias:Gs,joinOn:Qs,nestedQueryRelation:Eo}),s=H`(${os.sql})`.as(Ji);vn.push({dbKey:Ji,tsKey:Ji,field:s,relationTableTsKey:Hs,isJson:!0,selection:os.selection})}}if(vn.length===0)throw new ys({message:`No fields selected for table "${se.tsName}" ("${st}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});if(Cr=qe(Er,Cr),ur){let fn=H`json_array(${H.join(vn.map(({field:Un})=>ie(Un,ae)?H.identifier(this.casing.getColumnCasing(Un)):ie(Un,W.Aliased)?Un.sql:Un),H`, `)})`;ie(ur,ao)&&(fn=H`coalesce(json_group_array(${fn}), json_array())`);let Pn=[{dbKey:"data",tsKey:"data",field:fn.as("data"),isJson:!0,relationTableTsKey:se.tsName,selection:vn}];ct!==void 0||yr!==void 0||wr.length>0?(rn=this.buildSelectQuery({table:ma(B,st),fields:{},fieldsFlat:[{path:[],field:H.raw("*")}],where:Cr,limit:ct,offset:yr,orderBy:wr,setOperators:[]}),Cr=void 0,ct=void 0,yr=void 0,wr=void 0):rn=ma(B,st),rn=this.buildSelectQuery({table:ie(rn,or)?rn:new pn(rn,{},st),fields:{},fieldsFlat:Pn.map(({field:Un})=>({path:[],field:ie(Un,Ge)?oo(Un,st):Un})),joins:un,where:Cr,limit:ct,offset:yr,orderBy:wr,setOperators:[]})}else rn=this.buildSelectQuery({table:ma(B,st),fields:{},fieldsFlat:vn.map(({field:fn})=>({path:[],field:ie(fn,Ge)?oo(fn,st):fn})),joins:un,where:Cr,limit:ct,offset:yr,orderBy:wr,setOperators:[]});return{tableTsKey:se.tsName,sql:rn,selection:vn}}}class Pr extends ja{static[M]="SQLiteSyncDialect";migrate(o,l,C){let B=C===void 0||typeof C=="string"?"__drizzle_migrations":C.migrationsTable??"__drizzle_migrations",se=H`
			CREATE TABLE IF NOT EXISTS ${H.identifier(B)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;l.run(se);let Je=l.values(H`SELECT id, hash, created_at FROM ${H.identifier(B)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;l.run(H`BEGIN`);try{for(let st of o)if(!Je||Number(Je[2])<st.folderMillis){for(let ur of st.sql)l.run(H.raw(ur));l.run(H`INSERT INTO ${H.identifier(B)} ("hash", "created_at") VALUES(${st.hash}, ${st.folderMillis})`)}l.run(H`COMMIT`)}catch(st){throw l.run(H`ROLLBACK`),st}}}class Ti extends ja{static[M]="SQLiteAsyncDialect";async migrate(o,l,C){let B=C===void 0||typeof C=="string"?"__drizzle_migrations":C.migrationsTable??"__drizzle_migrations",se=H`
			CREATE TABLE IF NOT EXISTS ${H.identifier(B)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await l.run(se);let Je=(await l.values(H`SELECT id, hash, created_at FROM ${H.identifier(B)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await l.transaction(async st=>{for(let ur of o)if(!Je||Number(Je[2])<ur.folderMillis){for(let Er of ur.sql)await st.run(H.raw(Er));await st.run(H`INSERT INTO ${H.identifier(B)} ("hash", "created_at") VALUES(${ur.hash}, ${ur.folderMillis})`)}})}}class yo{static[M]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class Hn{static[M]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(o){return this.then(void 0,o)}finally(o){return this.then(l=>(o?.(),l),l=>{throw o?.(),l})}then(o,l){return this.execute().then(o,l)}}class Bs{constructor(o,l){this.name=o,this.value=l}static[M]="SQLiteCheckBuilder";brand;build(o){return new Vs(o,this)}}class Vs{constructor(o,l){this.table=o,this.name=l.name,this.value=l.value}static[M]="SQLiteCheck";name;value}class vs{constructor(o,l){this.name=o,this.unique=l}static[M]="SQLiteIndexBuilderOn";on(...o){return new k(this.name,o,this.unique)}}class k{static[M]="SQLiteIndexBuilder";config;constructor(o,l,C){this.config={name:o,columns:l,unique:C,where:void 0}}where(o){return this.config.where=o,this}build(o){return new d(this.config,o)}}class d{static[M]="SQLiteIndex";config;constructor(o,l){this.config={...o,table:l}}}class y{static[M]="SQLitePrimaryKeyBuilder";columns;name;constructor(o,l){this.columns=o,this.name=l}build(o){return new O(o,this.columns,this.name)}}class O{constructor(o,l,C){this.table=o,this.columns=l,this.name=C}static[M]="SQLitePrimaryKey";columns;name;getName(){return this.name??`${this.table[or.Symbol.Name]}_${this.columns.map(o=>o.name).join("_")}_pk`}}function L(T){return ie(T,or)?[`${T[re.Symbol.BaseName]}`]:ie(T,pn)?T._.usedTables??[]:ie(T,W)?T.usedTables??[]:[]}class ue{static[M]="SQLiteSelectBuilder";fields;session;dialect;withList;distinct;constructor(o){this.fields=o.fields,this.session=o.session,this.dialect=o.dialect,this.withList=o.withList,this.distinct=o.distinct}from(o){let l,C=!!this.fields;return l=this.fields?this.fields:ie(o,pn)?Object.fromEntries(Object.keys(o._.selectedFields).map(B=>[B,o[B]])):ie(o,ln)?o[en].selectedFields:ie(o,W)?{}:o[re.Symbol.Columns],new Y({table:o,fields:l,isPartialSelect:C,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class E extends yo{static[M]="SQLiteSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:o,fields:l,isPartialSelect:C,session:B,dialect:se,withList:Je,distinct:st}){for(let ur of(super(),this.config={withList:Je,table:o,fields:{...l},distinct:st,setOperators:[]},this.isPartialSelect=C,this.session=B,this.dialect=se,this._={selectedFields:l,config:this.config},this.tableName=Qr(o),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{},L(o)))this.usedTables.add(ur)}getUsedTables(){return[...this.usedTables]}createJoin(o){return(l,C)=>{let B=this.tableName,se=Qr(l);for(let Je of L(l))this.usedTables.add(Je);if(typeof se=="string"&&this.config.joins?.some(Je=>Je.alias===se))throw Error(`Alias "${se}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof B=="string"&&(this.config.fields={[B]:this.config.fields}),typeof se=="string"&&!ie(l,W))){let Je=ie(l,pn)?l._.selectedFields:ie(l,ir)?l[en].selectedFields:l[re.Symbol.Columns];this.config.fields[se]=Je}if(typeof C=="function"&&(C=C(new Proxy(this.config.fields,new za({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:C,table:l,joinType:o,alias:se}),typeof se=="string")switch(o){case"left":this.joinsNotNullableMap[se]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([Je])=>[Je,!1])),this.joinsNotNullableMap[se]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[se]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([Je])=>[Je,!1])),this.joinsNotNullableMap[se]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");crossJoin=this.createJoin("cross");createSetOperator(o,l){return C=>{let B=typeof C=="function"?C(Ae()):C;if(!Qt(this.getSelectedFields(),B.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:o,isAll:l,rightSelect:B}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);except=this.createSetOperator("except",!1);addSetOperators(o){return this.config.setOperators.push(...o),this}where(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new za({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=o,this}having(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new za({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=o,this}groupBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.fields,new za({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(l)?l:[l]}else this.config.groupBy=o;return this}orderBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.fields,new za({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),C=Array.isArray(l)?l:[l];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=C:this.config.orderBy=C}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=o:this.config.orderBy=o;return this}limit(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=o:this.config.limit=o,this}offset(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=o:this.config.offset=o,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}as(o){let l=[];if(l.push(...L(this.config.table)),this.config.joins)for(let C of this.config.joins)l.push(...L(C.table));return new Proxy(new pn(this.getSQL(),this.config.fields,o,!1,[...new Set(l)]),new za({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new za({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class Y extends E{static[M]="SQLiteSelect";_prepare(o=!0){if(!this.session)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let l=qt(this.config.fields),C=this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),l,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return C.joinsNotNullableMap=this.joinsNotNullableMap,C}$withCache(o){return this.cacheConfig=o===void 0?{config:{},enable:!0,autoInvalidate:!0}:o===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...o},this}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(){return this.all()}}for(let T of[Hn])for(let o of Object.getOwnPropertyNames(T.prototype))o!=="constructor"&&Object.defineProperty(Y.prototype,o,Object.getOwnPropertyDescriptor(T.prototype,o)||Object.create(null));function xe(T,o){return(l,C,...B)=>{let se=[C,...B].map(Je=>({type:T,isAll:o,rightSelect:Je}));for(let Je of se)if(!Qt(l.getSelectedFields(),Je.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return l.addSetOperators(se)}}let Ae=()=>({union:ot,unionAll:Ot,intersect:tt,except:lr}),ot=xe("union",!1),Ot=xe("union",!0),tt=xe("intersect",!1),lr=xe("except",!1);class Jt{static[M]="SQLiteQueryBuilder";dialect;dialectConfig;constructor(o){this.dialect=ie(o,ja)?o:void 0,this.dialectConfig=ie(o,ja)?void 0:o}$with=(o,l)=>{let C=this;return{as:B=>(typeof B=="function"&&(B=B(C)),new Proxy(new nr(B.getSQL(),l??("getSelectedFields"in B?B.getSelectedFields()??{}:{}),o,!0),new za({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...o){let l=this;return{select:function(C){return new ue({fields:C??void 0,session:void 0,dialect:l.getDialect(),withList:o})},selectDistinct:function(C){return new ue({fields:C??void 0,session:void 0,dialect:l.getDialect(),withList:o,distinct:!0})}}}select(o){return new ue({fields:o??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(o){return new ue({fields:o??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new Pr(this.dialectConfig)),this.dialect}}class er extends Hn{constructor(o,l,C,B){super(),this.table=o,this.session=l,this.dialect=C,this.config={table:o,withList:B}}static[M]="SQLiteDelete";config;where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.table[re.Symbol.Columns],new za({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),C=Array.isArray(l)?l:[l];this.config.orderBy=C}else this.config.orderBy=o;return this}limit(o){return this.config.limit=o,this}returning(o=this.table[or.Symbol.Columns]){return this.config.returning=qt(o),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:L(this.config.table)})}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(o){return this._prepare().execute(o)}$dynamic(){return this}}class Pt{constructor(o,l,C,B){this.table=o,this.session=l,this.dialect=C,this.withList=B}static[M]="SQLiteInsertBuilder";values(o){if((o=Array.isArray(o)?o:[o]).length===0)throw Error("values() must be called with at least one value");let l=o.map(C=>{let B={},se=this.table[re.Symbol.Columns];for(let Je of Object.keys(C)){let st=C[Je];B[Je]=ie(st,W)?st:new _r(st,se[Je])}return B});return new Ht(this.table,l,this.session,this.dialect,this.withList)}select(o){let l=typeof o=="function"?o(new Jt):o;if(!ie(l,W)&&!Qt(this.table[U],l._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Ht(this.table,l,this.session,this.dialect,this.withList,!0)}}class Ht extends Hn{constructor(o,l,C,B,se,Je){super(),this.session=C,this.dialect=B,this.config={table:o,values:l,withList:se,select:Je}}static[M]="SQLiteInsert";config;returning(o=this.config.table[or.Symbol.Columns]){return this.config.returning=qt(o),this}onConflictDoNothing(o={}){if(this.config.onConflict||(this.config.onConflict=[]),o.target===void 0)this.config.onConflict.push(H` on conflict do nothing`);else{let l=Array.isArray(o.target)?H`${o.target}`:H`${[o.target]}`,C=o.where?H` where ${o.where}`:H``;this.config.onConflict.push(H` on conflict ${l} do nothing${C}`)}return this}onConflictDoUpdate(o){if(o.where&&(o.targetWhere||o.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);let l=o.where?H` where ${o.where}`:void 0,C=o.targetWhere?H` where ${o.targetWhere}`:void 0,B=o.setWhere?H` where ${o.setWhere}`:void 0,se=Array.isArray(o.target)?H`${o.target}`:H`${[o.target]}`,Je=this.dialect.buildUpdateSet(this.config.table,nn(this.config.table,o.set));return this.config.onConflict.push(H` on conflict ${se}${C} do update set ${Je}${l}${B}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:L(this.config.table)})}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class It{constructor(o,l,C,B){this.table=o,this.session=l,this.dialect=C,this.withList=B}static[M]="SQLiteUpdateBuilder";set(o){return new Mt(this.table,nn(this.table,o),this.session,this.dialect,this.withList)}}class Mt extends Hn{constructor(o,l,C,B,se){super(),this.session=C,this.dialect=B,this.config={set:l,table:o,withList:se,joins:[]}}static[M]="SQLiteUpdate";config;from(o){return this.config.from=o,this}createJoin(o){return(l,C)=>{let B=Qr(l);if(typeof B=="string"&&this.config.joins.some(se=>se.alias===B))throw Error(`Alias "${B}" is already used in this query`);if(typeof C=="function"){let se=this.config.from?ie(l,or)?l[re.Symbol.Columns]:ie(l,pn)?l._.selectedFields:ie(l,ln)?l[en].selectedFields:void 0:void 0;C=C(new Proxy(this.config.table[re.Symbol.Columns],new za({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),se&&new Proxy(se,new za({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:C,table:l,joinType:o,alias:B}),this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.table[re.Symbol.Columns],new za({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),C=Array.isArray(l)?l:[l];this.config.orderBy=C}else this.config.orderBy=o;return this}limit(o){return this.config.limit=o,this}returning(o=this.config.table[or.Symbol.Columns]){return this.config.returning=qt(o),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:L(this.config.table)})}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class cn extends W{constructor(o){super(cn.buildEmbeddedCount(o.source,o.filters).queryChunks),this.params=o,this.session=o.session,this.sql=cn.buildCount(o.source,o.filters)}sql;static[M]="SQLiteCountBuilderAsync";[Symbol.toStringTag]="SQLiteCountBuilderAsync";session;static buildEmbeddedCount(o,l){return H`(select count(*) from ${o}${H.raw(" where ").if(l)}${l})`}static buildCount(o,l){return H`select count(*) from ${o}${H.raw(" where ").if(l)}${l}`}then(o,l){return Promise.resolve(this.session.count(this.sql)).then(o,l)}catch(o){return this.then(void 0,o)}finally(o){return this.then(l=>(o?.(),l),l=>{throw o?.(),l})}}class _i{constructor(o,l,C,B,se,Je,st,ur){this.mode=o,this.fullSchema=l,this.schema=C,this.tableNamesMap=B,this.table=se,this.tableConfig=Je,this.dialect=st,this.session=ur}static[M]="SQLiteAsyncRelationalQueryBuilder";findMany(o){return this.mode==="sync"?new Ln(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o||{},"many"):new Ci(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o||{},"many")}findFirst(o){return this.mode==="sync"?new Ln(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o?{...o,limit:1}:{limit:1},"first"):new Ci(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o?{...o,limit:1}:{limit:1},"first")}}class Ci extends Hn{constructor(o,l,C,B,se,Je,st,ur,Er){super(),this.fullSchema=o,this.schema=l,this.tableNamesMap=C,this.table=B,this.tableConfig=se,this.dialect=Je,this.session=st,this.config=ur,this.mode=Er}static[M]="SQLiteAsyncRelationalQuery";mode;getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(o=!1){let{query:l,builtQuery:C}=this._toSQL();return this.session[o?"prepareOneTimeQuery":"prepareQuery"](C,void 0,this.mode==="first"?"get":"all",!0,(B,se)=>{let Je=B.map(st=>function ur(Er,rn,vn,ct,yr=wr=>wr){let wr={};for(let[Cr,un]of ct.entries())if(un.isJson){let fn=rn.relations[un.tsKey],Pn=vn[Cr],Un=typeof Pn=="string"?JSON.parse(Pn):Pn;wr[un.tsKey]=ie(fn,ia)?Un&&ur(Er,Er[un.relationTableTsKey],Un,un.selection,yr):Un.map($o=>ur(Er,Er[un.relationTableTsKey],$o,un.selection,yr))}else{let fn,Pn=yr(vn[Cr]),Un=un.field;fn=ie(Un,Ge)?Un:ie(Un,W)?Un.decoder:Un.sql.decoder,wr[un.tsKey]=Pn===null?null:fn.mapFromDriverValue(Pn)}return wr}(this.schema,this.tableConfig,st,l.selection,se));return this.mode==="first"?Je[0]:Je})}prepare(){return this._prepare(!1)}_toSQL(){let o=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),l=this.dialect.sqlToQuery(o.sql);return{query:o,builtQuery:l}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}class Ln extends Ci{static[M]="SQLiteSyncRelationalQuery";sync(){return this.executeRaw()}}class aa extends Hn{constructor(o,l,C,B,se){super(),this.execute=o,this.getSQL=l,this.dialect=B,this.mapBatchResult=se,this.config={action:C}}static[M]="SQLiteRaw";config;getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(o,l){return l?this.mapBatchResult(o):o}_prepare(){return this}isResponseInArrayMode(){return!1}}class Pi{constructor(o,l,C,B){this.resultKind=o,this.dialect=l,this.session=C,this._=B?{schema:B.schema,fullSchema:B.fullSchema,tableNamesMap:B.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};let se=this.query;if(this._.schema)for(let[Je,st]of Object.entries(this._.schema))se[Je]=new _i(o,B.fullSchema,this._.schema,this._.tableNamesMap,B.fullSchema[Je],st,l,C);this.$cache={invalidate:async Je=>{}}}static[M]="BaseSQLiteDatabase";query;$with=(o,l)=>{let C=this;return{as:B=>(typeof B=="function"&&(B=B(new Jt(C.dialect))),new Proxy(new nr(B.getSQL(),l??("getSelectedFields"in B?B.getSelectedFields()??{}:{}),o,!0),new za({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(o,l){return new cn({source:o,filters:l,session:this.session})}with(...o){let l=this;return{select:function(C){return new ue({fields:C??void 0,session:l.session,dialect:l.dialect,withList:o})},selectDistinct:function(C){return new ue({fields:C??void 0,session:l.session,dialect:l.dialect,withList:o,distinct:!0})},update:function(C){return new It(C,l.session,l.dialect,o)},insert:function(C){return new Pt(C,l.session,l.dialect,o)},delete:function(C){return new er(C,l.session,l.dialect,o)}}}select(o){return new ue({fields:o??void 0,session:this.session,dialect:this.dialect})}selectDistinct(o){return new ue({fields:o??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(o){return new It(o,this.session,this.dialect)}$cache;insert(o){return new Pt(o,this.session,this.dialect)}delete(o){return new er(o,this.session,this.dialect)}run(o){let l=typeof o=="string"?H.raw(o):o.getSQL();return this.resultKind==="async"?new aa(async()=>this.session.run(l),()=>l,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(l)}all(o){let l=typeof o=="string"?H.raw(o):o.getSQL();return this.resultKind==="async"?new aa(async()=>this.session.all(l),()=>l,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(l)}get(o){let l=typeof o=="string"?H.raw(o):o.getSQL();return this.resultKind==="async"?new aa(async()=>this.session.get(l),()=>l,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(l)}values(o){let l=typeof o=="string"?H.raw(o):o.getSQL();return this.resultKind==="async"?new aa(async()=>this.session.values(l),()=>l,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(l)}transaction(o,l){return this.session.transaction(o,l)}}class fi{static[M]="Cache"}class vo extends fi{strategy(){return"all"}static[M]="NoopCache";async get(o){}async put(o,l,C,B){}async onMutate(o){}}async function ji(T,o){let l=`${T}-${JSON.stringify(o)}`,C=new TextEncoder().encode(l);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",C))].map(B=>B.toString(16).padStart(2,"0")).join("")}class ha extends Hn{constructor(o){super(),this.resultCb=o}static[M]="ExecuteResultSync";async execute(){return this.resultCb()}sync(){return this.resultCb()}}class to{constructor(o,l,C,B,se,Je){this.mode=o,this.executeMethod=l,this.query=C,this.cache=B,this.queryMetadata=se,this.cacheConfig=Je,B&&B.strategy()==="all"&&Je===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}static[M]="PreparedQuery";joinsNotNullableMap;async queryWithCache(o,l,C){if(this.cache===void 0||ie(this.cache,vo)||this.queryMetadata===void 0||this.cacheConfig&&!this.cacheConfig.enable)try{return await C()}catch(B){throw new Va(o,l,B)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[B]=await Promise.all([C(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return B}catch(B){throw new Va(o,l,B)}if(!this.cacheConfig)try{return await C()}catch(B){throw new Va(o,l,B)}if(this.queryMetadata.type==="select"){let B=await this.cache.get(this.cacheConfig.tag??await ji(o,l),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(B===void 0){let se;try{se=await C()}catch(Je){throw new Va(o,l,Je)}return await this.cache.put(this.cacheConfig.tag??await ji(o,l),se,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),se}return B}try{return await C()}catch(B){throw new Va(o,l,B)}}getQuery(){return this.query}mapRunResult(o,l){return o}mapAllResult(o,l){throw Error("Not implemented")}mapGetResult(o,l){throw Error("Not implemented")}execute(o){return this.mode==="async"?this[this.executeMethod](o):new ha(()=>this[this.executeMethod](o))}mapResult(o,l){switch(this.executeMethod){case"run":return this.mapRunResult(o,l);case"all":return this.mapAllResult(o,l);case"get":return this.mapGetResult(o,l)}}}class da{constructor(o){this.dialect=o}static[M]="SQLiteSession";prepareOneTimeQuery(o,l,C,B,se,Je,st){return this.prepareQuery(o,l,C,B,se,Je,st)}run(o){let l=this.dialect.sqlToQuery(o);try{return this.prepareOneTimeQuery(l,void 0,"run",!1).run()}catch(C){throw new ys({cause:C,message:`Failed to run the query '${l.sql}'`})}}extractRawRunValueFromBatchResult(o){return o}all(o){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(o),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(o){throw Error("Not implemented")}get(o){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(o),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(o){throw Error("Not implemented")}values(o){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(o),void 0,"run",!1).values()}async count(o){return(await this.values(o))[0][0]}extractRawValuesValueFromBatchResult(o){throw Error("Not implemented")}}class Ga extends Pi{constructor(o,l,C,B,se=0){super(o,l,C,B),this.schema=B,this.nestedIndex=se}static[M]="SQLiteTransaction";rollback(){throw new Zs}}class qi extends da{constructor(o,l,C,B={}){super(l),this.client=o,this.schema=C,this.options=B,this.logger=B.logger??new $e,this.cache=B.cache??new vo}static[M]="SQLiteD1Session";logger;cache;prepareQuery(o,l,C,B,se,Je,st){return new Ma(this.client.prepare(o.sql),o,this.logger,this.cache,Je,st,l,C,B,se)}async batch(o){let l=[],C=[];for(let B of o){let se=B._prepare(),Je=se.getQuery();if(l.push(se),Je.params.length>0)C.push(se.stmt.bind(...Je.params));else{let st=se.getQuery();C.push(this.client.prepare(st.sql).bind(...st.params))}}return(await this.client.batch(C)).map((B,se)=>l[se].mapResult(B,!0))}extractRawAllValueFromBatchResult(o){return o.results}extractRawGetValueFromBatchResult(o){return o.results[0]}extractRawValuesValueFromBatchResult(o){return Aa(o.results)}async transaction(o,l){let C=new ka("async",this.dialect,this,this.schema);await this.run(H.raw(`begin${l?.behavior?" "+l.behavior:""}`));try{let B=await o(C);return await this.run(H`commit`),B}catch(B){throw await this.run(H`rollback`),B}}}class ka extends Ga{static[M]="D1Transaction";async transaction(o){let l=`sp${this.nestedIndex}`,C=new ka("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(H.raw(`savepoint ${l}`));try{let B=await o(C);return await this.session.run(H.raw(`release savepoint ${l}`)),B}catch(B){throw await this.session.run(H.raw(`rollback to savepoint ${l}`)),B}}}function Aa(T){let o=[];for(let l of T){let C=Object.keys(l).map(B=>l[B]);o.push(C)}return o}class Ma extends to{constructor(o,l,C,B,se,Je,st,ur,Er,rn){super("async",ur,l,B,se,Je),this.logger=C,this._isResponseInArrayMode=Er,this.customResultMapper=rn,this.fields=st,this.stmt=o}static[M]="D1PreparedQuery";customResultMapper;fields;stmt;async run(o){let l=Jn(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),await this.queryWithCache(this.query.sql,l,async()=>this.stmt.bind(...l).run())}async all(o){let{fields:l,query:C,logger:B,stmt:se,customResultMapper:Je}=this;if(!l&&!Je){let ur=Jn(C.params,o??{});return B.logQuery(C.sql,ur),await this.queryWithCache(C.sql,ur,async()=>se.bind(...ur).all().then(({results:Er})=>this.mapAllResult(Er)))}let st=await this.values(o);return this.mapAllResult(st)}mapAllResult(o,l){return l&&(o=Aa(o.results)),this.fields||this.customResultMapper?this.customResultMapper?this.customResultMapper(o):o.map(C=>Qe(this.fields,C,this.joinsNotNullableMap)):o}async get(o){let{fields:l,joinsNotNullableMap:C,query:B,logger:se,stmt:Je,customResultMapper:st}=this;if(!l&&!st){let Er=Jn(B.params,o??{});return se.logQuery(B.sql,Er),await this.queryWithCache(B.sql,Er,async()=>Je.bind(...Er).all().then(({results:rn})=>rn[0]))}let ur=await this.values(o);if(ur[0])return st?st(ur):Qe(l,ur[0],C)}mapGetResult(o,l){return l&&(o=Aa(o.results)[0]),this.fields||this.customResultMapper?this.customResultMapper?this.customResultMapper([o]):Qe(this.fields,o,this.joinsNotNullableMap):o}async values(o){let l=Jn(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),await this.queryWithCache(this.query.sql,l,async()=>this.stmt.bind(...l).raw())}isResponseInArrayMode(){return this._isResponseInArrayMode}}class Mo extends Pi{static[M]="D1Database";async batch(o){return this.session.batch(o)}}let Rn=Wt("repositories",{id:zt("id").primaryKey({autoIncrement:!0}),url:kt("url").notNull().unique(),owner:kt("owner").notNull(),name:kt("name").notNull(),description:kt("description"),stars:zt("stars").default(0),defaultBranch:kt("default_branch").default("main"),readme:kt("readme"),lastFetched:zt("last_fetched",{mode:"timestamp"}).notNull(),createdAt:zt("created_at",{mode:"timestamp"}).notNull()}),ui=Wt("commits",{id:zt("id").primaryKey({autoIncrement:!0}),repoId:zt("repo_id").notNull().references(()=>Rn.id,{onDelete:"cascade"}),sha:kt("sha").notNull(),message:kt("message").notNull(),authorName:kt("author_name"),authorEmail:kt("author_email"),date:zt("date",{mode:"timestamp"}).notNull(),order:zt("order").notNull()}),so=Wt("files",{id:zt("id").primaryKey({autoIncrement:!0}),commitId:zt("commit_id").notNull().references(()=>ui.id,{onDelete:"cascade"}),path:kt("path").notNull(),content:kt("content"),size:zt("size").default(0),language:kt("language")}),bs=Wt("analyses",{id:zt("id").primaryKey({autoIncrement:!0}),commitId:zt("commit_id").notNull().references(()=>ui.id,{onDelete:"cascade"}),provider:kt("provider").notNull(),explanation:kt("explanation").notNull(),createdAt:zt("created_at",{mode:"timestamp"}).notNull()});v.s(["analyses",0,bs,"commits",0,ui,"files",0,so,"repositories",0,Rn],60378);var Bo=v.i(60378);function Wo(T){return function(o,l={}){let C,B,se=new Ti({casing:l.casing});if(l.logger===!0?C=new me:l.logger!==!1&&(C=l.logger),l.schema){let ur=function(Er,rn){Object.keys(Er).length===1&&"default"in Er&&!ie(Er.default,re)&&(Er=Er.default);let vn={},ct={},yr={};for(let[wr,Cr]of Object.entries(Er))if(ie(Cr,re)){let un=et(Cr),fn=ct[un];for(let Un of(vn[un]=wr,yr[wr]={tsName:wr,dbName:Cr[re.Symbol.Name],schema:Cr[re.Symbol.Schema],columns:Cr[re.Symbol.Columns],relations:fn?.relations??{},primaryKey:fn?.primaryKey??[]},Object.values(Cr[re.Symbol.Columns])))Un.primary&&yr[wr].primaryKey.push(Un);let Pn=Cr[re.Symbol.ExtraConfigBuilder]?.(Cr[re.Symbol.ExtraConfigColumns]);if(Pn)for(let Un of Object.values(Pn))ie(Un,w)&&yr[wr].primaryKey.push(...Un.columns)}else if(ie(Cr,Io)){let un,fn=et(Cr.table),Pn=vn[fn];for(let[Un,$o]of Object.entries(Cr.config(rn(Cr.table))))if(Pn){let ro=yr[Pn];ro.relations[Un]=$o,un&&ro.primaryKey.push(...un)}else fn in ct||(ct[fn]={relations:{},primaryKey:un}),ct[fn].relations[Un]=$o}return{tables:yr,tableNamesMap:vn}}(l.schema,Ws);B={fullSchema:l.schema,schema:ur.tables,tableNamesMap:ur.tableNamesMap}}let Je=new qi(o,se,B,{logger:C,cache:l.cache}),st=new Mo("async",se,Je,B);return st.$client=o,st.$cache=l.cache,st.$cache&&(st.$cache.invalidate=l.cache?.onMutate),st}(T,{schema:Bo})}function _s(){let{env:T}=(0,Pe.getRequestContext)();return Wo(T.grepbase_db)}v.s(["createDb",()=>Wo],17649),v.s(["getDb",()=>_s],40831)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_c144a9c7._.js",635,(v,p,ve)=>{"use strict";var n=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,ie=Object.prototype.hasOwnProperty,Ze={},me={RequestCookies:()=>ge,ResponseCookies:()=>ht,parseCookie:()=>X,parseSetCookie:()=>U,stringifyCookie:()=>V};for(var $e in me)n(Ze,$e,{get:me[$e],enumerable:!0});function V(ee){var Be;let re=["path"in ee&&ee.path&&`Path=${ee.path}`,"expires"in ee&&(ee.expires||ee.expires===0)&&`Expires=${(typeof ee.expires=="number"?new Date(ee.expires):ee.expires).toUTCString()}`,"maxAge"in ee&&typeof ee.maxAge=="number"&&`Max-Age=${ee.maxAge}`,"domain"in ee&&ee.domain&&`Domain=${ee.domain}`,"secure"in ee&&ee.secure&&"Secure","httpOnly"in ee&&ee.httpOnly&&"HttpOnly","sameSite"in ee&&ee.sameSite&&`SameSite=${ee.sameSite}`,"partitioned"in ee&&ee.partitioned&&"Partitioned","priority"in ee&&ee.priority&&`Priority=${ee.priority}`].filter(Boolean),et=`${ee.name}=${encodeURIComponent((Be=ee.value)!=null?Be:"")}`;return re.length===0?et:`${et}; ${re.join("; ")}`}function X(ee){let Be=new Map;for(let re of ee.split(/; */)){if(!re)continue;let et=re.indexOf("=");if(et===-1){Be.set(re,"true");continue}let[Ge,it]=[re.slice(0,et),re.slice(et+1)];try{Be.set(Ge,decodeURIComponent(it??"true"))}catch{}}return Be}function U(ee){if(!ee)return;let[[Be,re],...et]=X(ee),{domain:Ge,expires:it,httponly:bt,maxage:Et,path:tr,samesite:Gt,secure:Ve,partitioned:cr,priority:ye}=Object.fromEntries(et.map(([h,Xt])=>[h.toLowerCase().replace(/-/g,""),Xt]));{var be,Z,vt={name:Be,value:decodeURIComponent(re),domain:Ge,...it&&{expires:new Date(it)},...bt&&{httpOnly:!0},...typeof Et=="string"&&{maxAge:Number(Et)},path:tr,...Gt&&{sameSite:oe.includes(be=(be=Gt).toLowerCase())?be:void 0},...Ve&&{secure:!0},...ye&&{priority:_e.includes(Z=(Z=ye).toLowerCase())?Z:void 0},...cr&&{partitioned:!0}};let h={};for(let Xt in vt)vt[Xt]&&(h[Xt]=vt[Xt]);return h}}p.exports=((ee,Be,re,et)=>{if(Be&&typeof Be=="object"||typeof Be=="function")for(let Ge of M(Be))ie.call(ee,Ge)||Ge===re||n(ee,Ge,{get:()=>Be[Ge],enumerable:!(et=Pe(Be,Ge))||et.enumerable});return ee})(n({},"__esModule",{value:!0}),Ze);var oe=["strict","lax","none"],_e=["low","medium","high"],ge=class{constructor(ee){this._parsed=new Map,this._headers=ee;let Be=ee.get("cookie");if(Be)for(let[re,et]of X(Be))this._parsed.set(re,{name:re,value:et})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...ee){let Be=typeof ee[0]=="string"?ee[0]:ee[0].name;return this._parsed.get(Be)}getAll(...ee){var Be;let re=Array.from(this._parsed);if(!ee.length)return re.map(([Ge,it])=>it);let et=typeof ee[0]=="string"?ee[0]:(Be=ee[0])==null?void 0:Be.name;return re.filter(([Ge])=>Ge===et).map(([Ge,it])=>it)}has(ee){return this._parsed.has(ee)}set(...ee){let[Be,re]=ee.length===1?[ee[0].name,ee[0].value]:ee,et=this._parsed;return et.set(Be,{name:Be,value:re}),this._headers.set("cookie",Array.from(et).map(([Ge,it])=>V(it)).join("; ")),this}delete(ee){let Be=this._parsed,re=Array.isArray(ee)?ee.map(et=>Be.delete(et)):Be.delete(ee);return this._headers.set("cookie",Array.from(Be).map(([et,Ge])=>V(Ge)).join("; ")),re}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(ee=>`${ee.name}=${encodeURIComponent(ee.value)}`).join("; ")}},ht=class{constructor(ee){var Be,re,et;this._parsed=new Map,this._headers=ee;let Ge=(et=(re=(Be=ee.getSetCookie)==null?void 0:Be.call(ee))!=null?re:ee.get("set-cookie"))!=null?et:[];for(let it of Array.isArray(Ge)?Ge:function(bt){if(!bt)return[];var Et,tr,Gt,Ve,cr,ye=[],be=0;function Z(){for(;be<bt.length&&/\s/.test(bt.charAt(be));)be+=1;return be<bt.length}for(;be<bt.length;){for(Et=be,cr=!1;Z();)if((tr=bt.charAt(be))===","){for(Gt=be,be+=1,Z(),Ve=be;be<bt.length&&(tr=bt.charAt(be))!=="="&&tr!==";"&&tr!==",";)be+=1;be<bt.length&&bt.charAt(be)==="="?(cr=!0,be=Ve,ye.push(bt.substring(Et,Gt)),Et=be):be=Gt+1}else be+=1;(!cr||be>=bt.length)&&ye.push(bt.substring(Et,bt.length))}return ye}(Ge)){let bt=U(it);bt&&this._parsed.set(bt.name,bt)}}get(...ee){let Be=typeof ee[0]=="string"?ee[0]:ee[0].name;return this._parsed.get(Be)}getAll(...ee){var Be;let re=Array.from(this._parsed.values());if(!ee.length)return re;let et=typeof ee[0]=="string"?ee[0]:(Be=ee[0])==null?void 0:Be.name;return re.filter(Ge=>Ge.name===et)}has(ee){return this._parsed.has(ee)}set(...ee){let[Be,re,et]=ee.length===1?[ee[0].name,ee[0].value,ee[0]]:ee,Ge=this._parsed;return Ge.set(Be,function(it={name:"",value:""}){return typeof it.expires=="number"&&(it.expires=new Date(it.expires)),it.maxAge&&(it.expires=new Date(Date.now()+1e3*it.maxAge)),(it.path===null||it.path===void 0)&&(it.path="/"),it}({name:Be,value:re,...et})),function(it,bt){for(let[,Et]of(bt.delete("set-cookie"),it)){let tr=V(Et);bt.append("set-cookie",tr)}}(Ge,this._headers),this}delete(...ee){let[Be,re]=typeof ee[0]=="string"?[ee[0]]:[ee[0].name,ee[0]];return this.set({...re,name:Be,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(V).join("; ")}}},32063,v=>{"use strict";var p,ve,n,Pe,M,ie,Ze,me=v.i(34529),$e=me.ContextAPI.getInstance(),V=v.i(91008),X=V.DiagAPI.instance(),U=(p=function(Re,ut){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hr,Ue){hr.__proto__=Ue}||function(hr,Ue){for(var hn in Ue)Object.prototype.hasOwnProperty.call(Ue,hn)&&(hr[hn]=Ue[hn])})(Re,ut)},function(Re,ut){if(typeof ut!="function"&&ut!==null)throw TypeError("Class extends value "+String(ut)+" is not a constructor or null");function hr(){this.constructor=Re}p(Re,ut),Re.prototype=ut===null?Object.create(ut):(hr.prototype=ut.prototype,new hr)}),oe=function(){function Re(){}return Re.prototype.createGauge=function(ut,hr){return tr},Re.prototype.createHistogram=function(ut,hr){return Gt},Re.prototype.createCounter=function(ut,hr){return Et},Re.prototype.createUpDownCounter=function(ut,hr){return Ve},Re.prototype.createObservableGauge=function(ut,hr){return ye},Re.prototype.createObservableCounter=function(ut,hr){return cr},Re.prototype.createObservableUpDownCounter=function(ut,hr){return be},Re.prototype.addBatchObservableCallback=function(ut,hr){},Re.prototype.removeBatchObservableCallback=function(ut){},Re}(),_e=function(){},ge=function(Re){function ut(){return Re!==null&&Re.apply(this,arguments)||this}return U(ut,Re),ut.prototype.add=function(hr,Ue){},ut}(_e),ht=function(Re){function ut(){return Re!==null&&Re.apply(this,arguments)||this}return U(ut,Re),ut.prototype.add=function(hr,Ue){},ut}(_e),ee=function(Re){function ut(){return Re!==null&&Re.apply(this,arguments)||this}return U(ut,Re),ut.prototype.record=function(hr,Ue){},ut}(_e),Be=function(Re){function ut(){return Re!==null&&Re.apply(this,arguments)||this}return U(ut,Re),ut.prototype.record=function(hr,Ue){},ut}(_e),re=function(){function Re(){}return Re.prototype.addCallback=function(ut){},Re.prototype.removeCallback=function(ut){},Re}(),et=function(Re){function ut(){return Re!==null&&Re.apply(this,arguments)||this}return U(ut,Re),ut}(re),Ge=function(Re){function ut(){return Re!==null&&Re.apply(this,arguments)||this}return U(ut,Re),ut}(re),it=function(Re){function ut(){return Re!==null&&Re.apply(this,arguments)||this}return U(ut,Re),ut}(re),bt=new oe,Et=new ge,tr=new ee,Gt=new Be,Ve=new ht,cr=new et,ye=new Ge,be=new it;function Z(){return bt}var vt=new(function(){function Re(){}return Re.prototype.getMeter=function(ut,hr,Ue){return bt},Re}()),h=v.i(98688),Xt="metrics",lt=function(){function Re(){}return Re.getInstance=function(){return this._instance||(this._instance=new Re),this._instance},Re.prototype.setGlobalMeterProvider=function(ut){return(0,h.registerGlobal)(Xt,ut,V.DiagAPI.instance())},Re.prototype.getMeterProvider=function(){return(0,h.getGlobal)(Xt)||vt},Re.prototype.getMeter=function(ut,hr,Ue){return this.getMeterProvider().getMeter(ut,hr,Ue)},Re.prototype.disable=function(){(0,h.unregisterGlobal)(Xt,V.DiagAPI.instance())},Re}().getInstance(),pr=function(){function Re(){}return Re.prototype.inject=function(ut,hr){},Re.prototype.extract=function(ut,hr){return ut},Re.prototype.fields=function(){return[]},Re}(),pt={get:function(Re,ut){if(Re!=null)return Re[ut]},keys:function(Re){return Re==null?[]:Object.keys(Re)}},ft={set:function(Re,ut,hr){Re!=null&&(Re[ut]=hr)}},an=v.i(24158),gn=(0,an.createContextKey)("OpenTelemetry Baggage Key");function ei(Re){return Re.getValue(gn)||void 0}function pn(){return ei(me.ContextAPI.getInstance().active())}function nr(Re,ut){return Re.setValue(gn,ut)}function zr(Re){return Re.deleteValue(gn)}var en=function(Re,ut){var hr=typeof Symbol=="function"&&Re[Symbol.iterator];if(!hr)return Re;var Ue,hn,pi=hr.call(Re),Kr=[];try{for(;(ut===void 0||ut-- >0)&&!(Ue=pi.next()).done;)Kr.push(Ue.value)}catch(ta){hn={error:ta}}finally{try{Ue&&!Ue.done&&(hr=pi.return)&&hr.call(pi)}finally{if(hn)throw hn.error}}return Kr},Se=function(Re){var ut=typeof Symbol=="function"&&Symbol.iterator,hr=ut&&Re[ut],Ue=0;if(hr)return hr.call(Re);if(Re&&typeof Re.length=="number")return{next:function(){return Re&&Ue>=Re.length&&(Re=void 0),{value:Re&&Re[Ue++],done:!Re}}};throw TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")},q=function(){function Re(ut){this._entries=ut?new Map(ut):new Map}return Re.prototype.getEntry=function(ut){var hr=this._entries.get(ut);if(hr)return Object.assign({},hr)},Re.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(ut){var hr=en(ut,2);return[hr[0],hr[1]]})},Re.prototype.setEntry=function(ut,hr){var Ue=new Re(this._entries);return Ue._entries.set(ut,hr),Ue},Re.prototype.removeEntry=function(ut){var hr=new Re(this._entries);return hr._entries.delete(ut),hr},Re.prototype.removeEntries=function(){for(var ut,hr,Ue=[],hn=0;hn<arguments.length;hn++)Ue[hn]=arguments[hn];var pi=new Re(this._entries);try{for(var Kr=Se(Ue),ta=Kr.next();!ta.done;ta=Kr.next()){var Ii=ta.value;pi._entries.delete(Ii)}}catch(wa){ut={error:wa}}finally{try{ta&&!ta.done&&(hr=Kr.return)&&hr.call(Kr)}finally{if(ut)throw ut.error}}return pi},Re.prototype.clear=function(){return new Re},Re}(),J=Symbol("BaggageEntryMetadata"),W=V.DiagAPI.instance();function Fe(Re){return Re===void 0&&(Re={}),new q(new Map(Object.entries(Re)))}function rt(Re){return typeof Re!="string"&&(W.error("Cannot create baggage metadata from unknown type: "+typeof Re),Re=""),{__TYPE__:J,toString:function(){return Re}}}var Zt="propagation",_r=new pr,H=function(){function Re(){this.createBaggage=Fe,this.getBaggage=ei,this.getActiveBaggage=pn,this.setBaggage=nr,this.deleteBaggage=zr}return Re.getInstance=function(){return this._instance||(this._instance=new Re),this._instance},Re.prototype.setGlobalPropagator=function(ut){return(0,h.registerGlobal)(Zt,ut,V.DiagAPI.instance())},Re.prototype.inject=function(ut,hr,Ue){return Ue===void 0&&(Ue=ft),this._getGlobalPropagator().inject(ut,hr,Ue)},Re.prototype.extract=function(ut,hr,Ue){return Ue===void 0&&(Ue=pt),this._getGlobalPropagator().extract(ut,hr,Ue)},Re.prototype.fields=function(){return this._getGlobalPropagator().fields()},Re.prototype.disable=function(){(0,h.unregisterGlobal)(Zt,V.DiagAPI.instance())},Re.prototype._getGlobalPropagator=function(){return(0,h.getGlobal)(Zt)||_r},Re}().getInstance(),Br=v.i(94323);let Gr={context:$e,diag:X,metrics:lt,propagation:H,trace:Br.trace};v.s(["default",0,Gr],40290),v.i(40290);var kn=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Jn=function(){for(var Re=0;Re<kn.length;Re++)this[kn[Re].n]=function(ut){return function(){for(var hr=[],Ue=0;Ue<arguments.length;Ue++)hr[Ue]=arguments[Ue];if(console){var hn=console[ut];if(typeof hn!="function"&&(hn=console.log),typeof hn=="function")return hn.apply(console,hr)}}}(kn[Re].c)},Bn=v.i(63689);(ve=M||(M={}))[ve.INT=0]="INT",ve[ve.DOUBLE=1]="DOUBLE";var ir=v.i(68677),Qe=v.i(29322);(n=ie||(ie={}))[n.NOT_RECORD=0]="NOT_RECORD",n[n.RECORD=1]="RECORD",n[n.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",(Pe=Ze||(Ze={}))[Pe.INTERNAL=0]="INTERNAL",Pe[Pe.SERVER=1]="SERVER",Pe[Pe.CLIENT=2]="CLIENT",Pe[Pe.PRODUCER=3]="PRODUCER",Pe[Pe.CONSUMER=4]="CONSUMER";var qt=v.i(31232),Qt=v.i(89622),nn="[_0-9a-z-*/]",Qr=RegExp("^(?:[a-z]"+nn+"{0,255}|"+("[a-z0-9]"+nn+"{0,240}@[a-z]")+nn+"{0,13})$"),ar=/^[ -~]{0,255}[!-~]$/,Vn=/,|=/,In=function(){function Re(ut){this._internalState=new Map,ut&&this._parse(ut)}return Re.prototype.set=function(ut,hr){var Ue=this._clone();return Ue._internalState.has(ut)&&Ue._internalState.delete(ut),Ue._internalState.set(ut,hr),Ue},Re.prototype.unset=function(ut){var hr=this._clone();return hr._internalState.delete(ut),hr},Re.prototype.get=function(ut){return this._internalState.get(ut)},Re.prototype.serialize=function(){var ut=this;return this._keys().reduce(function(hr,Ue){return hr.push(Ue+"="+ut.get(Ue)),hr},[]).join(",")},Re.prototype._parse=function(ut){!(ut.length>512)&&(this._internalState=ut.split(",").reverse().reduce(function(hr,Ue){var hn=Ue.trim(),pi=hn.indexOf("=");if(pi!==-1){var Kr=hn.slice(0,pi),ta=hn.slice(pi+1,Ue.length);Qr.test(Kr)&&ar.test(ta)&&!Vn.test(ta)&&hr.set(Kr,ta)}return hr},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},Re.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},Re.prototype._clone=function(){var ut=new Re;return ut._internalState=new Map(this._internalState),ut},Re}();function Sn(Re){return new In(Re)}var li=v.i(9729),mn=v.i(65839);v.s(["DiagConsoleLogger",()=>Jn,"DiagLogLevel",()=>Bn.DiagLogLevel,"INVALID_SPANID",()=>mn.INVALID_SPANID,"INVALID_SPAN_CONTEXT",()=>mn.INVALID_SPAN_CONTEXT,"INVALID_TRACEID",()=>mn.INVALID_TRACEID,"ProxyTracer",()=>ir.ProxyTracer,"ProxyTracerProvider",()=>Qe.ProxyTracerProvider,"ROOT_CONTEXT",()=>an.ROOT_CONTEXT,"SamplingDecision",()=>ie,"SpanKind",()=>Ze,"SpanStatusCode",()=>qt.SpanStatusCode,"TraceFlags",()=>Qt.TraceFlags,"ValueType",()=>M,"baggageEntryMetadataFromString",()=>rt,"context",()=>$e,"createContextKey",()=>an.createContextKey,"createNoopMeter",()=>Z,"createTraceState",()=>Sn,"default",0,Gr,"defaultTextMapGetter",()=>pt,"defaultTextMapSetter",()=>ft,"diag",()=>X,"isSpanContextValid",()=>li.isSpanContextValid,"isValidSpanId",()=>li.isValidSpanId,"isValidTraceId",()=>li.isValidTraceId,"metrics",()=>lt,"propagation",()=>H,"trace",()=>Br.trace],32063)},20678,(v,p,ve)=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var n,Pe,M,ie,Ze={};Ze.parse=function(me,$e){if(typeof me!="string")throw TypeError("argument str must be a string");for(var V={},X=me.split(M),U=($e||{}).decode||n,oe=0;oe<X.length;oe++){var _e=X[oe],ge=_e.indexOf("=");if(!(ge<0)){var ht=_e.substr(0,ge).trim(),ee=_e.substr(++ge,_e.length).trim();ee[0]=='"'&&(ee=ee.slice(1,-1)),V[ht]==null&&(V[ht]=function(Be,re){try{return re(Be)}catch{return Be}}(ee,U))}}return V},Ze.serialize=function(me,$e,V){var X=V||{},U=X.encode||Pe;if(typeof U!="function")throw TypeError("option encode is invalid");if(!ie.test(me))throw TypeError("argument name is invalid");var oe=U($e);if(oe&&!ie.test(oe))throw TypeError("argument val is invalid");var _e=me+"="+oe;if(X.maxAge!=null){var ge=X.maxAge-0;if(isNaN(ge)||!isFinite(ge))throw TypeError("option maxAge is invalid");_e+="; Max-Age="+Math.floor(ge)}if(X.domain){if(!ie.test(X.domain))throw TypeError("option domain is invalid");_e+="; Domain="+X.domain}if(X.path){if(!ie.test(X.path))throw TypeError("option path is invalid");_e+="; Path="+X.path}if(X.expires){if(typeof X.expires.toUTCString!="function")throw TypeError("option expires is invalid");_e+="; Expires="+X.expires.toUTCString()}if(X.httpOnly&&(_e+="; HttpOnly"),X.secure&&(_e+="; Secure"),X.sameSite)switch(typeof X.sameSite=="string"?X.sameSite.toLowerCase():X.sameSite){case!0:case"strict":_e+="; SameSite=Strict";break;case"lax":_e+="; SameSite=Lax";break;case"none":_e+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return _e},n=decodeURIComponent,Pe=encodeURIComponent,M=/; */,ie=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,p.exports=Ze})()},70903,(v,p,ve)=>{(()=>{"use strict";let n,Pe,M,ie,Ze;var me={993:U=>{var oe=Object.prototype.hasOwnProperty,_e="~";function ge(){}function ht(et,Ge,it){this.fn=et,this.context=Ge,this.once=it||!1}function ee(et,Ge,it,bt,Et){if(typeof it!="function")throw TypeError("The listener must be a function");var tr=new ht(it,bt||et,Et),Gt=_e?_e+Ge:Ge;return et._events[Gt]?et._events[Gt].fn?et._events[Gt]=[et._events[Gt],tr]:et._events[Gt].push(tr):(et._events[Gt]=tr,et._eventsCount++),et}function Be(et,Ge){--et._eventsCount==0?et._events=new ge:delete et._events[Ge]}function re(){this._events=new ge,this._eventsCount=0}Object.create&&(ge.prototype=Object.create(null),new ge().__proto__||(_e=!1)),re.prototype.eventNames=function(){var et,Ge,it=[];if(this._eventsCount===0)return it;for(Ge in et=this._events)oe.call(et,Ge)&&it.push(_e?Ge.slice(1):Ge);return Object.getOwnPropertySymbols?it.concat(Object.getOwnPropertySymbols(et)):it},re.prototype.listeners=function(et){var Ge=_e?_e+et:et,it=this._events[Ge];if(!it)return[];if(it.fn)return[it.fn];for(var bt=0,Et=it.length,tr=Array(Et);bt<Et;bt++)tr[bt]=it[bt].fn;return tr},re.prototype.listenerCount=function(et){var Ge=_e?_e+et:et,it=this._events[Ge];return it?it.fn?1:it.length:0},re.prototype.emit=function(et,Ge,it,bt,Et,tr){var Gt=_e?_e+et:et;if(!this._events[Gt])return!1;var Ve,cr,ye=this._events[Gt],be=arguments.length;if(ye.fn){switch(ye.once&&this.removeListener(et,ye.fn,void 0,!0),be){case 1:return ye.fn.call(ye.context),!0;case 2:return ye.fn.call(ye.context,Ge),!0;case 3:return ye.fn.call(ye.context,Ge,it),!0;case 4:return ye.fn.call(ye.context,Ge,it,bt),!0;case 5:return ye.fn.call(ye.context,Ge,it,bt,Et),!0;case 6:return ye.fn.call(ye.context,Ge,it,bt,Et,tr),!0}for(cr=1,Ve=Array(be-1);cr<be;cr++)Ve[cr-1]=arguments[cr];ye.fn.apply(ye.context,Ve)}else{var Z,vt=ye.length;for(cr=0;cr<vt;cr++)switch(ye[cr].once&&this.removeListener(et,ye[cr].fn,void 0,!0),be){case 1:ye[cr].fn.call(ye[cr].context);break;case 2:ye[cr].fn.call(ye[cr].context,Ge);break;case 3:ye[cr].fn.call(ye[cr].context,Ge,it);break;case 4:ye[cr].fn.call(ye[cr].context,Ge,it,bt);break;default:if(!Ve)for(Z=1,Ve=Array(be-1);Z<be;Z++)Ve[Z-1]=arguments[Z];ye[cr].fn.apply(ye[cr].context,Ve)}}return!0},re.prototype.on=function(et,Ge,it){return ee(this,et,Ge,it,!1)},re.prototype.once=function(et,Ge,it){return ee(this,et,Ge,it,!0)},re.prototype.removeListener=function(et,Ge,it,bt){var Et=_e?_e+et:et;if(!this._events[Et])return this;if(!Ge)return Be(this,Et),this;var tr=this._events[Et];if(tr.fn)tr.fn!==Ge||bt&&!tr.once||it&&tr.context!==it||Be(this,Et);else{for(var Gt=0,Ve=[],cr=tr.length;Gt<cr;Gt++)(tr[Gt].fn!==Ge||bt&&!tr[Gt].once||it&&tr[Gt].context!==it)&&Ve.push(tr[Gt]);Ve.length?this._events[Et]=Ve.length===1?Ve[0]:Ve:Be(this,Et)}return this},re.prototype.removeAllListeners=function(et){var Ge;return et?(Ge=_e?_e+et:et,this._events[Ge]&&Be(this,Ge)):(this._events=new ge,this._eventsCount=0),this},re.prototype.off=re.prototype.removeListener,re.prototype.addListener=re.prototype.on,re.prefixed=_e,re.EventEmitter=re,U.exports=re},213:U=>{U.exports=(oe,_e)=>(_e=_e||(()=>{}),oe.then(ge=>new Promise(ht=>{ht(_e())}).then(()=>ge),ge=>new Promise(ht=>{ht(_e())}).then(()=>{throw ge})))},574:(U,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=function(_e,ge,ht){let ee=0,Be=_e.length;for(;Be>0;){let re=Be/2|0,et=ee+re;0>=ht(_e[et],ge)?(ee=++et,Be-=re+1):Be=re}return ee}},821:(U,oe,_e)=>{Object.defineProperty(oe,"__esModule",{value:!0});let ge=_e(574);oe.default=class{constructor(){this._queue=[]}enqueue(ht,ee){let Be={priority:(ee=Object.assign({priority:0},ee)).priority,run:ht};if(this.size&&this._queue[this.size-1].priority>=ee.priority)return void this._queue.push(Be);let re=ge.default(this._queue,Be,(et,Ge)=>Ge.priority-et.priority);this._queue.splice(re,0,Be)}dequeue(){let ht=this._queue.shift();return ht?.run}filter(ht){return this._queue.filter(ee=>ee.priority===ht.priority).map(ee=>ee.run)}get size(){return this._queue.length}}},816:(U,oe,_e)=>{let ge=_e(213);class ht extends Error{constructor(re){super(re),this.name="TimeoutError"}}let ee=(Be,re,et)=>new Promise((Ge,it)=>{if(typeof re!="number"||re<0)throw TypeError("Expected `milliseconds` to be a positive number");if(re===1/0)return void Ge(Be);let bt=setTimeout(()=>{if(typeof et=="function"){try{Ge(et())}catch(Gt){it(Gt)}return}let Et=typeof et=="string"?et:`Promise timed out after ${re} milliseconds`,tr=et instanceof Error?et:new ht(Et);typeof Be.cancel=="function"&&Be.cancel(),it(tr)},re);ge(Be.then(Ge,it),()=>{clearTimeout(bt)})});U.exports=ee,U.exports.default=ee,U.exports.TimeoutError=ht}},$e={};function V(U){var oe=$e[U];if(oe!==void 0)return oe.exports;var _e=$e[U]={exports:{}},ge=!0;try{me[U](_e,_e.exports,V),ge=!1}finally{ge&&delete $e[U]}return _e.exports}V.ab="/ROOT/node_modules/next/dist/compiled/p-queue/";var X={};Object.defineProperty(X,"__esModule",{value:!0}),n=V(993),Pe=V(816),M=V(821),ie=()=>{},Ze=new Pe.TimeoutError,X.default=class extends n{constructor(U){var oe,_e,ge,ht;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=ie,this._resolveIdle=ie,!(typeof(U=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:M.default},U)).intervalCap=="number"&&U.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(_e=(oe=U.intervalCap)==null?void 0:oe.toString())!=null?_e:""}\` (${typeof U.intervalCap})`);if(U.interval===void 0||!(Number.isFinite(U.interval)&&U.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(ht=(ge=U.interval)==null?void 0:ge.toString())!=null?ht:""}\` (${typeof U.interval})`);this._carryoverConcurrencyCount=U.carryoverConcurrencyCount,this._isIntervalIgnored=U.intervalCap===1/0||U.interval===0,this._intervalCap=U.intervalCap,this._interval=U.interval,this._queue=new U.queueClass,this._queueClass=U.queueClass,this.concurrency=U.concurrency,this._timeout=U.timeout,this._throwOnTimeout=U.throwOnTimeout===!0,this._isPaused=U.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=ie,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=ie,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let U=Date.now();if(this._intervalId===void 0){let oe=this._intervalEnd-U;if(!(oe<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},oe)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let U=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let oe=this._queue.dequeue();return!!oe&&(this.emit("active"),oe(),U&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(U){if(!(typeof U=="number"&&U>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${U}\` (${typeof U})`);this._concurrency=U,this._processQueue()}async add(U,oe={}){return new Promise((_e,ge)=>{let ht=async()=>{this._pendingCount++,this._intervalCount++;try{let ee=this._timeout===void 0&&oe.timeout===void 0?U():Pe.default(Promise.resolve(U()),oe.timeout===void 0?this._timeout:oe.timeout,()=>{(oe.throwOnTimeout===void 0?this._throwOnTimeout:oe.throwOnTimeout)&&ge(Ze)});_e(await ee)}catch(ee){ge(ee)}this._next()};this._queue.enqueue(ht,oe),this._tryToStartAnother(),this.emit("add")})}async addAll(U,oe){return Promise.all(U.map(async _e=>this.add(_e,oe)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(U=>{let oe=this._resolveEmpty;this._resolveEmpty=()=>{oe(),U()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(U=>{let oe=this._resolveIdle;this._resolveIdle=()=>{oe(),U()}})}get size(){return this._queue.size}sizeBy(U){return this._queue.filter(U).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(U){this._timeout=U}},p.exports=X})()},3949,v=>{"use strict";function p(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}v.s(["getEdgePreviewProps",()=>p])},68709,(v,p,ve)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});var n={getTestReqInfo:function(){return me},withRequest:function(){return Ze}};for(var Pe in n)Object.defineProperty(ve,Pe,{enumerable:!0,get:n[Pe]});let M=new(v.r(78500)).AsyncLocalStorage;function ie($e,V){let X=V.header($e,"next-test-proxy-port");return X?{url:V.url($e),proxyPort:Number(X),testData:V.header($e,"next-test-data")||""}:void 0}function Ze($e,V,X){let U=ie($e,V);return U?M.run(U,X):X()}function me($e,V){return M.getStore()||($e&&V?ie($e,V):void 0)}},91794,(v,p,ve)=>{"use strict";var n=v.i(51615);Object.defineProperty(ve,"__esModule",{value:!0});var Pe={handleFetch:function(){return $e},interceptFetch:function(){return V},reader:function(){return Ze}};for(var M in Pe)Object.defineProperty(ve,M,{enumerable:!0,get:Pe[M]});let ie=v.r(68709),Ze={url:X=>X.url,header:(X,U)=>X.headers.get(U)};async function me(X,U){let{url:oe,method:_e,headers:ge,body:ht,cache:ee,credentials:Be,integrity:re,mode:et,redirect:Ge,referrer:it,referrerPolicy:bt}=U;return{testData:X,api:"fetch",request:{url:oe,method:_e,headers:[...Array.from(ge),["next-test-stack",function(){let Et=(Error().stack??"").split(`
`);for(let tr=1;tr<Et.length;tr++)if(Et[tr].length>0){Et=Et.slice(tr);break}return(Et=(Et=(Et=Et.filter(tr=>!tr.includes("/next/dist/"))).slice(0,5)).map(tr=>tr.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:ht?n.Buffer.from(await U.arrayBuffer()).toString("base64"):null,cache:ee,credentials:Be,integrity:re,mode:et,redirect:Ge,referrer:it,referrerPolicy:bt}}}async function $e(X,U){let oe=(0,ie.getTestReqInfo)(U,Ze);if(!oe)return X(U);let{testData:_e,proxyPort:ge}=oe,ht=await me(_e,U),ee=await X(`http://localhost:${ge}`,{method:"POST",body:JSON.stringify(ht),next:{internal:!0}});if(!ee.ok)throw Object.defineProperty(Error(`Proxy request failed: ${ee.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let Be=await ee.json(),{api:re}=Be;switch(re){case"continue":return X(U);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${U.method} ${U.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(et){let{status:Ge,headers:it,body:bt}=et.response;return new Response(bt?n.Buffer.from(bt,"base64"):null,{status:Ge,headers:new Headers(it)})}(Be);default:return re}}function V(X){return v.g.fetch=function(U,oe){var _e;return!(oe==null||(_e=oe.next)==null)&&_e.internal?X(U,oe):$e(X,new Request(U,oe))},()=>{v.g.fetch=X}}},98246,(v,p,ve)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});var n={interceptTestApis:function(){return Ze},wrapRequestHandler:function(){return me}};for(var Pe in n)Object.defineProperty(ve,Pe,{enumerable:!0,get:n[Pe]});let M=v.r(68709),ie=v.r(91794);function Ze(){return(0,ie.interceptFetch)(v.g.fetch)}function me($e){return(V,X)=>(0,M.withRequest)(V,ie.reader,()=>$e(V,X))}},92192,(v,p,ve)=>{(function(){"use strict";var n={114:function(ie){function Ze(V){if(typeof V!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(V))}function me(V,X){for(var U,oe="",_e=0,ge=-1,ht=0,ee=0;ee<=V.length;++ee){if(ee<V.length)U=V.charCodeAt(ee);else{if(U===47)break;U=47}if(U===47){if(!(ge===ee-1||ht===1))if(ge!==ee-1&&ht===2){if(oe.length<2||_e!==2||oe.charCodeAt(oe.length-1)!==46||oe.charCodeAt(oe.length-2)!==46){if(oe.length>2){var Be=oe.lastIndexOf("/");if(Be!==oe.length-1){Be===-1?(oe="",_e=0):_e=(oe=oe.slice(0,Be)).length-1-oe.lastIndexOf("/"),ge=ee,ht=0;continue}}else if(oe.length===2||oe.length===1){oe="",_e=0,ge=ee,ht=0;continue}}X&&(oe.length>0?oe+="/..":oe="..",_e=2)}else oe.length>0?oe+="/"+V.slice(ge+1,ee):oe=V.slice(ge+1,ee),_e=ee-ge-1;ge=ee,ht=0}else U===46&&ht!==-1?++ht:ht=-1}return oe}var $e={resolve:function(){for(var V,X,U="",oe=!1,_e=arguments.length-1;_e>=-1&&!oe;_e--)_e>=0?X=arguments[_e]:(V===void 0&&(V=""),X=V),Ze(X),X.length!==0&&(U=X+"/"+U,oe=X.charCodeAt(0)===47);return U=me(U,!oe),oe?U.length>0?"/"+U:"/":U.length>0?U:"."},normalize:function(V){if(Ze(V),V.length===0)return".";var X=V.charCodeAt(0)===47,U=V.charCodeAt(V.length-1)===47;return(V=me(V,!X)).length!==0||X||(V="."),V.length>0&&U&&(V+="/"),X?"/"+V:V},isAbsolute:function(V){return Ze(V),V.length>0&&V.charCodeAt(0)===47},join:function(){if(arguments.length==0)return".";for(var V,X=0;X<arguments.length;++X){var U=arguments[X];Ze(U),U.length>0&&(V===void 0?V=U:V+="/"+U)}return V===void 0?".":$e.normalize(V)},relative:function(V,X){if(Ze(V),Ze(X),V===X||(V=$e.resolve(V))===(X=$e.resolve(X)))return"";for(var U=1;U<V.length&&V.charCodeAt(U)===47;++U);for(var oe=V.length,_e=oe-U,ge=1;ge<X.length&&X.charCodeAt(ge)===47;++ge);for(var ht=X.length-ge,ee=_e<ht?_e:ht,Be=-1,re=0;re<=ee;++re){if(re===ee){if(ht>ee){if(X.charCodeAt(ge+re)===47)return X.slice(ge+re+1);if(re===0)return X.slice(ge+re)}else _e>ee&&(V.charCodeAt(U+re)===47?Be=re:re===0&&(Be=0));break}var et=V.charCodeAt(U+re);if(et!==X.charCodeAt(ge+re))break;et===47&&(Be=re)}var Ge="";for(re=U+Be+1;re<=oe;++re)(re===oe||V.charCodeAt(re)===47)&&(Ge.length===0?Ge+="..":Ge+="/..");return Ge.length>0?Ge+X.slice(ge+Be):(ge+=Be,X.charCodeAt(ge)===47&&++ge,X.slice(ge))},_makeLong:function(V){return V},dirname:function(V){if(Ze(V),V.length===0)return".";for(var X=V.charCodeAt(0),U=X===47,oe=-1,_e=!0,ge=V.length-1;ge>=1;--ge)if((X=V.charCodeAt(ge))===47){if(!_e){oe=ge;break}}else _e=!1;return oe===-1?U?"/":".":U&&oe===1?"//":V.slice(0,oe)},basename:function(V,X){if(X!==void 0&&typeof X!="string")throw TypeError('"ext" argument must be a string');Ze(V);var U,oe=0,_e=-1,ge=!0;if(X!==void 0&&X.length>0&&X.length<=V.length){if(X.length===V.length&&X===V)return"";var ht=X.length-1,ee=-1;for(U=V.length-1;U>=0;--U){var Be=V.charCodeAt(U);if(Be===47){if(!ge){oe=U+1;break}}else ee===-1&&(ge=!1,ee=U+1),ht>=0&&(Be===X.charCodeAt(ht)?--ht==-1&&(_e=U):(ht=-1,_e=ee))}return oe===_e?_e=ee:_e===-1&&(_e=V.length),V.slice(oe,_e)}for(U=V.length-1;U>=0;--U)if(V.charCodeAt(U)===47){if(!ge){oe=U+1;break}}else _e===-1&&(ge=!1,_e=U+1);return _e===-1?"":V.slice(oe,_e)},extname:function(V){Ze(V);for(var X=-1,U=0,oe=-1,_e=!0,ge=0,ht=V.length-1;ht>=0;--ht){var ee=V.charCodeAt(ht);if(ee===47){if(!_e){U=ht+1;break}continue}oe===-1&&(_e=!1,oe=ht+1),ee===46?X===-1?X=ht:ge!==1&&(ge=1):X!==-1&&(ge=-1)}return X===-1||oe===-1||ge===0||ge===1&&X===oe-1&&X===U+1?"":V.slice(X,oe)},format:function(V){var X,U;if(V===null||typeof V!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof V);return X=V.dir||V.root,U=V.base||(V.name||"")+(V.ext||""),X?X===V.root?X+U:X+"/"+U:U},parse:function(V){Ze(V);var X,U={root:"",dir:"",base:"",ext:"",name:""};if(V.length===0)return U;var oe=V.charCodeAt(0),_e=oe===47;_e?(U.root="/",X=1):X=0;for(var ge=-1,ht=0,ee=-1,Be=!0,re=V.length-1,et=0;re>=X;--re){if((oe=V.charCodeAt(re))===47){if(!Be){ht=re+1;break}continue}ee===-1&&(Be=!1,ee=re+1),oe===46?ge===-1?ge=re:et!==1&&(et=1):ge!==-1&&(et=-1)}return ge===-1||ee===-1||et===0||et===1&&ge===ee-1&&ge===ht+1?ee!==-1&&(ht===0&&_e?U.base=U.name=V.slice(1,ee):U.base=U.name=V.slice(ht,ee)):(ht===0&&_e?(U.name=V.slice(1,ge),U.base=V.slice(1,ee)):(U.name=V.slice(ht,ge),U.base=V.slice(ht,ee)),U.ext=V.slice(ge,ee)),ht>0?U.dir=V.slice(0,ht-1):_e&&(U.dir="/"),U},sep:"/",delimiter:":",win32:null,posix:null};$e.posix=$e,ie.exports=$e}},Pe={};function M(ie){var Ze=Pe[ie];if(Ze!==void 0)return Ze.exports;var me=Pe[ie]={exports:{}},$e=!0;try{n[ie](me,me.exports,M),$e=!1}finally{$e&&delete Pe[ie]}return me.exports}M.ab="/ROOT/node_modules/next/dist/compiled/path-browserify/",p.exports=M(114)})()},82023,(v,p,ve)=>{p.exports=v.r(92192)},24916,(v,p,ve)=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/path-to-regexp/");var n={};(()=>{function Pe(X,U){U===void 0&&(U={});for(var oe=function(lt){for(var pr=[],pt=0;pt<lt.length;){var ft=lt[pt];if(ft==="*"||ft==="+"||ft==="?"){pr.push({type:"MODIFIER",index:pt,value:lt[pt++]});continue}if(ft==="\\"){pr.push({type:"ESCAPED_CHAR",index:pt++,value:lt[pt++]});continue}if(ft==="{"){pr.push({type:"OPEN",index:pt,value:lt[pt++]});continue}if(ft==="}"){pr.push({type:"CLOSE",index:pt,value:lt[pt++]});continue}if(ft===":"){for(var an="",gn=pt+1;gn<lt.length;){var ei=lt.charCodeAt(gn);if(ei>=48&&ei<=57||ei>=65&&ei<=90||ei>=97&&ei<=122||ei===95){an+=lt[gn++];continue}break}if(!an)throw TypeError("Missing parameter name at ".concat(pt));pr.push({type:"NAME",index:pt,value:an}),pt=gn;continue}if(ft==="("){var pn=1,nr="",gn=pt+1;if(lt[gn]==="?")throw TypeError('Pattern cannot start with "?" at '.concat(gn));for(;gn<lt.length;){if(lt[gn]==="\\"){nr+=lt[gn++]+lt[gn++];continue}if(lt[gn]===")"){if(--pn==0){gn++;break}}else if(lt[gn]==="("&&(pn++,lt[gn+1]!=="?"))throw TypeError("Capturing groups are not allowed at ".concat(gn));nr+=lt[gn++]}if(pn)throw TypeError("Unbalanced pattern at ".concat(pt));if(!nr)throw TypeError("Missing pattern at ".concat(pt));pr.push({type:"PATTERN",index:pt,value:nr}),pt=gn;continue}pr.push({type:"CHAR",index:pt,value:lt[pt++]})}return pr.push({type:"END",index:pt,value:""}),pr}(X),_e=U.prefixes,ge=_e===void 0?"./":_e,ht=U.delimiter,ee=ht===void 0?"/#?":ht,Be=[],re=0,et=0,Ge="",it=function(lt){if(et<oe.length&&oe[et].type===lt)return oe[et++].value},bt=function(lt){var pr=it(lt);if(pr!==void 0)return pr;var pt=oe[et],ft=pt.type,an=pt.index;throw TypeError("Unexpected ".concat(ft," at ").concat(an,", expected ").concat(lt))},Et=function(){for(var lt,pr="";lt=it("CHAR")||it("ESCAPED_CHAR");)pr+=lt;return pr},tr=function(lt){for(var pr=0;pr<ee.length;pr++){var pt=ee[pr];if(lt.indexOf(pt)>-1)return!0}return!1},Gt=function(lt){var pr=Be[Be.length-1],pt=lt||(pr&&typeof pr=="string"?pr:"");if(pr&&!pt)throw TypeError('Must have text between two parameters, missing text after "'.concat(pr.name,'"'));return!pt||tr(pt)?"[^".concat(Ze(ee),"]+?"):"(?:(?!".concat(Ze(pt),")[^").concat(Ze(ee),"])+?")};et<oe.length;){var Ve=it("CHAR"),cr=it("NAME"),ye=it("PATTERN");if(cr||ye){var be=Ve||"";ge.indexOf(be)===-1&&(Ge+=be,be=""),Ge&&(Be.push(Ge),Ge=""),Be.push({name:cr||re++,prefix:be,suffix:"",pattern:ye||Gt(be),modifier:it("MODIFIER")||""});continue}var Z=Ve||it("ESCAPED_CHAR");if(Z){Ge+=Z;continue}if(Ge&&(Be.push(Ge),Ge=""),it("OPEN")){var be=Et(),vt=it("NAME")||"",h=it("PATTERN")||"",Xt=Et();bt("CLOSE"),Be.push({name:vt||(h?re++:""),pattern:vt&&!h?Gt(be):h,prefix:be,suffix:Xt,modifier:it("MODIFIER")||""});continue}bt("END")}return Be}function M(X,U){U===void 0&&(U={});var oe=me(U),_e=U.encode,ge=_e===void 0?function(re){return re}:_e,ht=U.validate,ee=ht===void 0||ht,Be=X.map(function(re){if(typeof re=="object")return new RegExp("^(?:".concat(re.pattern,")$"),oe)});return function(re){for(var et="",Ge=0;Ge<X.length;Ge++){var it=X[Ge];if(typeof it=="string"){et+=it;continue}var bt=re?re[it.name]:void 0,Et=it.modifier==="?"||it.modifier==="*",tr=it.modifier==="*"||it.modifier==="+";if(Array.isArray(bt)){if(!tr)throw TypeError('Expected "'.concat(it.name,'" to not repeat, but got an array'));if(bt.length===0){if(Et)continue;throw TypeError('Expected "'.concat(it.name,'" to not be empty'))}for(var Gt=0;Gt<bt.length;Gt++){var Ve=ge(bt[Gt],it);if(ee&&!Be[Ge].test(Ve))throw TypeError('Expected all "'.concat(it.name,'" to match "').concat(it.pattern,'", but got "').concat(Ve,'"'));et+=it.prefix+Ve+it.suffix}continue}if(typeof bt=="string"||typeof bt=="number"){var Ve=ge(String(bt),it);if(ee&&!Be[Ge].test(Ve))throw TypeError('Expected "'.concat(it.name,'" to match "').concat(it.pattern,'", but got "').concat(Ve,'"'));et+=it.prefix+Ve+it.suffix;continue}if(!Et){var cr=tr?"an array":"a string";throw TypeError('Expected "'.concat(it.name,'" to be ').concat(cr))}}return et}}function ie(X,U,oe){oe===void 0&&(oe={});var _e=oe.decode,ge=_e===void 0?function(ht){return ht}:_e;return function(ht){var ee=X.exec(ht);if(!ee)return!1;for(var Be=ee[0],re=ee.index,et=Object.create(null),Ge=1;Ge<ee.length;Ge++)(function(it){if(ee[it]!==void 0){var bt=U[it-1];bt.modifier==="*"||bt.modifier==="+"?et[bt.name]=ee[it].split(bt.prefix+bt.suffix).map(function(Et){return ge(Et,bt)}):et[bt.name]=ge(ee[it],bt)}})(Ge);return{path:Be,index:re,params:et}}}function Ze(X){return X.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function me(X){return X&&X.sensitive?"":"i"}function $e(X,U,oe){oe===void 0&&(oe={});for(var _e=oe.strict,ge=_e!==void 0&&_e,ht=oe.start,ee=oe.end,Be=oe.encode,re=Be===void 0?function(vt){return vt}:Be,et=oe.delimiter,Ge=oe.endsWith,it="[".concat(Ze(Ge===void 0?"":Ge),"]|$"),bt="[".concat(Ze(et===void 0?"/#?":et),"]"),Et=ht===void 0||ht?"^":"",tr=0;tr<X.length;tr++){var Gt=X[tr];if(typeof Gt=="string")Et+=Ze(re(Gt));else{var Ve=Ze(re(Gt.prefix)),cr=Ze(re(Gt.suffix));if(Gt.pattern)if(U&&U.push(Gt),Ve||cr)if(Gt.modifier==="+"||Gt.modifier==="*"){var ye=Gt.modifier==="*"?"?":"";Et+="(?:".concat(Ve,"((?:").concat(Gt.pattern,")(?:").concat(cr).concat(Ve,"(?:").concat(Gt.pattern,"))*)").concat(cr,")").concat(ye)}else Et+="(?:".concat(Ve,"(").concat(Gt.pattern,")").concat(cr,")").concat(Gt.modifier);else{if(Gt.modifier==="+"||Gt.modifier==="*")throw TypeError('Can not repeat "'.concat(Gt.name,'" without a prefix and suffix'));Et+="(".concat(Gt.pattern,")").concat(Gt.modifier)}else Et+="(?:".concat(Ve).concat(cr,")").concat(Gt.modifier)}}if(ee===void 0||ee)ge||(Et+="".concat(bt,"?")),Et+=oe.endsWith?"(?=".concat(it,")"):"$";else{var be=X[X.length-1],Z=typeof be=="string"?bt.indexOf(be[be.length-1])>-1:be===void 0;ge||(Et+="(?:".concat(bt,"(?=").concat(it,"))?")),Z||(Et+="(?=".concat(bt,"|").concat(it,")"))}return new RegExp(Et,me(oe))}function V(X,U,oe){if(X instanceof RegExp){var _e;if(!U)return X;for(var ge=/\((?:\?<(.*?)>)?(?!\?)/g,ht=0,ee=ge.exec(X.source);ee;)U.push({name:ee[1]||ht++,prefix:"",suffix:"",modifier:"",pattern:""}),ee=ge.exec(X.source);return X}return Array.isArray(X)?(_e=X.map(function(Be){return V(Be,U,oe).source}),new RegExp("(?:".concat(_e.join("|"),")"),me(oe))):$e(Pe(X,oe),U,oe)}Object.defineProperty(n,"__esModule",{value:!0}),n.pathToRegexp=n.tokensToRegexp=n.regexpToFunction=n.match=n.tokensToFunction=n.compile=n.parse=void 0,n.parse=Pe,n.compile=function(X,U){return M(Pe(X,U),U)},n.tokensToFunction=M,n.match=function(X,U){var oe=[];return ie(V(X,oe,U),oe,U)},n.regexpToFunction=ie,n.tokensToRegexp=$e,n.pathToRegexp=V})(),p.exports=n})()},87297,(v,p,ve)=>{p.exports=["chrome 111","edge 111","firefox 111","safari 16.4"]},37018,(v,p,ve)=>{"use strict";var n={H:null,A:null};function Pe(ye){var be="https://react.dev/errors/"+ye;if(1<arguments.length){be+="?args[]="+encodeURIComponent(arguments[1]);for(var Z=2;Z<arguments.length;Z++)be+="&args[]="+encodeURIComponent(arguments[Z])}return"Minified React error #"+ye+"; visit "+be+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M=Array.isArray;function ie(){}var Ze=Symbol.for("react.transitional.element"),me=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),U=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),_e=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ht=Symbol.for("react.activity"),ee=Symbol.for("react.view_transition"),Be=Symbol.iterator,re=Object.prototype.hasOwnProperty,et=Object.assign;function Ge(ye,be,Z){var vt=Z.ref;return{$$typeof:Ze,type:ye,key:be,ref:vt!==void 0?vt:null,props:Z}}function it(ye){return typeof ye=="object"&&ye!==null&&ye.$$typeof===Ze}var bt=/\/+/g;function Et(ye,be){var Z,vt;return typeof ye=="object"&&ye!==null&&ye.key!=null?(Z=""+ye.key,vt={"=":"=0",":":"=2"},"$"+Z.replace(/[=:]/g,function(h){return vt[h]})):be.toString(36)}function tr(ye,be,Z){if(ye==null)return ye;var vt=[],h=0;return function Xt(lt,pr,pt,ft,an){var gn,ei,pn,nr=typeof lt;(nr==="undefined"||nr==="boolean")&&(lt=null);var zr=!1;if(lt===null)zr=!0;else switch(nr){case"bigint":case"string":case"number":zr=!0;break;case"object":switch(lt.$$typeof){case Ze:case me:zr=!0;break;case ge:return Xt((zr=lt._init)(lt._payload),pr,pt,ft,an)}}if(zr)return an=an(lt),zr=ft===""?"."+Et(lt,0):ft,M(an)?(pt="",zr!=null&&(pt=zr.replace(bt,"$&/")+"/"),Xt(an,pr,pt,"",function(q){return q})):an!=null&&(it(an)&&(gn=an,ei=pt+(an.key==null||lt&&lt.key===an.key?"":(""+an.key).replace(bt,"$&/")+"/")+zr,an=Ge(gn.type,ei,gn.props)),pr.push(an)),1;zr=0;var en=ft===""?".":ft+":";if(M(lt))for(var Se=0;Se<lt.length;Se++)nr=en+Et(ft=lt[Se],Se),zr+=Xt(ft,pr,pt,nr,an);else if(typeof(Se=(pn=lt)===null||typeof pn!="object"?null:typeof(pn=Be&&pn[Be]||pn["@@iterator"])=="function"?pn:null)=="function")for(lt=Se.call(lt),Se=0;!(ft=lt.next()).done;)nr=en+Et(ft=ft.value,Se++),zr+=Xt(ft,pr,pt,nr,an);else if(nr==="object"){if(typeof lt.then=="function")return Xt(function(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ie,ie):(q.status="pending",q.then(function(J){q.status==="pending"&&(q.status="fulfilled",q.value=J)},function(J){q.status==="pending"&&(q.status="rejected",q.reason=J)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}(lt),pr,pt,ft,an);throw Error(Pe(31,(pr=String(lt))==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":pr))}return zr}(ye,vt,"","",function(Xt){return be.call(Z,Xt,h++)}),vt}function Gt(ye){if(ye._status===-1){var be=ye._result;(be=be()).then(function(Z){(ye._status===0||ye._status===-1)&&(ye._status=1,ye._result=Z)},function(Z){(ye._status===0||ye._status===-1)&&(ye._status=2,ye._result=Z)}),ye._status===-1&&(ye._status=0,ye._result=be)}if(ye._status===1)return ye._result.default;throw ye._result}function Ve(){return new WeakMap}function cr(){return{s:0,v:void 0,o:null,p:null}}ve.Activity=ht,ve.Children={map:tr,forEach:function(ye,be,Z){tr(ye,function(){be.apply(this,arguments)},Z)},count:function(ye){var be=0;return tr(ye,function(){be++}),be},toArray:function(ye){return tr(ye,function(be){return be})||[]},only:function(ye){if(!it(ye))throw Error(Pe(143));return ye}},ve.Fragment=$e,ve.Profiler=X,ve.StrictMode=V,ve.Suspense=oe,ve.ViewTransition=ee,ve.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ve.cache=function(ye){return function(){var be=n.A;if(!be)return ye.apply(null,arguments);var Z=be.getCacheForType(Ve);(be=Z.get(ye))===void 0&&(be=cr(),Z.set(ye,be)),Z=0;for(var vt=arguments.length;Z<vt;Z++){var h=arguments[Z];if(typeof h=="function"||typeof h=="object"&&h!==null){var Xt=be.o;Xt===null&&(be.o=Xt=new WeakMap),(be=Xt.get(h))===void 0&&(be=cr(),Xt.set(h,be))}else(Xt=be.p)===null&&(be.p=Xt=new Map),(be=Xt.get(h))===void 0&&(be=cr(),Xt.set(h,be))}if(be.s===1)return be.v;if(be.s===2)throw be.v;try{var lt=ye.apply(null,arguments);return(Z=be).s=1,Z.v=lt}catch(pr){throw(lt=be).s=2,lt.v=pr,pr}}},ve.cacheSignal=function(){var ye=n.A;return ye?ye.cacheSignal():null},ve.captureOwnerStack=function(){return null},ve.cloneElement=function(ye,be,Z){if(ye==null)throw Error(Pe(267,ye));var vt=et({},ye.props),h=ye.key;if(be!=null)for(Xt in be.key!==void 0&&(h=""+be.key),be)re.call(be,Xt)&&Xt!=="key"&&Xt!=="__self"&&Xt!=="__source"&&(Xt!=="ref"||be.ref!==void 0)&&(vt[Xt]=be[Xt]);var Xt=arguments.length-2;if(Xt===1)vt.children=Z;else if(1<Xt){for(var lt=Array(Xt),pr=0;pr<Xt;pr++)lt[pr]=arguments[pr+2];vt.children=lt}return Ge(ye.type,h,vt)},ve.createElement=function(ye,be,Z){var vt,h={},Xt=null;if(be!=null)for(vt in be.key!==void 0&&(Xt=""+be.key),be)re.call(be,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(h[vt]=be[vt]);var lt=arguments.length-2;if(lt===1)h.children=Z;else if(1<lt){for(var pr=Array(lt),pt=0;pt<lt;pt++)pr[pt]=arguments[pt+2];h.children=pr}if(ye&&ye.defaultProps)for(vt in lt=ye.defaultProps)h[vt]===void 0&&(h[vt]=lt[vt]);return Ge(ye,Xt,h)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(ye){return{$$typeof:U,render:ye}},ve.isValidElement=it,ve.lazy=function(ye){return{$$typeof:ge,_payload:{_status:-1,_result:ye},_init:Gt}},ve.memo=function(ye,be){return{$$typeof:_e,type:ye,compare:be===void 0?null:be}},ve.use=function(ye){return n.H.use(ye)},ve.useCallback=function(ye,be){return n.H.useCallback(ye,be)},ve.useDebugValue=function(){},ve.useId=function(){return n.H.useId()},ve.useMemo=function(ye,be){return n.H.useMemo(ye,be)},ve.version="19.3.0-canary-f93b9fd4-20251217"},34392,(v,p,ve)=>{"use strict";p.exports=v.r(37018)},92480,5809,87167,51720,93764,81527,75454,14327,63402,83978,75601,94706,19805,3661,43820,85867,49783,8900,55468,47986,546,68045,93441,72445,66401,66011,72451,49316,79698,12112,88154,11573,78116,74715,34277,4842,59106,83877,13651,23646,27064,60130,18215,65832,12239,53369,2635,14766,27934,99888,82233,69297,13714,88503,25249,10824,92879,68270,99690,21170,32995,v=>{"use strict";let p,ve,n,Pe;class M extends Error{constructor(d,y){super(`Invariant: ${d.endsWith(".")?d:d+"."} This is a bug in Next.js.`,y),this.name="InvariantError"}}function ie(k){return k.startsWith("/")?k:`/${k}`}function Ze(k){return ie(k.split("/").reduce((d,y,O,L)=>y?y[0]==="("&&y.endsWith(")")||y[0]==="@"||(y==="page"||y==="route")&&O===L.length-1?d:`${d}/${y}`:d,""))}function me(k){return k.replace(/\.rsc($|\?)/,"$1")}function $e(k){let d=k.indexOf("#"),y=k.indexOf("?"),O=y>-1&&(d<0||y<d);return O||d>-1?{pathname:k.substring(0,O?y:d),query:O?k.substring(y,d>-1?d:void 0):"",hash:d>-1?k.slice(d):""}:{pathname:k,query:"",hash:""}}function V(k,d){if(typeof k!="string")return!1;let{pathname:y}=$e(k);return y===d||y.startsWith(d+"/")}function X(k,d){if(!V(k,d))return k;let y=k.slice(d.length);return y.startsWith("/")?y:`/${y}`}v.s(["InvariantError",()=>M],5809),v.s(["normalizeAppPath",()=>Ze,"normalizeRscURL",()=>me],87167),v.s(["pathHasPrefix",()=>V],51720),v.s(["removePathPrefix",()=>X],93764),v.i(13477),v.s([],81527);var U,oe,_e,ge,ht,ee,Be,re,et,Ge,it,bt,Et,tr,Gt,Ve,cr,ye,be=v.i(68644);let Z=Symbol.for("next.server.manifests"),vt=mr;function h({page:k,clientReferenceManifest:d,serverActionsManifest:y}){let O=vt[Z];if(O)O.clientReferenceManifestsPerRoute.set(Ze(k),d),O.serverActionsManifest=y;else{let L,ue=new Map([[Ze(k),d]]),E=(L=new Map,new Proxy({},{get(Y,xe){let Ae=be.workAsyncStorage.getStore();switch(xe){case"moduleLoading":case"entryCSSFiles":case"entryJSFiles":{if(!Ae)throw Object.defineProperty(new M(`Cannot access "${xe}" without a work store.`),"__NEXT_ERROR_CODE",{value:"E952",enumerable:!1,configurable:!0});let ot=ue.get(Ae.route);if(!ot)throw Object.defineProperty(new M(`The client reference manifest for route "${Ae.route}" does not exist.`),"__NEXT_ERROR_CODE",{value:"E951",enumerable:!1,configurable:!0});return ot[xe]}case"clientModules":case"rscModuleMapping":case"edgeRscModuleMapping":case"ssrModuleMapping":case"edgeSSRModuleMapping":{let ot=L.get(xe);return!ot&&(ot=new Proxy({},{get(Ot,tt){let lr=be.workAsyncStorage.getStore();if(lr){let Jt=ue.get(lr.route);if(Jt?.[xe][tt])return Jt[xe][tt]}else for(let Jt of ue.values()){let er=Jt[xe][tt];if(er!==void 0)return er}}}),L.set(xe,ot)),ot}default:throw Object.defineProperty(new M(`This is a proxied client reference manifest. The property "${String(xe)}" is not handled.`),"__NEXT_ERROR_CODE",{value:"E953",enumerable:!1,configurable:!0})}}}));vt[Z]={clientReferenceManifestsPerRoute:ue,proxiedClientReferenceManifest:E,serverActionsManifest:y,serverModuleMap:new Proxy({},{get:(Y,xe)=>{var Ae,ot,Ot;let tt,lr=(ot=function(){let Ht=vt[Z];if(!Ht)throw Object.defineProperty(new M("The manifests singleton was not initialized."),"__NEXT_ERROR_CODE",{value:"E950",enumerable:!1,configurable:!0});return Ht}().serverActionsManifest.edge)==null||(Ae=ot[xe])==null?void 0:Ae.workers;if(!lr)return;let Jt=be.workAsyncStorage.getStore();if(!(tt=Jt?lr[V(Ot=Jt.page,"app")?Ot:"app"+Ot]:Object.values(lr).at(0)))return;let{moduleId:er,async:Pt}=tt;return{id:er,name:xe,chunks:[],async:Pt}}})}}}v.s(["setManifestsSingleton",()=>h],92480);class Xt extends Error{constructor({page:d}){super(`The middleware "${d}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class lt extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class pr extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}v.s(["PageSignatureError",()=>Xt,"RemovedPageError",()=>lt,"RemovedUAError",()=>pr],75454);let pt="text/html; charset=utf-8",ft="nxtP",an="nxtI",gn="x-prerender-revalidate",ei="x-prerender-revalidate-if-generated",pn=".segments",nr=".segment.rsc",zr=".rsc",en=".json",Se=".meta",q="x-next-cache-tags",J="x-next-revalidated-tags",W="x-next-revalidate-tag-token",Fe="_N_T_",rt={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function Zt(k){let d=new Headers;for(let[y,O]of Object.entries(k))for(let L of Array.isArray(O)?O:[O])L!==void 0&&(typeof L=="number"&&(L=L.toString()),d.append(y,L));return d}function _r(k){var d,y,O,L,ue,E=[],Y=0;function xe(){for(;Y<k.length&&/\s/.test(k.charAt(Y));)Y+=1;return Y<k.length}for(;Y<k.length;){for(d=Y,ue=!1;xe();)if((y=k.charAt(Y))===","){for(O=Y,Y+=1,xe(),L=Y;Y<k.length&&(y=k.charAt(Y))!=="="&&y!==";"&&y!==",";)Y+=1;Y<k.length&&k.charAt(Y)==="="?(ue=!0,Y=L,E.push(k.substring(d,O)),d=Y):Y=O+1}else Y+=1;(!ue||Y>=k.length)&&E.push(k.substring(d,k.length))}return E}function H(k){let d={},y=[];if(k)for(let[O,L]of k.entries())O.toLowerCase()==="set-cookie"?(y.push(..._r(L)),d[O]=y.length===1?y[0]:y):d[O]=L;return d}function Br(k){try{return String(new URL(String(k)))}catch(d){throw Object.defineProperty(Error(`URL is malformed "${String(k)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:d}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function Gr(k){for(let d of[ft,an])if(k!==d&&k.startsWith(d))return k.substring(d.length);return null}function kn(k,d,y){if(k){for(let O of(y&&(y=y.toLowerCase()),k))if(d===O.domain?.split(":",1)[0].toLowerCase()||y===O.defaultLocale.toLowerCase()||O.locales?.some(L=>L.toLowerCase()===y))return O}}function Jn(k){return k.replace(/\/$/,"")||"/"}function Bn(k,d){if(!k.startsWith("/")||!d)return k;let{pathname:y,query:O,hash:L}=$e(k);return`${d}${y}${O}${L}`}function ir(k,d){if(!k.startsWith("/")||!d)return k;let{pathname:y,query:O,hash:L}=$e(k);return`${y}${d}${O}${L}`}function Qe(k,d){let y;if(d?.host&&!Array.isArray(d.host))y=d.host.toString().split(":",1)[0];else{if(!k.hostname)return;y=k.hostname}return y.toLowerCase()}rt.reactServerComponents,rt.actionBrowser,rt.reactServerComponents,rt.actionBrowser,rt.instrument,rt.middleware,rt.apiNode,rt.apiEdge,rt.serverSideRendering,rt.appPagesBrowser,rt.reactServerComponents,rt.actionBrowser,rt.serverSideRendering,rt.appPagesBrowser,rt.shared,rt.instrument,rt.middleware,rt.reactServerComponents,rt.serverSideRendering,rt.appPagesBrowser,rt.actionBrowser,v.s(["CACHE_ONE_YEAR",0,31536e3,"HTML_CONTENT_TYPE_HEADER",0,pt,"INFINITE_CACHE",0,4294967294,"NEXT_CACHE_IMPLICIT_TAG_ID",0,Fe,"NEXT_CACHE_REVALIDATED_TAGS_HEADER",0,J,"NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER",0,W,"NEXT_CACHE_TAGS_HEADER",0,q,"NEXT_CACHE_TAG_MAX_ITEMS",0,128,"NEXT_CACHE_TAG_MAX_LENGTH",0,256,"NEXT_DATA_SUFFIX",0,en,"NEXT_INTERCEPTION_MARKER_PREFIX",0,an,"NEXT_META_SUFFIX",0,Se,"NEXT_QUERY_PARAM_PREFIX",0,ft,"PRERENDER_REVALIDATE_HEADER",0,gn,"PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER",0,ei,"RSC_SEGMENTS_DIR_SUFFIX",0,pn,"RSC_SEGMENT_SUFFIX",0,nr,"RSC_SUFFIX",0,zr],14327),v.s(["fromNodeOutgoingHttpHeaders",()=>Zt,"normalizeNextQueryParam",()=>Gr,"splitCookiesString",()=>_r,"toNodeOutgoingHttpHeaders",()=>H,"validateURL",()=>Br],63402),v.s(["detectDomainLocale",()=>kn],83978),v.s(["removeTrailingSlash",()=>Jn],75601),v.s(["getHostname",()=>Qe],94706);let qt=new WeakMap;function Qt(k,d){let y;if(!d)return{pathname:k};let O=qt.get(d);O||(O=d.map(Y=>Y.toLowerCase()),qt.set(d,O));let L=k.split("/",2);if(!L[1])return{pathname:k};let ue=L[1].toLowerCase(),E=O.indexOf(ue);return E<0?{pathname:k}:(y=d[E],{pathname:k=k.slice(y.length+1)||"/",detectedLocale:y})}v.s(["normalizeLocalePath",()=>Qt],19805);let nn=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function Qr(k,d){return new URL(String(k).replace(nn,"localhost"),d&&String(d).replace(nn,"localhost"))}let ar=Symbol("NextURLInternal");class Vn{constructor(d,y,O){let L,ue;typeof y=="object"&&"pathname"in y||typeof y=="string"?(L=y,ue=O||{}):ue=O||y||{},this[ar]={url:Qr(d,L??ue.base),options:ue,basePath:""},this.analyze()}analyze(){var d,y,O,L,ue;let E=function(Ae,ot){let{basePath:Ot,i18n:tt,trailingSlash:lr}=ot.nextConfig??{},Jt={pathname:Ae,trailingSlash:Ae!=="/"?Ae.endsWith("/"):lr};Ot&&V(Jt.pathname,Ot)&&(Jt.pathname=X(Jt.pathname,Ot),Jt.basePath=Ot);let er=Jt.pathname;if(Jt.pathname.startsWith("/_next/data/")&&Jt.pathname.endsWith(".json")){let Pt=Jt.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");Jt.buildId=Pt[0],er=Pt[1]!=="index"?`/${Pt.slice(1).join("/")}`:"/",ot.parseData===!0&&(Jt.pathname=er)}if(tt){let Pt=ot.i18nProvider?ot.i18nProvider.analyze(Jt.pathname):Qt(Jt.pathname,tt.locales);Jt.locale=Pt.detectedLocale,Jt.pathname=Pt.pathname??Jt.pathname,!Pt.detectedLocale&&Jt.buildId&&(Pt=ot.i18nProvider?ot.i18nProvider.analyze(er):Qt(er,tt.locales)).detectedLocale&&(Jt.locale=Pt.detectedLocale)}return Jt}(this[ar].url.pathname,{nextConfig:this[ar].options.nextConfig,parseData:!0,i18nProvider:this[ar].options.i18nProvider}),Y=Qe(this[ar].url,this[ar].options.headers);this[ar].domainLocale=this[ar].options.i18nProvider?this[ar].options.i18nProvider.detectDomainLocale(Y):kn((y=this[ar].options.nextConfig)==null||(d=y.i18n)==null?void 0:d.domains,Y);let xe=((O=this[ar].domainLocale)==null?void 0:O.defaultLocale)||((ue=this[ar].options.nextConfig)==null||(L=ue.i18n)==null?void 0:L.defaultLocale);this[ar].url.pathname=E.pathname,this[ar].defaultLocale=xe,this[ar].basePath=E.basePath??"",this[ar].buildId=E.buildId,this[ar].locale=E.locale??xe,this[ar].trailingSlash=E.trailingSlash}formatPathname(){var d;let y;return y=function(O,L,ue,E){if(!L||L===ue)return O;let Y=O.toLowerCase();return!E&&(V(Y,"/api")||V(Y,`/${L.toLowerCase()}`))?O:Bn(O,`/${L}`)}((d={basePath:this[ar].basePath,buildId:this[ar].buildId,defaultLocale:this[ar].options.forceLocale?void 0:this[ar].defaultLocale,locale:this[ar].locale,pathname:this[ar].url.pathname,trailingSlash:this[ar].trailingSlash}).pathname,d.locale,d.buildId?void 0:d.defaultLocale,d.ignorePrefix),(d.buildId||!d.trailingSlash)&&(y=Jn(y)),d.buildId&&(y=ir(Bn(y,`/_next/data/${d.buildId}`),d.pathname==="/"?"index.json":".json")),y=Bn(y,d.basePath),!d.buildId&&d.trailingSlash?y.endsWith("/")?y:ir(y,"/"):Jn(y)}formatSearch(){return this[ar].url.search}get buildId(){return this[ar].buildId}set buildId(d){this[ar].buildId=d}get locale(){return this[ar].locale??""}set locale(d){var y,O;if(!this[ar].locale||!(!((O=this[ar].options.nextConfig)==null||(y=O.i18n)==null)&&y.locales.includes(d)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${d}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[ar].locale=d}get defaultLocale(){return this[ar].defaultLocale}get domainLocale(){return this[ar].domainLocale}get searchParams(){return this[ar].url.searchParams}get host(){return this[ar].url.host}set host(d){this[ar].url.host=d}get hostname(){return this[ar].url.hostname}set hostname(d){this[ar].url.hostname=d}get port(){return this[ar].url.port}set port(d){this[ar].url.port=d}get protocol(){return this[ar].url.protocol}set protocol(d){this[ar].url.protocol=d}get href(){let d=this.formatPathname(),y=this.formatSearch();return`${this.protocol}//${this.host}${d}${y}${this.hash}`}set href(d){this[ar].url=Qr(d),this.analyze()}get origin(){return this[ar].url.origin}get pathname(){return this[ar].url.pathname}set pathname(d){this[ar].url.pathname=d}get hash(){return this[ar].url.hash}set hash(d){this[ar].url.hash=d}get search(){return this[ar].url.search}set search(d){this[ar].url.search=d}get password(){return this[ar].url.password}set password(d){this[ar].url.password=d}get username(){return this[ar].url.username}set username(d){this[ar].url.username=d}get basePath(){return this[ar].basePath}set basePath(d){this[ar].basePath=d.startsWith("/")?d:`/${d}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new Vn(String(this),this[ar].options)}}v.s(["NextURL",()=>Vn],3661);var In=v.i(635);v.s([],43820);let Sn=Symbol("internal request");class li extends Request{constructor(d,y={}){let O=typeof d!="string"&&"url"in d?d.url:String(d);Br(O),d instanceof Request?super(d,y):super(O,y);let L=new Vn(O,{headers:H(this.headers),nextConfig:y.nextConfig});this[Sn]={cookies:new In.RequestCookies(this.headers),nextUrl:L,url:L.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[Sn].cookies}get nextUrl(){return this[Sn].nextUrl}get page(){throw new lt}get ua(){throw new pr}get url(){return this[Sn].url}}v.s(["NextRequest",()=>li],85867);class mn{static get(d,y,O){let L=Reflect.get(d,y,O);return typeof L=="function"?L.bind(d):L}static set(d,y,O,L){return Reflect.set(d,y,O,L)}static has(d,y){return Reflect.has(d,y)}static deleteProperty(d,y){return Reflect.deleteProperty(d,y)}}v.s(["ReflectAdapter",()=>mn],49783);let Re="next-router-prefetch",ut=["rsc","next-router-state-tree",Re,"next-hmr-refresh","next-router-segment-prefetch"];v.s(["ACTION_HEADER",0,"next-action","FLIGHT_HEADERS",0,ut,"NEXT_REWRITTEN_PATH_HEADER",0,"x-nextjs-rewritten-path","NEXT_REWRITTEN_QUERY_HEADER",0,"x-nextjs-rewritten-query","NEXT_ROUTER_PREFETCH_HEADER",0,Re,"NEXT_RSC_UNION_QUERY",0,"_rsc","RSC_HEADER",0,"rsc"],8900);class hr extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new hr}}class Ue extends Headers{constructor(d){super(),this.headers=new Proxy(d,{get(y,O,L){if(typeof O=="symbol")return mn.get(y,O,L);let ue=O.toLowerCase(),E=Object.keys(d).find(Y=>Y.toLowerCase()===ue);if(E!==void 0)return mn.get(y,E,L)},set(y,O,L,ue){if(typeof O=="symbol")return mn.set(y,O,L,ue);let E=O.toLowerCase(),Y=Object.keys(d).find(xe=>xe.toLowerCase()===E);return mn.set(y,Y??O,L,ue)},has(y,O){if(typeof O=="symbol")return mn.has(y,O);let L=O.toLowerCase(),ue=Object.keys(d).find(E=>E.toLowerCase()===L);return ue!==void 0&&mn.has(y,ue)},deleteProperty(y,O){if(typeof O=="symbol")return mn.deleteProperty(y,O);let L=O.toLowerCase(),ue=Object.keys(d).find(E=>E.toLowerCase()===L);return ue===void 0||mn.deleteProperty(y,ue)}})}static seal(d){return new Proxy(d,{get(y,O,L){switch(O){case"append":case"delete":case"set":return hr.callable;default:return mn.get(y,O,L)}}})}merge(d){return Array.isArray(d)?d.join(", "):d}static from(d){return d instanceof Headers?d:new Ue(d)}append(d,y){let O=this.headers[d];typeof O=="string"?this.headers[d]=[O,y]:Array.isArray(O)?O.push(y):this.headers[d]=y}delete(d){delete this.headers[d]}get(d){let y=this.headers[d];return y!==void 0?this.merge(y):null}has(d){return this.headers[d]!==void 0}set(d,y){this.headers[d]=y}forEach(d,y){for(let[O,L]of this.entries())d.call(y,L,O,this)}*entries(){for(let d of Object.keys(this.headers)){let y=d.toLowerCase(),O=this.get(y);yield[y,O]}}*keys(){for(let d of Object.keys(this.headers))yield d.toLowerCase()}*values(){for(let d of Object.keys(this.headers))yield this.get(d)}[Symbol.iterator](){return this.entries()}}v.s(["HeadersAdapter",()=>Ue],55468);class hn extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new hn}}class pi{static seal(d){return new Proxy(d,{get(y,O,L){switch(O){case"clear":case"delete":case"set":return hn.callable;default:return mn.get(y,O,L)}}})}}let Kr=Symbol.for("next.mutated.cookies");function ta(k,d){let y,O=(y=d[Kr])&&Array.isArray(y)&&y.length!==0?y:[];if(O.length===0)return!1;let L=new In.ResponseCookies(k),ue=L.getAll();for(let E of O)L.set(E);for(let E of ue)L.set(E);return!0}class Ii{static wrap(d,y){let O=new In.ResponseCookies(new Headers);for(let xe of d.getAll())O.set(xe);let L=[],ue=new Set,E=()=>{let xe=be.workAsyncStorage.getStore();if(xe&&(xe.pathWasRevalidated=1),L=O.getAll().filter(Ae=>ue.has(Ae.name)),y){let Ae=[];for(let ot of L){let Ot=new In.ResponseCookies(new Headers);Ot.set(ot),Ae.push(Ot.toString())}y(Ae)}},Y=new Proxy(O,{get(xe,Ae,ot){switch(Ae){case Kr:return L;case"delete":return function(...Ot){ue.add(typeof Ot[0]=="string"?Ot[0]:Ot[0].name);try{return xe.delete(...Ot),Y}finally{E()}};case"set":return function(...Ot){ue.add(typeof Ot[0]=="string"?Ot[0]:Ot[0].name);try{return xe.set(...Ot),Y}finally{E()}};default:return mn.get(xe,Ae,ot)}}});return Y}}function wa(k){let d=new Proxy(k.mutableCookies,{get(y,O,L){switch(O){case"delete":return function(...ue){return Dn(k,"cookies().delete"),y.delete(...ue),d};case"set":return function(...ue){return Dn(k,"cookies().set"),y.set(...ue),d};default:return mn.get(y,O,L)}}});return d}function Dn(k,d){if(k.phase!=="action")throw new hn}v.s(["MutableRequestCookiesAdapter",()=>Ii,"RequestCookiesAdapter",()=>pi,"appendMutableCookies",()=>ta,"createCookiesWithMutableAccessCheck",()=>wa],47986);var Fi=((U=Fi||{}).handleRequest="BaseServer.handleRequest",U.run="BaseServer.run",U.pipe="BaseServer.pipe",U.getStaticHTML="BaseServer.getStaticHTML",U.render="BaseServer.render",U.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",U.renderToResponse="BaseServer.renderToResponse",U.renderToHTML="BaseServer.renderToHTML",U.renderError="BaseServer.renderError",U.renderErrorToResponse="BaseServer.renderErrorToResponse",U.renderErrorToHTML="BaseServer.renderErrorToHTML",U.render404="BaseServer.render404",U),Ta=((oe=Ta||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",oe.loadComponents="LoadComponents.loadComponents",oe),Gi=((_e=Gi||{}).getRequestHandler="NextServer.getRequestHandler",_e.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",_e.getServer="NextServer.getServer",_e.getServerRequestHandler="NextServer.getServerRequestHandler",_e.createServer="createServer.createServer",_e),Xr=((ge=Xr||{}).compression="NextNodeServer.compression",ge.getBuildId="NextNodeServer.getBuildId",ge.createComponentTree="NextNodeServer.createComponentTree",ge.clientComponentLoading="NextNodeServer.clientComponentLoading",ge.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",ge.generateStaticRoutes="NextNodeServer.generateStaticRoutes",ge.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",ge.generatePublicRoutes="NextNodeServer.generatePublicRoutes",ge.generateImageRoutes="NextNodeServer.generateImageRoutes.route",ge.sendRenderResult="NextNodeServer.sendRenderResult",ge.proxyRequest="NextNodeServer.proxyRequest",ge.runApi="NextNodeServer.runApi",ge.render="NextNodeServer.render",ge.renderHTML="NextNodeServer.renderHTML",ge.imageOptimizer="NextNodeServer.imageOptimizer",ge.getPagePath="NextNodeServer.getPagePath",ge.getRoutesManifest="NextNodeServer.getRoutesManifest",ge.findPageComponents="NextNodeServer.findPageComponents",ge.getFontManifest="NextNodeServer.getFontManifest",ge.getServerComponentManifest="NextNodeServer.getServerComponentManifest",ge.getRequestHandler="NextNodeServer.getRequestHandler",ge.renderToHTML="NextNodeServer.renderToHTML",ge.renderError="NextNodeServer.renderError",ge.renderErrorToHTML="NextNodeServer.renderErrorToHTML",ge.render404="NextNodeServer.render404",ge.startResponse="NextNodeServer.startResponse",ge.route="route",ge.onProxyReq="onProxyReq",ge.apiResolver="apiResolver",ge.internalFetch="internalFetch",ge),On=((ht=On||{}).startServer="startServer.startServer",ht),oa=((ee=oa||{}).getServerSideProps="Render.getServerSideProps",ee.getStaticProps="Render.getStaticProps",ee.renderToString="Render.renderToString",ee.renderDocument="Render.renderDocument",ee.createBodyResult="Render.createBodyResult",ee),Ca=((Be=Ca||{}).renderToString="AppRender.renderToString",Be.renderToReadableStream="AppRender.renderToReadableStream",Be.getBodyResult="AppRender.getBodyResult",Be.fetch="AppRender.fetch",Be),_o=((re=_o||{}).executeRoute="Router.executeRoute",re),Za=((et=Za||{}).runHandler="Node.runHandler",et),Qi=((Ge=Qi||{}).runHandler="AppRouteRouteHandlers.runHandler",Ge),Xa=((it=Xa||{}).generateMetadata="ResolveMetadata.generateMetadata",it.generateViewport="ResolveMetadata.generateViewport",it),Ya=((bt=Ya||{}).execute="Middleware.execute",bt);let Ra=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),po=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);function mo(k){return k!==null&&typeof k=="object"&&"then"in k&&typeof k.then=="function"}v.s(["AppRenderSpan",()=>Ca,"AppRouteRouteHandlersSpan",()=>Qi,"BaseServerSpan",()=>Fi,"LogSpanAllowList",0,po,"MiddlewareSpan",()=>Ya,"NextNodeServerSpan",()=>Xr,"NextVanillaSpanAllowlist",0,Ra],546);let wt=process.env.NEXT_OTEL_PERFORMANCE_PREFIX,{context:Ce,propagation:br,trace:G,SpanStatusCode:Rr,SpanKind:tn,ROOT_CONTEXT:Fn}=p=v.r(32063);class Tn extends Error{constructor(d,y){super(),this.bubble=d,this.result=y}}let Hr=(k,d)=>{typeof d=="object"&&d!==null&&d instanceof Tn&&d.bubble?k.setAttribute("next.bubble",!0):(d&&(k.recordException(d),k.setAttribute("error.type",d.name)),k.setStatus({code:Rr.ERROR,message:d?.message})),k.end()},Kn=new Map,Xi=p.createContextKey("next.rootSpanId"),Zi=0,$i={set(k,d,y){k.push({key:d,value:y})}},mi=(Pe=new class{getTracerInstance(){return G.getTracer("next.js","0.0.1")}getContext(){return Ce}getTracePropagationData(){let d=Ce.active(),y=[];return br.inject(d,y,$i),y}getActiveScopeSpan(){return G.getSpan(Ce?.active())}withPropagatedContext(d,y,O){let L=Ce.active();if(G.getSpanContext(L))return y();let ue=br.extract(L,d,O);return Ce.with(ue,y)}trace(...d){let[y,O,L]=d,{fn:ue,options:E}=typeof O=="function"?{fn:O,options:{}}:{fn:L,options:{...O}},Y=E.spanName??y;if(!Ra.has(y)&&process.env.NEXT_OTEL_VERBOSE!=="1"||E.hideSpan)return ue();let xe=this.getSpanContext(E?.parentSpan??this.getActiveScopeSpan());xe||(xe=Ce?.active()??Fn);let Ae=xe.getValue(Xi),ot=typeof Ae!="number"||!Kn.has(Ae),Ot=Zi++;return E.attributes={"next.span_name":Y,"next.span_type":y,...E.attributes},Ce.with(xe.setValue(Xi,Ot),()=>this.getTracerInstance().startActiveSpan(Y,E,tt=>{let lr;wt&&y&&po.has(y)&&(lr="performance"in mr&&"measure"in performance?mr.performance.now():void 0);let Jt=!1,er=()=>{!Jt&&(Jt=!0,Kn.delete(Ot),lr&&performance.measure(`${wt}:next-${(y.split(".").pop()||"").replace(/[A-Z]/g,Pt=>"-"+Pt.toLowerCase())}`,{start:lr,end:performance.now()}))};if(ot&&Kn.set(Ot,new Map(Object.entries(E.attributes??{}))),ue.length>1)try{return ue(tt,Pt=>Hr(tt,Pt))}catch(Pt){throw Hr(tt,Pt),Pt}finally{er()}try{let Pt=ue(tt);return mo(Pt)?Pt.then(Ht=>(tt.end(),Ht)).catch(Ht=>{throw Hr(tt,Ht),Ht}).finally(er):(tt.end(),er(),Pt)}catch(Pt){throw Hr(tt,Pt),er(),Pt}}))}wrap(...d){let y=this,[O,L,ue]=d.length===3?d:[d[0],{},d[1]];return Ra.has(O)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let E=L;typeof E=="function"&&typeof ue=="function"&&(E=E.apply(this,arguments));let Y=arguments.length-1,xe=arguments[Y];if(typeof xe!="function")return y.trace(O,E,()=>ue.apply(this,arguments));{let Ae=y.getContext().bind(Ce.active(),xe);return y.trace(O,E,(ot,Ot)=>(arguments[Y]=function(tt){return Ot?.(tt),Ae.apply(this,arguments)},ue.apply(this,arguments)))}}:ue}startSpan(...d){let[y,O]=d,L=this.getSpanContext(O?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(y,O,L)}getSpanContext(d){return d?G.setSpan(Ce.active(),d):void 0}getRootSpanAttributes(){let d=Ce.active().getValue(Xi);return Kn.get(d)}setRootSpanAttribute(d,y){let O=Ce.active().getValue(Xi),L=Kn.get(O);L&&!L.has(d)&&L.set(d,y)}withSpan(d,y){let O=G.setSpan(Ce.active(),d);return Ce.with(O,y)}},()=>Pe);function Bi(k,d){let y=Ue.from(k.headers);return{isOnDemandRevalidate:y.get(gn)===d.previewModeId,revalidateOnlyGenerated:y.has(ei)}}v.s(["SpanKind",()=>tn,"getTracer",()=>mi],68045);let Nt="__prerender_bypass";Symbol("__next_preview_data");let hi=Symbol(Nt);v.s(["COOKIE_NAME_PRERENDER_BYPASS",0,Nt,"SYMBOL_CLEARED_COOKIES",0,hi,"checkIsOnDemandRevalidate",()=>Bi],93441);class qn{constructor(d,y,O,L){var ue;let E=d&&Bi(y,d).isOnDemandRevalidate,Y=(ue=O.get(Nt))==null?void 0:ue.value;this._isEnabled=!!(!E&&Y&&d&&Y===d.previewModeId),this._previewModeId=d?.previewModeId,this._mutableCookies=L}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:Nt,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:Nt,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function ti(k,d){if("x-middleware-set-cookie"in k.headers&&typeof k.headers["x-middleware-set-cookie"]=="string"){let y=k.headers["x-middleware-set-cookie"],O=new Headers;for(let L of _r(y))O.append("set-cookie",L);for(let L of new In.ResponseCookies(O).getAll())d.set(L)}}function yn(k,d,y,O,L){return function(ue,E,Y,xe,Ae,ot,Ot,tt,lr,Jt,er,Pt){function Ht(Mt){Y&&Y.setHeader("Set-Cookie",Mt)}let It={};return{type:"request",phase:ue,implicitTags:ot,url:{pathname:xe.pathname,search:xe.search??""},rootParams:Ae,get headers(){return It.headers||(It.headers=function(Mt){let cn=Ue.from(Mt);for(let _i of ut)cn.delete(_i);return Ue.seal(cn)}(E.headers)),It.headers},get cookies(){if(!It.cookies){let Mt=new In.RequestCookies(Ue.from(E.headers));ti(E,Mt),It.cookies=pi.seal(Mt)}return It.cookies},set cookies(Mt){It.cookies=Mt},get mutableCookies(){if(!It.mutableCookies){var Mt,cn;let _i,Ci=(Mt=E.headers,cn=Ot||(Y?Ht:void 0),_i=new In.RequestCookies(Ue.from(Mt)),Ii.wrap(_i,cn));ti(E,Ci),It.mutableCookies=Ci}return It.mutableCookies},get userspaceMutableCookies(){return It.userspaceMutableCookies||(It.userspaceMutableCookies=wa(this)),It.userspaceMutableCookies},get draftMode(){return It.draftMode||(It.draftMode=new qn(lr,E,this.cookies,this.mutableCookies)),It.draftMode},renderResumeDataCache:null,isHmrRefresh:Jt,serverComponentsHmrCache:er||mr.__serverComponentsHmrCache,devFallbackParams:null}}("action",k,void 0,d,{},y,O,null,L,!1,void 0,null)}function pa(k){throw Object.defineProperty(Error(`\`${k}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}function ra(){throw Object.defineProperty(new M("Expected workUnitAsyncStorage to have a store."),"__NEXT_ERROR_CODE",{value:"E696",enumerable:!1,configurable:!0})}function Sr(k){switch(k.type){case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-client":return k.prerenderResumeDataCache;case"request":if(k.prerenderResumeDataCache)return k.prerenderResumeDataCache;case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return k}}function Ri(k){switch(k.type){case"request":case"prerender":case"prerender-runtime":case"prerender-client":if(k.renderResumeDataCache)return k.renderResumeDataCache;case"prerender-ppr":return k.prerenderResumeDataCache??null;case"cache":case"private-cache":case"unstable-cache":case"prerender-legacy":return null;default:return k}}function Vi(k){switch(k.type){case"prerender":case"prerender-client":case"prerender-runtime":return k.cacheSignal;case"request":if(k.cacheSignal)return k.cacheSignal;case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return k}}v.s(["createRequestStoreForAPI",()=>yn],72445),v.i(85021),v.s(["getCacheSignal",()=>Vi,"getPrerenderResumeDataCache",()=>Sr,"getRenderResumeDataCache",()=>Ri,"throwForMissingRequestStore",()=>pa,"throwInvariantForMissingStore",()=>ra],66401);var Nn=v.i(70903),Yi=v.i(51615);class zi{constructor(d,y,O){this.prev=null,this.next=null,this.key=d,this.data=y,this.size=O}}class sa{constructor(){this.prev=null,this.next=null}}class Oa{constructor(d,y){this.cache=new Map,this.totalSize=0,this.maxSize=d,this.calculateSize=y,this.head=new sa,this.tail=new sa,this.head.next=this.tail,this.tail.prev=this.head}addToHead(d){d.prev=this.head,d.next=this.head.next,this.head.next.prev=d,this.head.next=d}removeNode(d){d.prev.next=d.next,d.next.prev=d.prev}moveToHead(d){this.removeNode(d),this.addToHead(d)}removeTail(){let d=this.tail.prev;return this.removeNode(d),d}set(d,y){let O=(this.calculateSize==null?void 0:this.calculateSize.call(this,y))??1;if(O>this.maxSize)return void console.warn("Single item size exceeds maxSize");let L=this.cache.get(d);if(L)L.data=y,this.totalSize=this.totalSize-L.size+O,L.size=O,this.moveToHead(L);else{let ue=new zi(d,y,O);this.cache.set(d,ue),this.addToHead(ue),this.totalSize+=O}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let ue=this.removeTail();this.cache.delete(ue.key),this.totalSize-=ue.size}}has(d){return this.cache.has(d)}get(d){let y=this.cache.get(d);if(y)return this.moveToHead(y),y.data}*[Symbol.iterator](){let d=this.head.next;for(;d&&d!==this.tail;){let y=d;yield[y.key,y.data],d=d.next}}remove(d){let y=this.cache.get(d);y&&(this.removeNode(y),this.cache.delete(d),this.totalSize-=y.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}v.s(["LRUCache",()=>Oa],66011);let ni=new Map,Na=(k,d)=>{for(let y of k){let O=ni.get(y),L=O?.expired;if(typeof L=="number"&&L<=Date.now()&&L>d)return!0}return!1},Oi=(k,d)=>{for(let y of k){let O=ni.get(y),L=O?.stale??0;if(typeof L=="number"&&L>d)return!0}return!1};process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let Ni=Symbol.for("@next/cache-handlers-map"),ho=Symbol.for("@next/cache-handlers-set"),va=mr;function Jo(){if(va[ho])return va[ho].values()}function ns(){if(va[Ni])return va[Ni].entries()}async function bi(k,d){if(!k)return d();let y=xo(k);try{return await d()}finally{var O,L;let ue,E,Y=(O=y,L=xo(k),ue=new Set(O.pendingRevalidatedTags.map(xe=>{let Ae=typeof xe.profile=="object"?JSON.stringify(xe.profile):xe.profile||"";return`${xe.tag}:${Ae}`})),E=new Set(O.pendingRevalidateWrites),{pendingRevalidatedTags:L.pendingRevalidatedTags.filter(xe=>{let Ae=typeof xe.profile=="object"?JSON.stringify(xe.profile):xe.profile||"";return!ue.has(`${xe.tag}:${Ae}`)}),pendingRevalidates:Object.fromEntries(Object.entries(L.pendingRevalidates).filter(([xe])=>!(xe in O.pendingRevalidates))),pendingRevalidateWrites:L.pendingRevalidateWrites.filter(xe=>!E.has(xe))});await Qn(k,Y)}}function xo(k){return{pendingRevalidatedTags:k.pendingRevalidatedTags?[...k.pendingRevalidatedTags]:[],pendingRevalidates:{...k.pendingRevalidates},pendingRevalidateWrites:k.pendingRevalidateWrites?[...k.pendingRevalidateWrites]:[]}}async function Hi(k,d,y){if(k.length===0)return;let O=Jo(),L=[],ue=new Map;for(let Y of k){let xe,Ae=Y.profile;for(let[Ot]of ue)if(typeof Ot=="string"&&typeof Ae=="string"&&Ot===Ae||typeof Ot=="object"&&typeof Ae=="object"&&JSON.stringify(Ot)===JSON.stringify(Ae)||Ot===Ae){xe=Ot;break}let ot=xe||Ae;ue.has(ot)||ue.set(ot,[]),ue.get(ot).push(Y.tag)}for(let[Y,xe]of ue){let Ae;if(Y){let ot;if(typeof Y=="object")ot=Y;else if(typeof Y=="string"){var E;if(!(ot=y==null||(E=y.cacheLifeProfiles)==null?void 0:E[Y]))throw Object.defineProperty(Error(`Invalid profile provided "${Y}" must be configured under cacheLife in next.config or be "max"`),"__NEXT_ERROR_CODE",{value:"E873",enumerable:!1,configurable:!0})}ot&&(Ae={expire:ot.expire})}for(let ot of O||[])Y?L.push(ot.updateTags==null?void 0:ot.updateTags.call(ot,xe,Ae)):L.push(ot.updateTags==null?void 0:ot.updateTags.call(ot,xe));d&&L.push(d.revalidateTag(xe,Ae))}await Promise.all(L)}async function Qn(k,d){let y=d?.pendingRevalidatedTags??k.pendingRevalidatedTags??[],O=d?.pendingRevalidates??k.pendingRevalidates??{},L=d?.pendingRevalidateWrites??k.pendingRevalidateWrites??[];return Promise.all([Hi(y,k.incrementalCache,k),...Object.values(O),...L])}v.s(["getCacheHandlerEntries",()=>ns,"getCacheHandlers",()=>Jo],72451),v.s(["executeRevalidates",()=>Qn,"withExecuteRevalidates",()=>bi],49316);let rr=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class Ei{disable(){throw rr}getStore(){}run(){throw rr}exit(){throw rr}enterWith(){throw rr}static bind(d){return d}}let Nr=typeof mr<"u"&&mr.AsyncLocalStorage;function eo(k){return Nr?Nr.bind(k):Ei.bind(k)}function qo(){return Nr?Nr.snapshot():function(k,...d){return k(...d)}}v.s(["bindSnapshot",()=>eo,"createSnapshot",()=>qo],79698);var is=v.i(18904);v.i(34953),v.s([],12112);var As=v.i(85105);class Sa{constructor({waitUntil:d,onClose:y,onTaskError:O}){this.workUnitStores=new Set,this.waitUntil=d,this.onClose=y,this.onTaskError=O,this.callbackQueue=new Nn.default,this.callbackQueue.pause()}after(d){if(mo(d))this.waitUntil||Ms(),this.waitUntil(d.catch(y=>this.reportTaskError("promise",y)));else if(typeof d=="function")this.addCallback(d);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(d){this.waitUntil||Ms();let y=is.workUnitAsyncStorage.getStore();y&&this.workUnitStores.add(y);let O=As.afterTaskAsyncStorage.getStore(),L=O?O.rootTaskSpawnPhase:y?.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let ue=eo(async()=>{try{await As.afterTaskAsyncStorage.run({rootTaskSpawnPhase:L},()=>d())}catch(E){this.reportTaskError("function",E)}});this.callbackQueue.add(ue)}async runCallbacksOnClose(){return await new Promise(d=>this.onClose(d)),this.runCallbacks()}async runCallbacks(){if(this.callbackQueue.size===0)return;for(let y of this.workUnitStores)y.phase="after";let d=be.workAsyncStorage.getStore();if(!d)throw Object.defineProperty(new M("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return bi(d,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(d,y){if(console.error(d==="promise"?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",y),this.onTaskError)try{this.onTaskError==null||this.onTaskError.call(this,y)}catch(O){console.error(Object.defineProperty(new M("`onTaskError` threw while handling an error thrown from an `after` task",{cause:O}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function Ms(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function Ko(k){let d,y={then:(O,L)=>(d||(d=Promise.resolve(k())),d.then(ue=>{y.value=ue}).catch(()=>{}),d.then(O,L))};return y}function fs({page:k,renderOpts:d,isPrefetchRequest:y,buildId:O,previouslyRevalidatedTags:L,nonce:ue}){let E=!d.shouldWaitOnAllReady&&!d.supportsDynamicResponse&&!d.isDraftMode&&!d.isPossibleServerAction,Y=d.dev??!1,xe=Y||E&&(!!process.env.NEXT_DEBUG_BUILD||process.env.NEXT_SSG_FETCH_METRICS==="1"),Ae={isStaticGeneration:E,page:k,route:Ze(k),incrementalCache:d.incrementalCache||mr.__incrementalCache,cacheLifeProfiles:d.cacheLifeProfiles,isBuildTimePrerendering:d.nextExport,hasReadableErrorStacks:d.hasReadableErrorStacks,fetchCache:d.fetchCache,isOnDemandRevalidate:d.isOnDemandRevalidate,isDraftMode:d.isDraftMode,isPrefetchRequest:y,buildId:O,reactLoadableManifest:d?.reactLoadableManifest||{},assetPrefix:d?.assetPrefix||"",nonce:ue,afterContext:function(ot){let{waitUntil:Ot,onClose:tt,onAfterTaskError:lr}=ot;return new Sa({waitUntil:Ot,onClose:tt,onTaskError:lr})}(d),cacheComponentsEnabled:d.cacheComponents,dev:Y,previouslyRevalidatedTags:L,refreshTagsByCacheKind:function(){let ot=new Map,Ot=ns();if(Ot)for(let[tt,lr]of Ot)"refreshTags"in lr&&ot.set(tt,Ko(async()=>lr.refreshTags()));return ot}(),runInCleanSnapshot:qo(),shouldTrackFetchMetrics:xe,reactServerErrorsByDigest:new Map};return d.store=Ae,Ae}async function Rs(k,d,y){let O=new Set;for(let ue of(E=>{let Y=["/layout"];if(E.startsWith("/")){let xe=E.split("/");for(let Ae=1;Ae<xe.length+1;Ae++){let ot=xe.slice(0,Ae).join("/");ot&&(ot.endsWith("/page")||ot.endsWith("/route")||(ot=`${ot}${ot.endsWith("/")?"":"/"}layout`),Y.push(ot))}}return Y})(k))ue=`${Fe}${ue}`,O.add(ue);if(d.pathname&&(!y||y.size===0)){let ue=`${Fe}${d.pathname}`;O.add(ue)}O.has(`${Fe}/`)&&O.add(`${Fe}/index`),O.has(`${Fe}/index`)&&O.add(`${Fe}/`);let L=Array.from(O);return{tags:L,expirationsByCacheKind:function(ue){let E=new Map,Y=ns();if(Y)for(let[xe,Ae]of Y)"getExpiration"in Ae&&E.set(xe,Ko(async()=>Ae.getExpiration(ue)));return E}(L)}}v.s(["createWorkStore",()=>fs],88154),v.s(["getImplicitTags",()=>Rs],11573);class fo{constructor(){let d,y;this.promise=new Promise((O,L)=>{d=O,y=L}),this.resolve=d,this.reject=y}}v.s(["DetachedPromise",()=>fo],78116);class na{constructor(d,y=O=>O()){this.cacheKeyFn=d,this.schedulerFn=y,this.pending=new Map}static create(d){return new na(d?.cacheKeyFn,d?.schedulerFn)}async batch(d,y){let O=this.cacheKeyFn?await this.cacheKeyFn(d):d;if(O===null)return y({resolve:xe=>Promise.resolve(xe),key:d});let L=this.pending.get(O);if(L)return L;let{promise:ue,resolve:E,reject:Y}=new fo;return this.pending.set(O,ue),this.schedulerFn(async()=>{try{let xe=await y({resolve:E,key:d});E(xe)}catch(xe){Y(xe)}finally{this.pending.delete(O)}}),ue}}let Ba=k=>{Promise.resolve().then(()=>{setTimeout(k,0)})};v.s(["scheduleImmediate",0,k=>{setTimeout(k,0)},"scheduleOnNextTick",0,Ba],74715);var An=((Et={}).APP_PAGE="APP_PAGE",Et.APP_ROUTE="APP_ROUTE",Et.PAGES="PAGES",Et.FETCH="FETCH",Et.REDIRECT="REDIRECT",Et.IMAGE="IMAGE",Et),u=((tr={}).APP_PAGE="APP_PAGE",tr.APP_ROUTE="APP_ROUTE",tr.PAGES="PAGES",tr.FETCH="FETCH",tr.IMAGE="IMAGE",tr);function w(){}v.s(["CachedRouteKind",()=>An,"IncrementalCacheKind",()=>u],34277),new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let R=new TextEncoder;function P(k){return new ReadableStream({start(d){d.enqueue(R.encode(k)),d.close()}})}function A(k){return new ReadableStream({start(d){d.enqueue(k),d.close()}})}async function we(k,d){let y=new TextDecoder("utf-8",{fatal:!0}),O="";for await(let L of k){if(d?.aborted)return O;O+=y.decode(L,{stream:!0})}return O+y.decode()}let qe=Symbol.for("NextInternalRequestMeta");function gt(k,d){let y=k[qe]||{};return typeof d=="string"?y[d]:y}function je(k,d,y){let O=gt(k);return O[d]=y,k[qe]=O,O}v.s(["NEXT_REQUEST_META",0,qe,"addRequestMeta",()=>je,"getRequestMeta",()=>gt],4842);let _t=k=>!0;v.s(["isNodeNextRequest",0,k=>!1,"isNodeNextResponse",0,k=>!1,"isWebNextRequest",0,_t],59106);let gr="ResponseAborted";class Tr extends Error{constructor(...d){super(...d),this.name=gr}}function Yt(k){let d=new AbortController;return k.once("close",()=>{k.writableFinished||d.abort(new Tr)}),d}function on(k){let{errored:d,destroyed:y}=k;if(d||y)return AbortSignal.abort(d??new Tr);let{signal:O}=Yt(k);return O}class jr{static fromBaseNextRequest(d,y){if(_t(d))return jr.fromWebNextRequest(d);throw Object.defineProperty(Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:!1,configurable:!0})}static fromNodeNextRequest(d,y){let O,L=null;if(d.method!=="GET"&&d.method!=="HEAD"&&d.body&&(L=d.body),d.url.startsWith("http"))O=new URL(d.url);else{let ue=gt(d,"initURL");O=ue&&ue.startsWith("http")?new URL(d.url,ue):new URL(d.url,"http://n")}return new li(O,{method:d.method,headers:Zt(d.headers),duplex:"half",signal:y,...y.aborted?{}:{body:L}})}static fromWebNextRequest(d){let y=null;return d.method!=="GET"&&d.method!=="HEAD"&&(y=d.body),new li(d.url,{method:d.method,headers:Zt(d.headers),duplex:"half",signal:d.request.signal,...d.request.signal.aborted?{}:{body:y}})}}v.s(["NextRequestAdapter",()=>jr,"ResponseAbortedName",0,gr,"createAbortController",()=>Yt,"signalFromNodeResponse",()=>on],83877);let sn=0,Or=0,Vr=0;function Mr(k){return k?.name==="AbortError"||k?.name===gr}async function Ir(k,d,y){try{let{errored:O,destroyed:L}=d;if(O||L)return;let ue=Yt(d),E=function(Y,xe){let Ae=!1,ot=new fo;function Ot(){ot.resolve()}Y.on("drain",Ot),Y.once("close",()=>{Y.off("drain",Ot),ot.resolve()});let tt=new fo;return Y.once("finish",()=>{tt.resolve()}),new WritableStream({write:async lr=>{if(!Ae){if(Ae=!0,"performance"in mr&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let Jt=function(er={}){let Pt=sn===0?void 0:{clientComponentLoadStart:sn,clientComponentLoadTimes:Or,clientComponentLoadCount:Vr};return er.reset&&(sn=0,Or=0,Vr=0),Pt}();Jt&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:Jt.clientComponentLoadStart,end:Jt.clientComponentLoadStart+Jt.clientComponentLoadTimes})}Y.flushHeaders(),mi().trace(Xr.startResponse,{spanName:"start response"},()=>{})}try{let Jt=Y.write(lr);"flush"in Y&&typeof Y.flush=="function"&&Y.flush(),Jt||(await ot.promise,ot=new fo)}catch(Jt){throw Y.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:Jt}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:lr=>{Y.writableFinished||Y.destroy(lr)},close:async()=>{if(xe&&await xe,!Y.writableFinished)return Y.end(),tt.promise}})}(d,y);await k.pipeTo(E,{signal:ue.signal})}catch(O){if(Mr(O))return;throw Object.defineProperty(Error("failed to pipe response",{cause:O}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}v.s(["isAbortError",()=>Mr,"pipeToNodeResponse",()=>Ir],13651);class Ka{static#e=this.EMPTY=new Ka(null,{metadata:{},contentType:null});static fromStatic(d,y){return new Ka(d,{metadata:{},contentType:y})}constructor(d,{contentType:y,waitUntil:O,metadata:L}){this.response=d,this.contentType=y,this.metadata=L,this.waitUntil=O}assignMetadata(d){Object.assign(this.metadata,d)}get isNull(){return this.response===null}get isDynamic(){return typeof this.response!="string"}toUnchunkedString(d=!1){if(this.response===null)return"";if(typeof this.response!="string"){if(!d)throw Object.defineProperty(new M("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return we(this.readable)}return this.response}get readable(){return this.response===null?new ReadableStream({start(d){d.close()}}):typeof this.response=="string"?P(this.response):Yi.Buffer.isBuffer(this.response)?A(this.response):Array.isArray(this.response)?function(...d){if(d.length===0)return new ReadableStream({start(Y){Y.close()}});if(d.length===1)return d[0];let{readable:y,writable:O}=new TransformStream,L=d[0].pipeTo(O,{preventClose:!0}),ue=1;for(;ue<d.length-1;ue++){let Y=d[ue];L=L.then(()=>Y.pipeTo(O,{preventClose:!0}))}let E=d[ue];return(L=L.then(()=>E.pipeTo(O))).catch(w),y}(...this.response):this.response}coerce(){return this.response===null?[]:typeof this.response=="string"?[P(this.response)]:Array.isArray(this.response)?this.response:Yi.Buffer.isBuffer(this.response)?[A(this.response)]:[this.response]}unshift(d){this.response=this.coerce(),this.response.unshift(d)}push(d){this.response=this.coerce(),this.response.push(d)}async pipeTo(d){try{await this.readable.pipeTo(d,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await d.close()}catch(y){if(Mr(y))return void await d.abort(y);throw y}}async pipeToNodeResponse(d){await Ir(this.readable,d,this.waitUntil)}}var ba=((Gt={}).PAGES="PAGES",Gt.PAGES_API="PAGES_API",Gt.APP_PAGE="APP_PAGE",Gt.APP_ROUTE="APP_ROUTE",Gt.IMAGE="IMAGE",Gt);async function go(k){var d,y;return{...k,value:((d=k.value)==null?void 0:d.kind)===An.PAGES?{kind:An.PAGES,html:await k.value.html.toUnchunkedString(!0),pageData:k.value.pageData,headers:k.value.headers,status:k.value.status}:((y=k.value)==null?void 0:y.kind)===An.APP_PAGE?{kind:An.APP_PAGE,html:await k.value.html.toUnchunkedString(!0),postponed:k.value.postponed,rscData:k.value.rscData,headers:k.value.headers,status:k.value.status,segmentData:k.value.segmentData}:k.value}}async function Po(k){var d,y;return k?{isMiss:k.isMiss,isStale:k.isStale,cacheControl:k.cacheControl,value:((d=k.value)==null?void 0:d.kind)===An.PAGES?{kind:An.PAGES,html:Ka.fromStatic(k.value.html,pt),pageData:k.value.pageData,headers:k.value.headers,status:k.value.status}:((y=k.value)==null?void 0:y.kind)===An.APP_PAGE?{kind:An.APP_PAGE,html:Ka.fromStatic(k.value.html,pt),rscData:k.value.rscData,headers:k.value.headers,status:k.value.status,postponed:k.value.postponed,segmentData:k.value.segmentData}:k.value}:null}v.s(["RouteKind",()=>ba],23646);class wo{constructor(d){this.getBatcher=na.create({cacheKeyFn:({key:y,isOnDemandRevalidate:O})=>`${y}-${O?"1":"0"}`,schedulerFn:Ba}),this.revalidateBatcher=na.create({schedulerFn:Ba}),this.minimal_mode=d}async get(d,y,O){var L;if(!d)return y({hasResolved:!1,previousCacheEntry:null});if(this.minimal_mode&&((L=this.previousCacheItem)==null?void 0:L.key)===d&&this.previousCacheItem.expiresAt>Date.now())return Po(this.previousCacheItem.entry);let{incrementalCache:ue,isOnDemandRevalidate:E=!1,isFallback:Y=!1,isRoutePPREnabled:xe=!1,isPrefetch:Ae=!1,waitUntil:ot,routeKind:Ot}=O;return Po(await this.getBatcher.batch({key:d,isOnDemandRevalidate:E},({resolve:tt})=>{let lr=this.handleGet(d,y,{incrementalCache:ue,isOnDemandRevalidate:E,isFallback:Y,isRoutePPREnabled:xe,isPrefetch:Ae,routeKind:Ot},tt);return ot&&ot(lr),lr}))}async handleGet(d,y,O,L){let ue=null,E=!1;try{if((ue=this.minimal_mode?null:await O.incrementalCache.get(d,{kind:function(xe){switch(xe){case ba.PAGES:return u.PAGES;case ba.APP_PAGE:return u.APP_PAGE;case ba.IMAGE:return u.IMAGE;case ba.APP_ROUTE:return u.APP_ROUTE;case ba.PAGES_API:throw Object.defineProperty(Error(`Unexpected route kind ${xe}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0});default:return xe}}(O.routeKind),isRoutePPREnabled:O.isRoutePPREnabled,isFallback:O.isFallback}))&&!O.isOnDemandRevalidate&&(L(ue),E=!0,!ue.isStale||O.isPrefetch))return ue;let Y=await this.revalidate(d,O.incrementalCache,O.isRoutePPREnabled,O.isFallback,y,ue,ue!==null&&!O.isOnDemandRevalidate);return Y?(O.isOnDemandRevalidate,Y):(this.minimal_mode&&(this.previousCacheItem=void 0),null)}catch(Y){if(E)return console.error(Y),null;throw Y}}async revalidate(d,y,O,L,ue,E,Y,xe){return this.revalidateBatcher.batch(d,()=>{let Ae=this.handleRevalidate(d,y,O,L,ue,E,Y);return xe&&xe(Ae),Ae})}async handleRevalidate(d,y,O,L,ue,E,Y){try{let xe=await ue({hasResolved:Y,previousCacheEntry:E,isRevalidating:!0});if(!xe)return null;let Ae=await go({...xe,isMiss:!E});return Ae.cacheControl&&(this.minimal_mode?this.previousCacheItem={key:d,entry:Ae,expiresAt:Date.now()+1e3}:await y.set(d,Ae.value,{cacheControl:Ae.cacheControl,isRoutePPREnabled:O,isFallback:L})),Ae}catch(xe){if(E?.cacheControl){let Ae=Math.min(Math.max(E.cacheControl.revalidate||3,3),30),ot=E.cacheControl.expire===void 0?void 0:Math.max(Ae+3,E.cacheControl.expire);await y.set(d,E.value,{cacheControl:{revalidate:Ae,expire:ot},isRoutePPREnabled:O,isFallback:L})}throw xe}}}v.s(["default",()=>wo],27064);var Lo=v.i(82023);class ko{constructor(d){this.fs=d,this.tasks=[]}findOrCreateTask(d){for(let L of this.tasks)if(L[0]===d)return L;let y=this.fs.mkdir(d);y.catch(()=>{});let O=[d,y,[]];return this.tasks.push(O),O}append(d,y){let O=this.findOrCreateTask(Lo.default.dirname(d)),L=O[1].then(()=>this.fs.writeFile(d,y));L.catch(()=>{}),O[2].push(L)}wait(){return Promise.all(this.tasks.flatMap(d=>d[2]))}}class _a{static#e=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor(d){if(this.fs=d.fs,this.flushToDisk=d.flushToDisk,this.serverDistDir=d.serverDistDir,this.revalidatedTags=d.revalidatedTags,d.maxMemoryCacheSize)if(_a.memoryCache)_a.debug&&console.log("FileSystemCache: memory store already initialized");else{var y;_a.debug&&console.log("FileSystemCache: using memory store for fetch cache"),y=d.maxMemoryCacheSize,ve||(ve=new Oa(y,function({value:O}){var L;if(!O)return 25;if(O.kind===An.REDIRECT)return JSON.stringify(O.props).length;if(O.kind===An.IMAGE)throw Object.defineProperty(Error("invariant image should not be incremental-cache"),"__NEXT_ERROR_CODE",{value:"E501",enumerable:!1,configurable:!0});return O.kind===An.FETCH?JSON.stringify(O.data||"").length:O.kind===An.APP_ROUTE?O.body.length:O.html.length+(((L=JSON.stringify(O.kind===An.APP_PAGE?O.rscData:O.pageData))==null?void 0:L.length)||0)})),_a.memoryCache=ve}else _a.debug&&console.log("FileSystemCache: not using memory store for fetch cache")}resetRequestCache(){}async revalidateTag(d,y){if(d=typeof d=="string"?[d]:d,_a.debug&&console.log("FileSystemCache: revalidateTag",d,y),d.length===0)return;let O=Date.now();for(let L of d){let ue=ni.get(L)||{};if(y){let E={...ue};E.stale=O,y.expire!==void 0&&(E.expired=O+1e3*y.expire),ni.set(L,E)}else ni.set(L,{...ue,expired:O})}}async get(...d){var y,O,L,ue,E,Y;let[xe,Ae]=d,{kind:ot}=Ae,Ot=(y=_a.memoryCache)==null?void 0:y.get(xe);if(_a.debug&&(ot===u.FETCH?console.log("FileSystemCache: get",xe,Ae.tags,ot,!!Ot):console.log("FileSystemCache: get",xe,ot,!!Ot)),(Ot==null||(O=Ot.value)==null?void 0:O.kind)===An.APP_PAGE||(Ot==null||(L=Ot.value)==null?void 0:L.kind)===An.APP_ROUTE||(Ot==null||(ue=Ot.value)==null?void 0:ue.kind)===An.PAGES){let tt=(Y=Ot.value.headers)==null?void 0:Y[q];if(typeof tt=="string"){let lr=tt.split(",");if(lr.length>0&&Na(lr,Ot.lastModified))return _a.debug&&console.log("FileSystemCache: expired tags",lr),null}}else if((Ot==null||(E=Ot.value)==null?void 0:E.kind)===An.FETCH){let tt=Ae.kind===u.FETCH?[...Ae.tags||[],...Ae.softTags||[]]:[];if(tt.some(lr=>this.revalidatedTags.includes(lr)))return _a.debug&&console.log("FileSystemCache: was revalidated",tt),null;if(Na(tt,Ot.lastModified))return _a.debug&&console.log("FileSystemCache: expired tags",tt),null}return Ot??null}async set(d,y,O){var L;if((L=_a.memoryCache)==null||L.set(d,{value:y,lastModified:Date.now()}),_a.debug&&console.log("FileSystemCache: set",d),!this.flushToDisk||!y)return;let ue=new ko(this.fs);if(y.kind===An.APP_ROUTE){let E=this.getFilePath(`${d}.body`,u.APP_ROUTE);ue.append(E,y.body);let Y={headers:y.headers,status:y.status,postponed:void 0,segmentPaths:void 0};ue.append(E.replace(/\.body$/,Se),JSON.stringify(Y,null,2))}else if(y.kind===An.PAGES||y.kind===An.APP_PAGE){let E=y.kind===An.APP_PAGE,Y=this.getFilePath(`${d}.html`,E?u.APP_PAGE:u.PAGES);if(ue.append(Y,y.html),O.fetchCache||O.isFallback||O.isRoutePPREnabled||ue.append(this.getFilePath(`${d}${E?zr:en}`,E?u.APP_PAGE:u.PAGES),E?y.rscData:JSON.stringify(y.pageData)),y?.kind===An.APP_PAGE){let xe;if(y.segmentData){xe=[];let ot=Y.replace(/\.html$/,pn);for(let[Ot,tt]of y.segmentData){xe.push(Ot);let lr=ot+Ot+nr;ue.append(lr,tt)}}let Ae={headers:y.headers,status:y.status,postponed:y.postponed,segmentPaths:xe};ue.append(Y.replace(/\.html$/,Se),JSON.stringify(Ae))}}else if(y.kind===An.FETCH){let E=this.getFilePath(d,u.FETCH);ue.append(E,JSON.stringify({...y,tags:O.fetchCache?O.tags:[]}))}await ue.wait()}getFilePath(d,y){switch(y){case u.FETCH:return Lo.default.join(this.serverDistDir,"..","cache","fetch-cache",d);case u.PAGES:return Lo.default.join(this.serverDistDir,"pages",d);case u.IMAGE:case u.APP_PAGE:case u.APP_ROUTE:return Lo.default.join(this.serverDistDir,"app",d);default:throw Object.defineProperty(Error(`Unexpected file path kind: ${y}`),"__NEXT_ERROR_CODE",{value:"E479",enumerable:!1,configurable:!0})}}}let Io=["(..)(..)","(.)","(..)","(...)"];function ia(k){return k.split("/").find(d=>Io.find(y=>d.startsWith(y)))!==void 0}function ao(k){let d,y,O;for(let L of k.split("/"))if(y=Io.find(ue=>L.startsWith(ue))){[d,O]=k.split(y,2);break}if(!d||!y||!O)throw Object.defineProperty(Error(`Invalid interception route: ${k}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(d=Ze(d),y){case"(.)":O=d==="/"?`/${O}`:d+"/"+O;break;case"(..)":if(d==="/")throw Object.defineProperty(Error(`Invalid interception route: ${k}. Cannot use (..) marker at the root level, use (.) instead.`),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});O=d.split("/").slice(0,-1).concat(O).join("/");break;case"(...)":O="/"+O;break;case"(..)(..)":let L=d.split("/");if(L.length<=2)throw Object.defineProperty(Error(`Invalid interception route: ${k}. Cannot use (..)(..) marker at the root level or one level up.`),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});O=L.slice(0,-2).concat(O).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:d,interceptedRoute:O}}v.s(["INTERCEPTION_ROUTE_MARKERS",0,Io,"extractInterceptionRouteInformation",()=>ao,"isInterceptionRouteAppPath",()=>ia],60130);let Ws=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,jo=/\/\[[^/]+\](?=\/|$)/;function Ds(k,d=!0){return ia(k)&&(k=ao(k).interceptedRoute),d?jo.test(k):Ws.test(k)}v.s(["isDynamicRoute",()=>Ds],18215),v.s([],65832),typeof performance<"u"&&["mark","measure","getEntriesByName"].every(k=>typeof performance[k]=="function");class Fo extends Error{}function ma(k){return/^\/index(\/|$)/.test(k)&&!Ds(k)?`/index${k}`:k==="/"?"/index":ie(k)}function oo(k){return k.replace(/(?:\/index)?\/?$/,"")||"/"}v.s(["DecodeError",()=>Fo],12239),v.s(["normalizePagePath",()=>ma],53369);class Wn{static#e=this.cacheControls=new Map;constructor(d){this.prerenderManifest=d}get(d){let y=Wn.cacheControls.get(d);if(y)return y;let O=this.prerenderManifest.routes[d];if(O){let{initialRevalidateSeconds:ue,initialExpireSeconds:E}=O;if(ue!==void 0)return{revalidate:ue,expire:E}}let L=this.prerenderManifest.dynamicRoutes[d];if(L){let{fallbackRevalidate:ue,fallbackExpire:E}=L;if(ue!==void 0)return{revalidate:ue,expire:E}}}set(d,y){Wn.cacheControls.set(d,y)}clear(){Wn.cacheControls.clear()}}var Wa=v.i(24916);let za=/[|\\{}()[\]^$+*?.-]/,gs=/[|\\{}()[\]^$+*?.-]/g;function Ao(k){return za.test(k)?k.replace(gs,"\\$&"):k}let Pa=/^([^[]*)\[((?:\[[^\]]*\])|[^\]]+)\](.*)$/;function Zo(k){let d=k.startsWith("[")&&k.endsWith("]");d&&(k=k.slice(1,-1));let y=k.startsWith("...");return y&&(k=k.slice(3)),{key:k,repeat:y,optional:d}}function ys(k,{includeSuffix:d=!1,includePrefix:y=!1,excludeOptionalTrailingSlash:O=!1}={}){let{parameterizedRoute:L,groups:ue}=function(Y,xe,Ae){let ot={},Ot=1,tt=[];for(let lr of Jn(Y).slice(1).split("/")){let Jt=Io.find(Pt=>lr.startsWith(Pt)),er=lr.match(Pa);if(Jt&&er&&er[2]){let{key:Pt,optional:Ht,repeat:It}=Zo(er[2]);ot[Pt]={pos:Ot++,repeat:It,optional:Ht},tt.push(`/${Ao(Jt)}([^/]+?)`)}else if(er&&er[2]){let{key:Pt,repeat:Ht,optional:It}=Zo(er[2]);ot[Pt]={pos:Ot++,repeat:Ht,optional:It},Ae&&er[1]&&tt.push(`/${Ao(er[1])}`);let Mt=Ht?It?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)";Ae&&er[1]&&(Mt=Mt.substring(1)),tt.push(Mt)}else tt.push(`/${Ao(lr)}`);xe&&er&&er[3]&&tt.push(Ao(er[3]))}return{parameterizedRoute:tt.join(""),groups:ot}}(k,d,y),E=L;return O||(E+="(?:/)?"),{re:RegExp(`^${E}$`),groups:ue}}function Va({interceptionMarker:k,getSafeRouteKey:d,segment:y,routeKeys:O,keyPrefix:L,backreferenceDuplicateKeys:ue}){let E,{key:Y,optional:xe,repeat:Ae}=Zo(y),ot=Y.replace(/\W/g,"");L&&(ot=`${L}${ot}`);let Ot=!1;(ot.length===0||ot.length>30)&&(Ot=!0),isNaN(parseInt(ot.slice(0,1)))||(Ot=!0),Ot&&(ot=d());let tt=ot in O;L?O[ot]=`${L}${Y}`:O[ot]=Y;let lr=k?Ao(k):"";return E=tt&&ue?`\\k<${ot}>`:Ae?`(?<${ot}>.+?)`:`(?<${ot}>[^/]+?)`,{key:Y,pattern:xe?`(?:/${lr}${E})?`:`/${lr}${E}`,cleanedKey:ot,optional:xe,repeat:Ae}}function Zs(k,d){let y=function(L,ue,E,Y,xe,Ae={names:{},intercepted:{}}){let ot,Ot=(ot=0,()=>{let er="",Pt=++ot;for(;Pt>0;)er+=String.fromCharCode(97+(Pt-1)%26),Pt=Math.floor((Pt-1)/26);return er}),tt={},lr=[],Jt=[];for(let er of(Ae=structuredClone(Ae),Jn(L).slice(1).split("/"))){let Pt,Ht=Io.some(cn=>er.startsWith(cn)),It=er.match(Pa),Mt=Ht?It?.[1]:void 0;if(Mt&&It?.[2]?(Pt=ue?an:void 0,Ae.intercepted[It[2]]=Mt):Pt=It?.[2]&&Ae.intercepted[It[2]]?ue?an:void 0:ue?ft:void 0,Mt&&It&&It[2]){let{key:cn,pattern:_i,cleanedKey:Ci,repeat:Ln,optional:aa}=Va({getSafeRouteKey:Ot,interceptionMarker:Mt,segment:It[2],routeKeys:tt,keyPrefix:Pt,backreferenceDuplicateKeys:xe});lr.push(_i),Jt.push(`/${It[1]}:${Ae.names[cn]??Ci}${Ln?aa?"*":"+":""}`),Ae.names[cn]??=Ci}else if(It&&It[2]){Y&&It[1]&&(lr.push(`/${Ao(It[1])}`),Jt.push(`/${It[1]}`));let{key:cn,pattern:_i,cleanedKey:Ci,repeat:Ln,optional:aa}=Va({getSafeRouteKey:Ot,segment:It[2],routeKeys:tt,keyPrefix:Pt,backreferenceDuplicateKeys:xe}),Pi=_i;Y&&It[1]&&(Pi=Pi.substring(1)),lr.push(Pi),Jt.push(`/:${Ae.names[cn]??Ci}${Ln?aa?"*":"+":""}`),Ae.names[cn]??=Ci}else lr.push(`/${Ao(er)}`),Jt.push(`/${er}`);E&&It&&It[3]&&(lr.push(Ao(It[3])),Jt.push(It[3]))}return{namedParameterizedRoute:lr.join(""),routeKeys:tt,pathToRegexpPattern:Jt.join(""),reference:Ae}}(k,d.prefixRouteKeys,d.includeSuffix??!1,d.includePrefix??!1,d.backreferenceDuplicateKeys??!1,d.reference),O=y.namedParameterizedRoute;return d.excludeOptionalTrailingSlash||(O+="(?:/)?"),{...ys(k,d),namedRegex:`^${O}$`,routeKeys:y.routeKeys,pathToRegexpPattern:y.pathToRegexpPattern,reference:y.reference}}v.s(["getNamedRouteRegex",()=>Zs,"getRouteRegex",()=>ys],2635);let as="_NEXTSEP_";function x(k){return typeof k=="string"&&!!(/\/\(\.{1,3}\):[^/\s]+/.test(k)||/:[a-zA-Z_][a-zA-Z0-9_]*:[a-zA-Z_][a-zA-Z0-9_]*/.test(k))}function F(k){let d=k;return(d=d.replace(/(\([^)]*\)):([^/\s]+)/g,`$1${as}:$2`)).replace(/:([^:/\s)]+)(?=:)/g,`:$1${as}`)}function ne(k){return k.replace(RegExp(`\\)${as}`,"g"),")")}function he(k,d,y){if(typeof k!="string")return(0,Wa.pathToRegexp)(k,d,y);let O=x(k),L=O?F(k):k;try{return(0,Wa.pathToRegexp)(L,d,y)}catch(ue){if(!O)try{let E=F(k);return(0,Wa.pathToRegexp)(E,d,y)}catch{}throw ue}}function Ee(k,d){let y=x(k),O=y?F(k):k;try{let L=(0,Wa.compile)(O,d);return y?ue=>ne(L(ue)):L}catch(L){if(!y)try{let ue=F(k),E=(0,Wa.compile)(ue,d);return Y=>ne(E(Y))}catch{}throw L}}function Te({re:k,groups:d}){var y;return y=O=>{let L=k.exec(O);if(!L)return!1;let ue=Y=>{try{return decodeURIComponent(Y)}catch{throw Object.defineProperty(new Fo("failed to decode param"),"__NEXT_ERROR_CODE",{value:"E528",enumerable:!1,configurable:!0})}},E={};for(let[Y,xe]of Object.entries(d)){let Ae=L[xe.pos];Ae!==void 0&&(xe.repeat?E[Y]=Ae.split("/").map(ot=>ue(ot)):E[Y]=ue(Ae))}return E},O=>{let L=y(O);if(!L)return!1;let ue={};for(let[E,Y]of Object.entries(L))typeof Y=="string"?ue[E]=Y.replace(RegExp(`^${as}`),""):Array.isArray(Y)?ue[E]=Y.map(xe=>typeof xe=="string"?xe.replace(RegExp(`^${as}`),""):xe):ue[E]=Y;return ue}}function ae(k){let d={};for(let[y,O]of k.entries()){let L=d[y];L===void 0?d[y]=O:Array.isArray(L)?L.push(O):d[y]=[L,O]}return d}function fe(k){return typeof k=="string"?k:(typeof k!="number"||isNaN(k))&&typeof k!="boolean"?"":String(k)}function He(k){let d=new URLSearchParams;for(let[y,O]of Object.entries(k))if(Array.isArray(O))for(let L of O)d.append(y,fe(L));else d.set(y,fe(O));return d}function pe(k){return function(){let{cookie:d}=k;if(!d)return{};let{parse:y}=v.r(20678);return y(Array.isArray(d)?d.join("; "):d)}}function nt(k){return k.replace(/__ESC_COLON_/gi,":")}function Ke(k,d){if(!k.includes(":"))return k;for(let y of Object.keys(d))k.includes(`:${y}`)&&(k=k.replace(RegExp(`:${y}\\*`,"g"),`:${y}--ESCAPED_PARAM_ASTERISKS`).replace(RegExp(`:${y}\\?`,"g"),`:${y}--ESCAPED_PARAM_QUESTION`).replace(RegExp(`:${y}\\+`,"g"),`:${y}--ESCAPED_PARAM_PLUS`).replace(RegExp(`:${y}(?!\\w)`,"g"),`--ESCAPED_PARAM_COLON${y}`));return k=k.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),Ee(`/${k}`,{validate:!1})(d).slice(1)}function mt(k){try{return decodeURIComponent(k)}catch{return k}}function We(k){let d=function(O){let L;try{L=new URL(O,"http://n")}catch{}return L}(k);if(!d)return;let y={};for(let O of d.searchParams.keys()){let L=d.searchParams.getAll(O);y[O]=L.length>1?L:L[0]}return{query:y,hash:d.hash,search:d.search,path:d.pathname,pathname:d.pathname,href:`${d.pathname}${d.search}${d.hash}`,host:"",hostname:"",auth:"",protocol:"",slashes:null,port:""}}v.s(["getRouteMatcher",()=>Te],14766),v.s(["searchParamsToUrlQuery",()=>ae,"urlQueryToSearchParams",()=>He],27934),v.s(["getCookieParser",()=>pe],99888),v.s(["parseReqUrl",()=>We],82233);let jt=/https?|ftp|gopher|file/;function St(k,d){for(let y in delete k.nextInternalLocale,k){let O=y!==ft&&y.startsWith(ft),L=y!==an&&y.startsWith(an);(O||L||d.includes(y))&&delete k[y]}}function Xe({page:k,i18n:d,basePath:y,rewrites:O,pageIsDynamic:L,trailingSlash:ue,caseSensitive:E}){let Y,xe,Ae;return L&&(Ae=(xe=Te(Y=Zs(k,{prefixRouteKeys:!1})))(k)),{handleRewrites:function(ot,Ot){let tt=structuredClone(Ot),lr={},Jt=tt.pathname,er=Pt=>{var Ht,It;let Mt,cn,_i,Ci=(Ht=Pt.source+(ue?"(/)?":""),It={removeUnnamedParams:!0,strict:!0,sensitive:!!E},Mt=[],cn=(0,Wa.pathToRegexp)(Ht,Mt,{delimiter:"/",sensitive:typeof It?.sensitive=="boolean"&&It.sensitive,strict:It?.strict}),_i=(0,Wa.regexpToFunction)(It?.regexModifier?new RegExp(It.regexModifier(cn.source),cn.flags):cn,Mt),(aa,Pi)=>{if(typeof aa!="string")return!1;let fi=_i(aa);if(!fi)return!1;if(It?.removeUnnamedParams)for(let vo of Mt)typeof vo.name=="number"&&delete fi.params[vo.name];return{...Pi,...fi.params}});if(!tt.pathname)return!1;let Ln=Ci(tt.pathname);if((Pt.has||Pt.missing)&&Ln){let aa=function(Pi,fi,vo=[],ji=[]){let ha={},to=da=>{let Ga,qi=da.key;switch(da.type){case"header":qi=qi.toLowerCase(),Ga=Pi.headers[qi];break;case"cookie":Ga="cookies"in Pi?Pi.cookies[da.key]:pe(Pi.headers)()[da.key];break;case"query":Ga=fi[qi];break;case"host":{let{host:ka}=Pi?.headers||{};Ga=ka?.split(":",1)[0].toLowerCase()}}if(!da.value&&Ga)return ha[function(ka){let Aa="";for(let Ma=0;Ma<ka.length;Ma++){let Mo=ka.charCodeAt(Ma);(Mo>64&&Mo<91||Mo>96&&Mo<123)&&(Aa+=ka[Ma])}return Aa}(qi)]=Ga,!0;if(Ga){let ka=RegExp(`^${da.value}$`),Aa=Array.isArray(Ga)?Ga.slice(-1)[0].match(ka):Ga.match(ka);if(Aa)return Array.isArray(Aa)&&(Aa.groups?Object.keys(Aa.groups).forEach(Ma=>{ha[Ma]=Aa.groups[Ma]}):da.type==="host"&&Aa[0]&&(ha.host=Aa[0])),!0}return!1};return!(!vo.every(da=>to(da))||ji.some(da=>to(da)))&&ha}(ot,tt.query,Pt.has,Pt.missing);aa?Object.assign(Ln,aa):Ln=!1}if(Ln){let{parsedDestination:aa,destQuery:Pi}=function(fi){let vo,ji,ha=function(Rn){let ui=Rn.destination;for(let l of Object.keys({...Rn.params,...Rn.query}))l&&(ui=ui.replace(RegExp(`:${Ao(l)}`,"g"),`__ESC_COLON_${l}`));let so=function(l){if(l.startsWith("/"))return function(B,se,Je=!0){let st=new URL("http://n"),ur=B.startsWith(".")?new URL("http://n"):st,{pathname:Er,searchParams:rn,search:vn,hash:ct,href:yr,origin:wr}=new URL(B,ur);if(wr!==st.origin)throw Object.defineProperty(Error(`invariant: invalid relative URL, router received ${B}`),"__NEXT_ERROR_CODE",{value:"E159",enumerable:!1,configurable:!0});return{pathname:Er,query:Je?ae(rn):void 0,search:vn,hash:ct,href:yr.slice(wr.length),slashes:void 0}}(l);let C=new URL(l);return{hash:C.hash,hostname:C.hostname,href:C.href,pathname:C.pathname,port:C.port,protocol:C.protocol,query:ae(C.searchParams),search:C.search,origin:C.origin,slashes:C.href.slice(C.protocol.length,C.protocol.length+2)==="//"}}(ui),bs=so.pathname;bs&&(bs=nt(bs));let Bo=so.href;Bo&&(Bo=nt(Bo));let Wo=so.hostname;Wo&&(Wo=nt(Wo));let _s=so.hash;_s&&(_s=nt(_s));let T=so.search;T&&(T=nt(T));let o=so.origin;return o&&(o=nt(o)),{...so,pathname:bs,hostname:Wo,href:Bo,hash:_s,search:T,origin:o}}(fi),{hostname:to,query:da,search:Ga}=ha,qi=ha.pathname;ha.hash&&(qi=`${qi}${ha.hash}`);let ka=[],Aa=[];for(let Rn of(he(qi,Aa),Aa))ka.push(Rn.name);if(to){let Rn=[];for(let ui of(he(to,Rn),Rn))ka.push(ui.name)}let Ma=Ee(qi,{validate:!1});for(let[Rn,ui]of(to&&(vo=Ee(to,{validate:!1})),Object.entries(da)))Array.isArray(ui)?da[Rn]=ui.map(so=>Ke(nt(so),fi.params)):typeof ui=="string"&&(da[Rn]=Ke(nt(ui),fi.params));let Mo=Object.keys(fi.params).filter(Rn=>Rn!=="nextInternalLocale");if(fi.appendParamsToQuery&&!Mo.some(Rn=>ka.includes(Rn)))for(let Rn of Mo)Rn in da||(da[Rn]=fi.params[Rn]);if(ia(qi))for(let Rn of qi.split("/")){let ui=Io.find(so=>Rn.startsWith(so));if(ui){ui==="(..)(..)"?(fi.params[0]="(..)",fi.params[1]="(..)"):fi.params[0]=ui;break}}try{let[Rn,ui]=(ji=Ma(fi.params)).split("#",2);vo&&(ha.hostname=vo(fi.params)),ha.pathname=Rn,ha.hash=`${ui?"#":""}${ui||""}`,ha.search=Ga?Ke(Ga,fi.params):""}catch(Rn){throw Rn.message.match(/Expected .*? to not repeat, but got an array/)?Object.defineProperty(Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"),"__NEXT_ERROR_CODE",{value:"E329",enumerable:!1,configurable:!0}):Rn}return ha.query={...fi.query,...ha.query},{newUrl:ji,destQuery:da,parsedDestination:ha}}({appendParamsToQuery:!0,destination:Pt.destination,params:Ln,query:tt.query});if(aa.protocol)return!0;if(Object.assign(lr,Pi,Ln),Object.assign(tt.query,aa.query),delete aa.query,Object.assign(tt,aa),!(Jt=tt.pathname))return!1;if(y&&(Jt=Jt.replace(RegExp(`^${y}`),"")||"/"),d){let fi=Qt(Jt,d.locales);Jt=fi.pathname,tt.query.nextInternalLocale=fi.detectedLocale||Ln.nextInternalLocale}if(Jt===k)return!0;if(L&&xe){let fi=xe(Jt);if(fi)return tt.query={...tt.query,...fi},!0}}return!1};for(let Pt of O.beforeFiles||[])er(Pt);if(Jt!==k){let Pt,Ht=!1;for(let It of O.afterFiles||[])if(Ht=er(It))break;if(!Ht&&!((Pt=Jn(Jt||""))===Jn(k)||xe?.(Pt))){for(let It of O.fallback||[])if(Ht=er(It))break}}return{rewriteParams:lr,rewrittenParsedUrl:tt}},defaultRouteRegex:Y,dynamicRouteMatcher:xe,defaultRouteMatches:Ae,normalizeQueryParams:function(ot,Ot){for(let[tt,lr]of(delete ot.nextInternalLocale,Object.entries(ot))){let Jt=Gr(tt);Jt&&(delete ot[tt],Ot.add(Jt),lr!==void 0&&(ot[Jt]=Array.isArray(lr)?lr.map(er=>mt(er)):mt(lr)))}},getParamsFromRouteMatches:function(ot){if(!Y)return null;let{groups:Ot,routeKeys:tt}=Y;return Te({re:{exec:Jt=>{let er=Object.fromEntries(new URLSearchParams(Jt));for(let[Ht,It]of Object.entries(er)){let Mt=Gr(Ht);Mt&&(er[Mt]=It,delete er[Ht])}let Pt={};for(let Ht of Object.keys(tt)){let It=tt[Ht];if(!It)continue;let Mt=Ot[It],cn=er[Ht];if(!Mt.optional&&!cn)return null;Pt[Mt.pos]=cn}return Pt}},groups:Ot})(ot)||null},normalizeDynamicRouteParams:(ot,Ot)=>{if(!Y||!Ae)return{params:{},hasValidParams:!1};var tt=Y,lr=Ae;let Jt={};for(let er of Object.keys(tt.groups)){let Pt=ot[er];typeof Pt=="string"?Pt=me(Pt):Array.isArray(Pt)&&(Pt=Pt.map(me));let Ht=lr[er],It=tt.groups[er].optional;if((Array.isArray(Ht)?Ht.some(Mt=>Array.isArray(Pt)?Pt.some(cn=>cn.includes(Mt)):Pt?.includes(Mt)):Pt?.includes(Ht))||Pt===void 0&&!(It&&Ot))return{params:{},hasValidParams:!1};It&&(!Pt||Array.isArray(Pt)&&Pt.length===1&&(Pt[0]==="index"||Pt[0]===`[[...${er}]]`)||Pt==="index"||Pt===`[[...${er}]]`)&&(Pt=void 0,delete ot[er]),Pt&&typeof Pt=="string"&&tt.groups[er].repeat&&(Pt=Pt.split("/")),Pt&&(Jt[er]=Pt)}return{params:Jt,hasValidParams:!0}},normalizeCdnUrl:(ot,Ot)=>function(tt,lr){let Jt=We(tt.url);if(!Jt)return tt.url;delete Jt.search,St(Jt.query,lr),tt.url=function(er){let{auth:Pt,hostname:Ht}=er,It=er.protocol||"",Mt=er.pathname||"",cn=er.hash||"",_i=er.query||"",Ci=!1;Pt=Pt?encodeURIComponent(Pt).replace(/%3A/i,":")+"@":"",er.host?Ci=Pt+er.host:Ht&&(Ci=Pt+(~Ht.indexOf(":")?`[${Ht}]`:Ht),er.port&&(Ci+=":"+er.port)),_i&&typeof _i=="object"&&(_i=String(He(_i)));let Ln=er.search||_i&&`?${_i}`||"";return It&&!It.endsWith(":")&&(It+=":"),er.slashes||(!It||jt.test(It))&&Ci!==!1?(Ci="//"+(Ci||""),Mt&&Mt[0]!=="/"&&(Mt="/"+Mt)):Ci||(Ci=""),cn&&cn[0]!=="#"&&(cn="#"+cn),Ln&&Ln[0]!=="?"&&(Ln="?"+Ln),Mt=Mt.replace(/[?#]/g,encodeURIComponent),Ln=Ln.replace("#","%23"),`${It}${Ci}${Mt}${Ln}${cn}`}(Jt)}(ot,Ot),interpolateDynamicPath:(ot,Ot)=>function(tt,lr,Jt){if(!Jt)return tt;for(let er of Object.keys(Jt.groups)){let Pt,{optional:Ht,repeat:It}=Jt.groups[er],Mt=`[${It?"...":""}${er}]`;Ht&&(Mt=`[${Mt}]`);let cn=lr[er];((Pt=Array.isArray(cn)?cn.map(_i=>_i&&encodeURIComponent(_i)).join("/"):cn?encodeURIComponent(cn):"")||Ht)&&(tt=tt.replaceAll(Mt,Pt))}return tt}(ot,Ot,Y),filterInternalQuery:(ot,Ot)=>St(ot,Ot)}}function $t(k,d){return typeof k[J]=="string"&&k[W]===d?k[J].split(","):[]}v.s(["getPreviouslyRevalidatedTags",()=>$t,"getServerUtils",()=>Xe],69297);class at{static#e=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor({fs:d,dev:y,flushToDisk:O,minimalMode:L,serverDistDir:ue,requestHeaders:E,maxMemoryCacheSize:Y,getPrerenderManifest:xe,fetchCacheKeyPrefix:Ae,CurCacheHandler:ot,allowedRevalidateHeaderKeys:Ot}){var tt,lr,Jt,er;this.locks=new Map,this.hasCustomCacheHandler=!!ot;let Pt=Symbol.for("@next/cache-handlers"),Ht=mr;if(ot)at.debug&&console.log("IncrementalCache: using custom cache handler",ot.name);else{let Mt=Ht[Pt];Mt?.FetchCache?(ot=Mt.FetchCache,at.debug&&console.log("IncrementalCache: using global FetchCache cache handler")):d&&ue&&(at.debug&&console.log("IncrementalCache: using filesystem cache handler"),ot=_a)}process.env.__NEXT_TEST_MAX_ISR_CACHE&&(Y=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=y,this.disableForTestmode=process.env.NEXT_PRIVATE_TEST_PROXY==="true",this.minimalMode=L,this.requestHeaders=E,this.allowedRevalidateHeaderKeys=Ot,this.prerenderManifest=xe(),this.cacheControls=new Wn(this.prerenderManifest),this.fetchCacheKeyPrefix=Ae;let It=[];E[gn]===((lr=this.prerenderManifest)==null||(tt=lr.preview)==null?void 0:tt.previewModeId)&&(this.isOnDemandRevalidate=!0),L&&(It=this.revalidatedTags=$t(E,(er=this.prerenderManifest)==null||(Jt=er.preview)==null?void 0:Jt.previewModeId)),ot&&(this.cacheHandler=new ot({dev:y,fs:d,flushToDisk:O,serverDistDir:ue,revalidatedTags:It,maxMemoryCacheSize:Y,_requestHeaders:E,fetchCacheKeyPrefix:Ae}))}calculateRevalidate(d,y,O,L){if(O)return Math.floor(performance.timeOrigin+performance.now()-1e3);let ue=this.cacheControls.get(oo(d)),E=ue?ue.revalidate:!L&&1;return typeof E=="number"?1e3*E+y:E}_getPathname(d,y){return y?d:ma(d)}resetRequestCache(){var d,y;(y=this.cacheHandler)==null||(d=y.resetRequestCache)==null||d.call(y)}async lock(d){for(;;){let L=this.locks.get(d);if(at.debug&&console.log("IncrementalCache: lock get",d,!!L),!L)break;await L}let{resolve:y,promise:O}=new fo;return at.debug&&console.log("IncrementalCache: successfully locked",d),this.locks.set(d,O),()=>{y(),this.locks.delete(d)}}async revalidateTag(d,y){var O;return(O=this.cacheHandler)==null?void 0:O.revalidateTag(d,y)}async generateCacheKey(d,y={}){let O=[],L=new TextEncoder,ue=new TextDecoder;if(y.body)if(y.body instanceof Uint8Array)O.push(ue.decode(y.body)),y._ogBody=y.body;else if(typeof y.body.getReader=="function"){let Ae=y.body,ot=[];try{await Ae.pipeTo(new WritableStream({write(Jt){typeof Jt=="string"?(ot.push(L.encode(Jt)),O.push(Jt)):(ot.push(Jt),O.push(ue.decode(Jt,{stream:!0})))}})),O.push(ue.decode());let Ot=ot.reduce((Jt,er)=>Jt+er.length,0),tt=new Uint8Array(Ot),lr=0;for(let Jt of ot)tt.set(Jt,lr),lr+=Jt.length;y._ogBody=tt}catch(Ot){console.error("Problem reading body",Ot)}}else if(typeof y.body.keys=="function"){let Ae=y.body;for(let ot of(y._ogBody=y.body,new Set([...Ae.keys()]))){let Ot=Ae.getAll(ot);O.push(`${ot}=${(await Promise.all(Ot.map(async tt=>typeof tt=="string"?tt:await tt.text()))).join(",")}`)}}else if(typeof y.body.arrayBuffer=="function"){let Ae=y.body,ot=await Ae.arrayBuffer();O.push(await Ae.text()),y._ogBody=new Blob([ot],{type:Ae.type})}else typeof y.body=="string"&&(O.push(y.body),y._ogBody=y.body);let E=typeof(y.headers||{}).keys=="function"?Object.fromEntries(y.headers):Object.assign({},y.headers);"traceparent"in E&&delete E.traceparent,"tracestate"in E&&delete E.tracestate;let Y=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",d,y.method,E,y.mode,y.redirect,y.credentials,y.referrer,y.referrerPolicy,y.integrity,y.cache,O]);{var xe;let Ae=L.encode(Y);return xe=await crypto.subtle.digest("SHA-256",Ae),Array.prototype.map.call(new Uint8Array(xe),ot=>ot.toString(16).padStart(2,"0")).join("")}}async get(d,y){var O,L,ue,E,Y,xe,Ae;let ot,Ot;if(y.kind===u.FETCH){let er=is.workUnitAsyncStorage.getStore(),Pt=er?Ri(er):null;if(Pt){let Ht=Pt.fetch.get(d);if(Ht?.kind===An.FETCH)return at.debug&&console.log("IncrementalCache: rdc:hit",d),{isStale:!1,value:Ht};at.debug&&console.log("IncrementalCache: rdc:miss",d)}else at.debug&&console.log("IncrementalCache: rdc:no-resume-data")}if(this.disableForTestmode||this.dev&&(y.kind!==u.FETCH||this.requestHeaders["cache-control"]==="no-cache"))return null;d=this._getPathname(d,y.kind===u.FETCH);let tt=await((O=this.cacheHandler)==null?void 0:O.get(d,y));if(y.kind===u.FETCH){if(!tt)return null;if(((ue=tt.value)==null?void 0:ue.kind)!==An.FETCH)throw Object.defineProperty(new M(`Expected cached value for cache key ${JSON.stringify(d)} to be a "FETCH" kind, got ${JSON.stringify((E=tt.value)==null?void 0:E.kind)} instead.`),"__NEXT_ERROR_CODE",{value:"E653",enumerable:!1,configurable:!0});let er=be.workAsyncStorage.getStore(),Pt=[...y.tags||[],...y.softTags||[]];if(Pt.some(_i=>{var Ci,Ln;return((Ci=this.revalidatedTags)==null?void 0:Ci.includes(_i))||(er==null||(Ln=er.pendingRevalidatedTags)==null?void 0:Ln.some(aa=>aa.tag===_i))}))return at.debug&&console.log("IncrementalCache: expired tag",d),null;let Ht=is.workUnitAsyncStorage.getStore();if(Ht){let _i=Sr(Ht);_i&&(at.debug&&console.log("IncrementalCache: rdc:set",d),_i.fetch.set(d,tt.value))}let It=y.revalidate||tt.value.revalidate,Mt=(performance.timeOrigin+performance.now()-(tt.lastModified||0))/1e3>It,cn=tt.value.data;return Na(Pt,tt.lastModified)?null:(Oi(Pt,tt.lastModified)&&(Mt=!0),{isStale:Mt,value:{kind:An.FETCH,data:cn,revalidate:It}})}if((tt==null||(L=tt.value)==null?void 0:L.kind)===An.FETCH)throw Object.defineProperty(new M(`Expected cached value for cache key ${JSON.stringify(d)} not to be a ${JSON.stringify(y.kind)} kind, got "FETCH" instead.`),"__NEXT_ERROR_CODE",{value:"E652",enumerable:!1,configurable:!0});let lr=null,Jt=this.cacheControls.get(oo(d));if(tt?.lastModified===-1)ot=-1,Ot=-31536e3;else{let er=performance.timeOrigin+performance.now(),Pt=tt?.lastModified||er;if((ot=(Ot=this.calculateRevalidate(d,Pt,this.dev??!1,y.isFallback))!==!1&&Ot<er||void 0)===void 0&&((tt==null||(Y=tt.value)==null?void 0:Y.kind)===An.APP_PAGE||(tt==null||(xe=tt.value)==null?void 0:xe.kind)===An.APP_ROUTE)){let Ht=(Ae=tt.value.headers)==null?void 0:Ae[q];if(typeof Ht=="string"){let It=Ht.split(",");It.length>0&&(Na(It,Pt)?ot=-1:Oi(It,Pt)&&(ot=!0))}}}return tt&&(lr={isStale:ot,cacheControl:Jt,revalidateAfter:Ot,value:tt.value}),!tt&&this.prerenderManifest.notFoundRoutes.includes(d)&&(lr={isStale:ot,value:null,cacheControl:Jt,revalidateAfter:Ot},this.set(d,lr.value,{...y,cacheControl:Jt})),lr}async set(d,y,O){if(y?.kind===An.FETCH){let E=is.workUnitAsyncStorage.getStore(),Y=E?Sr(E):null;Y&&(at.debug&&console.log("IncrementalCache: rdc:set",d),Y.fetch.set(d,y))}if(this.disableForTestmode||this.dev&&!O.fetchCache)return;d=this._getPathname(d,O.fetchCache);let L=JSON.stringify(y).length;if(O.fetchCache&&L>2097152&&!this.hasCustomCacheHandler&&!O.isImplicitBuildTimeCache){let E=`Failed to set Next.js data cache for ${O.fetchUrl||d}, items over 2MB can not be cached (${L} bytes)`;if(this.dev)throw Object.defineProperty(Error(E),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});console.warn(E);return}try{var ue;!O.fetchCache&&O.cacheControl&&this.cacheControls.set(oo(d),O.cacheControl),await((ue=this.cacheHandler)==null?void 0:ue.set(d,y,O))}catch(E){console.warn("Failed to update prerender cache for",d,E)}}}v.s(["IncrementalCache",()=>at],13714);var Ut=((Ve={})[Ve.SeeOther=303]="SeeOther",Ve[Ve.TemporaryRedirect=307]="TemporaryRedirect",Ve[Ve.PermanentRedirect=308]="PermanentRedirect",Ve);v.s(["RedirectStatusCode",()=>Ut],88503);var dr=v.i(34392);let Ie="DYNAMIC_SERVER_USAGE";class de extends Error{constructor(d){super(`Dynamic server usage: ${d}`),this.description=d,this.digest=Ie}}function ke(k){return typeof k=="object"&&k!==null&&"digest"in k&&typeof k.digest=="string"&&k.digest===Ie}v.s(["DynamicServerError",()=>de,"isDynamicServerError",()=>ke],25249);class kr extends Error{constructor(...d){super(...d),this.code="NEXT_STATIC_GEN_BAILOUT"}}v.s(["StaticGenBailoutError",()=>kr],10824);class At extends Error{constructor(d,y){super(`During prerendering, ${y} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${y} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${d}".`),this.route=d,this.expression=y,this.digest="HANGING_PROMISE_REJECTION"}}let zt=new WeakMap;function dt(k,d,y){if(k.aborted)return Promise.reject(new At(d,y));{let O=new Promise((L,ue)=>{let E=ue.bind(null,new At(d,y)),Y=zt.get(k);if(Y)Y.push(E);else{let xe=[E];zt.set(k,xe),k.addEventListener("abort",()=>{for(let Ae=0;Ae<xe.length;Ae++)xe[Ae]()},{once:!0})}});return O.catch(Me),O}}function Me(){}function Bt(k,d,y){return d.stagedRendering?d.stagedRendering.delayUntilStage(y,void 0,k):new Promise(O=>{setTimeout(()=>{O(k)},0)})}function Kt(k){return typeof k=="object"&&k!==null&&"digest"in k&&k.digest==="BAILOUT_TO_CLIENT_SIDE_RENDERING"}v.s(["makeDevtoolsIOAwarePromise",()=>Bt,"makeHangingPromise",()=>dt],92879),v.s(["isBailoutToCSRError",()=>Kt],68270);let Tt=typeof dr.default.unstable_postpone=="function";function Dt(k){return{isDebugDynamicAccesses:k,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function Ur(k){var d;return(d=k.dynamicAccesses[0])==null?void 0:d.expression}function fr(k,d,y){if(d)switch(d.type){case"cache":case"unstable-cache":case"private-cache":return}if(!k.forceDynamic&&!k.forceStatic){if(k.dynamicShouldError)throw Object.defineProperty(new kr(`Route ${k.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${y}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(d)switch(d.type){case"prerender-ppr":return yt(k.route,y,d.dynamicTracking);case"prerender-legacy":d.revalidate=0;let O=Object.defineProperty(new de(`Route ${k.route} couldn't be rendered statically because it used ${y}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw k.dynamicUsageDescription=y,k.dynamicUsageStack=O.stack,O}}}function sr(k,d,y){let O=Object.defineProperty(new de(`Route ${d.route} couldn't be rendered statically because it used \`${k}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw y.revalidate=0,d.dynamicUsageDescription=k,d.dynamicUsageStack=O.stack,O}function Ye(k){switch(k.type){case"cache":case"unstable-cache":case"private-cache":return}}function Lt(k,d,y,O){if(O.controller.signal.aborted===!1){let L,ue;L=kt(`Route ${k} needs to bail out of prerendering at this point because it used ${d}.`),O.controller.abort(L),(ue=O.dynamicTracking)&&ue.dynamicAccesses.push({stack:ue.isDebugDynamicAccesses?Error().stack:void 0,expression:d});let E=O.dynamicTracking;E&&E.syncDynamicErrorWithStack===null&&(E.syncDynamicErrorWithStack=y)}throw kt(`Route ${k} needs to bail out of prerendering at this point because it used ${d}.`)}function yt(k,d,y){(function(){if(!Tt)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),y&&y.dynamicAccesses.push({stack:y.isDebugDynamicAccesses?Error().stack:void 0,expression:d}),dr.default.unstable_postpone(la(k,d))}function la(k,d){return`Route ${k} needs to bail out of prerendering at this point because it used ${d}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(((cr=la("%%%","^^^")).includes("needs to bail out of prerendering at this point because it used")&&cr.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error"))===!1)throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let qr="NEXT_PRERENDER_INTERRUPTED";function kt(k){let d=Object.defineProperty(Error(k),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.digest=qr,d}function Ne(k){return typeof k=="object"&&k!==null&&k.digest===qr&&"name"in k&&"message"in k&&k instanceof Error}function or(k,d){return k.runtimeStagePromise?k.runtimeStagePromise.then(()=>d):d}RegExp("\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)"),RegExp("\\n\\s+at __next_metadata_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_viewport_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_outlet_boundary__[\\n\\s]"),v.s(["abortAndThrowOnSynchronousRequestDataAccess",()=>Lt,"createDynamicTrackingState",()=>Dt,"delayUntilRuntimeStage",()=>or,"getFirstDynamicReason",()=>Ur,"isPrerenderInterruptedError",()=>Ne,"markCurrentScopeAsDynamic",()=>fr,"postponeWithTracking",()=>yt,"throwToInterruptStaticGeneration",()=>sr,"trackDynamicDataInDynamicRender",()=>Ye],99690);let Wt=()=>{};function ln(k){if(!k.body)return[k,k];let[d,y]=k.body.tee(),O=new Response(d,{status:k.status,statusText:k.statusText,headers:k.headers});Object.defineProperty(O,"url",{value:k.url,configurable:!0,enumerable:!0,writable:!1}),n&&O.body&&n.register(O,new WeakRef(O.body));let L=new Response(y,{status:k.status,statusText:k.statusText,headers:k.headers});return Object.defineProperty(L,"url",{value:k.url,configurable:!0,enumerable:!0,writable:!1}),[O,L]}mr.FinalizationRegistry&&(n=new FinalizationRegistry(k=>{let d=k.deref();d&&!d.locked&&d.cancel("Response object has been garbage collected").then(Wt)}));let ja=new Set(["traceparent","tracestate"]);var Pr=((ye={})[ye.Before=1]="Before",ye[ye.Static=2]="Static",ye[ye.Runtime=3]="Runtime",ye[ye.Dynamic=4]="Dynamic",ye[ye.Abandoned=5]="Abandoned",ye);v.s(["RenderStage",()=>Pr],21170);let Ti=Symbol.for("next-patch");function yo(k,d){k.shouldTrackFetchMetrics&&(k.fetchMetrics??=[],k.fetchMetrics.push({...d,end:performance.timeOrigin+performance.now(),idx:k.nextFetchId||0}))}async function Hn(k,d,y,O,L,ue){let E=await k.arrayBuffer(),Y={headers:Object.fromEntries(k.headers.entries()),body:Yi.Buffer.from(E).toString("base64"),status:k.status,url:k.url};return y&&await O.set(d,{kind:An.FETCH,data:Y,revalidate:L},y),await ue(),new Response(E,{headers:k.headers,status:k.status,statusText:k.statusText})}async function Bs(k,d,y,O,L,ue,E,Y,xe){let[Ae,ot]=ln(d),Ot=Ae.arrayBuffer().then(async er=>{let Pt=Yi.Buffer.from(er),Ht={headers:Object.fromEntries(Ae.headers.entries()),body:Pt.toString("base64"),status:Ae.status,url:Ae.url};ue?.set(y,Ht),O&&await L.set(y,{kind:An.FETCH,data:Ht,revalidate:E},O)}).catch(er=>console.warn("Failed to set fetch cache",Y,er)).finally(xe),tt=`cache-set-${y}`,lr=k.pendingRevalidates??={},Jt=Promise.resolve();return tt in lr&&(Jt=lr[tt]),lr[tt]=Jt.then(()=>Ot).finally(()=>{lr?.[tt]&&delete lr[tt]}),ot}function Vs(k){var d;let y;if(mr[Ti]===!0)return;let O=(d=mr.fetch,y=dr.cache(L=>[]),function(L,ue){let E,Y;if(ue&&ue.signal)return d(L,ue);if(typeof L!="string"||ue){let Ot,tt=typeof L=="string"||L instanceof URL?new Request(L,ue):L;if(tt.method!=="GET"&&tt.method!=="HEAD"||tt.keepalive)return d(L,ue);Ot=Array.from(tt.headers.entries()).filter(([lr])=>!ja.has(lr.toLowerCase())),Y=JSON.stringify([tt.method,Ot,null,tt.redirect,null,tt.referrer,tt.referrerPolicy,null]),E=tt.url}else Y='["GET",[],null,"follow",null,null,null,null]',E=L;let xe=y(E);for(let Ot=0,tt=xe.length;Ot<tt;Ot+=1){let[lr,Jt]=xe[Ot];if(lr===Y)return Jt.then(()=>{let er=xe[Ot][2];if(!er)throw Object.defineProperty(new M("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[Pt,Ht]=ln(er);return xe[Ot][2]=Ht,Pt})}let Ae=d(L,ue),ot=[Y,Ae,null];return xe.push(ot),Ae.then(Ot=>{let[tt,lr]=ln(Ot);return ot[2]=lr,tt})});mr.fetch=function(L,{workAsyncStorage:ue,workUnitAsyncStorage:E}){let Y=async function(xe,Ae){var ot,Ot;let tt;try{(tt=new URL(xe instanceof Request?xe.url:xe)).username="",tt.password=""}catch{tt=void 0}let lr=tt?.href??"",Jt=(Ae==null||(ot=Ae.method)==null?void 0:ot.toUpperCase())||"GET",er=(Ae==null||(Ot=Ae.next)==null?void 0:Ot.internal)===!0,Pt=process.env.NEXT_OTEL_FETCH_DISABLED==="1",Ht=er?void 0:performance.timeOrigin+performance.now(),It=ue.getStore(),Mt=E.getStore(),cn=Mt?Vi(Mt):null;cn&&cn.beginRead();let _i=mi().trace(er?Xr.internalFetch:Ca.fetch,{hideSpan:Pt,kind:tn.CLIENT,spanName:["fetch",Jt,lr].filter(Boolean).join(" "),attributes:{"http.url":lr,"http.method":Jt,"net.peer.name":tt?.hostname,"net.peer.port":tt?.port||void 0}},async()=>{var Ci;let Ln,aa,Pi,fi,vo,ji;if(er||!It||It.isDraftMode)return L(xe,Ae);let ha=xe&&typeof xe=="object"&&typeof xe.method=="string",to=ct=>Ae?.[ct]||(ha?xe[ct]:null),da=ct=>{var yr,wr,Cr;return(Ae==null||(yr=Ae.next)==null?void 0:yr[ct])!==void 0?Ae==null||(wr=Ae.next)==null?void 0:wr[ct]:ha?(Cr=xe.next)==null?void 0:Cr[ct]:void 0},Ga=da("revalidate"),qi=Ga,ka=function(ct,yr){let wr=[],Cr=[];for(let un=0;un<ct.length;un++){let fn=ct[un];if(typeof fn!="string"?Cr.push({tag:fn,reason:"invalid type, must be a string"}):fn.length>256?Cr.push({tag:fn,reason:"exceeded max length of 256"}):wr.push(fn),wr.length>128){console.warn(`Warning: exceeded max tag count for ${yr}, dropped tags:`,ct.slice(un).join(", "));break}}if(Cr.length>0)for(let{tag:un,reason:fn}of(console.warn(`Warning: invalid tags passed to ${yr}: `),Cr))console.log(`tag: "${un}" ${fn}`);return wr}(da("tags")||[],`fetch ${xe.toString()}`);if(Mt)switch(Mt.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":Ln=Mt}if(Ln&&Array.isArray(ka)){let ct=Ln.tags??(Ln.tags=[]);for(let yr of ka)ct.includes(yr)||ct.push(yr)}let Aa=Mt?.implicitTags,Ma=It.fetchCache;Mt&&Mt.type==="unstable-cache"&&(Ma="force-no-store");let Mo=!!It.isUnstableNoStore,Rn=to("cache"),ui="";typeof Rn=="string"&&qi!==void 0&&(Rn==="force-cache"&&qi===0||Rn==="no-store"&&(qi>0||qi===!1))&&(aa=`Specified "cache: ${Rn}" and "revalidate: ${qi}", only one should be specified.`,Rn=void 0,qi=void 0);let so=Rn==="no-cache"||Rn==="no-store"||Ma==="force-no-store"||Ma==="only-no-store",bs=!Ma&&!Rn&&!qi&&It.forceDynamic;Rn==="force-cache"&&qi===void 0?qi=!1:(so||bs)&&(qi=0),(Rn==="no-cache"||Rn==="no-store")&&(ui=`cache: ${Rn}`),ji=function(ct,yr){try{let wr;if(ct===!1)wr=4294967294;else if(typeof ct=="number"&&!isNaN(ct)&&ct>-1)wr=ct;else if(ct!==void 0)throw Object.defineProperty(Error(`Invalid revalidate value "${ct}" on "${yr}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return wr}catch(wr){if(wr instanceof Error&&wr.message.includes("Invalid revalidate"))throw wr;return}}(qi,It.route);let Bo=to("headers"),Wo=typeof Bo?.get=="function"?Bo:new Headers(Bo||{}),_s=Wo.get("authorization")||Wo.get("cookie"),T=!["get","head"].includes(((Ci=to("method"))==null?void 0:Ci.toLowerCase())||"get"),o=Ma==null&&(Rn==null||Rn==="default")&&qi==null,l=!!((_s||T)&&Ln?.revalidate===0),C=!1;if(!l&&o&&(It.isBuildTimePrerendering?C=!0:l=!0),o&&Mt!==void 0)switch(Mt.type){case"prerender":case"prerender-runtime":case"prerender-client":return cn&&(cn.endRead(),cn=null),dt(Mt.renderSignal,It.route,"fetch()")}switch(Ma){case"force-no-store":ui="fetchCache = force-no-store";break;case"only-no-store":if(Rn==="force-cache"||ji!==void 0&&ji>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${lr} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});ui="fetchCache = only-no-store";break;case"only-cache":if(Rn==="no-store")throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${lr} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(qi===void 0||qi===0)&&(ui="fetchCache = force-cache",ji=4294967294)}if(ji===void 0?Ma!=="default-cache"||Mo?Ma==="default-no-store"?(ji=0,ui="fetchCache = default-no-store"):Mo?(ji=0,ui="noStore call"):l?(ji=0,ui="auto no cache"):(ui="auto cache",ji=Ln?Ln.revalidate:4294967294):(ji=4294967294,ui="fetchCache = default-cache"):ui||(ui=`revalidate: ${ji}`),!(It.forceStatic&&ji===0)&&!l&&Ln&&ji<Ln.revalidate){if(ji===0){if(Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":return cn&&(cn.endRead(),cn=null),dt(Mt.renderSignal,It.route,"fetch()")}fr(It,Mt,`revalidate: 0 fetch ${xe} ${It.route}`)}Ln&&Ga===ji&&(Ln.revalidate=ji)}let B=typeof ji=="number"&&ji>0,{incrementalCache:se}=It,Je=!1;if(Mt)switch(Mt.type){case"request":case"cache":case"private-cache":Je=Mt.isHmrRefresh??!1,fi=Mt.serverComponentsHmrCache}if(se&&(B||fi))try{Pi=await se.generateCacheKey(lr,ha?xe:Ae)}catch{console.error("Failed to generate cache key for",xe)}let st=It.nextFetchId??1;It.nextFetchId=st+1;let ur=()=>{},Er=async(ct,yr)=>{let wr=["credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...ct?[]:["signal"]];if(ha){let un=xe,fn={body:un._ogBody||un.body};for(let Pn of wr)fn[Pn]=un[Pn];xe=new Request(un.url,fn)}else if(Ae){let{_ogBody:un,body:fn,signal:Pn,...Un}=Ae;Ae={...Un,body:un||fn,signal:ct?void 0:Pn}}let Cr={...Ae,next:{...Ae?.next,fetchType:"origin",fetchIdx:st}};return L(xe,Cr).then(async un=>{if(!ct&&Ht&&yo(It,{start:Ht,url:lr,cacheReason:yr||ui,cacheStatus:ji===0||yr?"skip":"miss",cacheWarning:aa,status:un.status,method:Cr.method||"GET"}),un.status===200&&se&&Pi&&(B||fi)){let fn=ji>=4294967294?31536e3:ji,Pn=B?{fetchCache:!0,fetchUrl:lr,fetchIdx:st,tags:ka,isImplicitBuildTimeCache:C}:void 0;switch(Mt?.type){case"prerender":case"prerender-client":case"prerender-runtime":return Hn(un,Pi,Pn,se,fn,ur);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return Bs(It,un,Pi,Pn,se,fi,fn,xe,ur)}}return await ur(),un}).catch(un=>{throw ur(),un})},rn=!1,vn=!1;if(Pi&&se){let ct;if(Je&&fi&&(ct=fi.get(Pi),vn=!0),B&&!ct){ur=await se.lock(Pi);let yr=It.isOnDemandRevalidate?null:await se.get(Pi,{kind:u.FETCH,revalidate:ji,fetchUrl:lr,fetchIdx:st,tags:ka,softTags:Aa?.tags});if(o&&Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":await(vs||(vs=new Promise(wr=>{setTimeout(()=>{vs=null,wr()},0)})),vs)}if(yr?await ur():vo="cache-control: no-cache (hard refresh)",yr?.value&&yr.value.kind===An.FETCH)if(It.isStaticGeneration&&yr.isStale)rn=!0;else{if(yr.isStale&&(It.pendingRevalidates??={},!It.pendingRevalidates[Pi])){let wr=Er(!0).then(async Cr=>({body:await Cr.arrayBuffer(),headers:Cr.headers,status:Cr.status,statusText:Cr.statusText})).finally(()=>{It.pendingRevalidates??={},delete It.pendingRevalidates[Pi||""]});wr.catch(console.error),It.pendingRevalidates[Pi]=wr}ct=yr.value.data}}if(ct){Ht&&yo(It,{start:Ht,url:lr,cacheReason:ui,cacheStatus:vn?"hmr":"hit",cacheWarning:aa,status:ct.status||200,method:Ae?.method||"GET"});let yr=new Response(Yi.Buffer.from(ct.body,"base64"),{headers:ct.headers,status:ct.status});return Object.defineProperty(yr,"url",{value:ct.url}),yr}}if(It.isStaticGeneration&&Ae&&typeof Ae=="object"){let{cache:ct}=Ae;if(delete Ae.cache,ct==="no-store"){if(Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":return cn&&(cn.endRead(),cn=null),dt(Mt.renderSignal,It.route,"fetch()")}fr(It,Mt,`no-store fetch ${xe} ${It.route}`)}let yr="next"in Ae,{next:wr={}}=Ae;if(typeof wr.revalidate=="number"&&Ln&&wr.revalidate<Ln.revalidate){if(wr.revalidate===0){if(Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":return dt(Mt.renderSignal,It.route,"fetch()")}fr(It,Mt,`revalidate: 0 fetch ${xe} ${It.route}`)}It.forceStatic&&wr.revalidate===0||(Ln.revalidate=wr.revalidate)}yr&&delete Ae.next}if(!Pi||!rn)return Er(!1,vo);{let ct=Pi;It.pendingRevalidates??={};let yr=It.pendingRevalidates[ct];if(yr){let Cr=await yr;return new Response(Cr.body,{headers:Cr.headers,status:Cr.status,statusText:Cr.statusText})}let wr=Er(!0,vo).then(ln);return(yr=wr.then(async Cr=>{let un=Cr[0];return{body:await un.arrayBuffer(),headers:un.headers,status:un.status,statusText:un.statusText}}).finally(()=>{var Cr;(Cr=It.pendingRevalidates)!=null&&Cr[ct]&&delete It.pendingRevalidates[ct]})).catch(()=>{}),It.pendingRevalidates[ct]=yr,wr.then(Cr=>Cr[1])}});if(cn)try{return await _i}finally{cn&&cn.endRead()}return _i};return Y.__nextPatched=!0,Y.__nextGetStaticStore=()=>ue,Y._nextOriginalFetch=L,mr[Ti]=!0,Object.defineProperty(Y,"name",{value:"fetch",writable:!1}),Y}(O,k)}let vs=null;v.s(["patchFetch",()=>Vs],32995)},84610,(v,p,ve)=>{(()=>{"use strict";var n={328:ie=>{ie.exports=function(Ze){for(var me=5381,$e=Ze.length;$e;)me=33*me^Ze.charCodeAt(--$e);return me>>>0}}},Pe={};function M(ie){var Ze=Pe[ie];if(Ze!==void 0)return Ze.exports;var me=Pe[ie]={exports:{}},$e=!0;try{n[ie](me,me.exports,M),$e=!1}finally{$e&&delete Pe[ie]}return me.exports}M.ab="/ROOT/node_modules/next/dist/compiled/string-hash/",p.exports=M(328)})()},26086,v=>{"use strict";v.i(89610),v.s([])},29058,(v,p,ve)=>{"use strict";var n=v.r(34392);function Pe(){}var M={d:{f:Pe,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:Pe,C:Pe,L:Pe,m:Pe,X:Pe,S:Pe,M:Pe},p:0,findDOMNode:null};if(!n.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');function ie(Ze,me){return Ze==="font"?"":typeof me=="string"?me==="use-credentials"?me:"":void 0}ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ve.preconnect=function(Ze,me){typeof Ze=="string"&&(me=me?typeof(me=me.crossOrigin)=="string"?me==="use-credentials"?me:"":void 0:null,M.d.C(Ze,me))},ve.prefetchDNS=function(Ze){typeof Ze=="string"&&M.d.D(Ze)},ve.preinit=function(Ze,me){if(typeof Ze=="string"&&me&&typeof me.as=="string"){var $e=me.as,V=ie($e,me.crossOrigin),X=typeof me.integrity=="string"?me.integrity:void 0,U=typeof me.fetchPriority=="string"?me.fetchPriority:void 0;$e==="style"?M.d.S(Ze,typeof me.precedence=="string"?me.precedence:void 0,{crossOrigin:V,integrity:X,fetchPriority:U}):$e==="script"&&M.d.X(Ze,{crossOrigin:V,integrity:X,fetchPriority:U,nonce:typeof me.nonce=="string"?me.nonce:void 0})}},ve.preinitModule=function(Ze,me){if(typeof Ze=="string")if(typeof me=="object"&&me!==null){if(me.as==null||me.as==="script"){var $e=ie(me.as,me.crossOrigin);M.d.M(Ze,{crossOrigin:$e,integrity:typeof me.integrity=="string"?me.integrity:void 0,nonce:typeof me.nonce=="string"?me.nonce:void 0})}}else me==null&&M.d.M(Ze)},ve.preload=function(Ze,me){if(typeof Ze=="string"&&typeof me=="object"&&me!==null&&typeof me.as=="string"){var $e=me.as,V=ie($e,me.crossOrigin);M.d.L(Ze,$e,{crossOrigin:V,integrity:typeof me.integrity=="string"?me.integrity:void 0,nonce:typeof me.nonce=="string"?me.nonce:void 0,type:typeof me.type=="string"?me.type:void 0,fetchPriority:typeof me.fetchPriority=="string"?me.fetchPriority:void 0,referrerPolicy:typeof me.referrerPolicy=="string"?me.referrerPolicy:void 0,imageSrcSet:typeof me.imageSrcSet=="string"?me.imageSrcSet:void 0,imageSizes:typeof me.imageSizes=="string"?me.imageSizes:void 0,media:typeof me.media=="string"?me.media:void 0})}},ve.preloadModule=function(Ze,me){if(typeof Ze=="string")if(me){var $e=ie(me.as,me.crossOrigin);M.d.m(Ze,{as:typeof me.as=="string"&&me.as!=="script"?me.as:void 0,crossOrigin:$e,integrity:typeof me.integrity=="string"?me.integrity:void 0})}else M.d.m(Ze)},ve.version="19.3.0-canary-f93b9fd4-20251217"},93773,(v,p,ve)=>{"use strict";p.exports=v.r(29058)},44520,(v,p,ve)=>{"use strict";var n=v.r(93773),Pe=v.r(34392),M=Symbol.for("react.element"),ie=Symbol.for("react.transitional.element"),Ze=Symbol.for("react.fragment"),me=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),_e=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.for("react.view_transition"),ht=Symbol.iterator;function ee(u){return u===null||typeof u!="object"?null:typeof(u=ht&&u[ht]||u["@@iterator"])=="function"?u:null}var Be=Symbol.asyncIterator,re=Symbol.for("react.optimistic_key");function et(u){setTimeout(function(){throw u})}var Ge=Promise,it=typeof queueMicrotask=="function"?queueMicrotask:function(u){Ge.resolve(null).then(u).catch(et)},bt=null,Et=0;function tr(u,w){if(w.byteLength!==0)if(4096<w.byteLength)0<Et&&(u.enqueue(new Uint8Array(bt.buffer,0,Et)),bt=new Uint8Array(4096),Et=0),u.enqueue(w);else{var R=bt.length-Et;R<w.byteLength&&(R===0?u.enqueue(bt):(bt.set(w.subarray(0,R),Et),u.enqueue(bt),w=w.subarray(R)),bt=new Uint8Array(4096),Et=0),bt.set(w,Et),Et+=w.byteLength}return!0}var Gt=new TextEncoder;function Ve(u){return Gt.encode(u)}function cr(u){return u.byteLength}function ye(u,w){typeof u.error=="function"?u.error(w):u.close()}var be=Symbol.for("react.client.reference"),Z=Symbol.for("react.server.reference");function vt(u,w,R){return Object.defineProperties(u,{$$typeof:{value:be},$$id:{value:w},$$async:{value:R}})}var h=Function.prototype.bind,Xt=Array.prototype.slice;function lt(){var u=h.apply(this,arguments);if(this.$$typeof===Z){var w=Xt.call(arguments,1);return Object.defineProperties(u,{$$typeof:{value:Z},$$id:{value:this.$$id},$$bound:w={value:this.$$bound?this.$$bound.concat(w):w},bind:{value:lt,configurable:!0}})}return u}var pr={value:function(){return"function () { [omitted code] }"},configurable:!0,writable:!0},pt=Promise.prototype,ft={get:function(u,w){switch(w){case"$$typeof":return u.$$typeof;case"$$id":return u.$$id;case"$$async":return u.$$async;case"name":return u.name;case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":throw Error("Cannot await or return from a thenable. You cannot await a client module from a server component.")}throw Error("Cannot access "+String(u.name)+"."+String(w)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function an(u,w){switch(w){case"$$typeof":return u.$$typeof;case"$$id":return u.$$id;case"$$async":return u.$$async;case"name":return u.name;case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var R=u.$$id;return u.default=vt(function(){throw Error("Attempted to call the default export of "+R+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},u.$$id+"#",u.$$async),!0;case"then":if(u.then)return u.then;if(u.$$async)return;var P=vt({},u.$$id,!0),A=new Proxy(P,gn);return u.status="fulfilled",u.value=A,u.then=vt(function(we){return Promise.resolve(we(A))},u.$$id+"#then",!1)}if(typeof w=="symbol")throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(P=u[w])||(Object.defineProperty(P=vt(function(){throw Error("Attempted to call "+String(w)+"() from the server but "+String(w)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},u.$$id+"#"+w,u.$$async),"name",{value:w}),P=u[w]=new Proxy(P,ft)),P}var gn={get:function(u,w){return an(u,w)},getOwnPropertyDescriptor:function(u,w){var R=Object.getOwnPropertyDescriptor(u,w);return R||(R={value:an(u,w),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(u,w,R)),R},getPrototypeOf:function(){return pt},set:function(){throw Error("Cannot assign to a client module from a server module.")}},ei=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pn=ei.d;function nr(u,w,R){if(typeof u=="string"){var P=hn();if(P){var A=P.hints,we="L";if(w==="image"&&R){var qe=R.imageSrcSet,gt=R.imageSizes,je="";typeof qe=="string"&&qe!==""?(je+="["+qe+"]",typeof gt=="string"&&(je+="["+gt+"]")):je+="[][]"+u,we+="[image]"+je}else we+="["+w+"]"+u;A.has(we)||(A.add(we),(R=en(R))?Kr(P,"L",[u,w,R]):Kr(P,"L",[u,w]))}else pn.L(u,w,R)}}function zr(u,w){if(typeof u=="string"){var R=hn();if(R){var P=R.hints,A="m|"+u;return P.has(A)?void 0:(P.add(A),(w=en(w))?Kr(R,"m",[u,w]):Kr(R,"m",u))}pn.m(u,w)}}function en(u){if(u==null)return null;var w,R=!1,P={};for(w in u)u[w]!=null&&(R=!0,P[w]=u[w]);return R?P:null}ei.d={f:pn.f,r:pn.r,D:function(u){if(typeof u=="string"&&u){var w=hn();if(w){var R=w.hints,P="D|"+u;R.has(P)||(R.add(P),Kr(w,"D",u))}else pn.D(u)}},C:function(u,w){if(typeof u=="string"){var R=hn();if(R){var P=R.hints,A="C|"+(w??"null")+"|"+u;P.has(A)||(P.add(A),typeof w=="string"?Kr(R,"C",[u,w]):Kr(R,"C",u))}else pn.C(u,w)}},L:nr,m:zr,X:function(u,w){if(typeof u=="string"){var R=hn();if(R){var P=R.hints,A="X|"+u;return P.has(A)?void 0:(P.add(A),(w=en(w))?Kr(R,"X",[u,w]):Kr(R,"X",u))}pn.X(u,w)}},S:function(u,w,R){if(typeof u=="string"){var P=hn();if(P){var A=P.hints,we="S|"+u;return A.has(we)?void 0:(A.add(we),(R=en(R))?Kr(P,"S",[u,typeof w=="string"?w:0,R]):typeof w=="string"?Kr(P,"S",[u,w]):Kr(P,"S",u))}pn.S(u,w,R)}},M:function(u,w){if(typeof u=="string"){var R=hn();if(R){var P=R.hints,A="M|"+u;return P.has(A)?void 0:(P.add(A),(w=en(w))?Kr(R,"M",[u,w]):Kr(R,"M",u))}pn.M(u,w)}}};var Se=typeof AsyncLocalStorage=="function",q=Se?new AsyncLocalStorage:null,J=Symbol.for("react.temporary.reference"),W={get:function(u,w){switch(w){case"$$typeof":return u.$$typeof;case"name":case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":return}throw Error("Cannot access "+String(w)+" on the server. You cannot dot into a temporary client reference from a server component. You can only pass the value through to the client.")},set:function(){throw Error("Cannot assign to a temporary client reference from a server module.")}};function Fe(){}var rt=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),Zt=null;function _r(){if(Zt===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var u=Zt;return Zt=null,u}var H=null,Br=0,Gr=null;function kn(){var u=Gr||[];return Gr=null,u}var Jn={readContext:Qe,use:function(u){if(u!==null&&typeof u=="object"||typeof u=="function"){if(typeof u.then=="function"){var w=Br;Br+=1,Gr===null&&(Gr=[]);var R=Gr,P=u,A=w;switch((A=R[A])===void 0?R.push(P):A!==P&&(P.then(Fe,Fe),P=A),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Fe,Fe):((R=P).status="pending",R.then(function(we){if(P.status==="pending"){var qe=P;qe.status="fulfilled",qe.value=we}},function(we){if(P.status==="pending"){var qe=P;qe.status="rejected",qe.reason=we}})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}throw Zt=P,rt}}u.$$typeof===me&&Qe()}throw u.$$typeof===be?u.value!=null&&u.value.$$typeof===me?Error("Cannot read a Client Context from a Server Component."):Error("Cannot use() an already resolved Client Reference."):Error("An unsupported type was passed to use(): "+String(u))},useCallback:function(u){return u},useContext:Qe,useEffect:Bn,useImperativeHandle:Bn,useLayoutEffect:Bn,useInsertionEffect:Bn,useMemo:function(u){return u()},useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:function(){},useDeferredValue:Bn,useTransition:Bn,useSyncExternalStore:Bn,useId:function(){if(H===null)throw Error("useId can only be used while React is rendering");var u=H.identifierCount++;return"_"+H.identifierPrefix+"S_"+u.toString(32)+"_"},useHostTransitionStatus:Bn,useFormState:Bn,useActionState:Bn,useOptimistic:Bn,useMemoCache:function(u){for(var w=Array(u),R=0;R<u;R++)w[R]=_e;return w},useCacheRefresh:function(){return ir}};function Bn(){throw Error("This Hook is not supported in Server Components.")}function ir(){throw Error("Refreshing the cache is not supported in Server Components.")}function Qe(){throw Error("Cannot read a Client Context from a Server Component.")}Jn.useEffectEvent=Bn;var qt={getCacheForType:function(u){var w=(w=hn())?w.cache:new Map,R=w.get(u);return R===void 0&&(R=u(),w.set(u,R)),R},cacheSignal:function(){var u=hn();return u?u.cacheController.signal:null}},Qt=Pe.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!Qt)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var nn=Array.isArray,Qr=Object.getPrototypeOf;function ar(u){return(u=Object.prototype.toString.call(u)).slice(8,u.length-1)}function Vn(u){switch(typeof u){case"string":return JSON.stringify(10>=u.length?u:u.slice(0,10)+"...");case"object":return nn(u)?"[...]":u!==null&&u.$$typeof===In?"client":(u=ar(u))==="Object"?"{...}":u;case"function":return u.$$typeof===In?"client":(u=u.displayName||u.name)?"function "+u:"function";default:return String(u)}}var In=Symbol.for("react.client.reference");function Sn(u,w){var R=ar(u);if(R!=="Object"&&R!=="Array")return R;R=-1;var P=0;if(nn(u)){for(var A="[",we=0;we<u.length;we++){0<we&&(A+=", ");var qe=u[we];qe=typeof qe=="object"&&qe!==null?Sn(qe):Vn(qe),""+we===w?(R=A.length,P=qe.length,A+=qe):A=10>qe.length&&40>A.length+qe.length?A+qe:A+"..."}A+="]"}else if(u.$$typeof===ie)A="<"+function _t(gr){if(typeof gr=="string")return gr;switch(gr){case V:return"Suspense";case X:return"SuspenseList";case ge:return"ViewTransition"}if(typeof gr=="object")switch(gr.$$typeof){case $e:return _t(gr.render);case U:return _t(gr.type);case oe:var Tr=gr._payload;gr=gr._init;try{return _t(gr(Tr))}catch{}}return""}(u.type)+"/>";else{if(u.$$typeof===In)return"client";for(qe=0,A="{",we=Object.keys(u);qe<we.length;qe++){0<qe&&(A+=", ");var gt=we[qe],je=JSON.stringify(gt);A+=('"'+gt+'"'===je?gt:je)+": ",je=typeof(je=u[gt])=="object"&&je!==null?Sn(je):Vn(je),gt===w?(R=A.length,P=je.length,A+=je):A=10>je.length&&40>A.length+je.length?A+je:A+"..."}A+="}"}return w===void 0?A:-1<R&&0<P?`
  `+A+`
  `+(u=" ".repeat(R)+"^".repeat(P)):`
  `+A}var li=Object.prototype.hasOwnProperty,mn=Object.prototype,Re=JSON.stringify;function ut(u){console.error(u)}function hr(u,w,R,P,A,we,qe,gt){if(Qt.A!==null&&Qt.A!==qt)throw Error("Currently React only supports one RSC renderer at a time.");Qt.A=qt;var je=new Set,_t=[],gr=new Set;this.type=u,this.status=10,this.flushScheduled=!1,this.destination=this.fatalError=null,this.bundlerConfig=R,this.cache=new Map,this.cacheController=new AbortController,this.pendingChunks=this.nextChunkId=0,this.hints=gr,this.abortableTasks=je,this.pingedTasks=_t,this.completedImportChunks=[],this.completedHintChunks=[],this.completedRegularChunks=[],this.completedErrorChunks=[],this.writtenSymbols=new Map,this.writtenClientReferences=new Map,this.writtenServerReferences=new Map,this.writtenObjects=new WeakMap,this.temporaryReferences=gt,this.identifierPrefix=qe||"",this.identifierCount=1,this.taintCleanupQueue=[],this.onError=P===void 0?ut:P,this.onAllReady=A,this.onFatalError=we,_t.push(u=Xr(this,w,null,!1,0,je))}var Ue=null;function hn(){if(Ue)return Ue;if(Se){var u=q.getStore();if(u)return u}return null}function pi(u,w,R){var P=Xr(u,R,w.keyPath,w.implicitSlot,w.formatContext,u.abortableTasks);switch(R.status){case"fulfilled":return P.model=R.value,Gi(u,P),P.id;case"rejected":return Rr(u,P,R.reason),P.id;default:if(u.status===12)return u.abortableTasks.delete(P),u.type===21?(Zi(P),$i(P,u)):(w=u.fatalError,Kn(P),Xi(P,u,w)),P.id;typeof R.status!="string"&&(R.status="pending",R.then(function(A){R.status==="pending"&&(R.status="fulfilled",R.value=A)},function(A){R.status==="pending"&&(R.status="rejected",R.reason=A)}))}return R.then(function(A){P.model=A,Gi(u,P)},function(A){P.status===0&&(Rr(u,P,A),Nt(u))}),P.id}function Kr(u,w,R){w=Ve(":H"+w+(R=Re(R))+`
`),u.completedHintChunks.push(w),Nt(u)}function ta(u){if(u.status==="fulfilled")return u.value;throw u.status==="rejected"?u.reason:u}function Ii(){}function wa(u,w,R,P,A){var we=w.thenableState;if(w.thenableState=null,Br=0,Gr=we,A=P(A,void 0),u.status===12)throw typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.$$typeof!==be&&A.then(Ii,Ii),null;return A=function(qe,gt,je,_t){if(typeof _t!="object"||_t===null||_t.$$typeof===be)return _t;if(typeof _t.then=="function"){switch(_t.status){case"fulfilled":return _t.value;case"rejected":break;default:typeof _t.status!="string"&&(_t.status="pending",_t.then(function(Tr){_t.status==="pending"&&(_t.status="fulfilled",_t.value=Tr)},function(Tr){_t.status==="pending"&&(_t.status="rejected",_t.reason=Tr)}))}return{$$typeof:oe,_payload:_t,_init:ta}}var gr=ee(_t);return gr?((qe={})[Symbol.iterator]=function(){return gr.call(_t)},qe):typeof _t[Be]!="function"||typeof ReadableStream=="function"&&_t instanceof ReadableStream?_t:((qe={})[Be]=function(){return _t[Be]()},qe)}(u,0,0,A),P=w.keyPath,we=w.implicitSlot,R!==null?w.keyPath=R===re||P===re?re:P===null?R:P+","+R:P===null&&(w.implicitSlot=!0),u=Ya(u,w,tn,"",A),w.keyPath=P,w.implicitSlot=we,u}function Dn(u,w,R){return w.keyPath!==null?(u=[ie,Ze,w.keyPath,{children:R}],w.implicitSlot?[u]:u):R}var Fi=0;function Ta(u,w){return w=Xr(u,w.model,w.keyPath,w.implicitSlot,w.formatContext,u.abortableTasks),Gi(u,w),oa(w.id)}function Gi(u,w){var R=u.pingedTasks;R.push(w),R.length===1&&(u.flushScheduled=u.destination!==null,u.type===21||u.status===10?it(function(){return Hr(u)}):setTimeout(function(){return Hr(u)},0))}function Xr(u,w,R,P,A,we){u.pendingChunks++;var qe=u.nextChunkId++;typeof w!="object"||w===null||R!==null||P||u.writtenObjects.set(w,On(qe));var gt={id:qe,status:0,model:w,keyPath:R,implicitSlot:P,formatContext:A,ping:function(){return Gi(u,gt)},toJSON:function(je,_t){Fi+=je.length;var gr=gt.keyPath,Tr=gt.implicitSlot;try{var Yt=Ya(u,gt,this,je,_t)}catch(jr){if(je=typeof(je=gt.model)=="object"&&je!==null&&(je.$$typeof===ie||je.$$typeof===oe),u.status===12)gt.status=3,u.type===21?(gr=u.nextChunkId++,Yt=gr=je?oa(gr):On(gr)):(gr=u.fatalError,Yt=je?oa(gr):On(gr));else if(typeof(_t=jr===rt?_r():jr)=="object"&&_t!==null&&typeof _t.then=="function"){var on=(Yt=Xr(u,gt.model,gt.keyPath,gt.implicitSlot,gt.formatContext,u.abortableTasks)).ping;_t.then(on,on),Yt.thenableState=kn(),gt.keyPath=gr,gt.implicitSlot=Tr,Yt=je?oa(Yt.id):On(Yt.id)}else gt.keyPath=gr,gt.implicitSlot=Tr,u.pendingChunks++,gr=u.nextChunkId++,Tr=Ra(u,_t,gt),mo(u,gr,Tr),Yt=je?oa(gr):On(gr)}return Yt},thenableState:null};return we.add(gt),gt}function On(u){return"$"+u.toString(16)}function oa(u){return"$L"+u.toString(16)}function Ca(u,w,R){return u=Re(R),Ve(w=w.toString(16)+":"+u+`
`)}function _o(u,w,R,P){var A=P.$$async?P.$$id+"#async":P.$$id,we=u.writtenClientReferences,qe=we.get(A);if(qe!==void 0)return w[0]===ie&&R==="1"?oa(qe):On(qe);try{var gt=u.bundlerConfig,je=P.$$id;qe="";var _t=gt[je];if(_t)qe=_t.name;else{var gr=je.lastIndexOf("#");if(gr!==-1&&(qe=je.slice(gr+1),_t=gt[je.slice(0,gr)]),!_t)throw Error('Could not find the module "'+je+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}if(_t.async===!0&&P.$$async===!0)throw Error('The module "'+je+'" is marked as an async ESM module but was loaded as a CJS proxy. This is probably a bug in the React Server Components bundler.');var Tr=_t.async===!0||P.$$async===!0?[_t.id,_t.chunks,qe,1]:[_t.id,_t.chunks,qe];u.pendingChunks++;var Yt=u.nextChunkId++,on=Re(Tr),jr=Yt.toString(16)+":I"+on+`
`,sn=Ve(jr);return u.completedImportChunks.push(sn),we.set(A,Yt),w[0]===ie&&R==="1"?oa(Yt):On(Yt)}catch(Or){return u.pendingChunks++,w=u.nextChunkId++,R=Ra(u,Or,null),mo(u,w,R),On(w)}}function Za(u,w,R){return w=Xr(u,w,null,!1,R,u.abortableTasks),Fn(u,w),w.id}function Qi(u,w,R){u.pendingChunks++;var P=u.nextChunkId++;return Ce(u,P,w,R,!1),On(P)}var Xa=!1;function Ya(u,w,R,P,A){if(w.model=A,A===ie)return"$";if(A===null)return null;if(typeof A=="object"){switch(A.$$typeof){case ie:var we=null,qe=u.writtenObjects;if(w.keyPath===null&&!w.implicitSlot){var gt=qe.get(A);if(gt!==void 0){if(Xa!==A)return gt;Xa=null}else P.indexOf(":")===-1&&(R=qe.get(R))!==void 0&&(we=R+":"+P,qe.set(A,we))}return 3200<Fi?Ta(u,w):(R=(P=A.props).ref,typeof(u=function je(_t,gr,Tr,Yt,on,jr){if(on!=null)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if(typeof Tr=="function"&&Tr.$$typeof!==be&&Tr.$$typeof!==J)return wa(_t,gr,Yt,Tr,jr);if(Tr===Ze&&Yt===null)return Tr=gr.implicitSlot,gr.keyPath===null&&(gr.implicitSlot=!0),jr=Ya(_t,gr,tn,"",jr.children),gr.implicitSlot=Tr,jr;if(Tr!=null&&typeof Tr=="object"&&Tr.$$typeof!==be)switch(Tr.$$typeof){case oe:var sn=Tr._init;if(Tr=sn(Tr._payload),_t.status===12)throw null;return je(_t,gr,Tr,Yt,on,jr);case $e:return wa(_t,gr,Yt,Tr.render,jr);case U:return je(_t,gr,Tr.type,Yt,on,jr)}else typeof Tr=="string"&&(sn=function(Or,Vr,Mr){switch(Vr){case"img":Vr=Mr.src;var Ir=Mr.srcSet;if(!(Mr.loading==="lazy"||!Vr&&!Ir||typeof Vr!="string"&&Vr!=null||typeof Ir!="string"&&Ir!=null||Mr.fetchPriority==="low"||3&Or)&&(typeof Vr!="string"||Vr[4]!==":"||Vr[0]!=="d"&&Vr[0]!=="D"||Vr[1]!=="a"&&Vr[1]!=="A"||Vr[2]!=="t"&&Vr[2]!=="T"||Vr[3]!=="a"&&Vr[3]!=="A")&&(typeof Ir!="string"||Ir[4]!==":"||Ir[0]!=="d"&&Ir[0]!=="D"||Ir[1]!=="a"&&Ir[1]!=="A"||Ir[2]!=="t"&&Ir[2]!=="T"||Ir[3]!=="a"&&Ir[3]!=="A")){var Ka=typeof Mr.sizes=="string"?Mr.sizes:void 0,ba=Mr.crossOrigin;nr(Vr||"","image",{imageSrcSet:Ir,imageSizes:Ka,crossOrigin:typeof ba=="string"?ba==="use-credentials"?ba:"":void 0,integrity:Mr.integrity,type:Mr.type,fetchPriority:Mr.fetchPriority,referrerPolicy:Mr.referrerPolicy})}return Or;case"link":if(Vr=Mr.rel,Ir=Mr.href,!(1&Or||Mr.itemProp!=null||typeof Vr!="string"||typeof Ir!="string"||Ir===""))switch(Vr){case"preload":nr(Ir,Mr.as,{crossOrigin:Mr.crossOrigin,integrity:Mr.integrity,nonce:Mr.nonce,type:Mr.type,fetchPriority:Mr.fetchPriority,referrerPolicy:Mr.referrerPolicy,imageSrcSet:Mr.imageSrcSet,imageSizes:Mr.imageSizes,media:Mr.media});break;case"modulepreload":zr(Ir,{as:Mr.as,crossOrigin:Mr.crossOrigin,integrity:Mr.integrity,nonce:Mr.nonce});break;case"stylesheet":nr(Ir,"style",{crossOrigin:Mr.crossOrigin,integrity:Mr.integrity,nonce:Mr.nonce,type:Mr.type,fetchPriority:Mr.fetchPriority,referrerPolicy:Mr.referrerPolicy,media:Mr.media})}return Or;case"picture":return 2|Or;case"noscript":return 1|Or;default:return Or}}(on=gr.formatContext,Tr,jr),on!==sn&&jr.children!=null&&Za(_t,jr.children,sn));return _t=Yt,Yt=gr.keyPath,_t===null?_t=Yt:Yt!==null&&(_t=Yt===re||_t===re?re:Yt+","+_t),jr=[ie,Tr,_t,jr],gr=gr.implicitSlot&&_t!==null?[jr]:jr}(u,w,A.type,A.key,R!==void 0?R:null,P))=="object"&&u!==null&&we!==null&&(qe.has(u)||qe.set(u,we)),u);case oe:if(3200<Fi)return Ta(u,w);if(w.thenableState=null,A=(P=A._init)(A._payload),u.status===12)throw null;return Ya(u,w,tn,"",A);case M:throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`)}if(A.$$typeof===be)return _o(u,R,P,A);if(u.temporaryReferences!==void 0&&(we=u.temporaryReferences.get(A))!==void 0)return"$T"+we;if(qe=(we=u.writtenObjects).get(A),typeof A.then=="function"){if(qe!==void 0){if(w.keyPath!==null||w.implicitSlot)return"$@"+pi(u,w,A).toString(16);if(Xa!==A)return qe;Xa=null}return u="$@"+pi(u,w,A).toString(16),we.set(A,u),u}if(qe!==void 0){if(Xa!==A)return qe;if(qe!==On(w.id))return qe;Xa=null}else if(P.indexOf(":")===-1&&(qe=we.get(R))!==void 0){if(gt=P,nn(R)&&R[0]===ie)switch(P){case"1":gt="type";break;case"2":gt="key";break;case"3":gt="props";break;case"4":gt="_owner"}we.set(A,qe+":"+gt)}if(nn(A))return Dn(u,w,A);if(A instanceof Map)return"$Q"+Za(u,A=Array.from(A),0).toString(16);if(A instanceof Set)return"$W"+Za(u,A=Array.from(A),0).toString(16);if(typeof FormData=="function"&&A instanceof FormData)return"$K"+Za(u,A=Array.from(A.entries()),0).toString(16);if(A instanceof Error)return"$Z";if(A instanceof ArrayBuffer)return Qi(u,"A",new Uint8Array(A));if(A instanceof Int8Array)return Qi(u,"O",A);if(A instanceof Uint8Array)return Qi(u,"o",A);if(A instanceof Uint8ClampedArray)return Qi(u,"U",A);if(A instanceof Int16Array)return Qi(u,"S",A);if(A instanceof Uint16Array)return Qi(u,"s",A);if(A instanceof Int32Array)return Qi(u,"L",A);if(A instanceof Uint32Array)return Qi(u,"l",A);if(A instanceof Float32Array)return Qi(u,"G",A);if(A instanceof Float64Array)return Qi(u,"g",A);if(A instanceof BigInt64Array)return Qi(u,"M",A);if(A instanceof BigUint64Array)return Qi(u,"m",A);if(A instanceof DataView)return Qi(u,"V",A);if(typeof Blob=="function"&&A instanceof Blob)return function(je,_t){function gr(sn){on.status===0&&(je.cacheController.signal.removeEventListener("abort",Tr),Rr(je,on,sn),Nt(je),jr.cancel(sn).then(gr,gr))}function Tr(){if(on.status===0){var sn=je.cacheController.signal;sn.removeEventListener("abort",Tr),sn=sn.reason,je.type===21?(je.abortableTasks.delete(on),Zi(on),$i(on,je)):(Rr(je,on,sn),Nt(je)),jr.cancel(sn).then(gr,gr)}}var Yt=[_t.type],on=Xr(je,Yt,null,!1,0,je.abortableTasks),jr=_t.stream().getReader();return je.cacheController.signal.addEventListener("abort",Tr),jr.read().then(function sn(Or){if(on.status===0)if(Or.done)je.cacheController.signal.removeEventListener("abort",Tr),Gi(je,on);else return Yt.push(Or.value),jr.read().then(sn).catch(gr)}).catch(gr),"$B"+on.id.toString(16)}(u,A);if(we=ee(A))return(P=we.call(A))===A?"$i"+Za(u,A=Array.from(P),0).toString(16):Dn(u,w,Array.from(P));if(typeof ReadableStream=="function"&&A instanceof ReadableStream)return function(je,_t,gr){function Tr(Vr){Or.status===0&&(je.cacheController.signal.removeEventListener("abort",Yt),Rr(je,Or,Vr),Nt(je),sn.cancel(Vr).then(Tr,Tr))}function Yt(){if(Or.status===0){var Vr=je.cacheController.signal;Vr.removeEventListener("abort",Yt),Vr=Vr.reason,je.type===21?(je.abortableTasks.delete(Or),Zi(Or),$i(Or,je)):(Rr(je,Or,Vr),Nt(je)),sn.cancel(Vr).then(Tr,Tr)}}var on=gr.supportsBYOB;if(on===void 0)try{gr.getReader({mode:"byob"}).releaseLock(),on=!0}catch{on=!1}var jr=on,sn=gr.getReader(),Or=Xr(je,_t.model,_t.keyPath,_t.implicitSlot,_t.formatContext,je.abortableTasks);return je.pendingChunks++,_t=Or.id.toString(16)+":"+(jr?"r":"R")+`
`,je.completedRegularChunks.push(Ve(_t)),je.cacheController.signal.addEventListener("abort",Yt),sn.read().then(function Vr(Mr){if(Or.status===0)if(Mr.done)Or.status=1,Mr=Or.id.toString(16)+`:C
`,je.completedRegularChunks.push(Ve(Mr)),je.abortableTasks.delete(Or),je.cacheController.signal.removeEventListener("abort",Yt),Nt(je),hi(je);else try{je.pendingChunks++,Or.model=Mr.value,jr?Ce(je,Or.id,"b",Or.model,!1):Tn(je,Or),Nt(je),sn.read().then(Vr,Tr)}catch(Ir){Tr(Ir)}},Tr),On(Or.id)}(u,w,A);if(typeof(we=A[Be])=="function")return w.keyPath!==null?(u=[ie,Ze,w.keyPath,{children:A}],u=w.implicitSlot?[u]:u):(P=we.call(A),u=function(je,_t,gr,Tr){function Yt(sn){jr.status===0&&(je.cacheController.signal.removeEventListener("abort",on),Rr(je,jr,sn),Nt(je),typeof Tr.throw=="function"&&Tr.throw(sn).then(Yt,Yt))}function on(){if(jr.status===0){var sn=je.cacheController.signal;sn.removeEventListener("abort",on);var Or=sn.reason;je.type===21?(je.abortableTasks.delete(jr),Zi(jr),$i(jr,je)):(Rr(je,jr,sn.reason),Nt(je)),typeof Tr.throw=="function"&&Tr.throw(Or).then(Yt,Yt)}}gr=gr===Tr;var jr=Xr(je,_t.model,_t.keyPath,_t.implicitSlot,_t.formatContext,je.abortableTasks);return je.pendingChunks++,_t=jr.id.toString(16)+":"+(gr?"x":"X")+`
`,je.completedRegularChunks.push(Ve(_t)),je.cacheController.signal.addEventListener("abort",on),Tr.next().then(function sn(Or){if(jr.status===0)if(Or.done){if(jr.status=1,Or.value===void 0)var Vr=jr.id.toString(16)+`:C
`;else try{var Mr=Za(je,Or.value,0);Vr=jr.id.toString(16)+":C"+Re(On(Mr))+`
`}catch(Ir){Yt(Ir);return}je.completedRegularChunks.push(Ve(Vr)),je.abortableTasks.delete(jr),je.cacheController.signal.removeEventListener("abort",on),Nt(je),hi(je)}else try{jr.model=Or.value,je.pendingChunks++,Tn(je,jr),Nt(je),Tr.next().then(sn,Yt)}catch(Ir){Yt(Ir)}},Yt),On(jr.id)}(u,w,A,P)),u;if(A instanceof Date)return"$D"+A.toJSON();if((u=Qr(A))!==mn&&(u===null||Qr(u)!==null))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported."+Sn(R,P));return A}if(typeof A=="string")return Fi+=A.length,A[A.length-1]==="Z"&&R[P]instanceof Date?"$D"+A:1024<=A.length&&cr!==null?(u.pendingChunks++,w=u.nextChunkId++,br(u,w,A,!1),On(w)):u=A[0]==="$"?"$"+A:A;if(typeof A=="boolean")return A;if(typeof A=="number")return Number.isFinite(A)?A===0&&-1/0==1/A?"$-0":A:1/0===A?"$Infinity":-1/0===A?"$-Infinity":"$NaN";if(A===void 0)return"$undefined";if(typeof A=="function"){if(A.$$typeof===be)return _o(u,R,P,A);if(A.$$typeof===Z)return(P=(w=u.writtenServerReferences).get(A))!==void 0?u="$h"+P.toString(16):(P=(P=A.$$bound)===null?null:Promise.resolve(P),u=Za(u,{id:A.$$id,bound:P},0),w.set(A,u),u="$h"+u.toString(16)),u;if(u.temporaryReferences!==void 0&&(u=u.temporaryReferences.get(A))!==void 0)return"$T"+u;throw A.$$typeof===J?Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server."):/^on[A-Z]/.test(P)?Error("Event handlers cannot be passed to Client Component props."+Sn(R,P)+`
If you need interactivity, consider converting part of this to a Client Component.`):Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+Sn(R,P))}if(typeof A=="symbol"){if((we=(w=u.writtenSymbols).get(A))!==void 0)return On(we);if(Symbol.for(we=A.description)!==A)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+A.description+") cannot be found among global symbols."+Sn(R,P));return u.pendingChunks++,P=u.nextChunkId++,R=Ca(u,P,"$S"+we),u.completedImportChunks.push(R),w.set(A,P),On(P)}if(typeof A=="bigint")return"$n"+A.toString(10);throw Error("Type "+typeof A+" is not supported in Client Component props."+Sn(R,P))}function Ra(u,w){var R=Ue;Ue=null;try{var P=u.onError,A=Se?q.run(void 0,P,w):P(w)}finally{Ue=R}if(A!=null&&typeof A!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof A+'" instead');return A||""}function po(u,w){(0,u.onFatalError)(w),u.destination!==null?(u.status=14,ye(u.destination,w)):(u.status=13,u.fatalError=w),u.cacheController.abort(Error("The render was aborted due to a fatal error.",{cause:w}))}function mo(u,w,R){R={digest:R},w=Ve(w=w.toString(16)+":E"+Re(R)+`
`),u.completedErrorChunks.push(w)}function wt(u,w,R){w=Ve(w=w.toString(16)+":"+R+`
`),u.completedRegularChunks.push(w)}function Ce(u,w,R,P,A){A?u.pendingDebugChunks++:u.pendingChunks++,A=(P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength)).byteLength,w=Ve(w=w.toString(16)+":"+R+A.toString(16)+","),u.completedRegularChunks.push(w,P)}function br(u,w,R,P){if(cr===null)throw Error("Existence of byteLengthOfChunk should have already been checked. This is a bug in React.");P?u.pendingDebugChunks++:u.pendingChunks++,P=(R=Ve(R)).byteLength,w=Ve(w=w.toString(16)+":T"+P.toString(16)+","),u.completedRegularChunks.push(w,R)}function G(u,w,R){var P=w.id;typeof R=="string"&&cr!==null?br(u,P,R,!1):R instanceof ArrayBuffer?Ce(u,P,"A",new Uint8Array(R),!1):R instanceof Int8Array?Ce(u,P,"O",R,!1):R instanceof Uint8Array?Ce(u,P,"o",R,!1):R instanceof Uint8ClampedArray?Ce(u,P,"U",R,!1):R instanceof Int16Array?Ce(u,P,"S",R,!1):R instanceof Uint16Array?Ce(u,P,"s",R,!1):R instanceof Int32Array?Ce(u,P,"L",R,!1):R instanceof Uint32Array?Ce(u,P,"l",R,!1):R instanceof Float32Array?Ce(u,P,"G",R,!1):R instanceof Float64Array?Ce(u,P,"g",R,!1):R instanceof BigInt64Array?Ce(u,P,"M",R,!1):R instanceof BigUint64Array?Ce(u,P,"m",R,!1):R instanceof DataView?Ce(u,P,"V",R,!1):(R=Re(R,w.toJSON),wt(u,w.id,R))}function Rr(u,w,R){w.status=4,R=Ra(u,R,w),mo(u,w.id,R),u.abortableTasks.delete(w),hi(u)}var tn={};function Fn(u,w){if(w.status===0){w.status=5;var R=Fi;try{Xa=w.model;var P=Ya(u,w,tn,"",w.model);if(Xa=P,w.keyPath=null,w.implicitSlot=!1,typeof P=="object"&&P!==null)u.writtenObjects.set(P,On(w.id)),G(u,w,P);else{var A=Re(P);wt(u,w.id,A)}w.status=1,u.abortableTasks.delete(w),hi(u)}catch(je){if(u.status===12)if(u.abortableTasks.delete(w),w.status=0,u.type===21)Zi(w),$i(w,u);else{var we=u.fatalError;Kn(w),Xi(w,u,we)}else{var qe=je===rt?_r():je;if(typeof qe=="object"&&qe!==null&&typeof qe.then=="function"){w.status=0,w.thenableState=kn();var gt=w.ping;qe.then(gt,gt)}else Rr(u,w,qe)}}finally{Fi=R}}}function Tn(u,w){var R=Fi;try{G(u,w,w.model)}finally{Fi=R}}function Hr(u){var w=Qt.H;Qt.H=Jn;var R=Ue;H=Ue=u;try{var P=u.pingedTasks;u.pingedTasks=[];for(var A=0;A<P.length;A++)Fn(u,P[A]);mi(u)}catch(we){Ra(u,we,null),po(u,we)}finally{Qt.H=w,H=null,Ue=R}}function Kn(u){u.status===0&&(u.status=3)}function Xi(u,w,R){u.status===3&&(R=On(R),u=Ca(w,u.id,R),w.completedErrorChunks.push(u))}function Zi(u){u.status===0&&(u.status=3)}function $i(u,w){u.status===3&&w.pendingChunks--}function mi(u){var w=u.destination;if(w!==null){bt=new Uint8Array(4096),Et=0;try{for(var R=u.completedImportChunks,P=0;P<R.length;P++)u.pendingChunks--,tr(w,R[P]);R.splice(0,P);var A=u.completedHintChunks;for(P=0;P<A.length;P++)tr(w,A[P]);A.splice(0,P);var we=u.completedRegularChunks;for(P=0;P<we.length;P++)u.pendingChunks--,tr(w,we[P]);we.splice(0,P);var qe=u.completedErrorChunks;for(P=0;P<qe.length;P++)u.pendingChunks--,tr(w,qe[P]);qe.splice(0,P)}finally{u.flushScheduled=!1,bt&&0<Et&&(w.enqueue(new Uint8Array(bt.buffer,0,Et)),bt=null,Et=0)}}u.pendingChunks===0&&(12>u.status&&u.cacheController.abort(Error("This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.")),u.destination!==null&&(u.status=14,u.destination.close(),u.destination=null))}function Bi(u){u.flushScheduled=u.destination!==null,it(Se?function(){q.run(u,Hr,u)}:function(){return Hr(u)}),setTimeout(function(){u.status===10&&(u.status=11)},0)}function Nt(u){u.flushScheduled===!1&&u.pingedTasks.length===0&&u.destination!==null&&(u.flushScheduled=!0,setTimeout(function(){u.flushScheduled=!1,mi(u)},0))}function hi(u){u.abortableTasks.size===0&&(u=u.onAllReady)()}function qn(u,w){if(u.status===13)u.status=14,ye(w,u.fatalError);else if(u.status!==14&&u.destination===null){u.destination=w;try{mi(u)}catch(R){Ra(u,R,null),po(u,R)}}}function ti(u,w){if(!(11<u.status))try{u.status=12,u.cacheController.abort(w);var R=u.abortableTasks;if(0<R.size)if(u.type===21)R.forEach(function(qe){return Zi(qe,u)}),setTimeout(function(){try{R.forEach(function(qe){return $i(qe,u)}),(0,u.onAllReady)(),mi(u)}catch(qe){Ra(u,qe,null),po(u,qe)}},0);else{var P=w===void 0?Error("The render was aborted by the server without a reason."):typeof w=="object"&&w!==null&&typeof w.then=="function"?Error("The render was aborted by the server with a promise."):w,A=Ra(u,P,null),we=u.nextChunkId++;u.fatalError=we,u.pendingChunks++,mo(u,we,A,P,!1,null),R.forEach(function(qe){return Kn(qe,u,we)}),setTimeout(function(){try{R.forEach(function(qe){return Xi(qe,u,we)}),(0,u.onAllReady)(),mi(u)}catch(qe){Ra(u,qe,null),po(u,qe)}},0)}else(0,u.onAllReady)(),mi(u)}catch(qe){Ra(u,qe,null),po(u,qe)}}function yn(u,w){var R="",P=u[w];if(P)R=P.name;else{var A=w.lastIndexOf("#");if(A!==-1&&(R=w.slice(A+1),P=u[w.slice(0,A)]),!P)throw Error('Could not find the module "'+w+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return P.async?[P.id,P.chunks,R,1]:[P.id,P.chunks,R]}function pa(u){var w=mr.__next_require__(u);return typeof w.then!="function"||w.status==="fulfilled"?null:(w.then(function(R){w.status="fulfilled",w.value=R},function(R){w.status="rejected",w.reason=R}),w)}var ra=new WeakSet,Sr=new WeakSet;function Ri(){}function Vi(u){for(var w=u[1],R=[],P=0;P<w.length;P++){var A=mr.__next_chunk_load__(w[P]);if(Sr.has(A)||R.push(A),!ra.has(A)){var we=Sr.add.bind(Sr,A);A.then(we,Ri),ra.add(A)}}return u.length===4?R.length===0?pa(u[0]):Promise.all(R).then(function(){return pa(u[0])}):0<R.length?Promise.all(R):null}function Nn(u){var w=mr.__next_require__(u[0]);if(u.length===4&&typeof w.then=="function")if(w.status==="fulfilled")w=w.value;else throw w.reason;return u[2]==="*"?w:u[2]===""?w.__esModule?w.default:w:li.call(w,u[2])?w[u[2]]:void 0}var Yi=Symbol();function zi(u,w,R){this.status=u,this.value=w,this.reason=R}zi.prototype=Object.create(Promise.prototype),zi.prototype.then=function(u,w){switch(this.status==="resolved_model"&&xo(this),this.status){case"fulfilled":if(typeof u=="function"){for(var R=this.value,P=0,A=new Set;R instanceof zi;){if(P++,R===this||A.has(R)||1e3<P){typeof w=="function"&&w(Error("Cannot have cyclic thenables."));return}if(A.add(R),R.status==="fulfilled")R=R.value;else break}u(this.value)}break;case"pending":case"blocked":typeof u=="function"&&(this.value===null&&(this.value=[]),this.value.push(u)),typeof w=="function"&&(this.reason===null&&(this.reason=[]),this.reason.push(w));break;default:typeof w=="function"&&w(this.reason)}};var sa=Object.prototype,Oa=Array.prototype;function ni(u,w,R){for(var P=0;P<w.length;P++){var A=w[P];typeof A=="function"?A(R):rr(u,A,R)}}function Na(u,w,R){for(var P=0;P<w.length;P++){var A=w[P];typeof A=="function"?A(R):Ei(u,A.handler,R)}}function Oi(u,w,R){if(w.status!=="pending"&&w.status!=="blocked")w.reason.error(R);else{var P=w.reason;w.status="rejected",w.reason=R,P!==null&&Na(u,P,R)}}function Ni(u,w,R){var P={};return new zi("resolved_model",w,(P.id=R,P[Yi]=u,P))}function ho(u,w,R,P){if(w.status!=="pending")w=w.reason,R[0]==="C"?w.close(R==="C"?'"$undefined"':R.slice(1)):w.enqueueModel(R);else{var A=w.value,we=w.reason;if(w.status="resolved_model",w.value=R,R={},w.reason=(R.id=P,R[Yi]=u,R),A!==null)e:switch(xo(w),w.status){case"fulfilled":ni(u,A,w.value);break;case"blocked":for(R=0;R<A.length;R++)if(typeof(P=A[R])!="function"){var qe=function gt(je,_t){var gr=_t.handler.chunk;if(gr===null)return null;if(gr===je)return _t.handler;if((_t=gr.value)!==null)for(gr=0;gr<_t.length;gr++){var Tr=_t[gr];if(typeof Tr!="function"&&(Tr=gt(je,Tr))!==null)return Tr}return null}(w,P);if(qe!==null)switch(rr(u,P,qe.value),A.splice(R,1),R--,we!==null&&(P=we.indexOf(P))!==-1&&we.splice(P,1),w.status){case"fulfilled":ni(u,A,w.value);break e;case"rejected":we!==null&&Na(u,we,w.reason);break e}}case"pending":if(w.value)for(u=0;u<A.length;u++)w.value.push(A[u]);else w.value=A;if(w.reason){if(we)for(A=0;A<we.length;A++)w.reason.push(we[A])}else w.reason=we;break;case"rejected":we&&ni(u,we,w.reason)}}}function va(u,w,R){var P={};return new zi("resolved_model",(R?'{"done":true,"value":':'{"done":false,"value":')+w+"}",(P.id=-1,P[Yi]=u,P))}function Jo(u,w,R,P){ho(u,w,(P?'{"done":true,"value":':'{"done":false,"value":')+R+"}",-1)}function ns(u,w,R,P){var A=w.id;if(typeof A!="string"||P==="then")return null;var we=yn(u._bundlerConfig,A);A=w.bound;var qe=Vi(we);if(qe)A instanceof zi&&(qe=Promise.all([qe,A]));else{if(!(A instanceof zi))return Nn(we);qe=Promise.resolve(A)}if(bi){var gt=bi;gt.deps++}else gt=bi={chunk:null,value:null,reason:null,deps:1,errored:!1};return qe.then(function(){var je=Nn(we);if(w.bound){var _t=w.bound.value;(_t=Array.isArray(_t)?_t.slice(0):[]).unshift(null),je=je.bind.apply(je,_t)}R[P]=je,P===""&&gt.value===null&&(gt.value=je),gt.deps--,gt.deps===0&&(je=gt.chunk)!==null&&je.status==="blocked"&&(_t=je.value,je.status="fulfilled",je.value=gt.value,je.reason=null,_t!==null&&ni(u,_t,gt.value))},function(je){if(!gt.errored){gt.errored=!0,gt.value=null,gt.reason=je;var _t=gt.chunk;_t!==null&&_t.status==="blocked"&&Oi(u,_t,je)}}),null}var bi=null;function xo(u){var w=bi;bi=null;var R=u.reason,P=R[Yi];R=(R=R.id)===-1?void 0:R.toString(16);var A=u.value;u.status="blocked",u.value=null,u.reason=null;try{var we=JSON.parse(A),qe=function _t(gr,Tr,Yt,on,jr){if(typeof on=="string")return function(Or,Vr,Mr,Ir,Ka){if(Ir[0]==="$"){switch(Ir[1]){case"$":return Ir.slice(1);case"@":return Qn(Or,Vr=parseInt(Ir.slice(2),16));case"h":return Nr(Or,Ir=Ir.slice(2),Vr,Mr,ns);case"T":var ba,go;if(Ka===void 0||Or._temporaryReferences===void 0)throw Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server.");return ba=Or._temporaryReferences,go=new Proxy(go=Object.defineProperties(function(){throw Error("Attempted to call a temporary Client Reference from the server but it is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},{$$typeof:{value:J}}),W),ba.set(go,Ka),go;case"Q":return Nr(Or,Ir=Ir.slice(2),Vr,Mr,eo);case"W":return Nr(Or,Ir=Ir.slice(2),Vr,Mr,qo);case"K":Vr=Ir.slice(2);var Po=Or._prefix+Vr+"_",wo=new FormData;return Or._formData.forEach(function(Lo,ko){ko.startsWith(Po)&&wo.append(ko.slice(Po.length),Lo)}),wo;case"i":return Nr(Or,Ir=Ir.slice(2),Vr,Mr,is);case"I":return 1/0;case"-":return Ir==="$-0"?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(Ir.slice(2)));case"n":return BigInt(Ir.slice(2))}switch(Ir[1]){case"A":return Sa(Or,Ir,ArrayBuffer,1,Vr,Mr);case"O":return Sa(Or,Ir,Int8Array,1,Vr,Mr);case"o":return Sa(Or,Ir,Uint8Array,1,Vr,Mr);case"U":return Sa(Or,Ir,Uint8ClampedArray,1,Vr,Mr);case"S":return Sa(Or,Ir,Int16Array,2,Vr,Mr);case"s":return Sa(Or,Ir,Uint16Array,2,Vr,Mr);case"L":return Sa(Or,Ir,Int32Array,4,Vr,Mr);case"l":return Sa(Or,Ir,Uint32Array,4,Vr,Mr);case"G":return Sa(Or,Ir,Float32Array,4,Vr,Mr);case"g":return Sa(Or,Ir,Float64Array,8,Vr,Mr);case"M":return Sa(Or,Ir,BigInt64Array,8,Vr,Mr);case"m":return Sa(Or,Ir,BigUint64Array,8,Vr,Mr);case"V":return Sa(Or,Ir,DataView,1,Vr,Mr);case"B":return Vr=parseInt(Ir.slice(2),16),Or._formData.get(Or._prefix+Vr)}switch(Ir[1]){case"R":return Ko(Or,Ir,void 0);case"r":return Ko(Or,Ir,"bytes");case"X":return Rs(Or,Ir,!1);case"x":return Rs(Or,Ir,!0)}return Nr(Or,Ir=Ir.slice(1),Vr,Mr,As)}return Ir}(gr,Tr,Yt,on,jr);if(typeof on=="object"&&on!==null)if(jr!==void 0&&gr._temporaryReferences!==void 0&&gr._temporaryReferences.set(on,jr),Array.isArray(on))for(var sn=0;sn<on.length;sn++)on[sn]=_t(gr,on,""+sn,on[sn],jr!==void 0?jr+":"+sn:void 0);else for(sn in on)li.call(on,sn)&&(Tr=jr!==void 0&&sn.indexOf(":")===-1?jr+":"+sn:void 0,(Tr=_t(gr,on,sn,on[sn],Tr))!==void 0||sn==="__proto__"?on[sn]=Tr:delete on[sn]);return on}(P,{"":we},"",we,R),gt=u.value;if(gt!==null)for(u.value=null,u.reason=null,we=0;we<gt.length;we++){var je=gt[we];typeof je=="function"?je(qe):rr(P,je,qe)}if(bi!==null){if(bi.errored)throw bi.reason;if(0<bi.deps){bi.value=qe,bi.chunk=u;return}}u.status="fulfilled",u.value=qe,u.reason=null}catch(_t){u.status="rejected",u.reason=_t}finally{bi=w}}function Hi(u,w){u._closed=!0,u._closedReason=w,u._chunks.forEach(function(R){R.status==="pending"?Oi(u,R,w):R.status==="fulfilled"&&R.reason!==null&&R.reason.error(w)})}function Qn(u,w){var R=u._chunks,P=R.get(w);return P||(P=typeof(P=u._formData.get(u._prefix+w))=="string"?Ni(u,P,w):u._closed?new zi("rejected",null,u._closedReason):new zi("pending",null,null),R.set(w,P)),P}function rr(u,w,R){var P=w.handler,A=w.parentObject,we=w.key,qe=w.map,gt=w.path;try{for(var je=1;je<gt.length;je++){var _t=gt[je];if(typeof R!="object"||R===null||Qr(R)!==sa&&Qr(R)!==Oa||!li.call(R,_t))throw Error("Invalid reference.");R=R[_t]}var gr=qe(u,R,A,we);A[we]=gr,we===""&&P.value===null&&(P.value=gr)}catch(Tr){Ei(u,w.handler,Tr);return}P.deps--,P.deps===0&&(w=P.chunk)!==null&&w.status==="blocked"&&(R=w.value,w.status="fulfilled",w.value=P.value,w.reason=P.reason,R!==null&&ni(u,R,P.value))}function Ei(u,w,R){w.errored||(w.errored=!0,w.value=null,w.reason=R,(w=w.chunk)!==null&&w.status==="blocked"&&Oi(u,w,R))}function Nr(u,w,R,P,A){var we=parseInt((w=w.split(":"))[0],16);switch((we=Qn(u,we)).status==="resolved_model"&&xo(we),we.status){case"fulfilled":we=we.value;for(var qe=1;qe<w.length;qe++){var gt=w[qe];if(typeof we!="object"||we===null||Qr(we)!==sa&&Qr(we)!==Oa||!li.call(we,gt))throw Error("Invalid reference.");we=we[gt]}return A(u,we,R,P);case"pending":case"blocked":return bi?(u=bi,u.deps++):u=bi={chunk:null,value:null,reason:null,deps:1,errored:!1},R={handler:u,parentObject:R,key:P,map:A,path:w},we.value===null?we.value=[R]:we.value.push(R),we.reason===null?we.reason=[R]:we.reason.push(R),null;default:return bi?(bi.errored=!0,bi.value=null,bi.reason=we.reason):bi={chunk:null,value:null,reason:we.reason,deps:0,errored:!0},null}}function eo(u,w){return new Map(w)}function qo(u,w){return new Set(w)}function is(u,w){return w[Symbol.iterator]()}function As(u,w,R,P){return P==="then"&&typeof w=="function"?null:w}function Sa(u,w,R,P,A,we){if(w=parseInt(w.slice(2),16),P=u._prefix+w,u._chunks.has(w))throw Error("Already initialized typed array.");if(w=u._formData.get(P).arrayBuffer(),bi){var qe=bi;qe.deps++}else qe=bi={chunk:null,value:null,reason:null,deps:1,errored:!1};return w.then(function(gt){if(gt=R===ArrayBuffer?gt:new R(gt),A[we]=gt,we===""&&qe.value===null&&(qe.value=gt),qe.deps--,qe.deps===0&&(gt=qe.chunk)!==null&&gt.status==="blocked"){var je=gt.value;gt.status="fulfilled",gt.value=qe.value,gt.reason=null,je!==null&&ni(u,je,qe.value)}},function(gt){if(!qe.errored){qe.errored=!0,qe.value=null,qe.reason=gt;var je=qe.chunk;je!==null&&je.status==="blocked"&&Oi(u,je,gt)}}),null}function Ms(u,w,R,P){var A=u._chunks;for(R=new zi("fulfilled",R,P),A.set(w,R),u=u._formData.getAll(u._prefix+w),w=0;w<u.length;w++)typeof(A=u[w])=="string"&&(A[0]==="C"?P.close(A==="C"?'"$undefined"':A.slice(1)):P.enqueueModel(A))}function Ko(u,w,R){if(w=parseInt(w.slice(2),16),u._chunks.has(w))throw Error("Already initialized stream.");var P=null,A=!1;R=new ReadableStream({type:R,start:function(qe){P=qe}});var we=null;return Ms(u,w,R,{enqueueModel:function(qe){if(we===null){var gt=Ni(u,qe,-1);xo(gt),gt.status==="fulfilled"?P.enqueue(gt.value):(gt.then(function(_t){return P.enqueue(_t)},function(_t){return P.error(_t)}),we=gt)}else{gt=we;var je=new zi("pending",null,null);je.then(function(_t){return P.enqueue(_t)},function(_t){return P.error(_t)}),we=je,gt.then(function(){we===je&&(we=null),ho(u,je,qe,-1)})}},close:function(){if(!A)if(A=!0,we===null)P.close();else{var qe=we;we=null,qe.then(function(){return P.close()})}},error:function(qe){if(!A)if(A=!0,we===null)P.error(qe);else{var gt=we;we=null,gt.then(function(){return P.error(qe)})}}}),R}function fs(){return this}function Rs(u,w,R){if(w=parseInt(w.slice(2),16),u._chunks.has(w))throw Error("Already initialized stream.");var P=[],A=!1,we=0,qe={};return qe[Be]=function(){var gt,je=0;return(gt={next:gt=function(_t){if(_t!==void 0)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(je===P.length){if(A)return new zi("fulfilled",{done:!0,value:void 0},null);P[je]=new zi("pending",null,null)}return P[je++]}})[Be]=fs,gt},Ms(u,w,R=R?qe[Be]():qe,{enqueueModel:function(gt){we===P.length?P[we]=va(u,gt,!1):Jo(u,P[we],gt,!1),we++},close:function(gt){if(!A)for(A=!0,we===P.length?P[we]=va(u,gt,!0):Jo(u,P[we],gt,!0),we++;we<P.length;)Jo(u,P[we++],'"$undefined"',!0)},error:function(gt){if(!A)for(A=!0,we===P.length&&(P[we]=new zi("pending",null,null));we<P.length;)Oi(u,P[we++],gt)}}),R}function fo(u,w,R){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:new FormData;return{_bundlerConfig:u,_prefix:w,_formData:P,_chunks:new Map,_closed:!1,_closedReason:null,_temporaryReferences:R}}function na(u){Hi(u,Error("Connection closed."))}function Ba(u,w,R){var P=yn(u,w);return u=Vi(P),R?Promise.all([R,u]).then(function(A){A=A[0];var we=Nn(P);return we.bind.apply(we,[null].concat(A))}):u?Promise.resolve(u).then(function(){return Nn(P)}):Promise.resolve(Nn(P))}function An(u,w,R){if(na(u=fo(w,R,void 0,u)),(u=Qn(u,0)).then(function(){}),u.status!=="fulfilled")throw u.reason;return u.value}ve.createClientModuleProxy=function(u){return new Proxy(u=vt({},u,!1),gn)},ve.createTemporaryReferenceSet=function(){return new WeakMap},ve.decodeAction=function(u,w){var R=new FormData,P=null;return u.forEach(function(A,we){we.startsWith("$ACTION_")?we.startsWith("$ACTION_REF_")?(A=An(u,w,A="$ACTION_"+we.slice(12)+":"),P=Ba(w,A.id,A.bound)):we.startsWith("$ACTION_ID_")&&(P=Ba(w,A=we.slice(11),null)):R.append(we,A)}),P===null?null:P.then(function(A){return A.bind(null,R)})},ve.decodeFormState=function(u,w,R){var P=w.get("$ACTION_KEY");if(typeof P!="string")return Promise.resolve(null);var A=null;if(w.forEach(function(qe,gt){gt.startsWith("$ACTION_REF_")&&(A=An(w,R,"$ACTION_"+gt.slice(12)+":"))}),A===null)return Promise.resolve(null);var we=A.id;return Promise.resolve(A.bound).then(function(qe){return qe===null?null:[u,P,we,qe.length-1]})},ve.decodeReply=function(u,w,R){if(typeof u=="string"){var P=new FormData;P.append("0",u),u=P}return w=Qn(u=fo(w,"",R?R.temporaryReferences:void 0,u),0),na(u),w},ve.decodeReplyFromAsyncIterable=function(u,w,R){function P(qe){Hi(we,qe),typeof A.throw=="function"&&A.throw(qe).then(P,P)}var A=u[Be](),we=fo(w,"",R?R.temporaryReferences:void 0);return A.next().then(function qe(gt){if(gt.done)na(we);else{var je=(gt=gt.value)[0];if(typeof(gt=gt[1])=="string"){we._formData.append(je,gt);var _t=we._prefix;if(je.startsWith(_t)){var gr=we._chunks;je=+je.slice(_t.length),(gr=gr.get(je))&&ho(we,gr,gt,je)}}else we._formData.append(je,gt);A.next().then(qe,P)}},P),Qn(we,0)},ve.prerender=function(u,w,R){return new Promise(function(P,A){var we=new hr(21,u,w,R?R.onError:void 0,function(){P({prelude:new ReadableStream({type:"bytes",pull:function(je){qn(we,je)},cancel:function(je){we.destination=null,ti(we,je)}},{highWaterMark:0})})},A,R?R.identifierPrefix:void 0,R?R.temporaryReferences:void 0);if(R&&R.signal){var qe=R.signal;if(qe.aborted)ti(we,qe.reason);else{var gt=function(){ti(we,qe.reason),qe.removeEventListener("abort",gt)};qe.addEventListener("abort",gt)}}Bi(we)})},ve.registerClientReference=function(u,w,R){return vt(u,w+"#"+R,!1)},ve.registerServerReference=function(u,w,R){return Object.defineProperties(u,{$$typeof:{value:Z},$$id:{value:R===null?w:w+"#"+R,configurable:!0},$$bound:{value:null,configurable:!0},bind:{value:lt,configurable:!0},toString:pr})},ve.renderToReadableStream=function(u,w,R){var P=new hr(20,u,w,R?R.onError:void 0,Fe,Fe,R?R.identifierPrefix:void 0,R?R.temporaryReferences:void 0);if(R&&R.signal){var A=R.signal;if(A.aborted)ti(P,A.reason);else{var we=function(){ti(P,A.reason),A.removeEventListener("abort",we)};A.addEventListener("abort",we)}}return new ReadableStream({type:"bytes",start:function(){Bi(P)},pull:function(qe){qn(P,qe)},cancel:function(qe){P.destination=null,ti(P,qe)}},{highWaterMark:0})}},52105,(v,p,ve)=>{"use strict";var n;ve.renderToReadableStream=(n=v.r(44520)).renderToReadableStream,ve.decodeReply=n.decodeReply,ve.decodeReplyFromAsyncIterable=n.decodeReplyFromAsyncIterable,ve.decodeAction=n.decodeAction,ve.decodeFormState=n.decodeFormState,ve.registerServerReference=n.registerServerReference,ve.registerClientReference=n.registerClientReference,ve.createClientModuleProxy=n.createClientModuleProxy,ve.createTemporaryReferenceSet=n.createTemporaryReferenceSet},52627,(v,p,ve)=>{let{createClientModuleProxy:n}=v.r(52105);v.n(n("[project]/node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js <module evaluation>"))},22286,(v,p,ve)=>{let{createClientModuleProxy:n}=v.r(52105);v.n(n("[project]/node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js"))},77471,v=>{"use strict";v.i(52627);var p=v.i(22286);v.n(p)},35695,v=>{"use strict";v.i(26086);var p=v.i(89610);v.s(["actionAsyncStorage",()=>p.actionAsyncStorageInstance])},804,v=>{"use strict";v.i(87297),[...process?.features?.typescript?["next.config.mts"]:[]],Symbol("polyfills");var p,ve,n=v.i(82233),Pe=v.i(19805);v.i(65832);var M=v.i(18215),ie=v.i(93764),Ze=v.i(69297),me=v.i(83978),$e=v.i(94706),V=v.i(93441),X=v.i(51720);function U(wt){return(0,X.pathHasPrefix)(wt||"/","/_next/data")&&(wt=wt.replace(/\/_next\/data\/[^/]{1,}/,"").replace(/\.json$/,""))==="/index"?"/":wt}var oe=v.i(4842);v.i(53369);var _e=v.i(87167);v.i(13714),v.i(72451);var ge=v.i(23646),ht=v.i(27064);let ee=Symbol.for("@next/router-server-methods"),Be=mr;var re=v.i(12239),et=v.i(75601),Ge=v.i(8900);v.i(60130),v.i(2635);class it{constructor({userland:Ce,definition:br,distDir:G,relativeProjectDir:Rr}){this.userland=Ce,this.definition=br,this.isDev=!1,this.distDir=G,this.relativeProjectDir=Rr}async instrumentationOnRequestError(Ce,...br){{let{getEdgeInstrumentationModule:G}=await Promise.resolve().then(()=>v.i(84256)),Rr=await G();Rr&&await(Rr.onRequestError==null?void 0:Rr.onRequestError.call(Rr,...br))}}loadManifests(Ce,br){let G;{var Rr;let{getEdgePreviewProps:tn}=v.r(3949),Fn=Tn=>Tn?JSON.parse(Tn):void 0;G={buildId:"45wwz01MkHA8G0LiTpfIq",buildManifest:Ui.__BUILD_MANIFEST,fallbackBuildManifest:{},reactLoadableManifest:Fn(Ui.__REACT_LOADABLE_MANIFEST),nextFontManifest:Fn(Ui.__NEXT_FONT_MANIFEST),prerenderManifest:{routes:{},dynamicRoutes:{},notFoundRoutes:[],version:4,preview:tn()},routesManifest:{version:4,caseSensitive:!1,basePath:"",rewrites:{beforeFiles:[],afterFiles:[],fallback:[]},redirects:[],headers:[],i18n:void 0,skipProxyUrlNormalize:!1},serverFilesManifest:Ui.__SERVER_FILES_MANIFEST,clientReferenceManifest:(Rr=Ui.__RSC_MANIFEST)==null?void 0:Rr[Ce],serverActionsManifest:Fn(Ui.__RSC_SERVER_MANIFEST),subresourceIntegrityManifest:Fn(Ui.__SUBRESOURCE_INTEGRITY_MANIFEST),dynamicCssManifest:Fn(Ui.__DYNAMIC_CSS_MANIFEST),interceptionRoutePatterns:(Fn(Ui.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[]).map(Tn=>new RegExp(Tn.regex))}}return G}async loadCustomCacheHandlers(Ce,br){}async getIncrementalCache(Ce,br,G,Rr){return mr.__incrementalCache}async onRequestError(Ce,br,G,Rr,tn){Rr||(tn?.logErrorWithOriginalStack?tn.logErrorWithOriginalStack(br,"app-dir"):console.error(br)),await this.instrumentationOnRequestError(Ce,br,{path:Ce.url||"/",headers:Ce.headers,method:Ce.method||"GET"},G)}getNextConfigEdge(Ce){var br,G;let Rr,tn=Ui.__SERVER_FILES_MANIFEST,Fn=(0,oe.getRequestMeta)(Ce,"relativeProjectDir")||this.relativeProjectDir,Tn=(br=Be[ee])==null?void 0:br[Fn],Hr=Tn?.nextConfig||tn?.config;if(!Hr)throw Object.defineProperty(Error("Invariant: nextConfig couldn't be loaded"),"__NEXT_ERROR_CODE",{value:"E969",enumerable:!1,configurable:!0});if((G=Hr.experimental)!=null&&G.runtimeServerDeploymentId)throw Object.defineProperty(Error("process.env.NEXT_DEPLOYMENT_ID is missing but runtimeServerDeploymentId is enabled"),"__NEXT_ERROR_CODE",{value:"E970",enumerable:!1,configurable:!0});return Rr=Hr.deploymentId||"",{nextConfig:Hr,deploymentId:Rr}}async prepare(Ce,br,{srcPage:G,multiZoneDraftMode:Rr}){var tn,Fn;let Tn,Hr,Kn,Xi,Zi,$i=await this.loadManifests(G,Tn),{routesManifest:mi,prerenderManifest:Bi,serverFilesManifest:Nt}=$i,{basePath:hi,i18n:qn,rewrites:ti}=mi;hi&&(Ce.url=(0,ie.removePathPrefix)(Ce.url||"/",hi));let yn=(0,n.parseReqUrl)(Ce.url||"/");if(!yn)return;let pa=!1;(0,X.pathHasPrefix)(yn.pathname||"/","/_next/data")&&(pa=!0,yn.pathname=U(yn.pathname||"/"));let ra=yn.pathname||"/",Sr={...yn.query},Ri=(0,M.isDynamicRoute)(G);qn&&(Hr=(0,Pe.normalizeLocalePath)(yn.pathname||"/",qn.locales)).detectedLocale&&(Ce.url=`${Hr.pathname}${yn.search}`,ra=Hr.pathname,Kn||(Kn=Hr.detectedLocale));let Vi=(0,_e.normalizeAppPath)(G),Nn=(0,Ze.getServerUtils)({page:Vi,i18n:qn,basePath:hi,rewrites:ti,pageIsDynamic:Ri,trailingSlash:!1,caseSensitive:!!mi.caseSensitive}),Yi=(0,me.detectDomainLocale)(qn?.domains,(0,$e.getHostname)(yn,Ce.headers),Kn);(0,oe.addRequestMeta)(Ce,"isLocaleDomain",!!Yi);let zi=Yi?.defaultLocale||qn?.defaultLocale;zi&&!Kn&&(yn.pathname=`/${zi}${yn.pathname==="/"?"":yn.pathname}`);let sa=(0,oe.getRequestMeta)(Ce,"locale")||Kn||zi,{rewriteParams:Oa,rewrittenParsedUrl:ni}=Nn.handleRewrites(Ce,yn),Na=Object.keys(Oa);Object.assign(yn.query,ni.query),qn&&(yn.pathname=(0,Pe.normalizeLocalePath)(yn.pathname||"/",qn.locales).pathname,ni.pathname=(0,Pe.normalizeLocalePath)(ni.pathname||"/",qn.locales).pathname);let Oi=(0,oe.getRequestMeta)(Ce,"params");if(!Oi&&Nn.dynamicRouteMatcher){let Ei=Nn.dynamicRouteMatcher(U(ni?.pathname||yn.pathname||"/")),Nr=Nn.normalizeDynamicRouteParams(Ei||{},!0);Nr.hasValidParams&&(Oi=Nr.params)}let Ni=(0,oe.getRequestMeta)(Ce,"query")||{...yn.query},ho=new Set,va=[];if(this.definition.kind===ge.RouteKind.PAGES||this.definition.kind===ge.RouteKind.PAGES_API)for(let Ei of[...Na,...Object.keys(Nn.defaultRouteMatches||{})]){let Nr=Array.isArray(Sr[Ei])?Sr[Ei].join(""):Sr[Ei],eo=Array.isArray(Ni[Ei])?Ni[Ei].join(""):Ni[Ei];Ei in Sr&&Nr!==eo||va.push(Ei)}if(Nn.normalizeCdnUrl(Ce,va),Nn.normalizeQueryParams(Ni,ho),Nn.filterInternalQuery(Sr,va),Ri){let Ei,Nr=Nn.normalizeDynamicRouteParams(Ni,!0),eo=Nn.normalizeDynamicRouteParams(Oi||{},!0);if(Ni&&Oi&&eo.hasValidParams&&Nr.hasValidParams&&Object.keys(eo.params).length<Object.keys(Nr.params).length?(Ei=Nr.params,Oi=Object.assign(Nr.params)):Ei=eo.hasValidParams&&Oi?Oi:Nr.hasValidParams?Ni:{},Ce.url=Nn.interpolateDynamicPath(Ce.url||"/",Ei),yn.pathname=Nn.interpolateDynamicPath(yn.pathname||"/",Ei),ra=Nn.interpolateDynamicPath(ra,Ei),!Oi)if(Nr.hasValidParams)for(let qo in Oi=Object.assign({},Nr.params),Nn.defaultRouteMatches)delete Ni[qo];else{let qo=Nn.dynamicRouteMatcher==null?void 0:Nn.dynamicRouteMatcher.call(Nn,U(Hr?.pathname||yn.pathname||"/"));qo&&(Oi=Object.assign({},qo))}}for(let Ei of ho)Ei in Sr||delete Ni[Ei];let{isOnDemandRevalidate:Jo,revalidateOnlyGenerated:ns}=(0,V.checkIsOnDemandRevalidate)(Ce,Bi.preview),bi=(0,oe.getRequestMeta)(Ce,"relativeProjectDir")||this.relativeProjectDir,xo=(tn=Be[ee])==null?void 0:tn[bi],Hi=xo?.nextConfig||Nt?.config;if(!Hi)throw Object.defineProperty(Error("Invariant: nextConfig couldn't be loaded"),"__NEXT_ERROR_CODE",{value:"E969",enumerable:!1,configurable:!0});let Qn=Vi;(0,M.isDynamicRoute)(Qn)&&Oi&&(Qn=Nn.interpolateDynamicPath(Qn,Oi)),Qn==="/index"&&(Qn="/");let rr=Qn;try{Qn=Qn.split("/").map(Ei=>{try{var Nr;Nr=decodeURIComponent(Ei),Ei=Nr.replace(RegExp("([/#?]|%(2f|23|3f|5c))","gi"),eo=>encodeURIComponent(eo))}catch{throw Object.defineProperty(new re.DecodeError("Failed to decode path param(s)."),"__NEXT_ERROR_CODE",{value:"E539",enumerable:!1,configurable:!0})}return Ei}).join("/")}catch{}if(Qn=(0,et.removeTrailingSlash)(Qn),(Fn=Hi.experimental)==null?void 0:Fn.runtimeServerDeploymentId)throw Object.defineProperty(Error("process.env.NEXT_DEPLOYMENT_ID is missing but runtimeServerDeploymentId is enabled"),"__NEXT_ERROR_CODE",{value:"E970",enumerable:!1,configurable:!0});return Zi=Hi.deploymentId||"",{query:Ni,originalQuery:Sr,originalPathname:ra,params:Oi,parsedUrl:yn,locale:sa,isNextDataRequest:pa,locales:qn?.locales,defaultLocale:zi,isDraftMode:!1,previewData:Xi,pageIsDynamic:Ri,resolvedPathname:Qn,encodedResolvedPathname:rr,isOnDemandRevalidate:Jo,revalidateOnlyGenerated:ns,...$i,nextConfig:Hi,routerServerContext:xo,deploymentId:Zi}}getResponseCache(Ce){if(!this.responseCache){let br=(0,oe.getRequestMeta)(Ce,"minimalMode")??!1;this.responseCache=new ht.default(br)}return this.responseCache}async handleResponse({req:Ce,nextConfig:br,cacheKey:G,routeKind:Rr,isFallback:tn,prerenderManifest:Fn,isRoutePPREnabled:Tn,isOnDemandRevalidate:Hr,revalidateOnlyGenerated:Kn,responseGenerator:Xi,waitUntil:Zi,isMinimalMode:$i}){let mi=this.getResponseCache(Ce),Bi=await mi.get(G,Xi,{routeKind:Rr,isFallback:tn,isRoutePPREnabled:Tn,isOnDemandRevalidate:Hr,isPrefetch:Ce.headers.purpose==="prefetch",incrementalCache:await this.getIncrementalCache(Ce,br,Fn,$i),waitUntil:Zi});if(!Bi&&G&&!(Hr&&Kn))throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return Bi}}var bt=v.i(72445),Et=v.i(88154);let tr=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var Gt=v.i(11573),Ve=v.i(32995),cr=v.i(68045),ye=v.i(546);let{env:be,stdout:Z}=((ve=mr)==null?void 0:ve.process)??{},vt=be&&!be.NO_COLOR&&(be.FORCE_COLOR||Z?.isTTY&&!be.CI&&be.TERM!=="dumb"),h=(wt,Ce,br,G)=>{let Rr=wt.substring(0,G)+br,tn=wt.substring(G+Ce.length),Fn=tn.indexOf(Ce);return~Fn?Rr+h(tn,Ce,br,Fn):Rr+tn},Xt=(wt,Ce,br=wt)=>vt?G=>{let Rr=""+G,tn=Rr.indexOf(Ce,wt.length);return~tn?wt+h(Rr,Ce,br,tn)+Ce:wt+Rr+Ce}:String,lt=Xt("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m");Xt("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),Xt("\x1B[3m","\x1B[23m"),Xt("\x1B[4m","\x1B[24m"),Xt("\x1B[7m","\x1B[27m"),Xt("\x1B[8m","\x1B[28m"),Xt("\x1B[9m","\x1B[29m"),Xt("\x1B[30m","\x1B[39m");let pr=Xt("\x1B[31m","\x1B[39m"),pt=Xt("\x1B[32m","\x1B[39m"),ft=Xt("\x1B[33m","\x1B[39m");Xt("\x1B[34m","\x1B[39m");let an=Xt("\x1B[35m","\x1B[39m");Xt("\x1B[38;2;173;127;168m","\x1B[39m"),Xt("\x1B[36m","\x1B[39m");let gn=Xt("\x1B[37m","\x1B[39m");Xt("\x1B[90m","\x1B[39m"),Xt("\x1B[40m","\x1B[49m"),Xt("\x1B[41m","\x1B[49m"),Xt("\x1B[42m","\x1B[49m"),Xt("\x1B[43m","\x1B[49m"),Xt("\x1B[44m","\x1B[49m"),Xt("\x1B[45m","\x1B[49m"),Xt("\x1B[46m","\x1B[49m"),Xt("\x1B[47m","\x1B[49m");var ei=v.i(66011);gn(lt("\u25CB")),pr(lt("\u2A2F")),ft(lt("\u26A0")),gn(lt(" ")),pt(lt("\u2713")),an(lt("\xBB")),new ei.LRUCache(1e4,wt=>wt.length),new ei.LRUCache(1e4,wt=>wt.length);let pn=["HEAD","OPTIONS"];function nr(){return new Response(null,{status:405})}var zr=v.i(47986),en=v.i(55468);v.i(84610),v.i(13651);var Se=v.i(68270),q=v.i(25249);let J=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401}));function W(wt){if(typeof wt!="object"||wt===null||!("digest"in wt)||typeof wt.digest!="string")return!1;let[Ce,br]=wt.digest.split(";");return Ce==="NEXT_HTTP_ERROR_FALLBACK"&&J.has(Number(br))}var Fe=v.i(88503);function rt(wt){if(typeof wt!="object"||wt===null||!("digest"in wt)||typeof wt.digest!="string")return!1;let Ce=wt.digest.split(";"),[br,G]=Ce,Rr=Ce.slice(2,-2).join(";"),tn=Number(Ce.at(-2));return br==="NEXT_REDIRECT"&&(G==="replace"||G==="push")&&typeof Rr=="string"&&!isNaN(tn)&&tn in Fe.RedirectStatusCode}var Zt=v.i(99690),_r=((p={}).ProspectiveRender="the prospective render",p.SegmentCollection="segment collection",p);function H(wt,Ce,br){let G;if(!function(Rr){if((0,Se.isBailoutToCSRError)(Rr)||rt(Rr)||W(Rr)||(0,q.isDynamicServerError)(Rr)||(0,Zt.isPrerenderInterruptedError)(Rr))return Rr.digest}(wt)){if(typeof wt=="object"&&wt!==null&&"message"in wt&&typeof wt.message=="string"&&wt.message.startsWith("This rendered a large document (>"))return void console.error(wt);if(typeof wt=="object"&&wt!==null&&typeof wt.message=="string"){if(G=wt.message,typeof wt.stack=="string"){let Rr=wt.stack,tn=Rr.indexOf(`
`);if(tn>-1){let Fn=Object.defineProperty(Error(`Route ${Ce} errored during ${br}. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled.
          
Original Error: ${G}`),"__NEXT_ERROR_CODE",{value:"E949",enumerable:!1,configurable:!0});Fn.stack="Error: "+Fn.message+Rr.slice(tn),console.error(Fn);return}}}else typeof wt=="string"&&(G=wt);if(G)return void console.error(`Route ${Ce} errored during ${br}. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. No stack was provided.
          
Original Message: ${G}`);console.error(`Route ${Ce} errored during ${br}. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. The thrown value is logged just following this message`),console.error(wt)}}v.i(81527);var Br=v.i(68644),Gr=v.i(66401),kn=v.i(18904);v.i(26086);var Jn=v.i(70438),Bn=v.i(77471);v.s([],19871),v.i(19871),v.s(["appRouterContext",0,Bn],43844);var ir=v.i(43844),Qe=v.i(635),qt=v.i(10824),Qt=v.i(49783),nn=v.i(5809);class Qr{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.pendingTimeoutCleanup=null,this.subscribedSignals=null,this.invokeListenersIfNoPendingReads=()=>{if(this.pendingTimeoutCleanup=null,this.count===0){for(let Ce=0;Ce<this.listeners.length;Ce++)this.listeners[Ce]();this.listeners.length=0}},Object.defineProperty(new nn.InvariantError("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E728",enumerable:!1,configurable:!0})}noMorePendingCaches(){var Ce;let br,G;this.tickPending||(this.tickPending=!0,queueMicrotask(()=>process.nextTick(()=>{if(this.tickPending=!1,this.count===0){for(let Rr=0;Rr<this.earlyListeners.length;Rr++)this.earlyListeners[Rr]();this.earlyListeners.length=0}}))),this.pendingTimeoutCleanup&&this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=(Ce=this.invokeListenersIfNoPendingReads,G=setImmediate(()=>{br=clearTimeout.bind(null,setTimeout(Ce,0))}),br=clearImmediate.bind(null,G),()=>br())}inputReady(){return new Promise(Ce=>{this.earlyListeners.push(Ce),this.count===0&&this.noMorePendingCaches()})}cacheReady(){return new Promise(Ce=>{this.listeners.push(Ce),this.count===0&&this.noMorePendingCaches()})}beginRead(){if(this.count++,this.pendingTimeoutCleanup&&(this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=null),this.subscribedSignals!==null)for(let Ce of this.subscribedSignals)Ce.beginRead()}endRead(){if(this.count===0)throw Object.defineProperty(new nn.InvariantError("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,this.count===0&&this.noMorePendingCaches(),this.subscribedSignals!==null)for(let Ce of this.subscribedSignals)Ce.endRead()}hasPendingReads(){return this.count>0}trackRead(Ce){this.beginRead();let br=this.endRead.bind(this);return Ce.then(br,br),Ce}subscribeToReads(Ce){if(Ce===this)throw Object.defineProperty(new nn.InvariantError("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});this.subscribedSignals===null&&(this.subscribedSignals=new Set),this.subscribedSignals.add(Ce);for(let br=0;br<this.count;br++)Ce.beginRead();return this.unsubscribeFromReads.bind(this,Ce)}unsubscribeFromReads(Ce){this.subscribedSignals&&this.subscribedSignals.delete(Ce)}}var ar=v.i(74715);let Vn=/^[A-Za-z_$][A-Za-z0-9_$]*$/,In=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","_debugInfo","toJSON","$$typeof","__esModule"]);var Sn=v.i(92879),li=v.i(34392);let mn={current:null},Re=typeof li.cache=="function"?li.cache:wt=>wt,ut=console.warn;Re(wt=>{try{ut(mn.current)}finally{mn.current=null}}),v.i(34080);var hr=v.i(35171);v.i(21170);let Ue=new WeakMap,hn={get:function(wt,Ce,br){if(Ce==="then"||Ce==="catch"||Ce==="finally"){let G=Qt.ReflectAdapter.get(wt,Ce,br);return{[Ce]:(...Rr)=>{let tn=hr.dynamicAccessAsyncStorage.getStore();return tn&&tn.abortController.abort(Object.defineProperty(Error("Accessed fallback `params` during prerendering."),"__NEXT_ERROR_CODE",{value:"E691",enumerable:!1,configurable:!0})),new Proxy(G.apply(wt,Rr),hn)}}[Ce]}return Qt.ReflectAdapter.get(wt,Ce,br)}};function pi(wt){let Ce=Ue.get(wt);if(Ce)return Ce;let br=Promise.resolve(wt);return Ue.set(wt,br),br}v.r(35695).actionAsyncStorage;var Kr=v.i(14327),ta=v.i(49316),Ii=v.i(69568);v.i(92480);class wa{constructor(Ce,br){this.error=Ce,this.headers=br}}class Dn extends it{static#e=this.sharedModules=ir;constructor({userland:Ce,definition:br,distDir:G,relativeProjectDir:Rr,resolvedPagePath:tn,nextConfigOutput:Fn}){if(super({userland:Ce,definition:br,distDir:G,relativeProjectDir:Rr}),this.workUnitAsyncStorage=kn.workUnitAsyncStorage,this.workAsyncStorage=Br.workAsyncStorage,this.serverHooks=q,this.actionAsyncStorage=Jn.actionAsyncStorage,this.resolvedPagePath=tn,this.nextConfigOutput=Fn,this.methods=function(Tn){let Hr=tr.reduce((Xi,Zi)=>({...Xi,[Zi]:Tn[Zi]??nr}),{}),Kn=new Set(tr.filter(Xi=>Tn[Xi]));for(let Xi of pn.filter(Zi=>!Kn.has(Zi))){if(Xi==="HEAD"){Tn.GET&&(Hr.HEAD=Tn.GET,Kn.add("HEAD"));continue}if(Xi==="OPTIONS"){let Zi=["OPTIONS",...Kn];!Kn.has("HEAD")&&Kn.has("GET")&&Zi.push("HEAD");let $i={Allow:Zi.sort().join(", ")};Hr.OPTIONS=()=>new Response(null,{status:204,headers:$i}),Kn.add("OPTIONS");continue}throw Object.defineProperty(Error(`Invariant: should handle all automatic implementable methods, got method: ${Xi}`),"__NEXT_ERROR_CODE",{value:"E211",enumerable:!1,configurable:!0})}return Hr}(Ce),this.hasNonStaticMethods=Fi(Ce),this.dynamic=this.userland.dynamic,this.nextConfigOutput==="export"){if(this.dynamic==="force-dynamic")throw Object.defineProperty(Error(`export const dynamic = "force-dynamic" on page "${br.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E278",enumerable:!1,configurable:!0});if(!function(Tn){return Tn.dynamic==="force-static"||Tn.dynamic==="error"||Tn.revalidate===!1||Tn.revalidate!==void 0&&Tn.revalidate>0||typeof Tn.generateStaticParams=="function"}(this.userland)&&this.userland.GET)throw Object.defineProperty(Error(`export const dynamic = "force-static"/export const revalidate not configured on route "${br.pathname}" with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E301",enumerable:!1,configurable:!0});this.dynamic="error"}}resolve(Ce){return tr.includes(Ce)?this.methods[Ce]:()=>new Response(null,{status:400})}async do(Ce,br,G,Rr,tn,Fn,Tn){var Hr;let Kn,Xi=G.isStaticGeneration,Zi=!!Tn.renderOpts.cacheComponents;(0,Ve.patchFetch)({workAsyncStorage:this.workAsyncStorage,workUnitAsyncStorage:this.workUnitAsyncStorage});let $i={params:Tn.params?function(hi,qn){let ti=kn.workUnitAsyncStorage.getStore();if(ti)switch(ti.type){case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":var yn,pa,ra=hi,Sr=qn,Ri=ti;switch(Ri.type){case"prerender":case"prerender-client":{let Vi=Ri.fallbackRouteParams;if(Vi){for(let Nn in ra)if(Vi.has(Nn))return function(Yi,zi,sa){let Oa=Ue.get(Yi);if(Oa)return Oa;let ni=new Proxy((0,Sn.makeHangingPromise)(sa.renderSignal,zi.route,"`params`"),hn);return Ue.set(Yi,ni),ni}(ra,Sr,Ri)}break}case"prerender-ppr":{let Vi=Ri.fallbackRouteParams;if(Vi){for(let Nn in ra)if(Vi.has(Nn))return function(Yi,zi,sa,Oa){let ni=Ue.get(Yi);if(ni)return ni;let Na={...Yi},Oi=Promise.resolve(Na);return Ue.set(Yi,Oi),Object.keys(Yi).forEach(Ni=>{In.has(Ni)||zi.has(Ni)&&Object.defineProperty(Na,Ni,{get(){var ho;let va=(ho="params",Vn.test(Ni)?`\`${ho}.${Ni}\``:`\`${ho}[${JSON.stringify(Ni)}]\``);Oa.type==="prerender-ppr"?(0,Zt.postponeWithTracking)(sa.route,va,Oa.dynamicTracking):(0,Zt.throwToInterruptStaticGeneration)(va,sa,Oa)},enumerable:!0})}),Oi}(ra,Vi,Sr,Ri)}}}return pi(ra);case"cache":case"private-cache":case"unstable-cache":throw Object.defineProperty(new nn.InvariantError("createServerParamsForRoute should not be called in cache contexts."),"__NEXT_ERROR_CODE",{value:"E738",enumerable:!1,configurable:!0});case"prerender-runtime":return yn=hi,pa=ti,(0,Zt.delayUntilRuntimeStage)(pa,pi(yn));case"request":return pi(hi)}(0,Gr.throwInvariantForMissingStore)()}(function(hi){let qn={};for(let[ti,yn]of Object.entries(hi))yn!==void 0&&(qn[ti]=yn);return qn}(Tn.params),G):void 0},mi=()=>{Tn.renderOpts.pendingWaitUntil=(0,ta.executeRevalidates)(G).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",Rr.url)})},Bi=null;try{if(Xi){let hi=this.userland.revalidate,qn=hi===!1||hi===void 0?Kr.INFINITE_CACHE:hi;if(Zi){let ti,yn=new AbortController,pa=!1,ra=new Qr,Sr=(0,Zt.createDynamicTrackingState)(void 0),Ri={cache:new Map,fetch:new Map,encryptedBoundArgs:new Map,decryptedBoundArgs:new Map},Vi=Bi={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:tn,renderSignal:yn.signal,controller:yn,cacheSignal:ra,dynamicTracking:Sr,allowEmptyStaticShell:!1,revalidate:qn,expire:Kr.INFINITE_CACHE,stale:Kr.INFINITE_CACHE,tags:[...tn.tags],prerenderResumeDataCache:Ri,renderResumeDataCache:null,hmrRefreshHash:void 0};try{ti=this.workUnitAsyncStorage.run(Vi,Ce,Fn,$i)}catch(sa){yn.signal.aborted?pa=!0:(process.env.NEXT_DEBUG_BUILD||process.env.__NEXT_VERBOSE_LOGGING)&&H(sa,G.route,_r.ProspectiveRender)}if(typeof ti=="object"&&ti!==null&&typeof ti.then=="function"&&ti.then(()=>{},sa=>{yn.signal.aborted?pa=!0:process.env.NEXT_DEBUG_BUILD&&H(sa,G.route,_r.ProspectiveRender)}),(0,Ii.trackPendingModules)(ra),await ra.cacheReady(),pa){let sa=(0,Zt.getFirstDynamicReason)(Sr);throw sa?Object.defineProperty(new q.DynamicServerError(`Route ${G.route} couldn't be rendered statically because it used \`${sa}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0}):(console.error("Expected Next.js to keep track of reason for opting out of static rendering but one was not found. This is a bug in Next.js"),Object.defineProperty(new q.DynamicServerError(`Route ${G.route} couldn't be rendered statically because it used a dynamic API. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E577",enumerable:!1,configurable:!0}))}let Nn=new AbortController;Sr=(0,Zt.createDynamicTrackingState)(void 0);let Yi=Bi={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:tn,renderSignal:Nn.signal,controller:Nn,cacheSignal:null,dynamicTracking:Sr,allowEmptyStaticShell:!1,revalidate:qn,expire:Kr.INFINITE_CACHE,stale:Kr.INFINITE_CACHE,tags:[...tn.tags],prerenderResumeDataCache:Ri,renderResumeDataCache:null,hmrRefreshHash:void 0},zi=!1;if(Kn=await new Promise((sa,Oa)=>{(0,ar.scheduleImmediate)(async()=>{try{let ni=await this.workUnitAsyncStorage.run(Yi,Ce,Fn,$i);if(zi)return;if(!(ni instanceof Response))return void sa(ni);zi=!0;let Na=!1;ni.arrayBuffer().then(Oi=>{Na||(Na=!0,sa(new Response(Oi,{headers:ni.headers,status:ni.status,statusText:ni.statusText})))},Oa),(0,ar.scheduleImmediate)(()=>{Na||(Na=!0,Nn.abort(),Oa(po(G.route)))})}catch(ni){Oa(ni)}}),(0,ar.scheduleImmediate)(()=>{zi||(zi=!0,Nn.abort(),Oa(po(G.route)))})}),Nn.signal.aborted)throw po(G.route);Nn.abort()}else Bi={type:"prerender-legacy",phase:"action",rootParams:{},implicitTags:tn,revalidate:qn,expire:Kr.INFINITE_CACHE,stale:Kr.INFINITE_CACHE,tags:[...tn.tags]},Kn=await kn.workUnitAsyncStorage.run(Bi,Ce,Fn,$i)}else Kn=await kn.workUnitAsyncStorage.run(Rr,Ce,Fn,$i)}catch(hi){if(rt(hi)){let qn=rt(hi)?hi.digest.split(";").slice(2,-2).join(";"):null;if(!qn)throw Object.defineProperty(Error("Invariant: Unexpected redirect url format"),"__NEXT_ERROR_CODE",{value:"E399",enumerable:!1,configurable:!0});let ti=new Headers({Location:qn});return(0,zr.appendMutableCookies)(ti,Rr.mutableCookies),mi(),new Response(null,{status:br.isAction?Fe.RedirectStatusCode.SeeOther:function(yn){if(!rt(yn))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(yn.digest.split(";").at(-2))}(hi),headers:ti})}if(W(hi))return new Response(null,{status:Number(hi.digest.split(";")[1])});throw hi}if(!(Kn instanceof Response))throw Object.defineProperty(Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`),"__NEXT_ERROR_CODE",{value:"E325",enumerable:!1,configurable:!0});Tn.renderOpts.fetchMetrics=G.fetchMetrics,mi(),Bi&&(Tn.renderOpts.collectedTags=(Hr=Bi.tags)==null?void 0:Hr.join(","),Tn.renderOpts.collectedRevalidate=Bi.revalidate,Tn.renderOpts.collectedExpire=Bi.expire,Tn.renderOpts.collectedStale=Bi.stale);let Nt=new Headers(Kn.headers);return(0,zr.appendMutableCookies)(Nt,Rr.mutableCookies)?new Response(Kn.body,{status:Kn.status,statusText:Kn.statusText,headers:Nt}):Kn}async handle(Ce,br){let G,Rr,tn,Fn,Tn,Hr=this.resolve(Ce.method),Kn={page:this.definition.page,renderOpts:br.renderOpts,buildId:br.sharedContext.buildId,previouslyRevalidatedTags:[]};Kn.renderOpts.fetchCache=this.userland.fetchCache;let Xi={isAppRoute:!0,isAction:(Ce.headers instanceof Headers?(G=Ce.headers.get(Ge.ACTION_HEADER)??null,Rr=Ce.headers.get("content-type")):(G=Ce.headers[Ge.ACTION_HEADER]??null,Rr=Ce.headers["content-type"]??null),tn=Ce.method==="POST"&&Rr==="application/x-www-form-urlencoded",Fn=!!(Ce.method==="POST"&&Rr?.startsWith("multipart/form-data")),Tn=G!==void 0&&typeof G=="string"&&Ce.method==="POST",{actionId:G,isURLEncodedAction:tn,isMultipartAction:Fn,isFetchAction:Tn,isPossibleServerAction:!!(Tn||tn||Fn)}).isPossibleServerAction},Zi=await(0,Gt.getImplicitTags)(this.definition.page,Ce.nextUrl,null),$i=(0,bt.createRequestStoreForAPI)(Ce,Ce.nextUrl,Zi,void 0,br.prerenderManifest.preview),mi=(0,Et.createWorkStore)(Kn),Bi=await this.actionAsyncStorage.run(Xi,()=>this.workUnitAsyncStorage.run($i,()=>this.workAsyncStorage.run(mi,async()=>{if(this.hasNonStaticMethods&&mi.isStaticGeneration){let pa=Object.defineProperty(new q.DynamicServerError("Route is configured with methods that cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E582",enumerable:!1,configurable:!0});throw mi.dynamicUsageDescription=pa.message,mi.dynamicUsageStack=pa.stack,pa}let Nt=Ce;switch(this.dynamic){case"force-dynamic":if(mi.forceDynamic=!0,mi.isStaticGeneration){let Sr=Object.defineProperty(new q.DynamicServerError("Route is configured with dynamic = error which cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E703",enumerable:!1,configurable:!0});throw mi.dynamicUsageDescription=Sr.message,mi.dynamicUsageStack=Sr.stack,Sr}break;case"force-static":mi.forceStatic=!0,Nt=new Proxy(Ce,Qi);break;case"error":mi.dynamicShouldError=!0,mi.isStaticGeneration&&(Nt=new Proxy(Ce,Ya));break;case void 0:case"auto":var hi,qn;let pa,ra;hi=Ce,qn=mi,pa={get(Sr,Ri,Vi){switch(Ri){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":return mo(qn,kn.workUnitAsyncStorage.getStore(),`nextUrl.${Ri}`),Qt.ReflectAdapter.get(Sr,Ri,Vi);case"clone":return Sr[Xr]||(Sr[Xr]=()=>new Proxy(Sr.clone(),pa));default:return Qt.ReflectAdapter.get(Sr,Ri,Vi)}}},ra={get(Sr,Ri){switch(Ri){case"nextUrl":return Sr[Ta]||(Sr[Ta]=new Proxy(Sr.nextUrl,pa));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":return mo(qn,kn.workUnitAsyncStorage.getStore(),`request.${Ri}`),Qt.ReflectAdapter.get(Sr,Ri,Sr);case"clone":return Sr[Gi]||(Sr[Gi]=()=>new Proxy(Sr.clone(),ra));default:return Qt.ReflectAdapter.get(Sr,Ri,Sr)}}},Nt=new Proxy(hi,ra);break;default:this.dynamic}let ti=(0,cr.getTracer)(),{pathname:yn}=this.definition;return ti.setRootSpanAttribute("next.route",yn),ti.trace(ye.AppRouteRouteHandlersSpan.runHandler,{spanName:`executing api route (app) ${yn}`,attributes:{"next.route":yn}},async()=>this.do(Hr,Xi,mi,$i,Zi,Nt,br))})));if(!(Bi instanceof Response))return new Response(null,{status:500});if(Bi.headers.has("x-middleware-rewrite"))throw Object.defineProperty(Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue."),"__NEXT_ERROR_CODE",{value:"E374",enumerable:!1,configurable:!0});if(Bi.headers.get("x-middleware-next")==="1")throw Object.defineProperty(Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler"),"__NEXT_ERROR_CODE",{value:"E385",enumerable:!1,configurable:!0});return Bi}}function Fi(wt){return!!wt.POST||!!wt.PUT||!!wt.DELETE||!!wt.PATCH||!!wt.OPTIONS}let Ta=Symbol("nextUrl"),Gi=Symbol("clone"),Xr=Symbol("clone"),On=Symbol("searchParams"),oa=Symbol("href"),Ca=Symbol("toString"),_o=Symbol("headers"),Za=Symbol("cookies"),Qi={get(wt,Ce,br){switch(Ce){case"headers":return wt[_o]||(wt[_o]=en.HeadersAdapter.seal(new Headers({})));case"cookies":return wt[Za]||(wt[Za]=zr.RequestCookiesAdapter.seal(new Qe.RequestCookies(new Headers({}))));case"nextUrl":return wt[Ta]||(wt[Ta]=new Proxy(wt.nextUrl,Xa));case"url":return br.nextUrl.href;case"geo":case"ip":return;case"clone":return wt[Gi]||(wt[Gi]=()=>new Proxy(wt.clone(),Qi));default:return Qt.ReflectAdapter.get(wt,Ce,br)}}},Xa={get(wt,Ce,br){switch(Ce){case"search":return"";case"searchParams":return wt[On]||(wt[On]=new URLSearchParams);case"href":let G;return wt[oa]||(wt[oa]=((G=new URL(wt.href)).host="localhost:3000",G.search="",G.protocol="http",G).href);case"toJSON":case"toString":return wt[Ca]||(wt[Ca]=()=>br.href);case"url":return;case"clone":return wt[Xr]||(wt[Xr]=()=>new Proxy(wt.clone(),Xa));default:return Qt.ReflectAdapter.get(wt,Ce,br)}}},Ya={get(wt,Ce,br){switch(Ce){case"nextUrl":return wt[Ta]||(wt[Ta]=new Proxy(wt.nextUrl,Ra));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":throw Object.defineProperty(new qt.StaticGenBailoutError(`Route ${wt.nextUrl.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`request.${Ce}\`.`),"__NEXT_ERROR_CODE",{value:"E611",enumerable:!1,configurable:!0});case"clone":return wt[Gi]||(wt[Gi]=()=>new Proxy(wt.clone(),Ya));default:return Qt.ReflectAdapter.get(wt,Ce,br)}}},Ra={get(wt,Ce,br){switch(Ce){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":throw Object.defineProperty(new qt.StaticGenBailoutError(`Route ${wt.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`nextUrl.${Ce}\`.`),"__NEXT_ERROR_CODE",{value:"E575",enumerable:!1,configurable:!0});case"clone":return wt[Xr]||(wt[Xr]=()=>new Proxy(wt.clone(),Ra));default:return Qt.ReflectAdapter.get(wt,Ce,br)}}};function po(wt){return Object.defineProperty(new q.DynamicServerError(`Route ${wt} couldn't be rendered statically because it used IO that was not cached. See more info here: https://nextjs.org/docs/messages/cache-components`),"__NEXT_ERROR_CODE",{value:"E727",enumerable:!1,configurable:!0})}function mo(wt,Ce,br){if(wt.dynamicShouldError)throw Object.defineProperty(new qt.StaticGenBailoutError(`Route ${wt.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${br}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(Ce)switch(Ce.type){case"cache":case"private-cache":throw Object.defineProperty(Error(`Route ${wt.route} used "${br}" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${br}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E178",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`Route ${wt.route} used "${br}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${br}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E133",enumerable:!1,configurable:!0});case"prerender":let G=Object.defineProperty(Error(`Route ${wt.route} used ${br} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-request`),"__NEXT_ERROR_CODE",{value:"E261",enumerable:!1,configurable:!0});return(0,Zt.abortAndThrowOnSynchronousRequestDataAccess)(wt.route,br,G,Ce);case"prerender-client":throw Object.defineProperty(new nn.InvariantError("A client prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E720",enumerable:!1,configurable:!0});case"prerender-runtime":throw Object.defineProperty(new nn.InvariantError("A runtime prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E767",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,Zt.postponeWithTracking)(wt.route,br,Ce.dynamicTracking);case"prerender-legacy":Ce.revalidate=0;let Rr=Object.defineProperty(new q.DynamicServerError(`Route ${wt.route} couldn't be rendered statically because it used \`${br}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw wt.dynamicUsageDescription=br,wt.dynamicUsageStack=Rr.stack,Rr}}v.s(["AppRouteRouteModule",()=>Dn,"WrappedNextRouterError",()=>wa,"default",0,Dn,"hasNonStaticMethods",()=>Fi],804)},73246,(v,p,ve)=>{p.exports=v.r(804)},87259,33088,20900,66163,16423,40409,80441,v=>{"use strict";var p,ve=v.i(84256),n=v.i(75454),Pe=v.i(63402);let M=Symbol("response"),ie=Symbol("passThrough"),Ze=Symbol("waitUntil");class me{constructor(Qe,qt){this[ie]=!1,this[Ze]=qt?{kind:"external",function:mr[Symbol.for("__cloudflare-request-context__")].ctx.waitUntil.bind(mr[Symbol.for("__cloudflare-request-context__")].ctx)}:{kind:"internal",promises:[]}}respondWith(Qe){this[M]||(this[M]=Promise.resolve(Qe))}passThroughOnException(){this[ie]=!0}waitUntil(Qe){if(this[Ze].kind==="external")return(0,this[Ze].function)(Qe);this[Ze].promises.push(Qe)}}class $e extends me{constructor(Qe){var qt;super(Qe.request,(qt=Qe.context)==null?void 0:qt.waitUntil),this.sourcePage=Qe.page}get request(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}var V=v.i(85867);v.i(43820);var X=v.i(635),U=v.i(3661),oe=v.i(49783);let _e=Symbol("internal response"),ge=new Set([301,302,303,307,308]);function ht(ir,Qe){var qt;if(!(ir==null||(qt=ir.request)==null)&&qt.headers){if(!(ir.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let Qt=[];for(let[nn,Qr]of ir.request.headers)Qe.set("x-middleware-request-"+nn,Qr),Qt.push(nn);Qe.set("x-middleware-override-headers",Qt.join(","))}}class ee extends Response{constructor(Qe,qt={}){super(Qe,qt);let Qt=this.headers,nn=new Proxy(new X.ResponseCookies(Qt),{get(Qr,ar,Vn){switch(ar){case"delete":case"set":return(...In)=>{let Sn=Reflect.apply(Qr[ar],Qr,In),li=new Headers(Qt);return Sn instanceof X.ResponseCookies&&Qt.set("x-middleware-set-cookie",Sn.getAll().map(mn=>(0,X.stringifyCookie)(mn)).join(",")),ht(qt,li),Sn};default:return oe.ReflectAdapter.get(Qr,ar,Vn)}}});this[_e]={cookies:nn,url:qt.url?new U.NextURL(qt.url,{headers:(0,Pe.toNodeOutgoingHttpHeaders)(Qt),nextConfig:qt.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[_e].cookies}static json(Qe,qt){let Qt=Response.json(Qe,qt);return new ee(Qt.body,Qt)}static redirect(Qe,qt){let Qt=typeof qt=="number"?qt:qt?.status??307;if(!ge.has(Qt))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let nn=typeof qt=="object"?qt:{},Qr=new Headers(nn?.headers);return Qr.set("Location",(0,Pe.validateURL)(Qe)),new ee(null,{...nn,headers:Qr,status:Qt})}static rewrite(Qe,qt){let Qt=new Headers(qt?.headers);return Qt.set("x-middleware-rewrite",(0,Pe.validateURL)(Qe)),ht(qt,Qt),new ee(null,{...qt,headers:Qt})}static next(Qe){let qt=new Headers(Qe?.headers);return qt.set("x-middleware-next","1"),ht(Qe,qt),new ee(null,{...Qe,headers:qt})}}function Be(ir,Qe){let qt=typeof Qe=="string"?new URL(Qe):Qe,Qt=new URL(ir,Qe),nn=Qt.origin===qt.origin;return{url:nn?Qt.toString().slice(qt.origin.length):Qt.toString(),isRelative:nn}}v.s(["NextResponse",()=>ee],33088);var re=v.i(8900);re.NEXT_RSC_UNION_QUERY;var et=v.i(87167),Ge=v.i(72445);v.i(66401);var it=v.i(18904),bt=v.i(88154);v.i(81527);var Et=v.i(68644),tr=v.i(68045),Gt=v.i(546);class Ve{onClose(Qe){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",Qe),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}var cr=v.i(3949);v.i(79698);let ye=Symbol.for("@next/request-context");var be=v.i(11573);class Z extends V.NextRequest{constructor(Qe){super(Qe.input,Qe.init),this.sourcePage=Qe.page}get request(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let vt={keys:ir=>Array.from(ir.keys()),get:(ir,Qe)=>ir.get(Qe)??void 0},h=(ir,Qe)=>(0,tr.getTracer)().withPropagatedContext(ir.headers,Qe,vt),Xt=!1;async function lt(ir){var Qe,qt,Qt,nn;let Qr,ar,Vn,In,Sn;(function(){if(!Xt&&(Xt=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:Xr,wrapRequestHandler:On}=v.r(98246);Xr(),h=On(h)}})(),await(0,ve.ensureInstrumentationRegistered)();let li=mr.__BUILD_MANIFEST!==void 0;ir.request.url=(0,et.normalizeRscURL)(ir.request.url);let mn=ir.bypassNextUrl?new URL(ir.request.url):new U.NextURL(ir.request.url,{headers:ir.request.headers,nextConfig:ir.request.nextConfig});for(let Xr of[...mn.searchParams.keys()]){let On=mn.searchParams.getAll(Xr),oa=(0,Pe.normalizeNextQueryParam)(Xr);if(oa){for(let Ca of(mn.searchParams.delete(oa),On))mn.searchParams.append(oa,Ca);mn.searchParams.delete(Xr)}}let Re="45wwz01MkHA8G0LiTpfIq";"buildId"in mn&&(Re=mn.buildId||"",mn.buildId="");let ut=(0,Pe.fromNodeOutgoingHttpHeaders)(ir.request.headers),hr=ut.has("x-nextjs-data"),Ue=ut.get(re.RSC_HEADER)==="1";hr&&mn.pathname==="/index"&&(mn.pathname="/");let hn=new Map;if(!li)for(let Xr of re.FLIGHT_HEADERS){let On=ut.get(Xr);On!==null&&(hn.set(Xr,On),ut.delete(Xr))}let pi=mn.searchParams.get(re.NEXT_RSC_UNION_QUERY),Kr=new Z({page:ir.page,input:((In=(Vn=typeof mn=="string")?new URL(mn):mn).searchParams.delete(re.NEXT_RSC_UNION_QUERY),Vn?In.toString():In).toString(),init:{body:ir.request.body,headers:ut,method:ir.request.method,nextConfig:ir.request.nextConfig,signal:ir.request.signal}});hr&&Object.defineProperty(Kr,"__isData",{enumerable:!1,value:!0}),!mr.__incrementalCacheShared&&ir.IncrementalCache&&(mr.__incrementalCache=new ir.IncrementalCache({CurCacheHandler:ir.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:ir.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:(0,cr.getEdgePreviewProps)()})}));let ta=ir.request.waitUntil??((Qe=(Sn=mr[ye])==null?void 0:Sn.get())==null?void 0:Qe.waitUntil),Ii=new $e({request:Kr,page:ir.page,context:ta?{waitUntil:ta}:void 0});if((Qr=await h(Kr,()=>{if(ir.page==="/middleware"||ir.page==="/src/middleware"||ir.page==="/proxy"||ir.page==="/src/proxy"){let Xr=Ii.waitUntil.bind(Ii),On=new Ve;return(0,tr.getTracer)().trace(Gt.MiddlewareSpan.execute,{spanName:`middleware ${Kr.method}`,attributes:{"http.target":Kr.nextUrl.pathname,"http.method":Kr.method}},async()=>{try{var oa,Ca,_o,Za;let Qi=(0,cr.getEdgePreviewProps)(),Xa=await(0,be.getImplicitTags)("/",Kr.nextUrl,null),Ya=(0,Ge.createRequestStoreForAPI)(Kr,Kr.nextUrl,Xa,po=>{ar=po},Qi),Ra=(0,bt.createWorkStore)({page:"/",renderOpts:{cacheLifeProfiles:(Ca=ir.request.nextConfig)==null||(oa=Ca.experimental)==null?void 0:oa.cacheLife,cacheComponents:!1,experimental:{isRoutePPREnabled:!1,authInterrupts:!!(!((Za=ir.request.nextConfig)==null||(_o=Za.experimental)==null)&&_o.authInterrupts)},supportsDynamicResponse:!0,waitUntil:Xr,onClose:On.onClose.bind(On),onAfterTaskError:void 0},isPrefetchRequest:Kr.headers.get(re.NEXT_ROUTER_PREFETCH_HEADER)==="1",buildId:Re??"",previouslyRevalidatedTags:[]});return await Et.workAsyncStorage.run(Ra,()=>it.workUnitAsyncStorage.run(Ya,ir.handler,Kr,Ii))}finally{setTimeout(()=>{On.dispatchClose()},0)}})}return ir.handler(Kr,Ii)}))&&!(Qr instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});Qr&&ar&&Qr.headers.set("set-cookie",ar);let wa=Qr?.headers.get("x-middleware-rewrite");if(Qr&&wa&&(Ue||!li)){let Xr=new U.NextURL(wa,{forceLocale:!0,headers:ir.request.headers,nextConfig:ir.request.nextConfig});li||Xr.host!==Kr.nextUrl.host||(Xr.buildId=Re||Xr.buildId,Qr.headers.set("x-middleware-rewrite",String(Xr)));let{url:On,isRelative:oa}=Be(Xr.toString(),mn.toString());!li&&hr&&Qr.headers.set("x-nextjs-rewrite",On);let Ca=!oa&&((nn=ir.request.nextConfig)==null||(Qt=nn.experimental)==null||(qt=Qt.clientParamParsingOrigins)==null?void 0:qt.some(_o=>new RegExp(_o).test(Xr.origin)));Ue&&(oa||Ca)&&(mn.pathname!==Xr.pathname&&Qr.headers.set(re.NEXT_REWRITTEN_PATH_HEADER,Xr.pathname),mn.search!==Xr.search&&Qr.headers.set(re.NEXT_REWRITTEN_QUERY_HEADER,Xr.search.slice(1)))}if(Qr&&wa&&Ue&&pi){let Xr=new URL(wa);Xr.searchParams.has(re.NEXT_RSC_UNION_QUERY)||(Xr.searchParams.set(re.NEXT_RSC_UNION_QUERY,pi),Qr.headers.set("x-middleware-rewrite",Xr.toString()))}let Dn=Qr?.headers.get("Location");if(Qr&&Dn&&!li){let Xr=new U.NextURL(Dn,{forceLocale:!1,headers:ir.request.headers,nextConfig:ir.request.nextConfig});Qr=new Response(Qr.body,Qr),Xr.host===mn.host&&(Xr.buildId=Re||Xr.buildId,Qr.headers.set("Location",Xr.toString())),hr&&(Qr.headers.delete("Location"),Qr.headers.set("x-nextjs-redirect",Be(Xr.toString(),mn.toString()).url))}let Fi=Qr||ee.next(),Ta=Fi.headers.get("x-middleware-override-headers"),Gi=[];if(Ta){for(let[Xr,On]of hn)Fi.headers.set(`x-middleware-request-${Xr}`,On),Gi.push(Xr);Gi.length>0&&Fi.headers.set("x-middleware-override-headers",Ta+","+Gi.join(","))}return{response:Fi,waitUntil:(Ii[Ze].kind==="internal"?Promise.all(Ii[Ze].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:Kr.fetchMetrics}}var pr=v.i(13714);v.i(65832);var pt=v.i(18215),ft=v.i(14766),an=v.i(2635);class gn{constructor(Qe){this.definition=Qe,(0,pt.isDynamicRoute)(Qe.pathname)&&(this.dynamic=(0,ft.getRouteMatcher)((0,an.getRouteRegex)(Qe.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return this.dynamic!==void 0}match(Qe){let qt=this.test(Qe);return qt?{definition:this.definition,params:qt.params}:null}test(Qe){if(this.dynamic){let qt=this.dynamic(Qe);return qt?{params:qt}:null}return Qe===this.definition.pathname?{}:null}}let ei=Symbol.for("__next_internal_waitUntil__"),pn=mr[ei]||(mr[ei]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var nr=v.i(69297),zr=v.i(27934),en=v.i(88503),Se=v.i(99888);class q{constructor(Qe,qt,Qt){this.method=Qe,this.url=qt,this.body=Qt}get cookies(){return this._cookies?this._cookies:this._cookies=(0,Se.getCookieParser)(this.headers)()}}class J{constructor(Qe){this.destination=Qe}redirect(Qe,qt){return this.setHeader("Location",Qe),this.statusCode=qt,qt===en.RedirectStatusCode.PermanentRedirect&&this.setHeader("Refresh",`0;url=${Qe}`),this}}v.i(78116),v.i(5809);class W extends q{constructor(Qe){let qt=new URL(Qe.url);for(let[Qt,nn]of(super(Qe.method,qt.href.slice(qt.origin.length),Qe.clone().body),this.request=Qe,this.fetchMetrics=Qe.fetchMetrics,this.headers={},Qe.headers.entries()))this.headers[Qt]=nn}async parseBody(Qe){throw Object.defineProperty(Error("parseBody is not implemented in the web runtime"),"__NEXT_ERROR_CODE",{value:"E213",enumerable:!1,configurable:!0})}}class Fe{constructor(Qe){this.routeModule=Qe,this.matcher=new gn(Qe.definition)}static wrap(Qe,qt){let Qt=new Fe(Qe);return nn=>lt({...nn,IncrementalCache:pr.IncrementalCache,handler:Qt.handler.bind(Qt),page:qt.page})}async handler(Qe,qt){let Qt=(0,nr.getServerUtils)({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:Qe.nextUrl.basePath,rewrites:{},caseSensitive:!1}),{nextConfig:nn}=this.routeModule.getNextConfigEdge(new W(Qe)),{params:Qr}=Qt.normalizeDynamicRouteParams((0,zr.searchParamsToUrlQuery)(Qe.nextUrl.searchParams),!1),ar=qt.waitUntil.bind(qt),Vn=new Ve,In={params:Qr,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:(0,cr.getEdgePreviewProps)(),notFoundRoutes:[]},renderOpts:{supportsDynamicResponse:!0,waitUntil:ar,onClose:Vn.onClose.bind(Vn),onAfterTaskError:void 0,cacheComponents:!1,experimental:{authInterrupts:!1},cacheLifeProfiles:nn.cacheLife},sharedContext:{buildId:""}},Sn=await this.routeModule.handle(Qe,In),li=[pn.waitUntilPromise];if(In.renderOpts.pendingWaitUntil&&li.push(In.renderOpts.pendingWaitUntil),qt.waitUntil(Promise.all(li)),Sn.body){var mn,Re;let ut,hr;Sn=new Response((mn=Sn.body,Re=()=>Vn.dispatchClose(),ut=new TransformStream,hr=()=>Re(),mn.pipeTo(ut.writable).then(hr,hr),ut.readable),{status:Sn.status,statusText:Sn.statusText,headers:Sn.headers})}else setTimeout(()=>Vn.dispatchClose(),0);return Sn}}v.s(["EdgeRouteModuleWrapper",()=>Fe],87259);var rt=v.i(93441),Zt=v.i(4842);class _r extends q{static#e=p=Zt.NEXT_REQUEST_META;constructor(Qe){var qt;super(Qe.method.toUpperCase(),Qe.url,Qe),this._req=Qe,this.headers=this._req.headers,this.fetchMetrics=(qt=this._req)==null?void 0:qt.fetchMetrics,this[p]=this._req[Zt.NEXT_REQUEST_META]||{},this.streaming=!1}get originalRequest(){return this._req[Zt.NEXT_REQUEST_META]=this[Zt.NEXT_REQUEST_META],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(Qe){this._req=Qe}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:Qe=>{this._req.on("data",qt=>{Qe.enqueue(new Uint8Array(qt))}),this._req.on("end",()=>{Qe.close()}),this._req.on("error",qt=>{Qe.error(qt)})}})}}class H extends J{get originalResponse(){return rt.SYMBOL_CLEARED_COOKIES in this&&(this._res[rt.SYMBOL_CLEARED_COOKIES]=this[rt.SYMBOL_CLEARED_COOKIES]),this._res}constructor(Qe){super(Qe),this._res=Qe,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(Qe){this._res.statusCode=Qe}get statusMessage(){return this._res.statusMessage}set statusMessage(Qe){this._res.statusMessage=Qe}setHeader(Qe,qt){return this._res.setHeader(Qe,qt),this}removeHeader(Qe){return this._res.removeHeader(Qe),this}getHeaderValues(Qe){let qt=this._res.getHeader(Qe);if(qt!==void 0)return(Array.isArray(qt)?qt:[qt]).map(Qt=>Qt.toString())}hasHeader(Qe){return this._res.hasHeader(Qe)}getHeader(Qe){let qt=this.getHeaderValues(Qe);return Array.isArray(qt)?qt.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(Qe,qt){let Qt=this.getHeaderValues(Qe)??[];return Qt.includes(qt)||this._res.setHeader(Qe,[...Qt,qt]),this}body(Qe){return this.textBody=Qe,this}send(){this._res.end(this.textBody)}onClose(Qe){this.originalResponse.on("close",Qe)}}function Br(ir){return ir.isOnDemandRevalidate?"on-demand":ir.isStaticGeneration?"stale":void 0}async function Gr(ir,Qe,qt,Qt){}v.s(["NodeNextRequest",()=>_r,"NodeNextResponse",()=>H],20900),v.s(["getRevalidateReason",()=>Br],66163),v.i(59106),v.i(13651),v.s(["sendResponse",()=>Gr],16423);var kn=v.i(14327);function Jn({revalidate:ir,expire:Qe}){let qt=typeof ir=="number"&&Qe!==void 0&&ir<Qe?`, stale-while-revalidate=${Qe-ir}`:"";return ir===0?"private, no-cache, no-store, max-age=0, must-revalidate":typeof ir=="number"?`s-maxage=${ir}${qt}`:`s-maxage=${kn.CACHE_ONE_YEAR}${qt}`}v.s(["getCacheControlHeader",()=>Jn],40409);class Bn extends Error{constructor(){super(),this.message="Internal: NoFallbackError"}}v.s(["NoFallbackError",()=>Bn],80441)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_@ai-sdk_provider-utils_dist_index_mjs_995f32ad._.js",66125,8715,6508,39017,v=>{"use strict";let p;var ve,n,Pe,M,ie,Ze,me,$e,V,X,U,oe,_e,ge,ht,ee,Be,re,et,Ge,it,bt,Et,tr,Gt,Ve,cr,ye,be,Z,vt,h,Xt,lt,pr,pt,ft,an,gn,ei="vercel.ai.error",pn=Symbol.for(ei),nr=class Ig extends(ie=Error,M=pn,ie){constructor({name:r,message:e,cause:i}){super(e),this[M]=!0,this.name=r,this.cause=i}static isInstance(r){return Ig.hasMarker(r,ei)}static hasMarker(r,e){let i=Symbol.for(e);return r!=null&&typeof r=="object"&&i in r&&typeof r[i]=="boolean"&&r[i]===!0}},zr="AI_APICallError",en=`vercel.ai.error.${zr}`,Se=Symbol.for(en),q=class extends(me=nr,Ze=Se,me){constructor({message:t,url:r,requestBodyValues:e,statusCode:i,responseHeaders:a,responseBody:m,cause:f,isRetryable:$=i!=null&&(i===408||i===409||i===429||i>=500),data:g}){super({name:zr,message:t,cause:f}),this[Ze]=!0,this.url=r,this.requestBodyValues=e,this.statusCode=i,this.responseHeaders=a,this.responseBody=m,this.isRetryable=$,this.data=g}static isInstance(t){return nr.hasMarker(t,en)}},J="AI_EmptyResponseBodyError",W=`vercel.ai.error.${J}`,Fe=Symbol.for(W),rt=class extends(V=nr,$e=Fe,V){constructor({message:t="Empty response body"}={}){super({name:J,message:t}),this[$e]=!0}static isInstance(t){return nr.hasMarker(t,W)}};function Zt(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}var _r="AI_InvalidArgumentError",H=`vercel.ai.error.${_r}`,Br=Symbol.for(H),Gr=class extends(U=nr,X=Br,U){constructor({message:t,cause:r,argument:e}){super({name:_r,message:t,cause:r}),this[X]=!0,this.argument=e}static isInstance(t){return nr.hasMarker(t,H)}},kn="AI_InvalidPromptError",Jn=`vercel.ai.error.${kn}`,Bn=Symbol.for(Jn),ir=class extends(_e=nr,oe=Bn,_e){constructor({prompt:t,message:r,cause:e}){super({name:kn,message:`Invalid prompt: ${r}`,cause:e}),this[oe]=!0,this.prompt=t}static isInstance(t){return nr.hasMarker(t,Jn)}},Qe="AI_InvalidResponseDataError",qt=`vercel.ai.error.${Qe}`,Qt=Symbol.for(qt),nn=class extends(ht=nr,ge=Qt,ht){constructor({data:t,message:r=`Invalid response data: ${JSON.stringify(t)}.`}){super({name:Qe,message:r}),this[ge]=!0,this.data=t}static isInstance(t){return nr.hasMarker(t,qt)}},Qr="AI_JSONParseError",ar=`vercel.ai.error.${Qr}`,Vn=Symbol.for(ar),In=class extends(Be=nr,ee=Vn,Be){constructor({text:t,cause:r}){super({name:Qr,message:`JSON parsing failed: Text: ${t}.
Error message: ${Zt(r)}`,cause:r}),this[ee]=!0,this.text=t}static isInstance(t){return nr.hasMarker(t,ar)}},Sn="AI_LoadAPIKeyError",li=`vercel.ai.error.${Sn}`,mn=Symbol.for(li),Re=class extends(et=nr,re=mn,et){constructor({message:t}){super({name:Sn,message:t}),this[re]=!0}static isInstance(t){return nr.hasMarker(t,li)}},ut="AI_LoadSettingError",hr=`vercel.ai.error.${ut}`,Ue=Symbol.for(hr),hn=class extends(it=nr,Ge=Ue,it){constructor({message:t}){super({name:ut,message:t}),this[Ge]=!0}static isInstance(t){return nr.hasMarker(t,hr)}},pi="AI_NoContentGeneratedError",Kr=`vercel.ai.error.${pi}`,ta=Symbol.for(Kr),Ii=class extends(Et=nr,bt=ta,Et){constructor({message:t="No content generated."}={}){super({name:pi,message:t}),this[bt]=!0}static isInstance(t){return nr.hasMarker(t,Kr)}},wa="AI_NoSuchModelError",Dn=`vercel.ai.error.${wa}`,Fi=Symbol.for(Dn),Ta=class extends(Gt=nr,tr=Fi,Gt){constructor({errorName:t=wa,modelId:r,modelType:e,message:i=`No such ${e}: ${r}`}){super({name:t,message:i}),this[tr]=!0,this.modelId=r,this.modelType=e}static isInstance(t){return nr.hasMarker(t,Dn)}},Gi="AI_TooManyEmbeddingValuesForCallError",Xr=`vercel.ai.error.${Gi}`,On=Symbol.for(Xr),oa=class extends(cr=nr,Ve=On,cr){constructor(t){super({name:Gi,message:`Too many values for a single embedding call. The ${t.provider} model "${t.modelId}" can only embed up to ${t.maxEmbeddingsPerCall} values per call, but ${t.values.length} values were provided.`}),this[Ve]=!0,this.provider=t.provider,this.modelId=t.modelId,this.maxEmbeddingsPerCall=t.maxEmbeddingsPerCall,this.values=t.values}static isInstance(t){return nr.hasMarker(t,Xr)}},Ca="AI_TypeValidationError",_o=`vercel.ai.error.${Ca}`,Za=Symbol.for(_o),Qi=class Cp extends(be=nr,ye=Za,be){constructor({value:r,cause:e}){super({name:Ca,message:`Type validation failed: Value: ${JSON.stringify(r)}.
Error message: ${Zt(e)}`,cause:e}),this[ye]=!0,this.value=r}static isInstance(r){return nr.hasMarker(r,_o)}static wrap({value:r,cause:e}){return Cp.isInstance(e)&&e.value===r?e:new Cp({value:r,cause:e})}},Xa="AI_UnsupportedFunctionalityError",Ya=`vercel.ai.error.${Xa}`,Ra=Symbol.for(Ya),po=class extends(vt=nr,Z=Ra,vt){constructor({functionality:t,message:r=`'${t}' functionality not supported.`}){super({name:Xa,message:r}),this[Z]=!0,this.functionality=t}static isInstance(t){return nr.hasMarker(t,Ya)}};function mo(t){return t===null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"||(Array.isArray(t)?t.every(mo):typeof t=="object"&&Object.entries(t).every(([r,e])=>typeof r=="string"&&(e===void 0||mo(e))))}function wt(t){return Array.isArray(t)&&t.every(mo)}function Ce(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([r,e])=>typeof r=="string"&&(e===void 0||mo(e)))}v.s(["AISDKError",()=>nr,"APICallError",()=>q,"EmptyResponseBodyError",()=>rt,"InvalidArgumentError",()=>Gr,"InvalidPromptError",()=>ir,"InvalidResponseDataError",()=>nn,"JSONParseError",()=>In,"LoadAPIKeyError",()=>Re,"LoadSettingError",()=>hn,"NoContentGeneratedError",()=>Ii,"NoSuchModelError",()=>Ta,"TooManyEmbeddingValuesForCallError",()=>oa,"TypeValidationError",()=>Qi,"UnsupportedFunctionalityError",()=>po,"getErrorMessage",()=>Zt,"isJSONArray",()=>wt,"isJSONObject",()=>Ce],8715);let br=Object.freeze({status:"aborted"});function G(t,r,e){function i($,g){if($._zod||Object.defineProperty($,"_zod",{value:{def:g,constr:f,traits:new Set},enumerable:!1}),$._zod.traits.has(t))return;$._zod.traits.add(t),r($,g);let j=f.prototype,Q=Object.keys(j);for(let ze=0;ze<Q.length;ze++){let Ct=Q[ze];Ct in $||($[Ct]=j[Ct].bind($))}}let a=e?.Parent??Object;class m extends a{}function f($){var g;let j=e?.Parent?new m:this;for(let Q of(i(j,$),(g=j._zod).deferred??(g.deferred=[]),j._zod.deferred))Q();return j}return Object.defineProperty(m,"name",{value:t}),Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:$=>!!e?.Parent&&$ instanceof e.Parent||$?._zod?.traits?.has(t)}),Object.defineProperty(f,"name",{value:t}),f}let Rr=Symbol("zod_brand");class tn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Fn extends Error{constructor(r){super(`Encountered unidirectional transform during encode: ${r}`),this.name="ZodEncodeError"}}let Tn={};function Hr(t){return t&&Object.assign(Tn,t),Tn}function Kn(t){return t}function Xi(t){return t}function Zi(t){}function $i(t){throw Error("Unexpected value in exhaustive check")}function mi(t){}function Bi(t){let r=Object.values(t).filter(e=>typeof e=="number");return Object.entries(t).filter(([e,i])=>r.indexOf(+e)===-1).map(([e,i])=>i)}function Nt(t,r="|"){return t.map(e=>Nr(e)).join(r)}function hi(t,r){return typeof r=="bigint"?r.toString():r}function qn(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}}}}function ti(t){return t==null}function yn(t){let r=+!!t.startsWith("^"),e=t.endsWith("$")?t.length-1:t.length;return t.slice(r,e)}function pa(t,r){let e=(t.toString().split(".")[1]||"").length,i=r.toString(),a=(i.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(i)){let f=i.match(/\d?e-(\d?)/);f?.[1]&&(a=Number.parseInt(f[1]))}let m=e>a?e:a;return Number.parseInt(t.toFixed(m).replace(".",""))%Number.parseInt(r.toFixed(m).replace(".",""))/10**m}v.s(["$ZodAsyncError",()=>tn,"$ZodEncodeError",()=>Fn,"$brand",0,Rr,"$constructor",()=>G,"NEVER",0,br,"config",()=>Hr,"globalConfig",0,Tn],44214);let ra=Symbol("evaluating");function Sr(t,r,e){let i;Object.defineProperty(t,r,{get(){if(i!==ra)return i===void 0&&(i=ra,i=e()),i},set(a){Object.defineProperty(t,r,{value:a})},configurable:!0})}function Ri(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function Vi(t,r,e){Object.defineProperty(t,r,{value:e,writable:!0,enumerable:!0,configurable:!0})}function Nn(...t){let r={};for(let e of t)Object.assign(r,Object.getOwnPropertyDescriptors(e));return Object.defineProperties({},r)}function Yi(t){return Nn(t._zod.def)}function zi(t,r){return r?r.reduce((e,i)=>e?.[i],t):t}function sa(t){let r=Object.keys(t);return Promise.all(r.map(e=>t[e])).then(e=>{let i={};for(let a=0;a<r.length;a++)i[r[a]]=e[a];return i})}function Oa(t=10){let r="abcdefghijklmnopqrstuvwxyz",e="";for(let i=0;i<t;i++)e+=r[Math.floor(Math.random()*r.length)];return e}function ni(t){return JSON.stringify(t)}function Na(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let Oi="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ni(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}let ho=qn(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch{return!1}});function va(t){if(Ni(t)===!1)return!1;let r=t.constructor;if(r===void 0||typeof r!="function")return!0;let e=r.prototype;return Ni(e)!==!1&&Object.prototype.hasOwnProperty.call(e,"isPrototypeOf")!==!1}function Jo(t){return va(t)?{...t}:Array.isArray(t)?[...t]:t}function ns(t){let r=0;for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&r++;return r}let bi=new Set(["string","number","symbol"]),xo=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Hi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qn(t,r,e){let i=new t._zod.constr(r??t._zod.def);return(!r||e?.parent)&&(i._zod.parent=t),i}function rr(t){if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Ei(t){let r;return new Proxy({},{get:(e,i,a)=>(r??(r=t()),Reflect.get(r,i,a)),set:(e,i,a,m)=>(r??(r=t()),Reflect.set(r,i,a,m)),has:(e,i)=>(r??(r=t()),Reflect.has(r,i)),deleteProperty:(e,i)=>(r??(r=t()),Reflect.deleteProperty(r,i)),ownKeys:e=>(r??(r=t()),Reflect.ownKeys(r)),getOwnPropertyDescriptor:(e,i)=>(r??(r=t()),Reflect.getOwnPropertyDescriptor(r,i)),defineProperty:(e,i,a)=>(r??(r=t()),Reflect.defineProperty(r,i,a))})}function Nr(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function eo(t){return Object.keys(t).filter(r=>t[r]._zod.optin==="optional"&&t[r]._zod.optout==="optional")}let qo={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},is={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function As(t,r){let e=t._zod.def,i=Nn(t._zod.def,{get shape(){let a={};for(let m in r){if(!(m in e.shape))throw Error(`Unrecognized key: "${m}"`);r[m]&&(a[m]=e.shape[m])}return Vi(this,"shape",a),a},checks:[]});return Qn(t,i)}function Sa(t,r){let e=t._zod.def,i=Nn(t._zod.def,{get shape(){let a={...t._zod.def.shape};for(let m in r){if(!(m in e.shape))throw Error(`Unrecognized key: "${m}"`);r[m]&&delete a[m]}return Vi(this,"shape",a),a},checks:[]});return Qn(t,i)}function Ms(t,r){if(!va(r))throw Error("Invalid input to extend: expected a plain object");let e=t._zod.def.checks;if(e&&e.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=Nn(t._zod.def,{get shape(){let a={...t._zod.def.shape,...r};return Vi(this,"shape",a),a},checks:[]});return Qn(t,i)}function Ko(t,r){if(!va(r))throw Error("Invalid input to safeExtend: expected a plain object");let e={...t._zod.def,get shape(){let i={...t._zod.def.shape,...r};return Vi(this,"shape",i),i},checks:t._zod.def.checks};return Qn(t,e)}function fs(t,r){let e=Nn(t._zod.def,{get shape(){let i={...t._zod.def.shape,...r._zod.def.shape};return Vi(this,"shape",i),i},get catchall(){return r._zod.def.catchall},checks:[]});return Qn(t,e)}function Rs(t,r,e){let i=Nn(r._zod.def,{get shape(){let a=r._zod.def.shape,m={...a};if(e)for(let f in e){if(!(f in a))throw Error(`Unrecognized key: "${f}"`);e[f]&&(m[f]=t?new t({type:"optional",innerType:a[f]}):a[f])}else for(let f in a)m[f]=t?new t({type:"optional",innerType:a[f]}):a[f];return Vi(this,"shape",m),m},checks:[]});return Qn(r,i)}function fo(t,r,e){let i=Nn(r._zod.def,{get shape(){let a=r._zod.def.shape,m={...a};if(e)for(let f in e){if(!(f in m))throw Error(`Unrecognized key: "${f}"`);e[f]&&(m[f]=new t({type:"nonoptional",innerType:a[f]}))}else for(let f in a)m[f]=new t({type:"nonoptional",innerType:a[f]});return Vi(this,"shape",m),m},checks:[]});return Qn(r,i)}function na(t,r=0){if(t.aborted===!0)return!0;for(let e=r;e<t.issues.length;e++)if(t.issues[e]?.continue!==!0)return!0;return!1}function Ba(t,r){return r.map(e=>(e.path??(e.path=[]),e.path.unshift(t),e))}function An(t){return typeof t=="string"?t:t?.message}function u(t,r,e){let i={...t,path:t.path??[]};return t.message||(i.message=An(t.inst?._zod.def?.error?.(t))??An(r?.error?.(t))??An(e.customError?.(t))??An(e.localeError?.(t))??"Invalid input"),delete i.inst,delete i.continue,r?.reportInput||delete i.input,i}function w(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function R(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function P(...t){let[r,e,i]=t;return typeof r=="string"?{message:r,code:"custom",input:e,inst:i}:{...r}}function A(t){return Object.entries(t).filter(([r,e])=>Number.isNaN(Number.parseInt(r,10))).map(r=>r[1])}function we(t){let r=atob(t),e=new Uint8Array(r.length);for(let i=0;i<r.length;i++)e[i]=r.charCodeAt(i);return e}function qe(t){let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}function gt(t){let r=t.replace(/-/g,"+").replace(/_/g,"/"),e="=".repeat((4-r.length%4)%4);return we(r+e)}function je(t){return qe(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function _t(t){let r=t.replace(/^0x/,"");if(r.length%2!=0)throw Error("Invalid hex string length");let e=new Uint8Array(r.length/2);for(let i=0;i<r.length;i+=2)e[i/2]=Number.parseInt(r.slice(i,i+2),16);return e}function gr(t){return Array.from(t).map(r=>r.toString(16).padStart(2,"0")).join("")}class Tr{constructor(...r){}}v.s(["BIGINT_FORMAT_RANGES",0,is,"Class",()=>Tr,"NUMBER_FORMAT_RANGES",0,qo,"aborted",()=>na,"allowsEval",0,ho,"assert",()=>mi,"assertEqual",()=>Kn,"assertIs",()=>Zi,"assertNever",()=>$i,"assertNotEqual",()=>Xi,"assignProp",()=>Vi,"base64ToUint8Array",()=>we,"base64urlToUint8Array",()=>gt,"cached",()=>qn,"captureStackTrace",0,Oi,"cleanEnum",()=>A,"cleanRegex",()=>yn,"clone",()=>Qn,"cloneDef",()=>Yi,"createTransparentProxy",()=>Ei,"defineLazy",()=>Sr,"esc",()=>ni,"escapeRegex",()=>Hi,"extend",()=>Ms,"finalizeIssue",()=>u,"floatSafeRemainder",()=>pa,"getElementAtPath",()=>zi,"getEnumValues",()=>Bi,"getLengthableOrigin",()=>R,"getParsedType",0,t=>{let r=typeof t;switch(r){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw Error(`Unknown data type: ${r}`)}},"getSizableOrigin",()=>w,"hexToUint8Array",()=>_t,"isObject",()=>Ni,"isPlainObject",()=>va,"issue",()=>P,"joinValues",()=>Nt,"jsonStringifyReplacer",()=>hi,"merge",()=>fs,"mergeDefs",()=>Nn,"normalizeParams",()=>rr,"nullish",()=>ti,"numKeys",()=>ns,"objectClone",()=>Ri,"omit",()=>Sa,"optionalKeys",()=>eo,"partial",()=>Rs,"pick",()=>As,"prefixIssues",()=>Ba,"primitiveTypes",0,xo,"promiseAllObject",()=>sa,"propertyKeyTypes",0,bi,"randomString",()=>Oa,"required",()=>fo,"safeExtend",()=>Ko,"shallowClone",()=>Jo,"slugify",()=>Na,"stringifyPrimitive",()=>Nr,"uint8ArrayToBase64",()=>qe,"uint8ArrayToBase64url",()=>je,"uint8ArrayToHex",()=>gr,"unwrapMessage",()=>An],64684);let Yt=(t,r)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:r,enumerable:!1}),t.message=JSON.stringify(r,hi,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},on=G("$ZodError",Yt),jr=G("$ZodError",Yt,{Parent:Error});function sn(t,r=e=>e.message){let e={},i=[];for(let a of t.issues)a.path.length>0?(e[a.path[0]]=e[a.path[0]]||[],e[a.path[0]].push(r(a))):i.push(r(a));return{formErrors:i,fieldErrors:e}}function Or(t,r=e=>e.message){let e={_errors:[]},i=a=>{for(let m of a.issues)if(m.code==="invalid_union"&&m.errors.length)m.errors.map(f=>i({issues:f}));else if(m.code==="invalid_key")i({issues:m.issues});else if(m.code==="invalid_element")i({issues:m.issues});else if(m.path.length===0)e._errors.push(r(m));else{let f=e,$=0;for(;$<m.path.length;){let g=m.path[$];$===m.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(r(m))):f[g]=f[g]||{_errors:[]},f=f[g],$++}}};return i(t),e}function Vr(t,r=e=>e.message){let e={errors:[]},i=(a,m=[])=>{var f,$;for(let g of a.issues)if(g.code==="invalid_union"&&g.errors.length)g.errors.map(j=>i({issues:j},g.path));else if(g.code==="invalid_key")i({issues:g.issues},g.path);else if(g.code==="invalid_element")i({issues:g.issues},g.path);else{let j=[...m,...g.path];if(j.length===0){e.errors.push(r(g));continue}let Q=e,ze=0;for(;ze<j.length;){let Ct=j[ze],Ft=ze===j.length-1;typeof Ct=="string"?(Q.properties??(Q.properties={}),(f=Q.properties)[Ct]??(f[Ct]={errors:[]}),Q=Q.properties[Ct]):(Q.items??(Q.items=[]),($=Q.items)[Ct]??($[Ct]={errors:[]}),Q=Q.items[Ct]),Ft&&Q.errors.push(r(g)),ze++}}};return i(t),e}function Mr(t){let r=[];for(let e of t.map(i=>typeof i=="object"?i.key:i))typeof e=="number"?r.push(`[${e}]`):typeof e=="symbol"?r.push(`[${JSON.stringify(String(e))}]`):/[^\w$]/.test(e)?r.push(`[${JSON.stringify(e)}]`):(r.length&&r.push("."),r.push(e));return r.join("")}function Ir(t){let r=[];for(let e of[...t.issues].sort((i,a)=>(i.path??[]).length-(a.path??[]).length))r.push(`\u2716 ${e.message}`),e.path?.length&&r.push(`  \u2192 at ${Mr(e.path)}`);return r.join(`
`)}v.s(["$ZodError",0,on,"$ZodRealError",0,jr,"flattenError",()=>sn,"formatError",()=>Or,"prettifyError",()=>Ir,"toDotPath",()=>Mr,"treeifyError",()=>Vr],3056);let Ka=t=>(r,e,i,a)=>{let m=i?Object.assign(i,{async:!1}):{async:!1},f=r._zod.run({value:e,issues:[]},m);if(f instanceof Promise)throw new tn;if(f.issues.length){let $=new(a?.Err??t)(f.issues.map(g=>u(g,m,Hr())));throw Oi($,a?.callee),$}return f.value},ba=Ka(jr),go=t=>async(r,e,i,a)=>{let m=i?Object.assign(i,{async:!0}):{async:!0},f=r._zod.run({value:e,issues:[]},m);if(f instanceof Promise&&(f=await f),f.issues.length){let $=new(a?.Err??t)(f.issues.map(g=>u(g,m,Hr())));throw Oi($,a?.callee),$}return f.value},Po=go(jr),wo=t=>(r,e,i)=>{let a=i?{...i,async:!1}:{async:!1},m=r._zod.run({value:e,issues:[]},a);if(m instanceof Promise)throw new tn;return m.issues.length?{success:!1,error:new(t??on)(m.issues.map(f=>u(f,a,Hr())))}:{success:!0,data:m.value}},Lo=wo(jr),ko=t=>async(r,e,i)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},m=r._zod.run({value:e,issues:[]},a);return m instanceof Promise&&(m=await m),m.issues.length?{success:!1,error:new t(m.issues.map(f=>u(f,a,Hr())))}:{success:!0,data:m.value}},_a=ko(jr),Io=t=>(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ka(t)(r,e,a)},ia=Io(jr),ao=t=>(r,e,i)=>Ka(t)(r,e,i),Ws=ao(jr),jo=t=>async(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return go(t)(r,e,a)},Ds=jo(jr),Fo=t=>async(r,e,i)=>go(t)(r,e,i),ma=Fo(jr),oo=t=>(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return wo(t)(r,e,a)},Wn=oo(jr),Wa=t=>(r,e,i)=>wo(t)(r,e,i),za=Wa(jr),gs=t=>async(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ko(t)(r,e,a)},Ao=gs(jr),Pa=t=>async(r,e,i)=>ko(t)(r,e,i),Zo=Pa(jr);v.s(["_decode",0,ao,"_decodeAsync",0,Fo,"_encode",0,Io,"_encodeAsync",0,jo,"_parse",0,Ka,"_parseAsync",0,go,"_safeDecode",0,Wa,"_safeDecodeAsync",0,Pa,"_safeEncode",0,oo,"_safeEncodeAsync",0,gs,"_safeParse",0,wo,"_safeParseAsync",0,ko,"decode",0,Ws,"decodeAsync",0,ma,"encode",0,ia,"encodeAsync",0,Ds,"parse",0,ba,"parseAsync",0,Po,"safeDecode",0,za,"safeDecodeAsync",0,Zo,"safeEncode",0,Wn,"safeEncodeAsync",0,Ao,"safeParse",0,Lo,"safeParseAsync",0,_a],63733);let ys=/^[cC][^\s-]{8,}$/,Va=/^[0-9a-z]+$/,Zs=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,as=/^[0-9a-vA-V]{20}$/,x=/^[A-Za-z0-9]{27}$/,F=/^[a-zA-Z0-9_-]{21}$/,ne=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,he=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ee=t=>t?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Te=Ee(4),ae=Ee(6),fe=Ee(7),He=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,pe=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function nt(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let Ke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,We=t=>{let r=Hi(t??":");return RegExp(`^(?:[0-9A-F]{2}${r}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${r}){5}[0-9a-f]{2}$`)},jt=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,St=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,$t=/^[A-Za-z0-9_-]*$/,at=/^\+(?:[0-9]){6,14}[0-9]$/,Ut="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dr=RegExp(`^${Ut}$`);function Ie(t){let r="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${r}`:t.precision===0?`${r}:[0-5]\\d`:`${r}:[0-5]\\d\\.\\d{${t.precision}}`:`${r}(?::[0-5]\\d(?:\\.\\d+)?)?`}function de(t){return RegExp(`^${Ie(t)}$`)}function ke(t){let r=Ie({precision:t.precision}),e=["Z"];t.local&&e.push(""),t.offset&&e.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${r}(?:${e.join("|")})`;return RegExp(`^${Ut}T(?:${i})$`)}let kr=t=>{let r=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${r}$`)},At=/^-?\d+n?$/,zt=/^-?\d+$/,dt=/^-?\d+(?:\.\d+)?/,Me=/^(?:true|false)$/i,Bt=/^null$/i,Kt=/^undefined$/i,Tt=/^[^A-Z]*$/,Dt=/^[^a-z]*$/;function Ur(t,r){return RegExp(`^[A-Za-z0-9+/]{${t}}${r}$`)}function fr(t){return RegExp(`^[A-Za-z0-9_-]{${t}}$`)}let sr=Ur(22,"=="),Ye=fr(22),Lt=Ur(27,"="),yt=fr(27),la=Ur(43,"="),qr=fr(43),kt=Ur(64,""),Ne=fr(64),or=Ur(86,"=="),Wt=fr(86);v.s(["base64",0,Xe,"base64url",0,$t,"bigint",0,At,"boolean",0,Me,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,jt,"cidrv6",0,St,"cuid",0,ys,"cuid2",0,Va,"date",0,dr,"datetime",()=>ke,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,ne,"e164",0,at,"email",0,He,"emoji",()=>nt,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,he,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,pe,"integer",0,zt,"ipv4",0,Ke,"ipv6",0,mt,"ksuid",0,x,"lowercase",0,Tt,"mac",0,We,"md5_base64",0,sr,"md5_base64url",0,Ye,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,F,"null",()=>Bt,"number",0,dt,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,Lt,"sha1_base64url",0,yt,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,la,"sha256_base64url",0,qr,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,kt,"sha384_base64url",0,Ne,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,or,"sha512_base64url",0,Wt,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,kr,"time",()=>de,"ulid",0,Zs,"undefined",()=>Kt,"unicodeEmail",0,pe,"uppercase",0,Dt,"uuid",0,Ee,"uuid4",0,Te,"uuid6",0,ae,"uuid7",0,fe,"xid",0,as],21268);let ln=G("$ZodCheck",(t,r)=>{var e;t._zod??(t._zod={}),t._zod.def=r,(e=t._zod).onattach??(e.onattach=[])}),ja={number:"number",bigint:"bigint",object:"date"},Pr=G("$ZodCheckLessThan",(t,r)=>{ln.init(t,r);let e=ja[typeof r.value];t._zod.onattach.push(i=>{let a=i._zod.bag,m=(r.inclusive?a.maximum:a.exclusiveMaximum)??1/0;r.value<m&&(r.inclusive?a.maximum=r.value:a.exclusiveMaximum=r.value)}),t._zod.check=i=>{(r.inclusive?i.value<=r.value:i.value<r.value)||i.issues.push({origin:e,code:"too_big",maximum:r.value,input:i.value,inclusive:r.inclusive,inst:t,continue:!r.abort})}}),Ti=G("$ZodCheckGreaterThan",(t,r)=>{ln.init(t,r);let e=ja[typeof r.value];t._zod.onattach.push(i=>{let a=i._zod.bag,m=(r.inclusive?a.minimum:a.exclusiveMinimum)??-1/0;r.value>m&&(r.inclusive?a.minimum=r.value:a.exclusiveMinimum=r.value)}),t._zod.check=i=>{(r.inclusive?i.value>=r.value:i.value>r.value)||i.issues.push({origin:e,code:"too_small",minimum:r.value,input:i.value,inclusive:r.inclusive,inst:t,continue:!r.abort})}}),yo=G("$ZodCheckMultipleOf",(t,r)=>{ln.init(t,r),t._zod.onattach.push(e=>{var i;(i=e._zod.bag).multipleOf??(i.multipleOf=r.value)}),t._zod.check=e=>{if(typeof e.value!=typeof r.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof e.value=="bigint"?e.value%r.value===BigInt(0):pa(e.value,r.value)===0)||e.issues.push({origin:typeof e.value,code:"not_multiple_of",divisor:r.value,input:e.value,inst:t,continue:!r.abort})}}),Hn=G("$ZodCheckNumberFormat",(t,r)=>{ln.init(t,r),r.format=r.format||"float64";let e=r.format?.includes("int"),i=e?"int":"number",[a,m]=qo[r.format];t._zod.onattach.push(f=>{let $=f._zod.bag;$.format=r.format,$.minimum=a,$.maximum=m,e&&($.pattern=zt)}),t._zod.check=f=>{let $=f.value;if(e){if(!Number.isInteger($))return void f.issues.push({expected:i,format:r.format,code:"invalid_type",continue:!1,input:$,inst:t});if(!Number.isSafeInteger($))return void($>0?f.issues.push({input:$,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!r.abort}):f.issues.push({input:$,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!r.abort}))}$<a&&f.issues.push({origin:"number",input:$,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!r.abort}),$>m&&f.issues.push({origin:"number",input:$,code:"too_big",maximum:m,inst:t})}}),Bs=G("$ZodCheckBigIntFormat",(t,r)=>{ln.init(t,r);let[e,i]=is[r.format];t._zod.onattach.push(a=>{let m=a._zod.bag;m.format=r.format,m.minimum=e,m.maximum=i}),t._zod.check=a=>{let m=a.value;m<e&&a.issues.push({origin:"bigint",input:m,code:"too_small",minimum:e,inclusive:!0,inst:t,continue:!r.abort}),m>i&&a.issues.push({origin:"bigint",input:m,code:"too_big",maximum:i,inst:t})}}),Vs=G("$ZodCheckMaxSize",(t,r)=>{var e;ln.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!ti(a)&&a.size!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.maximum??1/0;r.maximum<a&&(i._zod.bag.maximum=r.maximum)}),t._zod.check=i=>{let a=i.value;a.size<=r.maximum||i.issues.push({origin:w(a),code:"too_big",maximum:r.maximum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),vs=G("$ZodCheckMinSize",(t,r)=>{var e;ln.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!ti(a)&&a.size!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.minimum??-1/0;r.minimum>a&&(i._zod.bag.minimum=r.minimum)}),t._zod.check=i=>{let a=i.value;a.size>=r.minimum||i.issues.push({origin:w(a),code:"too_small",minimum:r.minimum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),k=G("$ZodCheckSizeEquals",(t,r)=>{var e;ln.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!ti(a)&&a.size!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag;a.minimum=r.size,a.maximum=r.size,a.size=r.size}),t._zod.check=i=>{let a=i.value,m=a.size;if(m===r.size)return;let f=m>r.size;i.issues.push({origin:w(a),...f?{code:"too_big",maximum:r.size}:{code:"too_small",minimum:r.size},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!r.abort})}}),d=G("$ZodCheckMaxLength",(t,r)=>{var e;ln.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!ti(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.maximum??1/0;r.maximum<a&&(i._zod.bag.maximum=r.maximum)}),t._zod.check=i=>{let a=i.value;if(a.length<=r.maximum)return;let m=R(a);i.issues.push({origin:m,code:"too_big",maximum:r.maximum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),y=G("$ZodCheckMinLength",(t,r)=>{var e;ln.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!ti(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.minimum??-1/0;r.minimum>a&&(i._zod.bag.minimum=r.minimum)}),t._zod.check=i=>{let a=i.value;if(a.length>=r.minimum)return;let m=R(a);i.issues.push({origin:m,code:"too_small",minimum:r.minimum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),O=G("$ZodCheckLengthEquals",(t,r)=>{var e;ln.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!ti(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag;a.minimum=r.length,a.maximum=r.length,a.length=r.length}),t._zod.check=i=>{let a=i.value,m=a.length;if(m===r.length)return;let f=R(a),$=m>r.length;i.issues.push({origin:f,...$?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!r.abort})}}),L=G("$ZodCheckStringFormat",(t,r)=>{var e,i;ln.init(t,r),t._zod.onattach.push(a=>{let m=a._zod.bag;m.format=r.format,r.pattern&&(m.patterns??(m.patterns=new Set),m.patterns.add(r.pattern))}),r.pattern?(e=t._zod).check??(e.check=a=>{r.pattern.lastIndex=0,r.pattern.test(a.value)||a.issues.push({origin:"string",code:"invalid_format",format:r.format,input:a.value,...r.pattern?{pattern:r.pattern.toString()}:{},inst:t,continue:!r.abort})}):(i=t._zod).check??(i.check=()=>{})}),ue=G("$ZodCheckRegex",(t,r)=>{L.init(t,r),t._zod.check=e=>{r.pattern.lastIndex=0,r.pattern.test(e.value)||e.issues.push({origin:"string",code:"invalid_format",format:"regex",input:e.value,pattern:r.pattern.toString(),inst:t,continue:!r.abort})}}),E=G("$ZodCheckLowerCase",(t,r)=>{r.pattern??(r.pattern=Tt),L.init(t,r)}),Y=G("$ZodCheckUpperCase",(t,r)=>{r.pattern??(r.pattern=Dt),L.init(t,r)}),xe=G("$ZodCheckIncludes",(t,r)=>{ln.init(t,r);let e=Hi(r.includes),i=new RegExp(typeof r.position=="number"?`^.{${r.position}}${e}`:e);r.pattern=i,t._zod.onattach.push(a=>{let m=a._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(i)}),t._zod.check=a=>{a.value.includes(r.includes,r.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:r.includes,input:a.value,inst:t,continue:!r.abort})}}),Ae=G("$ZodCheckStartsWith",(t,r)=>{ln.init(t,r);let e=RegExp(`^${Hi(r.prefix)}.*`);r.pattern??(r.pattern=e),t._zod.onattach.push(i=>{let a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(e)}),t._zod.check=i=>{i.value.startsWith(r.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:r.prefix,input:i.value,inst:t,continue:!r.abort})}}),ot=G("$ZodCheckEndsWith",(t,r)=>{ln.init(t,r);let e=RegExp(`.*${Hi(r.suffix)}$`);r.pattern??(r.pattern=e),t._zod.onattach.push(i=>{let a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(e)}),t._zod.check=i=>{i.value.endsWith(r.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:r.suffix,input:i.value,inst:t,continue:!r.abort})}});function Ot(t,r,e){t.issues.length&&r.issues.push(...Ba(e,t.issues))}let tt=G("$ZodCheckProperty",(t,r)=>{ln.init(t,r),t._zod.check=e=>{let i=r.schema._zod.run({value:e.value[r.property],issues:[]},{});if(i instanceof Promise)return i.then(a=>Ot(a,e,r.property));Ot(i,e,r.property)}}),lr=G("$ZodCheckMimeType",(t,r)=>{ln.init(t,r);let e=new Set(r.mime);t._zod.onattach.push(i=>{i._zod.bag.mime=r.mime}),t._zod.check=i=>{e.has(i.value.type)||i.issues.push({code:"invalid_value",values:r.mime,input:i.value.type,inst:t,continue:!r.abort})}}),Jt=G("$ZodCheckOverwrite",(t,r)=>{ln.init(t,r),t._zod.check=e=>{e.value=r.tx(e.value)}});v.s(["$ZodCheck",0,ln,"$ZodCheckBigIntFormat",0,Bs,"$ZodCheckEndsWith",0,ot,"$ZodCheckGreaterThan",0,Ti,"$ZodCheckIncludes",0,xe,"$ZodCheckLengthEquals",0,O,"$ZodCheckLessThan",0,Pr,"$ZodCheckLowerCase",0,E,"$ZodCheckMaxLength",0,d,"$ZodCheckMaxSize",0,Vs,"$ZodCheckMimeType",0,lr,"$ZodCheckMinLength",0,y,"$ZodCheckMinSize",0,vs,"$ZodCheckMultipleOf",0,yo,"$ZodCheckNumberFormat",0,Hn,"$ZodCheckOverwrite",0,Jt,"$ZodCheckProperty",0,tt,"$ZodCheckRegex",0,ue,"$ZodCheckSizeEquals",0,k,"$ZodCheckStartsWith",0,Ae,"$ZodCheckStringFormat",0,L,"$ZodCheckUpperCase",0,Y],65549);class er{constructor(r=[]){this.content=[],this.indent=0,this&&(this.args=r)}indented(r){this.indent+=1,r(this),this.indent-=1}write(r){if(typeof r=="function"){r(this,{execution:"sync"}),r(this,{execution:"async"});return}let e=r.split(`
`).filter(a=>a),i=Math.min(...e.map(a=>a.length-a.trimStart().length));for(let a of e.map(m=>m.slice(i)).map(m=>" ".repeat(2*this.indent)+m))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(r=>`  ${r}`)].join(`
`))}}v.s(["Doc",()=>er],15210);let Pt={major:4,minor:2,patch:1};v.s(["version",0,Pt],36116);let Ht=G("$ZodType",(t,r)=>{var e;t??(t={}),t._zod.def=r,t._zod.bag=t._zod.bag||{},t._zod.version=Pt;let i=[...t._zod.def.checks??[]];for(let a of(t._zod.traits.has("$ZodCheck")&&i.unshift(t),i))for(let m of a._zod.onattach)m(t);if(i.length===0)(e=t._zod).deferred??(e.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let a=(f,$,g)=>{let j,Q=na(f);for(let ze of $){if(ze._zod.def.when){if(!ze._zod.def.when(f))continue}else if(Q)continue;let Ct=f.issues.length,Ft=ze._zod.check(f);if(Ft instanceof Promise&&g?.async===!1)throw new tn;if(j||Ft instanceof Promise)j=(j??Promise.resolve()).then(async()=>{await Ft,f.issues.length!==Ct&&(Q||(Q=na(f,Ct)))});else{if(f.issues.length===Ct)continue;Q||(Q=na(f,Ct))}}return j?j.then(()=>f):f},m=(f,$,g)=>{if(na(f))return f.aborted=!0,f;let j=a($,i,g);if(j instanceof Promise){if(g.async===!1)throw new tn;return j.then(Q=>t._zod.parse(Q,g))}return t._zod.parse(j,g)};t._zod.run=(f,$)=>{if($.skipChecks)return t._zod.parse(f,$);if($.direction==="backward"){let j=t._zod.parse({value:f.value,issues:[]},{...$,skipChecks:!0});return j instanceof Promise?j.then(Q=>m(Q,f,$)):m(j,f,$)}let g=t._zod.parse(f,$);if(g instanceof Promise){if($.async===!1)throw new tn;return g.then(j=>a(j,i,$))}return a(g,i,$)}}t["~standard"]={validate:a=>{try{let m=Lo(t,a);return m.success?{value:m.data}:{issues:m.error?.issues}}catch{return _a(t,a).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),It=G("$ZodString",(t,r)=>{Ht.init(t,r),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??kr(t._zod.bag),t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=String(e.value)}catch{}return typeof e.value=="string"||e.issues.push({expected:"string",code:"invalid_type",input:e.value,inst:t}),e}}),Mt=G("$ZodStringFormat",(t,r)=>{L.init(t,r),It.init(t,r)}),cn=G("$ZodGUID",(t,r)=>{r.pattern??(r.pattern=he),Mt.init(t,r)}),_i=G("$ZodUUID",(t,r)=>{if(r.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[r.version];if(e===void 0)throw Error(`Invalid UUID version: "${r.version}"`);r.pattern??(r.pattern=Ee(e))}else r.pattern??(r.pattern=Ee());Mt.init(t,r)}),Ci=G("$ZodEmail",(t,r)=>{r.pattern??(r.pattern=He),Mt.init(t,r)}),Ln=G("$ZodURL",(t,r)=>{Mt.init(t,r),t._zod.check=e=>{try{let i=e.value.trim(),a=new URL(i);r.hostname&&(r.hostname.lastIndex=0,r.hostname.test(a.hostname)||e.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:r.hostname.source,input:e.value,inst:t,continue:!r.abort})),r.protocol&&(r.protocol.lastIndex=0,r.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||e.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:r.protocol.source,input:e.value,inst:t,continue:!r.abort})),r.normalize?e.value=a.href:e.value=i;return}catch{e.issues.push({code:"invalid_format",format:"url",input:e.value,inst:t,continue:!r.abort})}}}),aa=G("$ZodEmoji",(t,r)=>{r.pattern??(r.pattern=nt()),Mt.init(t,r)}),Pi=G("$ZodNanoID",(t,r)=>{r.pattern??(r.pattern=F),Mt.init(t,r)}),fi=G("$ZodCUID",(t,r)=>{r.pattern??(r.pattern=ys),Mt.init(t,r)}),vo=G("$ZodCUID2",(t,r)=>{r.pattern??(r.pattern=Va),Mt.init(t,r)}),ji=G("$ZodULID",(t,r)=>{r.pattern??(r.pattern=Zs),Mt.init(t,r)}),ha=G("$ZodXID",(t,r)=>{r.pattern??(r.pattern=as),Mt.init(t,r)}),to=G("$ZodKSUID",(t,r)=>{r.pattern??(r.pattern=x),Mt.init(t,r)}),da=G("$ZodISODateTime",(t,r)=>{r.pattern??(r.pattern=ke(r)),Mt.init(t,r)}),Ga=G("$ZodISODate",(t,r)=>{r.pattern??(r.pattern=dr),Mt.init(t,r)}),qi=G("$ZodISOTime",(t,r)=>{r.pattern??(r.pattern=de(r)),Mt.init(t,r)}),ka=G("$ZodISODuration",(t,r)=>{r.pattern??(r.pattern=ne),Mt.init(t,r)}),Aa=G("$ZodIPv4",(t,r)=>{r.pattern??(r.pattern=Ke),Mt.init(t,r),t._zod.bag.format="ipv4"}),Ma=G("$ZodIPv6",(t,r)=>{r.pattern??(r.pattern=mt),Mt.init(t,r),t._zod.bag.format="ipv6",t._zod.check=e=>{try{new URL(`http://[${e.value}]`)}catch{e.issues.push({code:"invalid_format",format:"ipv6",input:e.value,inst:t,continue:!r.abort})}}}),Mo=G("$ZodMAC",(t,r)=>{r.pattern??(r.pattern=We(r.delimiter)),Mt.init(t,r),t._zod.bag.format="mac"}),Rn=G("$ZodCIDRv4",(t,r)=>{r.pattern??(r.pattern=jt),Mt.init(t,r)}),ui=G("$ZodCIDRv6",(t,r)=>{r.pattern??(r.pattern=St),Mt.init(t,r),t._zod.check=e=>{let i=e.value.split("/");try{if(i.length!==2)throw Error();let[a,m]=i;if(!m)throw Error();let f=Number(m);if(`${f}`!==m||f<0||f>128)throw Error();new URL(`http://[${a}]`)}catch{e.issues.push({code:"invalid_format",format:"cidrv6",input:e.value,inst:t,continue:!r.abort})}}});function so(t){if(t==="")return!0;if(t.length%4!=0)return!1;try{return atob(t),!0}catch{return!1}}let bs=G("$ZodBase64",(t,r)=>{r.pattern??(r.pattern=Xe),Mt.init(t,r),t._zod.bag.contentEncoding="base64",t._zod.check=e=>{so(e.value)||e.issues.push({code:"invalid_format",format:"base64",input:e.value,inst:t,continue:!r.abort})}});function Bo(t){if(!$t.test(t))return!1;let r=t.replace(/[-_]/g,e=>e==="-"?"+":"/");return so(r.padEnd(4*Math.ceil(r.length/4),"="))}let Wo=G("$ZodBase64URL",(t,r)=>{r.pattern??(r.pattern=$t),Mt.init(t,r),t._zod.bag.contentEncoding="base64url",t._zod.check=e=>{Bo(e.value)||e.issues.push({code:"invalid_format",format:"base64url",input:e.value,inst:t,continue:!r.abort})}}),_s=G("$ZodE164",(t,r)=>{r.pattern??(r.pattern=at),Mt.init(t,r)});function T(t,r=null){try{let e=t.split(".");if(e.length!==3)return!1;let[i]=e;if(!i)return!1;let a=JSON.parse(atob(i));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||r&&(!("alg"in a)||a.alg!==r))}catch{return!1}}let o=G("$ZodJWT",(t,r)=>{Mt.init(t,r),t._zod.check=e=>{T(e.value,r.alg)||e.issues.push({code:"invalid_format",format:"jwt",input:e.value,inst:t,continue:!r.abort})}}),l=G("$ZodCustomStringFormat",(t,r)=>{Mt.init(t,r),t._zod.check=e=>{r.fn(e.value)||e.issues.push({code:"invalid_format",format:r.format,input:e.value,inst:t,continue:!r.abort})}}),C=G("$ZodNumber",(t,r)=>{Ht.init(t,r),t._zod.pattern=t._zod.bag.pattern??dt,t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=Number(e.value)}catch{}let a=e.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return e;let m=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return e.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...m?{received:m}:{}}),e}}),B=G("$ZodNumberFormat",(t,r)=>{Hn.init(t,r),C.init(t,r)}),se=G("$ZodBoolean",(t,r)=>{Ht.init(t,r),t._zod.pattern=Me,t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=!!e.value}catch{}let a=e.value;return typeof a=="boolean"||e.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:t}),e}}),Je=G("$ZodBigInt",(t,r)=>{Ht.init(t,r),t._zod.pattern=At,t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=BigInt(e.value)}catch{}return typeof e.value=="bigint"||e.issues.push({expected:"bigint",code:"invalid_type",input:e.value,inst:t}),e}}),st=G("$ZodBigIntFormat",(t,r)=>{Bs.init(t,r),Je.init(t,r)}),ur=G("$ZodSymbol",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;return typeof a=="symbol"||e.issues.push({expected:"symbol",code:"invalid_type",input:a,inst:t}),e}}),Er=G("$ZodUndefined",(t,r)=>{Ht.init(t,r),t._zod.pattern=Kt,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(e,i)=>{let a=e.value;return a===void 0||e.issues.push({expected:"undefined",code:"invalid_type",input:a,inst:t}),e}}),rn=G("$ZodNull",(t,r)=>{Ht.init(t,r),t._zod.pattern=Bt,t._zod.values=new Set([null]),t._zod.parse=(e,i)=>{let a=e.value;return a===null||e.issues.push({expected:"null",code:"invalid_type",input:a,inst:t}),e}}),vn=G("$ZodAny",(t,r)=>{Ht.init(t,r),t._zod.parse=e=>e}),ct=G("$ZodUnknown",(t,r)=>{Ht.init(t,r),t._zod.parse=e=>e}),yr=G("$ZodNever",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>(e.issues.push({expected:"never",code:"invalid_type",input:e.value,inst:t}),e)}),wr=G("$ZodVoid",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;return a===void 0||e.issues.push({expected:"void",code:"invalid_type",input:a,inst:t}),e}}),Cr=G("$ZodDate",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=new Date(e.value)}catch{}let a=e.value,m=a instanceof Date;return m&&!Number.isNaN(a.getTime())||e.issues.push({expected:"date",code:"invalid_type",input:a,...m?{received:"Invalid Date"}:{},inst:t}),e}});function un(t,r,e){t.issues.length&&r.issues.push(...Ba(e,t.issues)),r.value[e]=t.value}let fn=G("$ZodArray",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!Array.isArray(a))return e.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),e;e.value=Array(a.length);let m=[];for(let f=0;f<a.length;f++){let $=a[f],g=r.element._zod.run({value:$,issues:[]},i);g instanceof Promise?m.push(g.then(j=>un(j,e,f))):un(g,e,f)}return m.length?Promise.all(m).then(()=>e):e}});function Pn(t,r,e,i){t.issues.length&&r.issues.push(...Ba(e,t.issues)),t.value===void 0?e in i&&(r.value[e]=void 0):r.value[e]=t.value}function Un(t){let r=Object.keys(t.shape);for(let i of r)if(!t.shape?.[i]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${i}": expected a Zod schema`);let e=eo(t.shape);return{...t,keys:r,keySet:new Set(r),numKeys:r.length,optionalKeys:new Set(e)}}function $o(t,r,e,i,a,m){let f=[],$=a.keySet,g=a.catchall._zod,j=g.def.type;for(let Q in r){if($.has(Q))continue;if(j==="never"){f.push(Q);continue}let ze=g.run({value:r[Q],issues:[]},i);ze instanceof Promise?t.push(ze.then(Ct=>Pn(Ct,e,Q,r))):Pn(ze,e,Q,r)}return f.length&&e.issues.push({code:"unrecognized_keys",keys:f,input:r,inst:m}),t.length?Promise.all(t).then(()=>e):e}let ro=G("$ZodObject",(t,r)=>{let e;if(Ht.init(t,r),!Object.getOwnPropertyDescriptor(r,"shape")?.get){let f=r.shape;Object.defineProperty(r,"shape",{get:()=>{let $={...f};return Object.defineProperty(r,"shape",{value:$}),$}})}let a=qn(()=>Un(r));Sr(t._zod,"propValues",()=>{let f=r.shape,$={};for(let g in f){let j=f[g]._zod;if(j.values)for(let Q of($[g]??($[g]=new Set),j.values))$[g].add(Q)}return $});let m=r.catchall;t._zod.parse=(f,$)=>{e??(e=a.value);let g=f.value;if(!Ni(g))return f.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),f;f.value={};let j=[],Q=e.shape;for(let ze of e.keys){let Ct=Q[ze]._zod.run({value:g[ze],issues:[]},$);Ct instanceof Promise?j.push(Ct.then(Ft=>Pn(Ft,f,ze,g))):Pn(Ct,f,ze,g)}return m?$o(j,g,f,$,a.value,t):j.length?Promise.all(j).then(()=>f):f}}),Ji=G("$ZodObjectJIT",(t,r)=>{let e,i;ro.init(t,r);let a=t._zod.parse,m=qn(()=>Un(r)),f=!Tn.jitless,$=f&&ho.value,g=r.catchall;t._zod.parse=(j,Q)=>{i??(i=m.value);let ze=j.value;return Ni(ze)?f&&$&&Q?.async===!1&&Q.jitless!==!0?(e||(e=(Ct=>{let Ft=new er(["shape","payload","ctx"]),ri=m.value,Rt=Cn=>{let xa=ni(Cn);return`shape[${xa}]._zod.run({ value: input[${xa}], issues: [] }, ctx)`};Ft.write("const input = payload.value;");let Yr=Object.create(null),vi=0;for(let Cn of ri.keys)Yr[Cn]=`key_${vi++}`;for(let Cn of(Ft.write("const newResult = {};"),ri.keys)){let xa=Yr[Cn],ya=ni(Cn);Ft.write(`const ${xa} = ${Rt(Cn)};`),Ft.write(`
        if (${xa}.issues.length) {
          payload.issues = payload.issues.concat(${xa}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ya}, ...iss.path] : [${ya}]
          })));
        }
        
        
        if (${xa}.value === undefined) {
          if (${ya} in input) {
            newResult[${ya}] = undefined;
          }
        } else {
          newResult[${ya}] = ${xa}.value;
        }
        
      `)}Ft.write("payload.value = newResult;"),Ft.write("return payload;");let En=Ft.compile();return(Cn,xa)=>En(Ct,Cn,xa)})(r.shape)),j=e(j,Q),g?$o([],ze,j,Q,i,t):j):a(j,Q):(j.issues.push({expected:"object",code:"invalid_type",input:ze,inst:t}),j)}});function Ki(t,r,e,i){for(let m of t)if(m.issues.length===0)return r.value=m.value,r;let a=t.filter(m=>!na(m));return a.length===1?(r.value=a[0].value,a[0]):(r.issues.push({code:"invalid_union",input:r.value,inst:e,errors:t.map(m=>m.issues.map(f=>u(f,i,Hr())))}),r)}let Eo=G("$ZodUnion",(t,r)=>{Ht.init(t,r),Sr(t._zod,"optin",()=>r.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Sr(t._zod,"optout",()=>r.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Sr(t._zod,"values",()=>{if(r.options.every(a=>a._zod.values))return new Set(r.options.flatMap(a=>Array.from(a._zod.values)))}),Sr(t._zod,"pattern",()=>{if(r.options.every(a=>a._zod.pattern)){let a=r.options.map(m=>m._zod.pattern);return RegExp(`^(${a.map(m=>yn(m.source)).join("|")})$`)}});let e=r.options.length===1,i=r.options[0]._zod.run;t._zod.parse=(a,m)=>{if(e)return i(a,m);let f=!1,$=[];for(let g of r.options){let j=g._zod.run({value:a.value,issues:[]},m);if(j instanceof Promise)$.push(j),f=!0;else{if(j.issues.length===0)return j;$.push(j)}}return f?Promise.all($).then(g=>Ki(g,a,t,m)):Ki($,a,t,m)}});function Os(t,r,e,i){let a=t.filter(m=>m.issues.length===0);return a.length===1?r.value=a[0].value:a.length===0?r.issues.push({code:"invalid_union",input:r.value,inst:e,errors:t.map(m=>m.issues.map(f=>u(f,i,Hr())))}):r.issues.push({code:"invalid_union",input:r.value,inst:e,errors:[],inclusive:!1}),r}let Hs=G("$ZodXor",(t,r)=>{Eo.init(t,r),r.inclusive=!1;let e=r.options.length===1,i=r.options[0]._zod.run;t._zod.parse=(a,m)=>{if(e)return i(a,m);let f=!1,$=[];for(let g of r.options){let j=g._zod.run({value:a.value,issues:[]},m);j instanceof Promise?($.push(j),f=!0):$.push(j)}return f?Promise.all($).then(g=>Os(g,a,t,m)):Os($,a,t,m)}}),Gs=G("$ZodDiscriminatedUnion",(t,r)=>{r.inclusive=!1,Eo.init(t,r);let e=t._zod.parse;Sr(t._zod,"propValues",()=>{let a={};for(let m of r.options){let f=m._zod.propValues;if(!f||Object.keys(f).length===0)throw Error(`Invalid discriminated union option at index "${r.options.indexOf(m)}"`);for(let[$,g]of Object.entries(f))for(let j of(a[$]||(a[$]=new Set),g))a[$].add(j)}return a});let i=qn(()=>{let a=r.options,m=new Map;for(let f of a){let $=f._zod.propValues?.[r.discriminator];if(!$||$.size===0)throw Error(`Invalid discriminated union option at index "${r.options.indexOf(f)}"`);for(let g of $){if(m.has(g))throw Error(`Duplicate discriminator value "${String(g)}"`);m.set(g,f)}}return m});t._zod.parse=(a,m)=>{let f=a.value;if(!Ni(f))return a.issues.push({code:"invalid_type",expected:"object",input:f,inst:t}),a;let $=i.value.get(f?.[r.discriminator]);return $?$._zod.run(a,m):r.unionFallback?e(a,m):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:r.discriminator,input:f,path:[r.discriminator],inst:t}),a)}}),Qs=G("$ZodIntersection",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value,m=r.left._zod.run({value:a,issues:[]},i),f=r.right._zod.run({value:a,issues:[]},i);return m instanceof Promise||f instanceof Promise?Promise.all([m,f]).then(([$,g])=>os(e,$,g)):os(e,m,f)}});function os(t,r,e){if(r.issues.length&&t.issues.push(...r.issues),e.issues.length&&t.issues.push(...e.issues),na(t))return t;let i=function a(m,f){if(m===f||m instanceof Date&&f instanceof Date&&+m==+f)return{valid:!0,data:m};if(va(m)&&va(f)){let $=Object.keys(f),g=Object.keys(m).filter(Q=>$.indexOf(Q)!==-1),j={...m,...f};for(let Q of g){let ze=a(m[Q],f[Q]);if(!ze.valid)return{valid:!1,mergeErrorPath:[Q,...ze.mergeErrorPath]};j[Q]=ze.data}return{valid:!0,data:j}}if(Array.isArray(m)&&Array.isArray(f)){if(m.length!==f.length)return{valid:!1,mergeErrorPath:[]};let $=[];for(let g=0;g<m.length;g++){let j=a(m[g],f[g]);if(!j.valid)return{valid:!1,mergeErrorPath:[g,...j.mergeErrorPath]};$.push(j.data)}return{valid:!0,data:$}}return{valid:!1,mergeErrorPath:[]}}(r.value,e.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}let s=G("$ZodTuple",(t,r)=>{Ht.init(t,r);let e=r.items;t._zod.parse=(i,a)=>{let m=i.value;if(!Array.isArray(m))return i.issues.push({input:m,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];let f=[],$=[...e].reverse().findIndex(Q=>Q._zod.optin!=="optional"),g=$===-1?0:e.length-$;if(!r.rest){let Q=m.length>e.length,ze=m.length<g-1;if(Q||ze)return i.issues.push({...Q?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},input:m,inst:t,origin:"array"}),i}let j=-1;for(let Q of e){if(++j>=m.length&&j>=g)continue;let ze=Q._zod.run({value:m[j],issues:[]},a);ze instanceof Promise?f.push(ze.then(Ct=>c(Ct,i,j))):c(ze,i,j)}if(r.rest)for(let Q of m.slice(e.length)){j++;let ze=r.rest._zod.run({value:Q,issues:[]},a);ze instanceof Promise?f.push(ze.then(Ct=>c(Ct,i,j))):c(ze,i,j)}return f.length?Promise.all(f).then(()=>i):i}});function c(t,r,e){t.issues.length&&r.issues.push(...Ba(e,t.issues)),r.value[e]=t.value}let b=G("$ZodRecord",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!va(a))return e.issues.push({expected:"record",code:"invalid_type",input:a,inst:t}),e;let m=[],f=r.keyType._zod.values;if(f){let $;e.value={};let g=new Set;for(let j of f)if(typeof j=="string"||typeof j=="number"||typeof j=="symbol"){g.add(typeof j=="number"?j.toString():j);let Q=r.valueType._zod.run({value:a[j],issues:[]},i);Q instanceof Promise?m.push(Q.then(ze=>{ze.issues.length&&e.issues.push(...Ba(j,ze.issues)),e.value[j]=ze.value})):(Q.issues.length&&e.issues.push(...Ba(j,Q.issues)),e.value[j]=Q.value)}for(let j in a)g.has(j)||($=$??[]).push(j);$&&$.length>0&&e.issues.push({code:"unrecognized_keys",input:a,inst:t,keys:$})}else for(let $ of(e.value={},Reflect.ownKeys(a))){if($==="__proto__")continue;let g=r.keyType._zod.run({value:$,issues:[]},i);if(g instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(g.issues.length){r.mode==="loose"?e.value[$]=a[$]:e.issues.push({code:"invalid_key",origin:"record",issues:g.issues.map(Q=>u(Q,i,Hr())),input:$,path:[$],inst:t});continue}let j=r.valueType._zod.run({value:a[$],issues:[]},i);j instanceof Promise?m.push(j.then(Q=>{Q.issues.length&&e.issues.push(...Ba($,Q.issues)),e.value[g.value]=Q.value})):(j.issues.length&&e.issues.push(...Ba($,j.issues)),e.value[g.value]=j.value)}return m.length?Promise.all(m).then(()=>e):e}}),_=G("$ZodMap",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!(a instanceof Map))return e.issues.push({expected:"map",code:"invalid_type",input:a,inst:t}),e;let m=[];for(let[f,$]of(e.value=new Map,a)){let g=r.keyType._zod.run({value:f,issues:[]},i),j=r.valueType._zod.run({value:$,issues:[]},i);g instanceof Promise||j instanceof Promise?m.push(Promise.all([g,j]).then(([Q,ze])=>{S(Q,ze,e,f,a,t,i)})):S(g,j,e,f,a,t,i)}return m.length?Promise.all(m).then(()=>e):e}});function S(t,r,e,i,a,m,f){t.issues.length&&(bi.has(typeof i)?e.issues.push(...Ba(i,t.issues)):e.issues.push({code:"invalid_key",origin:"map",input:a,inst:m,issues:t.issues.map($=>u($,f,Hr()))})),r.issues.length&&(bi.has(typeof i)?e.issues.push(...Ba(i,r.issues)):e.issues.push({origin:"map",code:"invalid_element",input:a,inst:m,key:i,issues:r.issues.map($=>u($,f,Hr()))})),e.value.set(t.value,r.value)}let z=G("$ZodSet",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!(a instanceof Set))return e.issues.push({input:a,inst:t,expected:"set",code:"invalid_type"}),e;let m=[];for(let f of(e.value=new Set,a)){let $=r.valueType._zod.run({value:f,issues:[]},i);$ instanceof Promise?m.push($.then(g=>N(g,e))):N($,e)}return m.length?Promise.all(m).then(()=>e):e}});function N(t,r){t.issues.length&&r.issues.push(...t.issues),r.value.add(t.value)}let I=G("$ZodEnum",(t,r)=>{Ht.init(t,r);let e=Bi(r.entries),i=new Set(e);t._zod.values=i,t._zod.pattern=RegExp(`^(${e.filter(a=>bi.has(typeof a)).map(a=>typeof a=="string"?Hi(a):a.toString()).join("|")})$`),t._zod.parse=(a,m)=>{let f=a.value;return i.has(f)||a.issues.push({code:"invalid_value",values:e,input:f,inst:t}),a}}),K=G("$ZodLiteral",(t,r)=>{if(Ht.init(t,r),r.values.length===0)throw Error("Cannot create literal schema with no valid values");let e=new Set(r.values);t._zod.values=e,t._zod.pattern=RegExp(`^(${r.values.map(i=>typeof i=="string"?Hi(i):i?Hi(i.toString()):String(i)).join("|")})$`),t._zod.parse=(i,a)=>{let m=i.value;return e.has(m)||i.issues.push({code:"invalid_value",values:r.values,input:m,inst:t}),i}}),le=G("$ZodFile",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;return a instanceof File||e.issues.push({expected:"file",code:"invalid_type",input:a,inst:t}),e}}),te=G("$ZodTransform",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{if(i.direction==="backward")throw new Fn(t.constructor.name);let a=r.transform(e.value,e);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(m=>(e.value=m,e));if(a instanceof Promise)throw new tn;return e.value=a,e}});function D(t,r){return t.issues.length&&r===void 0?{issues:[],value:void 0}:t}let ce=G("$ZodOptional",(t,r)=>{Ht.init(t,r),t._zod.optin="optional",t._zod.optout="optional",Sr(t._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,void 0]):void 0),Sr(t._zod,"pattern",()=>{let e=r.innerType._zod.pattern;return e?RegExp(`^(${yn(e.source)})?$`):void 0}),t._zod.parse=(e,i)=>{if(r.innerType._zod.optin==="optional"){let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(m=>D(m,e.value)):D(a,e.value)}return e.value===void 0?e:r.innerType._zod.run(e,i)}}),xt=G("$ZodNullable",(t,r)=>{Ht.init(t,r),Sr(t._zod,"optin",()=>r.innerType._zod.optin),Sr(t._zod,"optout",()=>r.innerType._zod.optout),Sr(t._zod,"pattern",()=>{let e=r.innerType._zod.pattern;return e?RegExp(`^(${yn(e.source)}|null)$`):void 0}),Sr(t._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,null]):void 0),t._zod.parse=(e,i)=>e.value===null?e:r.innerType._zod.run(e,i)}),Oe=G("$ZodDefault",(t,r)=>{Ht.init(t,r),t._zod.optin="optional",Sr(t._zod,"values",()=>r.innerType._zod.values),t._zod.parse=(e,i)=>{if(i.direction==="backward")return r.innerType._zod.run(e,i);if(e.value===void 0)return e.value=r.defaultValue,e;let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(m=>Le(m,r)):Le(a,r)}});function Le(t,r){return t.value===void 0&&(t.value=r.defaultValue),t}let Vt=G("$ZodPrefault",(t,r)=>{Ht.init(t,r),t._zod.optin="optional",Sr(t._zod,"values",()=>r.innerType._zod.values),t._zod.parse=(e,i)=>(i.direction==="backward"||e.value===void 0&&(e.value=r.defaultValue),r.innerType._zod.run(e,i))}),vr=G("$ZodNonOptional",(t,r)=>{Ht.init(t,r),Sr(t._zod,"values",()=>{let e=r.innerType._zod.values;return e?new Set([...e].filter(i=>i!==void 0)):void 0}),t._zod.parse=(e,i)=>{let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(m=>Wr(m,t)):Wr(a,t)}});function Wr(t,r){return t.issues.length||t.value!==void 0||t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:r}),t}let De=G("$ZodSuccess",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>{if(i.direction==="backward")throw new Fn("ZodSuccess");let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(m=>(e.value=m.issues.length===0,e)):(e.value=a.issues.length===0,e)}}),Dr=G("$ZodCatch",(t,r)=>{Ht.init(t,r),Sr(t._zod,"optin",()=>r.innerType._zod.optin),Sr(t._zod,"optout",()=>r.innerType._zod.optout),Sr(t._zod,"values",()=>r.innerType._zod.values),t._zod.parse=(e,i)=>{if(i.direction==="backward")return r.innerType._zod.run(e,i);let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(m=>(e.value=m.value,m.issues.length&&(e.value=r.catchValue({...e,error:{issues:m.issues.map(f=>u(f,i,Hr()))},input:e.value}),e.issues=[]),e)):(e.value=a.value,a.issues.length&&(e.value=r.catchValue({...e,error:{issues:a.issues.map(m=>u(m,i,Hr()))},input:e.value}),e.issues=[]),e)}}),dn=G("$ZodNaN",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>(typeof e.value=="number"&&Number.isNaN(e.value)||e.issues.push({input:e.value,inst:t,expected:"nan",code:"invalid_type"}),e)}),Zn=G("$ZodPipe",(t,r)=>{Ht.init(t,r),Sr(t._zod,"values",()=>r.in._zod.values),Sr(t._zod,"optin",()=>r.in._zod.optin),Sr(t._zod,"optout",()=>r.out._zod.optout),Sr(t._zod,"propValues",()=>r.in._zod.propValues),t._zod.parse=(e,i)=>{if(i.direction==="backward"){let m=r.out._zod.run(e,i);return m instanceof Promise?m.then(f=>gi(f,r.in,i)):gi(m,r.in,i)}let a=r.in._zod.run(e,i);return a instanceof Promise?a.then(m=>gi(m,r.out,i)):gi(a,r.out,i)}});function gi(t,r,e){return t.issues.length?(t.aborted=!0,t):r._zod.run({value:t.value,issues:t.issues},e)}let ii=G("$ZodCodec",(t,r)=>{Ht.init(t,r),Sr(t._zod,"values",()=>r.in._zod.values),Sr(t._zod,"optin",()=>r.in._zod.optin),Sr(t._zod,"optout",()=>r.out._zod.optout),Sr(t._zod,"propValues",()=>r.in._zod.propValues),t._zod.parse=(e,i)=>{if((i.direction||"forward")==="forward"){let a=r.in._zod.run(e,i);return a instanceof Promise?a.then(m=>xi(m,r,i)):xi(a,r,i)}{let a=r.out._zod.run(e,i);return a instanceof Promise?a.then(m=>xi(m,r,i)):xi(a,r,i)}}});function xi(t,r,e){if(t.issues.length)return t.aborted=!0,t;if((e.direction||"forward")==="forward"){let i=r.transform(t.value,t);return i instanceof Promise?i.then(a=>xn(t,a,r.out,e)):xn(t,i,r.out,e)}{let i=r.reverseTransform(t.value,t);return i instanceof Promise?i.then(a=>xn(t,a,r.in,e)):xn(t,i,r.in,e)}}function xn(t,r,e,i){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:r,issues:t.issues},i)}let zn=G("$ZodReadonly",(t,r)=>{Ht.init(t,r),Sr(t._zod,"propValues",()=>r.innerType._zod.propValues),Sr(t._zod,"values",()=>r.innerType._zod.values),Sr(t._zod,"optin",()=>r.innerType?._zod?.optin),Sr(t._zod,"optout",()=>r.innerType?._zod?.optout),t._zod.parse=(e,i)=>{if(i.direction==="backward")return r.innerType._zod.run(e,i);let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(fa):fa(a)}});function fa(t){return t.value=Object.freeze(t.value),t}let ai=G("$ZodTemplateLiteral",(t,r)=>{Ht.init(t,r);let e=[];for(let i of r.parts)if(typeof i=="object"&&i!==null){if(!i._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);let a=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!a)throw Error(`Invalid template literal part: ${i._zod.traits}`);let m=+!!a.startsWith("^"),f=a.endsWith("$")?a.length-1:a.length;e.push(a.slice(m,f))}else if(i===null||xo.has(typeof i))e.push(Hi(`${i}`));else throw Error(`Invalid template literal part: ${i}`);t._zod.pattern=RegExp(`^${e.join("")}$`),t._zod.parse=(i,a)=>(typeof i.value!="string"?i.issues.push({input:i.value,inst:t,expected:"template_literal",code:"invalid_type"}):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:t,code:"invalid_format",format:r.format??"template_literal",pattern:t._zod.pattern.source})),i)}),Ai=G("$ZodFunction",(t,r)=>(Ht.init(t,r),t._def=r,t._zod.def=r,t.implement=e=>{if(typeof e!="function")throw Error("implement() must be called with a function");return function(...i){let a=Reflect.apply(e,this,t._def.input?ba(t._def.input,i):i);return t._def.output?ba(t._def.output,a):a}},t.implementAsync=e=>{if(typeof e!="function")throw Error("implementAsync() must be called with a function");return async function(...i){let a=t._def.input?await Po(t._def.input,i):i,m=await Reflect.apply(e,this,a);return t._def.output?await Po(t._def.output,m):m}},t._zod.parse=(e,i)=>(typeof e.value!="function"?e.issues.push({code:"invalid_type",expected:"function",input:e.value,inst:t}):t._def.output&&t._def.output._zod.def.type==="promise"?e.value=t.implementAsync(e.value):e.value=t.implement(e.value),e),t.input=(...e)=>{let i=t.constructor;return new i(Array.isArray(e[0])?{type:"function",input:new s({type:"tuple",items:e[0],rest:e[1]}),output:t._def.output}:{type:"function",input:e[0],output:t._def.output})},t.output=e=>new t.constructor({type:"function",input:t._def.input,output:e}),t)),ua=G("$ZodPromise",(t,r)=>{Ht.init(t,r),t._zod.parse=(e,i)=>Promise.resolve(e.value).then(a=>r.innerType._zod.run({value:a,issues:[]},i))}),Ha=G("$ZodLazy",(t,r)=>{Ht.init(t,r),Sr(t._zod,"innerType",()=>r.getter()),Sr(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),Sr(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),Sr(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),Sr(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(e,i)=>t._zod.innerType._zod.run(e,i)}),Ja=G("$ZodCustom",(t,r)=>{ln.init(t,r),Ht.init(t,r),t._zod.parse=(e,i)=>e,t._zod.check=e=>{let i=e.value,a=r.fn(i);if(a instanceof Promise)return a.then(m=>Ia(m,e,i,t));Ia(a,e,i,t)}});function Ia(t,r,e,i){if(!t){let a={code:"custom",input:e,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(a.params=i._zod.def.params),r.issues.push(P(a))}}function Go(t,r,e,i){let a=Math.abs(t),m=a%10,f=a%100;return f>=11&&f<=19?i:m===1?r:m>=2&&m<=4?e:i}function ss(){let t,r;return{localeError:(t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Invalid input: expected ${e.expected}, received ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Invalid input: expected ${Nr(e.values[0])}`:`Invalid option: expected one of ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Too big: expected ${e.origin??"value"} to have ${i}${e.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Too small: expected ${e.origin} to have ${i}${e.minimum.toString()} ${a.unit}`:`Too small: expected ${e.origin} to be ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Invalid string: must start with "${e.prefix}"`:e.format==="ends_with"?`Invalid string: must end with "${e.suffix}"`:e.format==="includes"?`Invalid string: must include "${e.includes}"`:e.format==="regex"?`Invalid string: must match pattern ${e.pattern}`:`Invalid ${r[e.format]??e.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}})}}function xs(){let t,r;return{localeError:(t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}},r={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},e=>{switch(e.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":if(Array.isArray(i))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(i===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${Nr(e.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${e.maximum.toString()} ${a.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin} ${i} ${e.minimum.toString()} ${a.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin} ${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${e.prefix}"`:e.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${e.suffix}"`:e.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${e.includes}"`:e.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${e.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${e.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${Nt(e.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${e.origin}`;case"invalid_union":default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${e.origin}`}})}}v.s(["$ZodAny",0,vn,"$ZodArray",0,fn,"$ZodBase64",0,bs,"$ZodBase64URL",0,Wo,"$ZodBigInt",0,Je,"$ZodBigIntFormat",0,st,"$ZodBoolean",0,se,"$ZodCIDRv4",0,Rn,"$ZodCIDRv6",0,ui,"$ZodCUID",0,fi,"$ZodCUID2",0,vo,"$ZodCatch",0,Dr,"$ZodCodec",0,ii,"$ZodCustom",0,Ja,"$ZodCustomStringFormat",0,l,"$ZodDate",0,Cr,"$ZodDefault",0,Oe,"$ZodDiscriminatedUnion",0,Gs,"$ZodE164",0,_s,"$ZodEmail",0,Ci,"$ZodEmoji",0,aa,"$ZodEnum",0,I,"$ZodFile",0,le,"$ZodFunction",0,Ai,"$ZodGUID",0,cn,"$ZodIPv4",0,Aa,"$ZodIPv6",0,Ma,"$ZodISODate",0,Ga,"$ZodISODateTime",0,da,"$ZodISODuration",0,ka,"$ZodISOTime",0,qi,"$ZodIntersection",0,Qs,"$ZodJWT",0,o,"$ZodKSUID",0,to,"$ZodLazy",0,Ha,"$ZodLiteral",0,K,"$ZodMAC",0,Mo,"$ZodMap",0,_,"$ZodNaN",0,dn,"$ZodNanoID",0,Pi,"$ZodNever",0,yr,"$ZodNonOptional",0,vr,"$ZodNull",0,rn,"$ZodNullable",0,xt,"$ZodNumber",0,C,"$ZodNumberFormat",0,B,"$ZodObject",0,ro,"$ZodObjectJIT",0,Ji,"$ZodOptional",0,ce,"$ZodPipe",0,Zn,"$ZodPrefault",0,Vt,"$ZodPromise",0,ua,"$ZodReadonly",0,zn,"$ZodRecord",0,b,"$ZodSet",0,z,"$ZodString",0,It,"$ZodStringFormat",0,Mt,"$ZodSuccess",0,De,"$ZodSymbol",0,ur,"$ZodTemplateLiteral",0,ai,"$ZodTransform",0,te,"$ZodTuple",0,s,"$ZodType",0,Ht,"$ZodULID",0,ji,"$ZodURL",0,Ln,"$ZodUUID",0,_i,"$ZodUndefined",0,Er,"$ZodUnion",0,Eo,"$ZodUnknown",0,ct,"$ZodVoid",0,wr,"$ZodXID",0,ha,"$ZodXor",0,Hs,"isValidBase64",()=>so,"isValidBase64URL",()=>Bo,"isValidJWT",()=>T],43039);let Da=(t,r)=>{switch(t){case"number":return Number.isNaN(r)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return r===void 0?"ne\u017Einomas objektas":r===null?"nulin\u0117 reik\u0161m\u0117":Array.isArray(r)?"masyvas":Object.getPrototypeOf(r)!==Object.prototype&&r.constructor?r.constructor.name:"objektas";case"null":return"nulin\u0117 reik\u0161m\u0117"}return t},ls=t=>t.charAt(0).toUpperCase()+t.slice(1);function To(t){let r=Math.abs(t),e=r%10,i=r%100;return i>=11&&i<=19||e===0?"many":e===1?"one":"few"}function no(t,r,e,i){let a=Math.abs(t),m=a%10,f=a%100;return f>=11&&f<=19?i:m===1?r:m>=2&&m<=4?e:i}function ws(){let t,r;return{localeError:(t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}},r={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},e=>{switch(e.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${e.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${Nr(e.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin} \u0431\u0443\u0434\u0435 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${e.prefix}"`:e.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${e.suffix}"`:e.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${e.includes}"`:e.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${e.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${e.keys.length>1?"\u0456":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${e.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${e.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}})}}v.s([],40055);let us=Symbol("ZodOutput"),Wi=Symbol("ZodInput");class Qo{constructor(){this._map=new WeakMap,this._idmap=new Map}add(r,...e){let i=e[0];if(this._map.set(r,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,r)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(r){let e=this._map.get(r);return e&&typeof e=="object"&&"id"in e&&this._idmap.delete(e.id),this._map.delete(r),this}get(r){let e=r._zod.parent;if(e){let i={...this.get(e)??{}};delete i.id;let a={...i,...this._map.get(r)};return Object.keys(a).length?a:void 0}return this._map.get(r)}has(r){return this._map.has(r)}}function Do(){return new Qo}(h=mr).__zod_globalRegistry??(h.__zod_globalRegistry=Do());let Mi=mr.__zod_globalRegistry;function Xo(t,r){return new t({type:"string",...rr(r)})}function lo(t,r){return new t({type:"string",coerce:!0,...rr(r)})}function Ss(t,r){return new t({type:"string",format:"email",check:"string_format",abort:!1,...rr(r)})}function jn(t,r){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...rr(r)})}function bn(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...rr(r)})}function $n(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...rr(r)})}function Xn(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...rr(r)})}function _n(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...rr(r)})}function oi(t,r){return new t({type:"string",format:"url",check:"string_format",abort:!1,...rr(r)})}function Gn(t,r){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...rr(r)})}function $r(t,r){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...rr(r)})}function Ar(t,r){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...rr(r)})}function Yn(t,r){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...rr(r)})}function ki(t,r){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...rr(r)})}function Co(t,r){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...rr(r)})}function cs(t,r){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...rr(r)})}function Us(t,r){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...rr(r)})}function Ua(t,r){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...rr(r)})}function uo(t,r){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...rr(r)})}function qa(t,r){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...rr(r)})}function qs(t,r){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...rr(r)})}function Xs(t,r){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...rr(r)})}function ci(t,r){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...rr(r)})}function ga(t,r){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...rr(r)})}function Vo(t,r){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...rr(r)})}v.s(["$ZodRegistry",()=>Qo,"$input",0,Wi,"$output",0,us,"globalRegistry",0,Mi,"registry",()=>Do],16661);let co={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function ds(t,r){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...rr(r)})}function Uo(t,r){return new t({type:"string",format:"date",check:"string_format",...rr(r)})}function wi(t,r){return new t({type:"string",format:"time",check:"string_format",precision:null,...rr(r)})}function So(t,r){return new t({type:"string",format:"duration",check:"string_format",...rr(r)})}function ps(t,r){return new t({type:"number",checks:[],...rr(r)})}function El(t,r){return new t({type:"number",coerce:!0,checks:[],...rr(r)})}function Tl(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...rr(r)})}function bo(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...rr(r)})}function Yo(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...rr(r)})}function fl(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...rr(r)})}function xu(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...rr(r)})}function wu(t,r){return new t({type:"boolean",...rr(r)})}function gl(t,r){return new t({type:"boolean",coerce:!0,...rr(r)})}function yl(t,r){return new t({type:"bigint",...rr(r)})}function ql(t,r){return new t({type:"bigint",coerce:!0,...rr(r)})}function al(t,r){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...rr(r)})}function zs(t,r){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...rr(r)})}function Xl(t,r){return new t({type:"symbol",...rr(r)})}function Ns(t,r){return new t({type:"undefined",...rr(r)})}function Yl(t,r){return new t({type:"null",...rr(r)})}function wn(t){return new t({type:"any"})}function Ro(t){return new t({type:"unknown"})}function Ys(t,r){return new t({type:"never",...rr(r)})}function el(t,r){return new t({type:"void",...rr(r)})}function ol(t,r){return new t({type:"date",...rr(r)})}function La(t,r){return new t({type:"date",coerce:!0,...rr(r)})}function Ls(t,r){return new t({type:"nan",...rr(r)})}function es(t,r){return new Pr({check:"less_than",...rr(r),value:t,inclusive:!1})}function ea(t,r){return new Pr({check:"less_than",...rr(r),value:t,inclusive:!0})}function ms(t,r){return new Ti({check:"greater_than",...rr(r),value:t,inclusive:!1})}function Oo(t,r){return new Ti({check:"greater_than",...rr(r),value:t,inclusive:!0})}function ks(t){return ms(0,t)}function eu(t){return es(0,t)}function Cl(t){return ea(0,t)}function Rl(t){return Oo(0,t)}function sl(t,r){return new yo({check:"multiple_of",...rr(r),value:t})}function vl(t,r){return new Vs({check:"max_size",...rr(r),maximum:t})}function ll(t,r){return new vs({check:"min_size",...rr(r),minimum:t})}function Ll(t,r){return new k({check:"size_equals",...rr(r),size:t})}function Li(t,r){return new d({check:"max_length",...rr(r),maximum:t})}function Ho(t,r){return new y({check:"min_length",...rr(r),minimum:t})}function bl(t,r){return new O({check:"length_equals",...rr(r),length:t})}function ca(t,r){return new ue({check:"string_format",format:"regex",...rr(r),pattern:t})}function tl(t){return new E({check:"string_format",format:"lowercase",...rr(t)})}function Ol(t){return new Y({check:"string_format",format:"uppercase",...rr(t)})}function _l(t,r){return new xe({check:"string_format",format:"includes",...rr(r),includes:t})}function Su(t,r){return new Ae({check:"string_format",format:"starts_with",...rr(r),prefix:t})}function zu(t,r){return new ot({check:"string_format",format:"ends_with",...rr(r),suffix:t})}function ic(t,r,e){return new tt({check:"property",property:t,schema:r,...rr(e)})}function ku(t,r){return new lr({check:"mime_type",mime:t,...rr(r)})}function ul(t){return new Jt({check:"overwrite",tx:t})}function Iu(t){return ul(r=>r.normalize(t))}function $u(){return ul(t=>t.trim())}function Eu(){return ul(t=>t.toLowerCase())}function Tu(){return ul(t=>t.toUpperCase())}function Cu(){return ul(t=>Na(t))}function Jc(t,r,e){return new t({type:"array",element:r,...rr(e)})}function Rp(t,r,e){return new t({type:"union",options:r,...rr(e)})}function Op(t,r,e){return new t({type:"union",options:r,inclusive:!1,...rr(e)})}function Np(t,r,e,i){return new t({type:"union",options:e,discriminator:r,...rr(i)})}function Pp(t,r,e){return new t({type:"intersection",left:r,right:e})}function jp(t,r,e,i){let a=e instanceof Ht,m=a?i:e;return new t({type:"tuple",items:r,rest:a?e:null,...rr(m)})}function Ap(t,r,e,i){return new t({type:"record",keyType:r,valueType:e,...rr(i)})}function Mp(t,r,e,i){return new t({type:"map",keyType:r,valueType:e,...rr(i)})}function Dp(t,r,e){return new t({type:"set",valueType:r,...rr(e)})}function Up(t,r,e){return new t({type:"enum",entries:Array.isArray(r)?Object.fromEntries(r.map(i=>[i,i])):r,...rr(e)})}function qp(t,r,e){return new t({type:"enum",entries:r,...rr(e)})}function Lp(t,r,e){return new t({type:"literal",values:Array.isArray(r)?r:[r],...rr(e)})}function Kc(t,r){return new t({type:"file",...rr(r)})}function Fp(t,r){return new t({type:"transform",transform:r})}function Zp(t,r){return new t({type:"optional",innerType:r})}function Bp(t,r){return new t({type:"nullable",innerType:r})}function Vp(t,r,e){return new t({type:"default",innerType:r,get defaultValue(){return typeof e=="function"?e():Jo(e)}})}function Hp(t,r,e){return new t({type:"nonoptional",innerType:r,...rr(e)})}function Jp(t,r){return new t({type:"success",innerType:r})}function Kp(t,r,e){return new t({type:"catch",innerType:r,catchValue:typeof e=="function"?e:()=>e})}function Wp(t,r,e){return new t({type:"pipe",in:r,out:e})}function Gp(t,r){return new t({type:"readonly",innerType:r})}function Qp(t,r,e){return new t({type:"template_literal",parts:r,...rr(e)})}function Xp(t,r){return new t({type:"lazy",getter:r})}function Yp(t,r){return new t({type:"promise",innerType:r})}function Wc(t,r,e){let i=rr(e);return i.abort??(i.abort=!0),new t({type:"custom",check:"custom",fn:r,...i})}function Gc(t,r,e){return new t({type:"custom",check:"custom",fn:r,...rr(e)})}function ac(t){let r=Qc(e=>(e.addIssue=i=>{typeof i=="string"?e.issues.push(P(i,e.value,r._zod.def)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=e.value),i.inst??(i.inst=r),i.continue??(i.continue=!r._zod.def.abort),e.issues.push(P(i)))},t(e.value,e)));return r}function Qc(t,r){let e=new ln({check:"custom",...rr(r)});return e._zod.check=t,e}function Xc(t){let r=new ln({check:"describe"});return r._zod.onattach=[e=>{let i=Mi.get(e)??{};Mi.add(e,{...i,description:t})}],r._zod.check=()=>{},r}function Yc(t){let r=new ln({check:"meta"});return r._zod.onattach=[e=>{let i=Mi.get(e)??{};Mi.add(e,{...i,...t})}],r._zod.check=()=>{},r}function ed(t,r){let e=rr(r),i=e.truthy??["true","1","yes","on","y","enabled"],a=e.falsy??["false","0","no","off","n","disabled"];e.case!=="sensitive"&&(i=i.map(Q=>typeof Q=="string"?Q.toLowerCase():Q),a=a.map(Q=>typeof Q=="string"?Q.toLowerCase():Q));let m=new Set(i),f=new Set(a),$=t.Codec??ii,g=t.Boolean??se,j=new $({type:"pipe",in:new(t.String??It)({type:"string",error:e.error}),out:new g({type:"boolean",error:e.error}),transform:(Q,ze)=>{let Ct=Q;return e.case!=="sensitive"&&(Ct=Ct.toLowerCase()),!!m.has(Ct)||!f.has(Ct)&&(ze.issues.push({code:"invalid_value",expected:"stringbool",values:[...m,...f],input:ze.value,inst:j,continue:!1}),{})},reverseTransform:(Q,ze)=>Q===!0?i[0]||"true":a[0]||"false",error:e.error});return j}function tu(t,r,e,i={}){let a=rr(i),m={...rr(i),check:"string_format",type:"string",format:r,fn:typeof e=="function"?e:f=>e.test(f),...a};return e instanceof RegExp&&(m.pattern=e),new t(m)}function Fl(t){let r=t?.target??"draft-2020-12";return r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Mi,target:r,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function $a(t,r,e={path:[],schemaPath:[]}){var i;let a=t._zod.def,m=r.seen.get(t);if(m)return m.count++,e.schemaPath.includes(t)&&(m.cycle=e.path),m.schema;let f={schema:{},count:1,cycle:void 0,path:e.path};r.seen.set(t,f);let $=t._zod.toJSONSchema?.();if($)f.schema=$;else{let j={...e,schemaPath:[...e.schemaPath,t],path:e.path},Q=t._zod.parent;if(Q)f.ref=Q,$a(Q,r,j),r.seen.get(Q).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(r,f.schema,j);else{let ze=f.schema,Ct=r.processors[a.type];if(!Ct)throw Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);Ct(t,r,ze,j)}}let g=r.metadataRegistry.get(t);return g&&Object.assign(f.schema,g),r.io==="input"&&function j(Q,ze){let Ct=ze??{seen:new Set};if(Ct.seen.has(Q))return!1;Ct.seen.add(Q);let Ft=Q._zod.def;if(Ft.type==="transform")return!0;if(Ft.type==="array")return j(Ft.element,Ct);if(Ft.type==="set")return j(Ft.valueType,Ct);if(Ft.type==="lazy")return j(Ft.getter(),Ct);if(Ft.type==="promise"||Ft.type==="optional"||Ft.type==="nonoptional"||Ft.type==="nullable"||Ft.type==="readonly"||Ft.type==="default"||Ft.type==="prefault")return j(Ft.innerType,Ct);if(Ft.type==="intersection")return j(Ft.left,Ct)||j(Ft.right,Ct);if(Ft.type==="record"||Ft.type==="map")return j(Ft.keyType,Ct)||j(Ft.valueType,Ct);if(Ft.type==="pipe")return j(Ft.in,Ct)||j(Ft.out,Ct);if(Ft.type==="object"){for(let ri in Ft.shape)if(j(Ft.shape[ri],Ct))return!0;return!1}if(Ft.type==="union"){for(let ri of Ft.options)if(j(ri,Ct))return!0;return!1}if(Ft.type==="tuple"){for(let ri of Ft.items)if(j(ri,Ct))return!0;if(Ft.rest&&j(Ft.rest,Ct))return!0}return!1}(t)&&(delete f.schema.examples,delete f.schema.default),r.io==="input"&&f.schema._prefault&&((i=f.schema).default??(i.default=f.schema._prefault)),delete f.schema._prefault,r.seen.get(t).schema}function Zl(t,r){let e=t.seen.get(r);if(!e)throw Error("Unprocessed schema. This is a bug in Zod.");let i=a=>{if(a[1].schema.$ref)return;let m=a[1],{ref:f,defId:$}=(j=>{let Q=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let Ft=t.external.registry.get(j[0])?.id,ri=t.external.uri??(Yr=>Yr);if(Ft)return{ref:ri(Ft)};let Rt=j[1].defId??j[1].schema.id??`schema${t.counter++}`;return j[1].defId=Rt,{defId:Rt,ref:`${ri("__shared")}#/${Q}/${Rt}`}}if(j[1]===e)return{ref:"#"};let ze=`#/${Q}/`,Ct=j[1].schema.id??`__schema${t.counter++}`;return{defId:Ct,ref:ze+Ct}})(a);m.def={...m.schema},$&&(m.defId=$);let g=m.schema;for(let j in g)delete g[j];g.$ref=f};if(t.cycles==="throw")for(let a of t.seen.entries()){let m=a[1];if(m.cycle)throw Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let a of t.seen.entries()){let m=a[1];if(r===a[0]){i(a);continue}if(t.external){let f=t.external.registry.get(a[0])?.id;if(r!==a[0]&&f){i(a);continue}}if(t.metadataRegistry.get(a[0])?.id||m.cycle||m.count>1&&t.reused==="ref"){i(a);continue}}}function Bl(t,r){let e=t.seen.get(r);if(!e)throw Error("Unprocessed schema. This is a bug in Zod.");let i=f=>{let $=t.seen.get(f),g=$.def??$.schema,j={...g};if($.ref===null)return;let Q=$.ref;if($.ref=null,Q){i(Q);let ze=t.seen.get(Q).schema;ze.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(ze)):(Object.assign(g,ze),Object.assign(g,j))}$.isParent||t.override({zodSchema:f,jsonSchema:g,path:$.path??[]})};for(let f of[...t.seen.entries()].reverse())i(f[0]);let a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let f=t.external.registry.get(r)?.id;if(!f)throw Error("Schema is missing an `id` property");a.$id=t.external.uri(f)}Object.assign(a,e.def??e.schema);let m=t.external?.defs??{};for(let f of t.seen.entries()){let $=f[1];$.def&&$.defId&&(m[$.defId]=$.def)}t.external||Object.keys(m).length>0&&(t.target==="draft-2020-12"?a.$defs=m:a.definitions=m);try{let f=JSON.parse(JSON.stringify(a));return Object.defineProperty(f,"~standard",{value:{...r["~standard"],jsonSchema:{input:ru(r,"input"),output:ru(r,"output")}},enumerable:!1,writable:!1}),f}catch{throw Error("Error converting schema to JSON.")}}v.s(["TimePrecision",0,co,"_any",()=>wn,"_array",()=>Jc,"_base64",()=>Xs,"_base64url",()=>ci,"_bigint",()=>yl,"_boolean",()=>wu,"_catch",()=>Kp,"_check",()=>Qc,"_cidrv4",()=>qa,"_cidrv6",()=>qs,"_coercedBigint",()=>ql,"_coercedBoolean",()=>gl,"_coercedDate",()=>La,"_coercedNumber",()=>El,"_coercedString",()=>lo,"_cuid",()=>Ar,"_cuid2",()=>Yn,"_custom",()=>Wc,"_date",()=>ol,"_default",()=>Vp,"_discriminatedUnion",()=>Np,"_e164",()=>ga,"_email",()=>Ss,"_emoji",()=>Gn,"_endsWith",()=>zu,"_enum",()=>Up,"_file",()=>Kc,"_float32",()=>bo,"_float64",()=>Yo,"_gt",()=>ms,"_gte",()=>Oo,"_guid",()=>jn,"_includes",()=>_l,"_int",()=>Tl,"_int32",()=>fl,"_int64",()=>al,"_intersection",()=>Pp,"_ipv4",()=>Us,"_ipv6",()=>Ua,"_isoDate",()=>Uo,"_isoDateTime",()=>ds,"_isoDuration",()=>So,"_isoTime",()=>wi,"_jwt",()=>Vo,"_ksuid",()=>cs,"_lazy",()=>Xp,"_length",()=>bl,"_literal",()=>Lp,"_lowercase",()=>tl,"_lt",()=>es,"_lte",()=>ea,"_mac",()=>uo,"_map",()=>Mp,"_max",()=>ea,"_maxLength",()=>Li,"_maxSize",()=>vl,"_mime",()=>ku,"_min",()=>Oo,"_minLength",()=>Ho,"_minSize",()=>ll,"_multipleOf",()=>sl,"_nan",()=>Ls,"_nanoid",()=>$r,"_nativeEnum",()=>qp,"_negative",()=>eu,"_never",()=>Ys,"_nonnegative",()=>Rl,"_nonoptional",()=>Hp,"_nonpositive",()=>Cl,"_normalize",()=>Iu,"_null",()=>Yl,"_nullable",()=>Bp,"_number",()=>ps,"_optional",()=>Zp,"_overwrite",()=>ul,"_pipe",()=>Wp,"_positive",()=>ks,"_promise",()=>Yp,"_property",()=>ic,"_readonly",()=>Gp,"_record",()=>Ap,"_refine",()=>Gc,"_regex",()=>ca,"_set",()=>Dp,"_size",()=>Ll,"_slugify",()=>Cu,"_startsWith",()=>Su,"_string",()=>Xo,"_stringFormat",()=>tu,"_stringbool",()=>ed,"_success",()=>Jp,"_superRefine",()=>ac,"_symbol",()=>Xl,"_templateLiteral",()=>Qp,"_toLowerCase",()=>Eu,"_toUpperCase",()=>Tu,"_transform",()=>Fp,"_trim",()=>$u,"_tuple",()=>jp,"_uint32",()=>xu,"_uint64",()=>zs,"_ulid",()=>ki,"_undefined",()=>Ns,"_union",()=>Rp,"_unknown",()=>Ro,"_uppercase",()=>Ol,"_url",()=>oi,"_uuid",()=>bn,"_uuidv4",()=>$n,"_uuidv6",()=>Xn,"_uuidv7",()=>_n,"_void",()=>el,"_xid",()=>Co,"_xor",()=>Op,"describe",()=>Xc,"meta",()=>Yc],91721);let td=(t,r={})=>e=>{let i=Fl({...e,processors:r});return $a(t,i),Zl(i,t),Bl(i,t)},ru=(t,r)=>e=>{let{libraryOptions:i,target:a}=e??{},m=Fl({...i??{},target:a,io:r,processors:{}});return $a(t,m),Zl(m,t),Bl(m,t)};v.s(["createStandardJSONSchemaMethod",0,ru,"createToJSONSchemaMethod",0,td,"extractDefs",()=>Zl,"finalize",()=>Bl,"initializeContext",()=>Fl,"process",()=>$a],58214);let $g={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},em=(t,r,e,i)=>{e.type="string";let{minimum:a,maximum:m,format:f,patterns:$,contentEncoding:g}=t._zod.bag;if(typeof a=="number"&&(e.minLength=a),typeof m=="number"&&(e.maxLength=m),f&&(e.format=$g[f]??f,e.format===""&&delete e.format),g&&(e.contentEncoding=g),$&&$.size>0){let j=[...$];j.length===1?e.pattern=j[0].source:j.length>1&&(e.allOf=[...j.map(Q=>({...r.target==="draft-07"||r.target==="draft-04"||r.target==="openapi-3.0"?{type:"string"}:{},pattern:Q.source}))])}},tm=(t,r,e,i)=>{let{minimum:a,maximum:m,format:f,multipleOf:$,exclusiveMaximum:g,exclusiveMinimum:j}=t._zod.bag;typeof f=="string"&&f.includes("int")?e.type="integer":e.type="number",typeof j=="number"&&(r.target==="draft-04"||r.target==="openapi-3.0"?(e.minimum=j,e.exclusiveMinimum=!0):e.exclusiveMinimum=j),typeof a=="number"&&(e.minimum=a,typeof j=="number"&&r.target!=="draft-04"&&(j>=a?delete e.minimum:delete e.exclusiveMinimum)),typeof g=="number"&&(r.target==="draft-04"||r.target==="openapi-3.0"?(e.maximum=g,e.exclusiveMaximum=!0):e.exclusiveMaximum=g),typeof m=="number"&&(e.maximum=m,typeof g=="number"&&r.target!=="draft-04"&&(g<=m?delete e.maximum:delete e.exclusiveMaximum)),typeof $=="number"&&(e.multipleOf=$)},rm=(t,r,e,i)=>{e.type="boolean"},nm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema")},im=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema")},am=(t,r,e,i)=>{r.target==="openapi-3.0"?(e.type="string",e.nullable=!0,e.enum=[null]):e.type="null"},om=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema")},sm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema")},lm=(t,r,e,i)=>{e.not={}},um=(t,r,e,i)=>{},cm=(t,r,e,i)=>{},dm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema")},pm=(t,r,e,i)=>{let a=Bi(t._zod.def.entries);a.every(m=>typeof m=="number")&&(e.type="number"),a.every(m=>typeof m=="string")&&(e.type="string"),e.enum=a},mm=(t,r,e,i)=>{let a=t._zod.def,m=[];for(let f of a.values)if(f===void 0){if(r.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof f=="bigint"){if(r.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");m.push(Number(f))}else m.push(f);if(m.length!==0)if(m.length===1){let f=m[0];e.type=f===null?"null":typeof f,r.target==="draft-04"||r.target==="openapi-3.0"?e.enum=[f]:e.const=f}else m.every(f=>typeof f=="number")&&(e.type="number"),m.every(f=>typeof f=="string")&&(e.type="string"),m.every(f=>typeof f=="boolean")&&(e.type="boolean"),m.every(f=>f===null)&&(e.type="null"),e.enum=m},hm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema")},fm=(t,r,e,i)=>{let a=t._zod.pattern;if(!a)throw Error("Pattern not found in template literal");e.type="string",e.pattern=a.source},gm=(t,r,e,i)=>{let a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:m,maximum:f,mime:$}=t._zod.bag;m!==void 0&&(a.minLength=m),f!==void 0&&(a.maxLength=f),$?$.length===1?(a.contentMediaType=$[0],Object.assign(e,a)):e.anyOf=$.map(g=>({...a,contentMediaType:g})):Object.assign(e,a)},ym=(t,r,e,i)=>{e.type="boolean"},vm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")},bm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema")},_m=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")},xm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema")},wm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema")},Sm=(t,r,e,i)=>{let a=t._zod.def,{minimum:m,maximum:f}=t._zod.bag;typeof m=="number"&&(e.minItems=m),typeof f=="number"&&(e.maxItems=f),e.type="array",e.items=$a(a.element,r,{...i,path:[...i.path,"items"]})},zm=(t,r,e,i)=>{let a=t._zod.def;e.type="object",e.properties={};let m=a.shape;for(let $ in m)e.properties[$]=$a(m[$],r,{...i,path:[...i.path,"properties",$]});let f=new Set([...new Set(Object.keys(m))].filter($=>{let g=a.shape[$]._zod;return r.io==="input"?g.optin===void 0:g.optout===void 0}));f.size>0&&(e.required=Array.from(f)),a.catchall?._zod.def.type==="never"?e.additionalProperties=!1:a.catchall?a.catchall&&(e.additionalProperties=$a(a.catchall,r,{...i,path:[...i.path,"additionalProperties"]})):r.io==="output"&&(e.additionalProperties=!1)},rd=(t,r,e,i)=>{let a=t._zod.def,m=a.inclusive===!1,f=a.options.map(($,g)=>$a($,r,{...i,path:[...i.path,m?"oneOf":"anyOf",g]}));m?e.oneOf=f:e.anyOf=f},km=(t,r,e,i)=>{let a=t._zod.def,m=$a(a.left,r,{...i,path:[...i.path,"allOf",0]}),f=$a(a.right,r,{...i,path:[...i.path,"allOf",1]}),$=g=>"allOf"in g&&Object.keys(g).length===1;e.allOf=[...$(m)?m.allOf:[m],...$(f)?f.allOf:[f]]},Im=(t,r,e,i)=>{let a=t._zod.def;e.type="array";let m=r.target==="draft-2020-12"?"prefixItems":"items",f=r.target==="draft-2020-12"||r.target==="openapi-3.0"?"items":"additionalItems",$=a.items.map((ze,Ct)=>$a(ze,r,{...i,path:[...i.path,m,Ct]})),g=a.rest?$a(a.rest,r,{...i,path:[...i.path,f,...r.target==="openapi-3.0"?[a.items.length]:[]]}):null;r.target==="draft-2020-12"?(e.prefixItems=$,g&&(e.items=g)):r.target==="openapi-3.0"?(e.items={anyOf:$},g&&e.items.anyOf.push(g),e.minItems=$.length,g||(e.maxItems=$.length)):(e.items=$,g&&(e.additionalItems=g));let{minimum:j,maximum:Q}=t._zod.bag;typeof j=="number"&&(e.minItems=j),typeof Q=="number"&&(e.maxItems=Q)},$m=(t,r,e,i)=>{let a=t._zod.def;e.type="object",(r.target==="draft-07"||r.target==="draft-2020-12")&&(e.propertyNames=$a(a.keyType,r,{...i,path:[...i.path,"propertyNames"]})),e.additionalProperties=$a(a.valueType,r,{...i,path:[...i.path,"additionalProperties"]})},Em=(t,r,e,i)=>{let a=t._zod.def,m=$a(a.innerType,r,i),f=r.seen.get(t);r.target==="openapi-3.0"?(f.ref=a.innerType,e.nullable=!0):e.anyOf=[m,{type:"null"}]},Tm=(t,r,e,i)=>{let a=t._zod.def;$a(a.innerType,r,i),r.seen.get(t).ref=a.innerType},Cm=(t,r,e,i)=>{let a=t._zod.def;$a(a.innerType,r,i),r.seen.get(t).ref=a.innerType,e.default=JSON.parse(JSON.stringify(a.defaultValue))},Rm=(t,r,e,i)=>{let a=t._zod.def;$a(a.innerType,r,i),r.seen.get(t).ref=a.innerType,r.io==="input"&&(e._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},Om=(t,r,e,i)=>{let a,m=t._zod.def;$a(m.innerType,r,i),r.seen.get(t).ref=m.innerType;try{a=m.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}e.default=a},Nm=(t,r,e,i)=>{let a=t._zod.def,m=r.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;$a(m,r,i),r.seen.get(t).ref=m},Pm=(t,r,e,i)=>{let a=t._zod.def;$a(a.innerType,r,i),r.seen.get(t).ref=a.innerType,e.readOnly=!0},jm=(t,r,e,i)=>{let a=t._zod.def;$a(a.innerType,r,i),r.seen.get(t).ref=a.innerType},Am=(t,r,e,i)=>{let a=t._zod.def;$a(a.innerType,r,i),r.seen.get(t).ref=a.innerType},Mm=(t,r,e,i)=>{let a=t._zod.innerType;$a(a,r,i),r.seen.get(t).ref=a},nd={string:em,number:tm,boolean:rm,bigint:nm,symbol:im,null:am,undefined:om,void:sm,never:lm,any:um,unknown:cm,date:dm,enum:pm,literal:mm,nan:hm,template_literal:fm,file:gm,success:ym,custom:vm,function:bm,transform:_m,map:xm,set:wm,array:Sm,object:zm,union:rd,intersection:km,tuple:Im,record:$m,nullable:Em,nonoptional:Tm,default:Cm,prefault:Rm,catch:Om,pipe:Nm,readonly:Pm,promise:jm,optional:Am,lazy:Mm};function id(t,r){if("_idmap"in t){let i=Fl({...r,processors:nd}),a={};for(let f of t._idmap.entries()){let[$,g]=f;$a(g,i)}let m={};for(let f of(i.external={registry:t,uri:r?.uri,defs:a},t._idmap.entries())){let[$,g]=f;Zl(i,g),m[$]=Bl(i,g)}return Object.keys(a).length>0&&(m.__shared={[i.target==="draft-2020-12"?"$defs":"definitions"]:a}),{schemas:m}}let e=Fl({...r,processors:nd});return $a(t,e),Zl(e,t),Bl(e,t)}class Eg{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(r){this.ctx.counter=r}get seen(){return this.ctx.seen}constructor(r){let e=r?.target??"draft-2020-12";e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),this.ctx=Fl({processors:nd,target:e,...r?.metadata&&{metadata:r.metadata},...r?.unrepresentable&&{unrepresentable:r.unrepresentable},...r?.override&&{override:r.override},...r?.io&&{io:r.io}})}process(r,e={path:[],schemaPath:[]}){return $a(r,this.ctx,e)}emit(r,e){e&&(e.cycles&&(this.ctx.cycles=e.cycles),e.reused&&(this.ctx.reused=e.reused),e.external&&(this.ctx.external=e.external)),Zl(this.ctx,r);let{"~standard":i,...a}=Bl(this.ctx,r);return a}}v.s([],28740),v.s([],61616),v.s(["ZodAny",()=>$d,"ZodArray",()=>Rd,"ZodBase64",()=>xc,"ZodBase64URL",()=>wc,"ZodBigInt",()=>Au,"ZodBigIntFormat",()=>Ic,"ZodBoolean",()=>ju,"ZodCIDRv4",()=>bc,"ZodCIDRv6",()=>_c,"ZodCUID",()=>pc,"ZodCUID2",()=>mc,"ZodCatch",()=>Qd,"ZodCodec",()=>jc,"ZodCustom",()=>Bu,"ZodCustomStringFormat",()=>nu,"ZodDate",()=>Ec,"ZodDefault",()=>Vd,"ZodDiscriminatedUnion",()=>Nd,"ZodE164",()=>Sc,"ZodEmail",()=>uc,"ZodEmoji",()=>cc,"ZodEnum",()=>iu,"ZodFile",()=>Fd,"ZodFunction",()=>op,"ZodGUID",()=>Ou,"ZodIPv4",()=>yc,"ZodIPv6",()=>vc,"ZodIntersection",()=>Pd,"ZodJWT",()=>zc,"ZodKSUID",()=>gc,"ZodLazy",()=>np,"ZodLiteral",()=>Ld,"ZodMAC",()=>_d,"ZodMap",()=>Ud,"ZodNaN",()=>Yd,"ZodNanoID",()=>dc,"ZodNever",()=>Td,"ZodNonOptional",()=>Nc,"ZodNull",()=>kd,"ZodNullable",()=>Bd,"ZodNumber",()=>Pu,"ZodNumberFormat",()=>Vl,"ZodObject",()=>Du,"ZodOptional",()=>Oc,"ZodPipe",()=>Pc,"ZodPrefault",()=>Jd,"ZodPromise",()=>ap,"ZodReadonly",()=>ep,"ZodRecord",()=>qu,"ZodSet",()=>qd,"ZodString",()=>Ru,"ZodStringFormat",()=>Fa,"ZodSuccess",()=>Gd,"ZodSymbol",()=>Sd,"ZodTemplateLiteral",()=>rp,"ZodTransform",()=>Zd,"ZodTuple",()=>Ad,"ZodType",()=>yi,"ZodULID",()=>hc,"ZodURL",()=>Nu,"ZodUUID",()=>cl,"ZodUndefined",()=>zd,"ZodUnion",()=>Uu,"ZodUnknown",()=>Ed,"ZodVoid",()=>Cd,"ZodXID",()=>fc,"ZodXor",()=>Od,"_ZodString",()=>sc,"_default",()=>Hd,"_function",()=>Ac,"any",()=>$h,"array",()=>Mu,"base64",()=>ch,"base64url",()=>dh,"bigint",()=>wh,"boolean",()=>wd,"catch",()=>Xd,"check",()=>Wh,"cidrv4",()=>lh,"cidrv6",()=>uh,"codec",()=>Hh,"cuid",()=>eh,"cuid2",()=>th,"custom",()=>Gh,"date",()=>Th,"describe",()=>Xh,"discriminatedUnion",()=>jh,"e164",()=>ph,"email",()=>Bm,"emoji",()=>Xm,"enum",()=>Cc,"file",()=>Fh,"float32",()=>vh,"float64",()=>bh,"function",()=>Ac,"guid",()=>Vm,"hash",()=>yh,"hex",()=>gh,"hostname",()=>fh,"httpUrl",()=>Qm,"instanceof",()=>ef,"int",()=>kc,"int32",()=>_h,"int64",()=>Sh,"intersection",()=>jd,"ipv4",()=>ah,"ipv6",()=>sh,"json",()=>rf,"jwt",()=>mh,"keyof",()=>Ch,"ksuid",()=>ih,"lazy",()=>ip,"literal",()=>Lh,"looseObject",()=>Nh,"looseRecord",()=>Mh,"mac",()=>oh,"map",()=>Dh,"meta",()=>Yh,"nan",()=>Vh,"nanoid",()=>Ym,"nativeEnum",()=>qh,"never",()=>$c,"nonoptional",()=>Wd,"null",()=>Id,"nullable",()=>Fu,"nullish",()=>Zh,"number",()=>xd,"object",()=>Rh,"optional",()=>Lu,"partialRecord",()=>Ah,"pipe",()=>Zu,"prefault",()=>Kd,"preprocess",()=>nf,"promise",()=>Kh,"readonly",()=>tp,"record",()=>Dd,"refine",()=>sp,"set",()=>Uh,"strictObject",()=>Oh,"string",()=>lc,"stringFormat",()=>hh,"stringbool",()=>tf,"success",()=>Bh,"superRefine",()=>Qh,"symbol",()=>kh,"templateLiteral",()=>Jh,"transform",()=>Rc,"tuple",()=>Md,"uint32",()=>xh,"uint64",()=>zh,"ulid",()=>rh,"undefined",()=>Ih,"union",()=>Tc,"unknown",()=>Hl,"url",()=>Gm,"uuid",()=>Hm,"uuidv4",()=>Jm,"uuidv6",()=>Km,"uuidv7",()=>Wm,"void",()=>Eh,"xid",()=>nh,"xor",()=>Ph],37082),v.i(43039),v.s(["$ZodAny",0,vn,"$ZodArray",0,fn,"$ZodBase64",0,bs,"$ZodBase64URL",0,Wo,"$ZodBigInt",0,Je,"$ZodBigIntFormat",0,st,"$ZodBoolean",0,se,"$ZodCIDRv4",0,Rn,"$ZodCIDRv6",0,ui,"$ZodCUID",0,fi,"$ZodCUID2",0,vo,"$ZodCatch",0,Dr,"$ZodCodec",0,ii,"$ZodCustom",0,Ja,"$ZodCustomStringFormat",0,l,"$ZodDate",0,Cr,"$ZodDefault",0,Oe,"$ZodDiscriminatedUnion",0,Gs,"$ZodE164",0,_s,"$ZodEmail",0,Ci,"$ZodEmoji",0,aa,"$ZodEnum",0,I,"$ZodFile",0,le,"$ZodFunction",0,Ai,"$ZodGUID",0,cn,"$ZodIPv4",0,Aa,"$ZodIPv6",0,Ma,"$ZodISODate",0,Ga,"$ZodISODateTime",0,da,"$ZodISODuration",0,ka,"$ZodISOTime",0,qi,"$ZodIntersection",0,Qs,"$ZodJWT",0,o,"$ZodKSUID",0,to,"$ZodLazy",0,Ha,"$ZodLiteral",0,K,"$ZodMAC",0,Mo,"$ZodMap",0,_,"$ZodNaN",0,dn,"$ZodNanoID",0,Pi,"$ZodNever",0,yr,"$ZodNonOptional",0,vr,"$ZodNull",0,rn,"$ZodNullable",0,xt,"$ZodNumber",0,C,"$ZodNumberFormat",0,B,"$ZodObject",0,ro,"$ZodObjectJIT",0,Ji,"$ZodOptional",0,ce,"$ZodPipe",0,Zn,"$ZodPrefault",0,Vt,"$ZodPromise",0,ua,"$ZodReadonly",0,zn,"$ZodRecord",0,b,"$ZodSet",0,z,"$ZodString",0,It,"$ZodStringFormat",0,Mt,"$ZodSuccess",0,De,"$ZodSymbol",0,ur,"$ZodTemplateLiteral",0,ai,"$ZodTransform",0,te,"$ZodTuple",0,s,"$ZodType",0,Ht,"$ZodULID",0,ji,"$ZodURL",0,Ln,"$ZodUUID",0,_i,"$ZodUndefined",0,Er,"$ZodUnion",0,Eo,"$ZodUnknown",0,ct,"$ZodVoid",0,wr,"$ZodXID",0,ha,"$ZodXor",0,Hs,"clone",()=>Qn,"isValidBase64",()=>so,"isValidBase64URL",()=>Bo,"isValidJWT",()=>T],48757);var dl=v.i(21268),dl=dl,Si=v.i(64684),Si=Si;v.s([],80729),v.s(["ZodISODate",()=>od,"ZodISODateTime",()=>ad,"ZodISODuration",()=>ld,"ZodISOTime",()=>sd,"date",()=>Um,"datetime",()=>Dm,"duration",()=>Lm,"time",()=>qm],35713);let ad=G("ZodISODateTime",(t,r)=>{da.init(t,r),Fa.init(t,r)});function Dm(t){return ds(ad,t)}let od=G("ZodISODate",(t,r)=>{Ga.init(t,r),Fa.init(t,r)});function Um(t){return Uo(od,t)}let sd=G("ZodISOTime",(t,r)=>{qi.init(t,r),Fa.init(t,r)});function qm(t){return wi(sd,t)}let ld=G("ZodISODuration",(t,r)=>{ka.init(t,r),Fa.init(t,r)});function Lm(t){return So(ld,t)}let Fm=(t,r)=>{on.init(t,r),t.name="ZodError",Object.defineProperties(t,{format:{value:e=>Or(t,e)},flatten:{value:e=>sn(t,e)},addIssue:{value:e=>{t.issues.push(e),t.message=JSON.stringify(t.issues,hi,2)}},addIssues:{value:e=>{t.issues.push(...e),t.message=JSON.stringify(t.issues,hi,2)}},isEmpty:{get:()=>t.issues.length===0}})},Zm=G("ZodError",Fm),Ps=G("ZodError",Fm,{Parent:Error});v.s(["ZodError",0,Zm,"ZodRealError",0,Ps],10419);let ud=Ka(Ps),cd=go(Ps),dd=wo(Ps),oc=ko(Ps),pd=Io(Ps),md=ao(Ps),hd=jo(Ps),fd=Fo(Ps),gd=oo(Ps),yd=Wa(Ps),vd=gs(Ps),bd=Pa(Ps);v.s(["decode",0,md,"decodeAsync",0,fd,"encode",0,pd,"encodeAsync",0,hd,"parse",0,ud,"parseAsync",0,cd,"safeDecode",0,yd,"safeDecodeAsync",0,bd,"safeEncode",0,gd,"safeEncodeAsync",0,vd,"safeParse",0,dd,"safeParseAsync",0,oc],27632);let yi=G("ZodType",(t,r)=>(Ht.init(t,r),Object.assign(t["~standard"],{jsonSchema:{input:ru(t,"input"),output:ru(t,"output")}}),t.toJSONSchema=td(t,{}),t.def=r,t.type=r.type,Object.defineProperty(t,"_def",{value:r}),t.check=(...e)=>t.clone(Si.mergeDefs(r,{checks:[...r.checks??[],...e.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),t.clone=(e,i)=>Qn(t,e,i),t.brand=()=>t,t.register=(e,i)=>(e.add(t,i),t),t.parse=(e,i)=>ud(t,e,i,{callee:t.parse}),t.safeParse=(e,i)=>dd(t,e,i),t.parseAsync=async(e,i)=>cd(t,e,i,{callee:t.parseAsync}),t.safeParseAsync=async(e,i)=>oc(t,e,i),t.spa=t.safeParseAsync,t.encode=(e,i)=>pd(t,e,i),t.decode=(e,i)=>md(t,e,i),t.encodeAsync=async(e,i)=>hd(t,e,i),t.decodeAsync=async(e,i)=>fd(t,e,i),t.safeEncode=(e,i)=>gd(t,e,i),t.safeDecode=(e,i)=>yd(t,e,i),t.safeEncodeAsync=async(e,i)=>vd(t,e,i),t.safeDecodeAsync=async(e,i)=>bd(t,e,i),t.refine=(e,i)=>t.check(sp(e,i)),t.superRefine=e=>t.check(ac(e)),t.overwrite=e=>t.check(ul(e)),t.optional=()=>Lu(t),t.nullable=()=>Fu(t),t.nullish=()=>Lu(Fu(t)),t.nonoptional=e=>Wd(t,e),t.array=()=>Mu(t),t.or=e=>Tc([t,e]),t.and=e=>jd(t,e),t.transform=e=>Zu(t,Rc(e)),t.default=e=>Hd(t,e),t.prefault=e=>Kd(t,e),t.catch=e=>Xd(t,e),t.pipe=e=>Zu(t,e),t.readonly=()=>tp(t),t.describe=e=>{let i=t.clone();return Mi.add(i,{description:e}),i},Object.defineProperty(t,"description",{get:()=>Mi.get(t)?.description,configurable:!0}),t.meta=(...e)=>{if(e.length===0)return Mi.get(t);let i=t.clone();return Mi.add(i,e[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),sc=G("_ZodString",(t,r)=>{It.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(i,a,m)=>em(t,i,a,m);let e=t._zod.bag;t.format=e.format??null,t.minLength=e.minimum??null,t.maxLength=e.maximum??null,t.regex=(...i)=>t.check(ca(...i)),t.includes=(...i)=>t.check(_l(...i)),t.startsWith=(...i)=>t.check(Su(...i)),t.endsWith=(...i)=>t.check(zu(...i)),t.min=(...i)=>t.check(Ho(...i)),t.max=(...i)=>t.check(Li(...i)),t.length=(...i)=>t.check(bl(...i)),t.nonempty=(...i)=>t.check(Ho(1,...i)),t.lowercase=i=>t.check(tl(i)),t.uppercase=i=>t.check(Ol(i)),t.trim=()=>t.check($u()),t.normalize=(...i)=>t.check(Iu(...i)),t.toLowerCase=()=>t.check(Eu()),t.toUpperCase=()=>t.check(Tu()),t.slugify=()=>t.check(Cu())}),Ru=G("ZodString",(t,r)=>{It.init(t,r),sc.init(t,r),t.email=e=>t.check(Ss(uc,e)),t.url=e=>t.check(oi(Nu,e)),t.jwt=e=>t.check(Vo(zc,e)),t.emoji=e=>t.check(Gn(cc,e)),t.guid=e=>t.check(jn(Ou,e)),t.uuid=e=>t.check(bn(cl,e)),t.uuidv4=e=>t.check($n(cl,e)),t.uuidv6=e=>t.check(Xn(cl,e)),t.uuidv7=e=>t.check(_n(cl,e)),t.nanoid=e=>t.check($r(dc,e)),t.guid=e=>t.check(jn(Ou,e)),t.cuid=e=>t.check(Ar(pc,e)),t.cuid2=e=>t.check(Yn(mc,e)),t.ulid=e=>t.check(ki(hc,e)),t.base64=e=>t.check(Xs(xc,e)),t.base64url=e=>t.check(ci(wc,e)),t.xid=e=>t.check(Co(fc,e)),t.ksuid=e=>t.check(cs(gc,e)),t.ipv4=e=>t.check(Us(yc,e)),t.ipv6=e=>t.check(Ua(vc,e)),t.cidrv4=e=>t.check(qa(bc,e)),t.cidrv6=e=>t.check(qs(_c,e)),t.e164=e=>t.check(ga(Sc,e)),t.datetime=e=>t.check(Dm(e)),t.date=e=>t.check(Um(e)),t.time=e=>t.check(qm(e)),t.duration=e=>t.check(Lm(e))});function lc(t){return Xo(Ru,t)}let Fa=G("ZodStringFormat",(t,r)=>{Mt.init(t,r),sc.init(t,r)}),uc=G("ZodEmail",(t,r)=>{Ci.init(t,r),Fa.init(t,r)});function Bm(t){return Ss(uc,t)}let Ou=G("ZodGUID",(t,r)=>{cn.init(t,r),Fa.init(t,r)});function Vm(t){return jn(Ou,t)}let cl=G("ZodUUID",(t,r)=>{_i.init(t,r),Fa.init(t,r)});function Hm(t){return bn(cl,t)}function Jm(t){return $n(cl,t)}function Km(t){return Xn(cl,t)}function Wm(t){return _n(cl,t)}let Nu=G("ZodURL",(t,r)=>{Ln.init(t,r),Fa.init(t,r)});function Gm(t){return oi(Nu,t)}function Qm(t){return oi(Nu,{protocol:/^https?$/,hostname:dl.domain,...Si.normalizeParams(t)})}let cc=G("ZodEmoji",(t,r)=>{aa.init(t,r),Fa.init(t,r)});function Xm(t){return Gn(cc,t)}let dc=G("ZodNanoID",(t,r)=>{Pi.init(t,r),Fa.init(t,r)});function Ym(t){return $r(dc,t)}let pc=G("ZodCUID",(t,r)=>{fi.init(t,r),Fa.init(t,r)});function eh(t){return Ar(pc,t)}let mc=G("ZodCUID2",(t,r)=>{vo.init(t,r),Fa.init(t,r)});function th(t){return Yn(mc,t)}let hc=G("ZodULID",(t,r)=>{ji.init(t,r),Fa.init(t,r)});function rh(t){return ki(hc,t)}let fc=G("ZodXID",(t,r)=>{ha.init(t,r),Fa.init(t,r)});function nh(t){return Co(fc,t)}let gc=G("ZodKSUID",(t,r)=>{to.init(t,r),Fa.init(t,r)});function ih(t){return cs(gc,t)}let yc=G("ZodIPv4",(t,r)=>{Aa.init(t,r),Fa.init(t,r)});function ah(t){return Us(yc,t)}let _d=G("ZodMAC",(t,r)=>{Mo.init(t,r),Fa.init(t,r)});function oh(t){return uo(_d,t)}let vc=G("ZodIPv6",(t,r)=>{Ma.init(t,r),Fa.init(t,r)});function sh(t){return Ua(vc,t)}let bc=G("ZodCIDRv4",(t,r)=>{Rn.init(t,r),Fa.init(t,r)});function lh(t){return qa(bc,t)}let _c=G("ZodCIDRv6",(t,r)=>{ui.init(t,r),Fa.init(t,r)});function uh(t){return qs(_c,t)}let xc=G("ZodBase64",(t,r)=>{bs.init(t,r),Fa.init(t,r)});function ch(t){return Xs(xc,t)}let wc=G("ZodBase64URL",(t,r)=>{Wo.init(t,r),Fa.init(t,r)});function dh(t){return ci(wc,t)}let Sc=G("ZodE164",(t,r)=>{_s.init(t,r),Fa.init(t,r)});function ph(t){return ga(Sc,t)}let zc=G("ZodJWT",(t,r)=>{o.init(t,r),Fa.init(t,r)});function mh(t){return Vo(zc,t)}let nu=G("ZodCustomStringFormat",(t,r)=>{l.init(t,r),Fa.init(t,r)});function hh(t,r,e={}){return tu(nu,t,r,e)}function fh(t){return tu(nu,"hostname",dl.hostname,t)}function gh(t){return tu(nu,"hex",dl.hex,t)}function yh(t,r){let e=r?.enc??"hex",i=`${t}_${e}`,a=dl[i];if(!a)throw Error(`Unrecognized hash format: ${i}`);return tu(nu,i,a,r)}let Pu=G("ZodNumber",(t,r)=>{C.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(i,a,m)=>tm(t,i,a,m),t.gt=(i,a)=>t.check(ms(i,a)),t.gte=(i,a)=>t.check(Oo(i,a)),t.min=(i,a)=>t.check(Oo(i,a)),t.lt=(i,a)=>t.check(es(i,a)),t.lte=(i,a)=>t.check(ea(i,a)),t.max=(i,a)=>t.check(ea(i,a)),t.int=i=>t.check(kc(i)),t.safe=i=>t.check(kc(i)),t.positive=i=>t.check(ms(0,i)),t.nonnegative=i=>t.check(Oo(0,i)),t.negative=i=>t.check(es(0,i)),t.nonpositive=i=>t.check(ea(0,i)),t.multipleOf=(i,a)=>t.check(sl(i,a)),t.step=(i,a)=>t.check(sl(i,a)),t.finite=()=>t;let e=t._zod.bag;t.minValue=Math.max(e.minimum??-1/0,e.exclusiveMinimum??-1/0)??null,t.maxValue=Math.min(e.maximum??1/0,e.exclusiveMaximum??1/0)??null,t.isInt=(e.format??"").includes("int")||Number.isSafeInteger(e.multipleOf??.5),t.isFinite=!0,t.format=e.format??null});function xd(t){return ps(Pu,t)}let Vl=G("ZodNumberFormat",(t,r)=>{B.init(t,r),Pu.init(t,r)});function kc(t){return Tl(Vl,t)}function vh(t){return bo(Vl,t)}function bh(t){return Yo(Vl,t)}function _h(t){return fl(Vl,t)}function xh(t){return xu(Vl,t)}let ju=G("ZodBoolean",(t,r)=>{se.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>rm(t,e,i,a)});function wd(t){return wu(ju,t)}let Au=G("ZodBigInt",(t,r)=>{Je.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(i,a,m)=>nm(t,i,a,m),t.gte=(i,a)=>t.check(Oo(i,a)),t.min=(i,a)=>t.check(Oo(i,a)),t.gt=(i,a)=>t.check(ms(i,a)),t.gte=(i,a)=>t.check(Oo(i,a)),t.min=(i,a)=>t.check(Oo(i,a)),t.lt=(i,a)=>t.check(es(i,a)),t.lte=(i,a)=>t.check(ea(i,a)),t.max=(i,a)=>t.check(ea(i,a)),t.positive=i=>t.check(ms(BigInt(0),i)),t.negative=i=>t.check(es(BigInt(0),i)),t.nonpositive=i=>t.check(ea(BigInt(0),i)),t.nonnegative=i=>t.check(Oo(BigInt(0),i)),t.multipleOf=(i,a)=>t.check(sl(i,a));let e=t._zod.bag;t.minValue=e.minimum??null,t.maxValue=e.maximum??null,t.format=e.format??null});function wh(t){return yl(Au,t)}let Ic=G("ZodBigIntFormat",(t,r)=>{st.init(t,r),Au.init(t,r)});function Sh(t){return al(Ic,t)}function zh(t){return zs(Ic,t)}let Sd=G("ZodSymbol",(t,r)=>{ur.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>im(t,e,i,a)});function kh(t){return Xl(Sd,t)}let zd=G("ZodUndefined",(t,r)=>{Er.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>om(t,e,i,a)});function Ih(t){return Ns(zd,t)}let kd=G("ZodNull",(t,r)=>{rn.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>am(t,e,i,a)});function Id(t){return Yl(kd,t)}let $d=G("ZodAny",(t,r)=>{vn.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>um(t,e,i,a)});function $h(){return wn($d)}let Ed=G("ZodUnknown",(t,r)=>{ct.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>cm(t,e,i,a)});function Hl(){return Ro(Ed)}let Td=G("ZodNever",(t,r)=>{yr.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>lm(t,e,i,a)});function $c(t){return Ys(Td,t)}let Cd=G("ZodVoid",(t,r)=>{wr.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>sm(t,e,i,a)});function Eh(t){return el(Cd,t)}let Ec=G("ZodDate",(t,r)=>{Cr.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(i,a,m)=>dm(t,i,a,m),t.min=(i,a)=>t.check(Oo(i,a)),t.max=(i,a)=>t.check(ea(i,a));let e=t._zod.bag;t.minDate=e.minimum?new Date(e.minimum):null,t.maxDate=e.maximum?new Date(e.maximum):null});function Th(t){return ol(Ec,t)}let Rd=G("ZodArray",(t,r)=>{fn.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Sm(t,e,i,a),t.element=r.element,t.min=(e,i)=>t.check(Ho(e,i)),t.nonempty=e=>t.check(Ho(1,e)),t.max=(e,i)=>t.check(Li(e,i)),t.length=(e,i)=>t.check(bl(e,i)),t.unwrap=()=>t.element});function Mu(t,r){return Jc(Rd,t,r)}function Ch(t){return Cc(Object.keys(t._zod.def.shape))}let Du=G("ZodObject",(t,r)=>{Ji.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>zm(t,e,i,a),Si.defineLazy(t,"shape",()=>r.shape),t.keyof=()=>Cc(Object.keys(t._zod.def.shape)),t.catchall=e=>t.clone({...t._zod.def,catchall:e}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Hl()}),t.loose=()=>t.clone({...t._zod.def,catchall:Hl()}),t.strict=()=>t.clone({...t._zod.def,catchall:$c()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=e=>Si.extend(t,e),t.safeExtend=e=>Si.safeExtend(t,e),t.merge=e=>Si.merge(t,e),t.pick=e=>Si.pick(t,e),t.omit=e=>Si.omit(t,e),t.partial=(...e)=>Si.partial(Oc,t,e[0]),t.required=(...e)=>Si.required(Nc,t,e[0])});function Rh(t,r){return new Du({type:"object",shape:t??{},...Si.normalizeParams(r)})}function Oh(t,r){return new Du({type:"object",shape:t,catchall:$c(),...Si.normalizeParams(r)})}function Nh(t,r){return new Du({type:"object",shape:t,catchall:Hl(),...Si.normalizeParams(r)})}let Uu=G("ZodUnion",(t,r)=>{Eo.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>rd(t,e,i,a),t.options=r.options});function Tc(t,r){return new Uu({type:"union",options:t,...Si.normalizeParams(r)})}let Od=G("ZodXor",(t,r)=>{Uu.init(t,r),Hs.init(t,r),t._zod.processJSONSchema=(e,i,a)=>rd(t,e,i,a),t.options=r.options});function Ph(t,r){return new Od({type:"union",options:t,inclusive:!1,...Si.normalizeParams(r)})}let Nd=G("ZodDiscriminatedUnion",(t,r)=>{Uu.init(t,r),Gs.init(t,r)});function jh(t,r,e){return new Nd({type:"union",options:r,discriminator:t,...Si.normalizeParams(e)})}let Pd=G("ZodIntersection",(t,r)=>{Qs.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>km(t,e,i,a)});function jd(t,r){return new Pd({type:"intersection",left:t,right:r})}let Ad=G("ZodTuple",(t,r)=>{s.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Im(t,e,i,a),t.rest=e=>t.clone({...t._zod.def,rest:e})});function Md(t,r,e){let i=r instanceof Ht,a=i?e:r;return new Ad({type:"tuple",items:t,rest:i?r:null,...Si.normalizeParams(a)})}let qu=G("ZodRecord",(t,r)=>{b.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>$m(t,e,i,a),t.keyType=r.keyType,t.valueType=r.valueType});function Dd(t,r,e){return new qu({type:"record",keyType:t,valueType:r,...Si.normalizeParams(e)})}function Ah(t,r,e){let i=Qn(t);return i._zod.values=void 0,new qu({type:"record",keyType:i,valueType:r,...Si.normalizeParams(e)})}function Mh(t,r,e){return new qu({type:"record",keyType:t,valueType:r,mode:"loose",...Si.normalizeParams(e)})}let Ud=G("ZodMap",(t,r)=>{_.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>xm(t,e,i,a),t.keyType=r.keyType,t.valueType=r.valueType});function Dh(t,r,e){return new Ud({type:"map",keyType:t,valueType:r,...Si.normalizeParams(e)})}let qd=G("ZodSet",(t,r)=>{z.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>wm(t,e,i,a),t.min=(...e)=>t.check(ll(...e)),t.nonempty=e=>t.check(ll(1,e)),t.max=(...e)=>t.check(vl(...e)),t.size=(...e)=>t.check(Ll(...e))});function Uh(t,r){return new qd({type:"set",valueType:t,...Si.normalizeParams(r)})}let iu=G("ZodEnum",(t,r)=>{I.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(i,a,m)=>pm(t,i,a,m),t.enum=r.entries,t.options=Object.values(r.entries);let e=new Set(Object.keys(r.entries));t.extract=(i,a)=>{let m={};for(let f of i)if(e.has(f))m[f]=r.entries[f];else throw Error(`Key ${f} not found in enum`);return new iu({...r,checks:[],...Si.normalizeParams(a),entries:m})},t.exclude=(i,a)=>{let m={...r.entries};for(let f of i)if(e.has(f))delete m[f];else throw Error(`Key ${f} not found in enum`);return new iu({...r,checks:[],...Si.normalizeParams(a),entries:m})}});function Cc(t,r){return new iu({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...Si.normalizeParams(r)})}function qh(t,r){return new iu({type:"enum",entries:t,...Si.normalizeParams(r)})}let Ld=G("ZodLiteral",(t,r)=>{K.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>mm(t,e,i,a),t.values=new Set(r.values),Object.defineProperty(t,"value",{get(){if(r.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return r.values[0]}})});function Lh(t,r){return new Ld({type:"literal",values:Array.isArray(t)?t:[t],...Si.normalizeParams(r)})}let Fd=G("ZodFile",(t,r)=>{le.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>gm(t,e,i,a),t.min=(e,i)=>t.check(ll(e,i)),t.max=(e,i)=>t.check(vl(e,i)),t.mime=(e,i)=>t.check(ku(Array.isArray(e)?e:[e],i))});function Fh(t){return Kc(Fd,t)}let Zd=G("ZodTransform",(t,r)=>{te.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>_m(t,e,i,a),t._zod.parse=(e,i)=>{if(i.direction==="backward")throw new Fn(t.constructor.name);e.addIssue=m=>{typeof m=="string"?e.issues.push(Si.issue(m,e.value,r)):(m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=e.value),m.inst??(m.inst=t),e.issues.push(Si.issue(m)))};let a=r.transform(e.value,e);return a instanceof Promise?a.then(m=>(e.value=m,e)):(e.value=a,e)}});function Rc(t){return new Zd({type:"transform",transform:t})}let Oc=G("ZodOptional",(t,r)=>{ce.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Am(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Lu(t){return new Oc({type:"optional",innerType:t})}let Bd=G("ZodNullable",(t,r)=>{xt.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Em(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Fu(t){return new Bd({type:"nullable",innerType:t})}function Zh(t){return Lu(Fu(t))}let Vd=G("ZodDefault",(t,r)=>{Oe.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Cm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Hd(t,r){return new Vd({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():Si.shallowClone(r)}})}let Jd=G("ZodPrefault",(t,r)=>{Vt.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Rm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Kd(t,r){return new Jd({type:"prefault",innerType:t,get defaultValue(){return typeof r=="function"?r():Si.shallowClone(r)}})}let Nc=G("ZodNonOptional",(t,r)=>{vr.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Tm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Wd(t,r){return new Nc({type:"nonoptional",innerType:t,...Si.normalizeParams(r)})}let Gd=G("ZodSuccess",(t,r)=>{De.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>ym(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Bh(t){return new Gd({type:"success",innerType:t})}let Qd=G("ZodCatch",(t,r)=>{Dr.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Om(t,e,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Xd(t,r){return new Qd({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}let Yd=G("ZodNaN",(t,r)=>{dn.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>hm(t,e,i,a)});function Vh(t){return Ls(Yd,t)}let Pc=G("ZodPipe",(t,r)=>{Zn.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Nm(t,e,i,a),t.in=r.in,t.out=r.out});function Zu(t,r){return new Pc({type:"pipe",in:t,out:r})}let jc=G("ZodCodec",(t,r)=>{Pc.init(t,r),ii.init(t,r)});function Hh(t,r,e){return new jc({type:"pipe",in:t,out:r,transform:e.decode,reverseTransform:e.encode})}let ep=G("ZodReadonly",(t,r)=>{zn.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Pm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function tp(t){return new ep({type:"readonly",innerType:t})}let rp=G("ZodTemplateLiteral",(t,r)=>{ai.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>fm(t,e,i,a)});function Jh(t,r){return new rp({type:"template_literal",parts:t,...Si.normalizeParams(r)})}let np=G("ZodLazy",(t,r)=>{Ha.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Mm(t,e,i,a),t.unwrap=()=>t._zod.def.getter()});function ip(t){return new np({type:"lazy",getter:t})}let ap=G("ZodPromise",(t,r)=>{ua.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>jm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Kh(t){return new ap({type:"promise",innerType:t})}let op=G("ZodFunction",(t,r)=>{Ai.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>bm(t,e,i,a)});function Ac(t){return new op({type:"function",input:Array.isArray(t?.input)?Md(t?.input):t?.input??Mu(Hl()),output:t?.output??Hl()})}let Bu=G("ZodCustom",(t,r)=>{Ja.init(t,r),yi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>vm(t,e,i,a)});function Wh(t){let r=new ln({check:"custom"});return r._zod.check=t,r}function Gh(t,r){return Wc(Bu,t??(()=>!0),r)}function sp(t,r={}){return Gc(Bu,t,r)}function Qh(t){return ac(t)}let Xh=Xc,Yh=Yc;function ef(t,r={error:`Input not instance of ${t.name}`}){let e=new Bu({type:"custom",check:"custom",fn:i=>i instanceof t,abort:!0,...Si.normalizeParams(r)});return e._zod.bag.Class=t,e}let tf=(...t)=>ed({Codec:jc,Boolean:ju,String:Ru},...t);function rf(t){let r=ip(()=>Tc([lc(t),xd(),wd(),Id(),Mu(r),Dd(lc(),r)]));return r}function nf(t,r){return Zu(Rc(t),r)}let lp={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function up(t){Hr({customError:t})}function cp(){return Hr().customError}Xt||(Xt={}),v.s(["ZodFirstPartyTypeKind",()=>Xt,"ZodIssueCode",0,lp,"getErrorMap",()=>cp,"setErrorMap",()=>up],1583),v.i(80729),v.s(["endsWith",()=>zu,"gt",()=>ms,"gte",()=>Oo,"includes",()=>_l,"length",()=>bl,"lowercase",()=>tl,"lt",()=>es,"lte",()=>ea,"maxLength",()=>Li,"maxSize",()=>vl,"mime",()=>ku,"minLength",()=>Ho,"minSize",()=>ll,"multipleOf",()=>sl,"negative",()=>eu,"nonnegative",()=>Rl,"nonpositive",()=>Cl,"normalize",()=>Iu,"overwrite",()=>ul,"positive",()=>ks,"property",()=>ic,"regex",()=>ca,"size",()=>Ll,"slugify",()=>Cu,"startsWith",()=>Su,"toLowerCase",()=>Eu,"toUpperCase",()=>Tu,"trim",()=>$u,"uppercase",()=>Ol],9875);var Tg=v.i(9875),af=v.i(35713);let Zr={...v.i(37082),...Tg,iso:af};function Cg(t,r){var e;let i;if(typeof t=="boolean")return t?Zr.any():Zr.never();let a={version:(e=r?.defaultTarget,(i=t.$schema)==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":i==="http://json-schema.org/draft-07/schema#"?"draft-7":i==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"),defs:t.$defs||t.definitions||{},refs:new Map,processing:new Set,rootSchema:t};return function m(f,$){if(typeof f=="boolean")return f?Zr.any():Zr.never();let g=function Q(ze,Ct){let Ft;if(ze.not!==void 0){if(typeof ze.not=="object"&&Object.keys(ze.not).length===0)return Zr.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(ze.unevaluatedItems!==void 0)throw Error("unevaluatedItems is not supported");if(ze.unevaluatedProperties!==void 0)throw Error("unevaluatedProperties is not supported");if(ze.if!==void 0||ze.then!==void 0||ze.else!==void 0)throw Error("Conditional schemas (if/then/else) are not supported");if(ze.dependentSchemas!==void 0||ze.dependentRequired!==void 0)throw Error("dependentSchemas and dependentRequired are not supported");if(ze.$ref){let Rt=ze.$ref;if(Ct.refs.has(Rt))return Ct.refs.get(Rt);if(Ct.processing.has(Rt))return Zr.lazy(()=>{if(!Ct.refs.has(Rt))throw Error(`Circular reference not resolved: ${Rt}`);return Ct.refs.get(Rt)});Ct.processing.add(Rt);let Yr=m(function(vi,En){if(!vi.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let Cn=vi.slice(1).split("/").filter(Boolean);if(Cn.length===0)return En.rootSchema;let xa=En.version==="draft-2020-12"?"$defs":"definitions";if(Cn[0]===xa){let ya=Cn[1];if(!ya||!En.defs[ya])throw Error(`Reference not found: ${vi}`);return En.defs[ya]}throw Error(`Reference not found: ${vi}`)}(Rt,Ct),Ct);return Ct.refs.set(Rt,Yr),Ct.processing.delete(Rt),Yr}if(ze.enum!==void 0){let Rt=ze.enum;if(Ct.version==="openapi-3.0"&&ze.nullable===!0&&Rt.length===1&&Rt[0]===null)return Zr.null();if(Rt.length===0)return Zr.never();if(Rt.length===1)return Zr.literal(Rt[0]);if(Rt.every(vi=>typeof vi=="string"))return Zr.enum(Rt);let Yr=Rt.map(vi=>Zr.literal(vi));return Yr.length<2?Yr[0]:Zr.union([Yr[0],Yr[1],...Yr.slice(2)])}if(ze.const!==void 0)return Zr.literal(ze.const);let ri=ze.type;if(Array.isArray(ri)){let Rt=ri.map(Yr=>Q({...ze,type:Yr},Ct));return Rt.length===0?Zr.never():Rt.length===1?Rt[0]:Zr.union(Rt)}if(!ri)return Zr.any();switch(ri){case"string":{let Rt=Zr.string();if(ze.format){let Yr=ze.format;Yr==="email"?Rt=Rt.check(Zr.email()):Yr==="uri"||Yr==="uri-reference"?Rt=Rt.check(Zr.url()):Yr==="uuid"||Yr==="guid"?Rt=Rt.check(Zr.uuid()):Yr==="date-time"?Rt=Rt.check(Zr.iso.datetime()):Yr==="date"?Rt=Rt.check(Zr.iso.date()):Yr==="time"?Rt=Rt.check(Zr.iso.time()):Yr==="duration"?Rt=Rt.check(Zr.iso.duration()):Yr==="ipv4"?Rt=Rt.check(Zr.ipv4()):Yr==="ipv6"?Rt=Rt.check(Zr.ipv6()):Yr==="mac"?Rt=Rt.check(Zr.mac()):Yr==="cidr"?Rt=Rt.check(Zr.cidrv4()):Yr==="cidr-v6"?Rt=Rt.check(Zr.cidrv6()):Yr==="base64"?Rt=Rt.check(Zr.base64()):Yr==="base64url"?Rt=Rt.check(Zr.base64url()):Yr==="e164"?Rt=Rt.check(Zr.e164()):Yr==="jwt"?Rt=Rt.check(Zr.jwt()):Yr==="emoji"?Rt=Rt.check(Zr.emoji()):Yr==="nanoid"?Rt=Rt.check(Zr.nanoid()):Yr==="cuid"?Rt=Rt.check(Zr.cuid()):Yr==="cuid2"?Rt=Rt.check(Zr.cuid2()):Yr==="ulid"?Rt=Rt.check(Zr.ulid()):Yr==="xid"?Rt=Rt.check(Zr.xid()):Yr==="ksuid"&&(Rt=Rt.check(Zr.ksuid()))}typeof ze.minLength=="number"&&(Rt=Rt.min(ze.minLength)),typeof ze.maxLength=="number"&&(Rt=Rt.max(ze.maxLength)),ze.pattern&&(Rt=Rt.regex(new RegExp(ze.pattern))),Ft=Rt;break}case"number":case"integer":{let Rt=ri==="integer"?Zr.number().int():Zr.number();typeof ze.minimum=="number"&&(Rt=Rt.min(ze.minimum)),typeof ze.maximum=="number"&&(Rt=Rt.max(ze.maximum)),typeof ze.exclusiveMinimum=="number"?Rt=Rt.gt(ze.exclusiveMinimum):ze.exclusiveMinimum===!0&&typeof ze.minimum=="number"&&(Rt=Rt.gt(ze.minimum)),typeof ze.exclusiveMaximum=="number"?Rt=Rt.lt(ze.exclusiveMaximum):ze.exclusiveMaximum===!0&&typeof ze.maximum=="number"&&(Rt=Rt.lt(ze.maximum)),typeof ze.multipleOf=="number"&&(Rt=Rt.multipleOf(ze.multipleOf)),Ft=Rt;break}case"boolean":Ft=Zr.boolean();break;case"null":Ft=Zr.null();break;case"object":{let Rt={},Yr=ze.properties||{},vi=new Set(ze.required||[]);for(let[Cn,xa]of Object.entries(Yr)){let ya=m(xa,Ct);Rt[Cn]=vi.has(Cn)?ya:ya.optional()}if(ze.propertyNames){let Cn=m(ze.propertyNames,Ct),xa=ze.additionalProperties&&typeof ze.additionalProperties=="object"?m(ze.additionalProperties,Ct):Zr.any();if(Object.keys(Rt).length===0){Ft=Zr.record(Cn,xa);break}let ya=Zr.object(Rt).passthrough(),Qa=Zr.looseRecord(Cn,xa);Ft=Zr.intersection(ya,Qa);break}if(ze.patternProperties){let Cn=ze.patternProperties,xa=Object.keys(Cn),ya=[];for(let $s of xa){let Es=m(Cn[$s],Ct),Ts=Zr.string().regex(new RegExp($s));ya.push(Zr.looseRecord(Ts,Es))}let Qa=[];if(Object.keys(Rt).length>0&&Qa.push(Zr.object(Rt).passthrough()),Qa.push(...ya),Qa.length===0)Ft=Zr.object({}).passthrough();else if(Qa.length===1)Ft=Qa[0];else{let $s=Zr.intersection(Qa[0],Qa[1]);for(let Es=2;Es<Qa.length;Es++)$s=Zr.intersection($s,Qa[Es]);Ft=$s}break}let En=Zr.object(Rt);Ft=ze.additionalProperties===!1?En.strict():typeof ze.additionalProperties=="object"?En.catchall(m(ze.additionalProperties,Ct)):En.passthrough();break}case"array":{let Rt=ze.prefixItems,Yr=ze.items;if(Rt&&Array.isArray(Rt)){let vi=Rt.map(Cn=>m(Cn,Ct)),En=Yr&&typeof Yr=="object"&&!Array.isArray(Yr)?m(Yr,Ct):void 0;Ft=En?Zr.tuple(vi).rest(En):Zr.tuple(vi),typeof ze.minItems=="number"&&(Ft=Ft.check(Zr.minLength(ze.minItems))),typeof ze.maxItems=="number"&&(Ft=Ft.check(Zr.maxLength(ze.maxItems)))}else if(Array.isArray(Yr)){let vi=Yr.map(Cn=>m(Cn,Ct)),En=ze.additionalItems&&typeof ze.additionalItems=="object"?m(ze.additionalItems,Ct):void 0;Ft=En?Zr.tuple(vi).rest(En):Zr.tuple(vi),typeof ze.minItems=="number"&&(Ft=Ft.check(Zr.minLength(ze.minItems))),typeof ze.maxItems=="number"&&(Ft=Ft.check(Zr.maxLength(ze.maxItems)))}else if(Yr!==void 0){let vi=m(Yr,Ct),En=Zr.array(vi);typeof ze.minItems=="number"&&(En=En.min(ze.minItems)),typeof ze.maxItems=="number"&&(En=En.max(ze.maxItems)),Ft=En}else Ft=Zr.array(Zr.any());break}default:throw Error(`Unsupported type: ${ri}`)}return ze.description&&(Ft=Ft.describe(ze.description)),ze.default!==void 0&&(Ft=Ft.default(ze.default)),Ft}(f,$),j=f.type||f.enum!==void 0||f.const!==void 0;if(f.anyOf&&Array.isArray(f.anyOf)){let Q=f.anyOf.map(Ct=>m(Ct,$)),ze=Zr.union(Q);g=j?Zr.intersection(g,ze):ze}if(f.oneOf&&Array.isArray(f.oneOf)){let Q=f.oneOf.map(Ct=>m(Ct,$)),ze=Zr.xor(Q);g=j?Zr.intersection(g,ze):ze}if(f.allOf&&Array.isArray(f.allOf))if(f.allOf.length===0)g=j?g:Zr.any();else{let Q=j?g:m(f.allOf[0],$),ze=+!j;for(let Ct=ze;Ct<f.allOf.length;Ct++)Q=Zr.intersection(Q,m(f.allOf[Ct],$));g=Q}return f.nullable===!0&&$.version==="openapi-3.0"&&(g=Zr.nullable(g)),f.readOnly===!0&&(g=Zr.readonly(g)),g}(t,a)}function Rg(t){return lo(Ru,t)}function Og(t){return El(Pu,t)}function Ng(t){return gl(ju,t)}function Pg(t){return ql(Au,t)}function jg(t){return La(Ec,t)}v.s(["bigint",()=>Pg,"boolean",()=>Ng,"date",()=>jg,"number",()=>Og,"string",()=>Rg],52591),Hr(ss()),v.s([],80099),v.i(80099),v.i(61616),v.i(44214),v.i(63733),v.i(3056),v.i(48757),v.i(65549),v.i(36116);var Ag=Si,Mg=dl;v.i(40055),v.s(["ar",0,function(){let t,r;return{localeError:(t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}},r={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},e=>{switch(e.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${e.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${Nr(e.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${e.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${e.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${e.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${e.minimum.toString()} ${a.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${e.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${e.prefix}"`:e.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${e.suffix}"`:e.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${e.includes}"`:e.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${e.pattern}`:`${r[e.format]??e.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`;case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${e.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${e.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${e.keys.length>1?"\u0629":""}: ${Nt(e.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${e.origin}`;case"invalid_union":default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${e.origin}`}})}},"az",0,function(){let t,r;return{localeError:(t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}},r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${e.expected}, daxil olan ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${Nr(e.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${e.origin??"d\u0259y\u0259r"} ${i}${e.maximum.toString()} ${a.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${e.origin??"d\u0259y\u0259r"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${e.origin} ${i}${e.minimum.toString()} ${a.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${e.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:e.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${e.suffix}" il\u0259 bitm\u0259lidir`:e.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${e.includes}" daxil olmal\u0131d\u0131r`:e.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${e.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${r[e.format]??e.format}`;case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${e.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${e.keys.length>1?"lar":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`${e.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${e.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}})}},"be",0,function(){let t,r;return{localeError:(t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}},r={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},e=>{switch(e.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${e.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u043B\u0456\u043A";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0456\u045E";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${Nr(e.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;if(a){let m=Go(Number(e.maximum),a.unit.one,a.unit.few,a.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${a.verb} ${i}${e.maximum.toString()} ${m}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;if(a){let m=Go(Number(e.minimum),a.unit.one,a.unit.few,a.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${a.verb} ${i}${e.minimum.toString()} ${m}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${e.prefix}"`:e.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${e.suffix}"`:e.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${e.includes}"`:e.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${e.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${r[e.format]??e.format}`;case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${e.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${e.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${e.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}})}},"bg",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}},r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},e=>{switch(e.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${e.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${Nr(e.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${i}${e.maximum.toString()} ${a.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${i}${e.minimum.toString()} ${a.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${i}${e.minimum.toString()}`}case"invalid_format":{if(e.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${e.prefix}"`;if(e.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${e.suffix}"`;if(e.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${e.includes}"`;if(e.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${e.pattern}`;let i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return e.format==="emoji"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),e.format==="datetime"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),e.format==="date"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),e.format==="time"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),e.format==="duration"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${i} ${r[e.format]??e.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${e.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${e.keys.length>1?"\u043E\u0432\u0435":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${e.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${e.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}})}},"ca",0,function(){let t,r;return{localeError:(t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},r={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},e=>{switch(e.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${e.expected}, s'ha rebut ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Valor inv\xE0lid: s'esperava ${Nr(e.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${Nt(e.values," o ")}`;case"too_big":{let i=e.inclusive?"com a m\xE0xim":"menys de",a=t[e.origin]??null;return a?`Massa gran: s'esperava que ${e.origin??"el valor"} contingu\xE9s ${i} ${e.maximum.toString()} ${a.unit??"elements"}`:`Massa gran: s'esperava que ${e.origin??"el valor"} fos ${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?"com a m\xEDnim":"m\xE9s de",a=t[e.origin]??null;return a?`Massa petit: s'esperava que ${e.origin} contingu\xE9s ${i} ${e.minimum.toString()} ${a.unit}`:`Massa petit: s'esperava que ${e.origin} fos ${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${e.prefix}"`:e.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${e.suffix}"`:e.format==="includes"?`Format inv\xE0lid: ha d'incloure "${e.includes}"`:e.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${e.pattern}`:`Format inv\xE0lid per a ${r[e.format]??e.format}`;case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${e.divisor}`;case"unrecognized_keys":return`Clau${e.keys.length>1?"s":""} no reconeguda${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${e.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${e.origin}`;default:return"Entrada inv\xE0lida"}})}},"cs",0,function(){let t,r;return{localeError:(t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}},r={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},e=>{switch(e.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${e.expected}, obdr\u017Eeno ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${Nr(e.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${e.origin??"hodnota"} mus\xED m\xEDt ${i}${e.maximum.toString()} ${a.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${e.origin??"hodnota"} mus\xED b\xFDt ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${e.origin??"hodnota"} mus\xED m\xEDt ${i}${e.minimum.toString()} ${a.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${e.origin??"hodnota"} mus\xED b\xFDt ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${e.prefix}"`:e.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${e.suffix}"`:e.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${e.includes}"`:e.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${e.pattern}`:`Neplatn\xFD form\xE1t ${r[e.format]??e.format}`;case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${e.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${Nt(e.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${e.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${e.origin}`;default:return"Neplatn\xFD vstup"}})}},"da",0,function(){let t,r,e;return{localeError:(t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},r={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"},e={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i=>{var a,m,f,$;switch(i.code){case"invalid_type":return`Ugyldigt input: forventede ${r[a=i.expected]??a}, fik ${r[m=(g=>{let j=typeof g;switch(j){case"number":return Number.isNaN(g)?"NaN":"tal";case"object":return Array.isArray(g)?"liste":g===null?"null":Object.getPrototypeOf(g)!==Object.prototype&&g.constructor?g.constructor.name:"objekt"}return j})(i.input)]??m}`;case"invalid_value":return i.values.length===1?`Ugyldig v\xE6rdi: forventede ${Nr(i.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${Nt(i.values,"|")}`;case"too_big":{let g=i.inclusive?"<=":"<",j=t[i.origin]??null,Q=r[f=i.origin]??f;return j?`For stor: forventede ${Q??"value"} ${j.verb} ${g} ${i.maximum.toString()} ${j.unit??"elementer"}`:`For stor: forventede ${Q??"value"} havde ${g} ${i.maximum.toString()}`}case"too_small":{let g=i.inclusive?">=":">",j=t[i.origin]??null,Q=r[$=i.origin]??$;return j?`For lille: forventede ${Q} ${j.verb} ${g} ${i.minimum.toString()} ${j.unit}`:`For lille: forventede ${Q} havde ${g} ${i.minimum.toString()}`}case"invalid_format":return i.format==="starts_with"?`Ugyldig streng: skal starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: skal ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: skal indeholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${e[i.format]??i.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${Nt(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${i.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let t,r;return{localeError:(t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},e=>{switch(e.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${e.expected}, erhalten ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ung\xFCltige Eingabe: erwartet ${Nr(e.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Zu gro\xDF: erwartet, dass ${e.origin??"Wert"} ${i}${e.maximum.toString()} ${a.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${e.origin??"Wert"} ${i}${e.maximum.toString()} ist`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Zu klein: erwartet, dass ${e.origin} ${i}${e.minimum.toString()} ${a.unit} hat`:`Zu klein: erwartet, dass ${e.origin} ${i}${e.minimum.toString()} ist`}case"invalid_format":return e.format==="starts_with"?`Ung\xFCltiger String: muss mit "${e.prefix}" beginnen`:e.format==="ends_with"?`Ung\xFCltiger String: muss mit "${e.suffix}" enden`:e.format==="includes"?`Ung\xFCltiger String: muss "${e.includes}" enthalten`:e.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${e.pattern} entsprechen`:`Ung\xFCltig: ${r[e.format]??e.format}`;case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${e.divisor} sein`;case"unrecognized_keys":return`${e.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${e.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${e.origin}`;default:return"Ung\xFCltige Eingabe"}})}},"en",0,ss,"eo",0,function(){let t,r;return{localeError:(t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},e=>{switch(e.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${e.expected}, ricevi\u011Dis ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombro";case"object":if(Array.isArray(i))return"tabelo";if(i===null)return"senvalora";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Nevalida enigo: atendi\u011Dis ${Nr(e.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Tro granda: atendi\u011Dis ke ${e.origin??"valoro"} havu ${i}${e.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${e.origin??"valoro"} havu ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Tro malgranda: atendi\u011Dis ke ${e.origin} havu ${i}${e.minimum.toString()} ${a.unit}`:`Tro malgranda: atendi\u011Dis ke ${e.origin} estu ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${e.prefix}"`:e.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${e.suffix}"`:e.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${e.includes}"`:e.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${e.pattern}`:`Nevalida ${r[e.format]??e.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${e.divisor}`;case"unrecognized_keys":return`Nekonata${e.keys.length>1?"j":""} \u015Dlosilo${e.keys.length>1?"j":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${e.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${e.origin}`}})}},"es",0,function(){return{localeError:(()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},r={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function e(a){return r[a]??a}let i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return a=>{switch(a.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${e(a.expected)}, recibido ${e((m=>{let f=typeof m;switch(f){case"number":return Number.isNaN(m)?"NaN":"number";case"object":return Array.isArray(m)?"array":m===null?"null":Object.getPrototypeOf(m)!==Object.prototype?m.constructor.name:"object"}return f})(a.input))}`;case"invalid_value":return a.values.length===1?`Entrada inv\xE1lida: se esperaba ${Nr(a.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${Nt(a.values,"|")}`;case"too_big":{let m=a.inclusive?"<=":"<",f=t[a.origin]??null,$=e(a.origin);return f?`Demasiado grande: se esperaba que ${$??"valor"} tuviera ${m}${a.maximum.toString()} ${f.unit??"elementos"}`:`Demasiado grande: se esperaba que ${$??"valor"} fuera ${m}${a.maximum.toString()}`}case"too_small":{let m=a.inclusive?">=":">",f=t[a.origin]??null,$=e(a.origin);return f?`Demasiado peque\xF1o: se esperaba que ${$} tuviera ${m}${a.minimum.toString()} ${f.unit}`:`Demasiado peque\xF1o: se esperaba que ${$} fuera ${m}${a.minimum.toString()}`}case"invalid_format":return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${i[a.format]??a.format}`;case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${a.divisor}`;case"unrecognized_keys":return`Llave${a.keys.length>1?"s":""} desconocida${a.keys.length>1?"s":""}: ${Nt(a.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${e(a.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${e(a.origin)}`;default:return"Entrada inv\xE1lida"}}})()}},"fa",0,function(){let t,r;return{localeError:(t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}},r={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},e=>{switch(e.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${e.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":if(Array.isArray(i))return"\u0622\u0631\u0627\u06CC\u0647";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return e.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${Nr(e.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${Nt(e.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${e.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${e.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} ${a.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":return e.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${e.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:e.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${e.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:e.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${e.includes}" \u0628\u0627\u0634\u062F`:e.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${e.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${r[e.format]??e.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${e.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${e.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${e.origin}`;case"invalid_union":default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${e.origin}`}})}},"fi",0,function(){let t,r;return{localeError:(t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}},r={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},e=>{switch(e.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${e.expected}, oli ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${Nr(e.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Liian suuri: ${a.subject} t\xE4ytyy olla ${i}${e.maximum.toString()} ${a.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Liian pieni: ${a.subject} t\xE4ytyy olla ${i}${e.minimum.toString()} ${a.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${e.prefix}"`:e.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${e.suffix}"`:e.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${e.includes}"`:e.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${e.pattern}`:`Virheellinen ${r[e.format]??e.format}`;case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${e.divisor} monikerta`;case"unrecognized_keys":return`${e.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Nt(e.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}})}},"fr",0,function(){let t,r;return{localeError:(t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}},r={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},e=>{switch(e.code){case"invalid_type":return`Entr\xE9e invalide : ${e.expected} attendu, ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} re\xE7u`;case"invalid_value":return e.values.length===1?`Entr\xE9e invalide : ${Nr(e.values[0])} attendu`:`Option invalide : une valeur parmi ${Nt(e.values,"|")} attendue`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Trop grand : ${e.origin??"valeur"} doit ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${e.origin??"valeur"} doit \xEAtre ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Trop petit : ${e.origin} doit ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Trop petit : ${e.origin} doit \xEAtre ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${e.prefix}"`:e.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${e.suffix}"`:e.format==="includes"?`Cha\xEEne invalide : doit inclure "${e.includes}"`:e.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${e.pattern}`:`${r[e.format]??e.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xE9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${Nt(e.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${e.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return"Entr\xE9e invalide"}})}},"frCA",0,function(){let t,r;return{localeError:(t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}},r={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},e=>{switch(e.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${e.expected}, re\xE7u ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Entr\xE9e invalide : attendu ${Nr(e.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"\u2264":"<",a=t[e.origin]??null;return a?`Trop grand : attendu que ${e.origin??"la valeur"} ait ${i}${e.maximum.toString()} ${a.unit}`:`Trop grand : attendu que ${e.origin??"la valeur"} soit ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?"\u2265":">",a=t[e.origin]??null;return a?`Trop petit : attendu que ${e.origin} ait ${i}${e.minimum.toString()} ${a.unit}`:`Trop petit : attendu que ${e.origin} soit ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${e.prefix}"`:e.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${e.suffix}"`:e.format==="includes"?`Cha\xEEne invalide : doit inclure "${e.includes}"`:e.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${e.pattern}`:`${r[e.format]??e.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xE9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${Nt(e.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${e.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return"Entr\xE9e invalide"}})}},"he",0,function(){let t,r,e,i,a,m,f,$;return{localeError:(t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},r={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},e=g=>g?t[g]:void 0,i=g=>{let j=e(g);return j?j.label:g??t.unknown.label},a=g=>`\u05D4${i(g)}`,m=g=>(e(g)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",f=g=>g?r[g]??null:null,$={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},g=>{switch(g.code){case"invalid_type":{let j=i(g.expected),Q=(Ct=>{let Ft=typeof Ct;switch(Ft){case"number":return Number.isNaN(Ct)?"NaN":"number";case"object":return Array.isArray(Ct)?"array":Ct===null?"null":Object.getPrototypeOf(Ct)!==Object.prototype&&Ct.constructor?Ct.constructor.name:"object";default:return Ft}})(g.input),ze=t[Q]?.label??Q;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${j}, \u05D4\u05EA\u05E7\u05D1\u05DC ${ze}`}case"invalid_value":{if(g.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${Nr(g.values[0])}`;let j=g.values.map(Ct=>Nr(Ct));if(g.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${j[0]} \u05D0\u05D5 ${j[1]}`;let Q=j[j.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${j.slice(0,-1).join(", ")} \u05D0\u05D5 ${Q}`}case"too_big":{let j=f(g.origin),Q=a(g.origin??"value");if(g.origin==="string")return`${j?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${g.maximum.toString()} ${j?.unit??""} ${g.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(g.origin==="number"){let Ft=g.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${g.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${g.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Ft}`}if(g.origin==="array"||g.origin==="set"){let Ft=g.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",ri=g.inclusive?`${g.maximum} ${j?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${g.maximum} ${j?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${Q} ${Ft} \u05DC\u05D4\u05DB\u05D9\u05DC ${ri}`.trim()}let ze=g.inclusive?"<=":"<",Ct=m(g.origin??"value");return j?.unit?`${j.longLabel} \u05DE\u05D3\u05D9: ${Q} ${Ct} ${ze}${g.maximum.toString()} ${j.unit}`:`${j?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${Q} ${Ct} ${ze}${g.maximum.toString()}`}case"too_small":{let j=f(g.origin),Q=a(g.origin??"value");if(g.origin==="string")return`${j?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${g.minimum.toString()} ${j?.unit??""} ${g.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(g.origin==="number"){let Ft=g.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${g.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${g.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Ft}`}if(g.origin==="array"||g.origin==="set"){let Ft=g.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(g.minimum===1&&g.inclusive){let Rt=(g.origin,"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${Q} ${Ft} \u05DC\u05D4\u05DB\u05D9\u05DC ${Rt}`}let ri=g.inclusive?`${g.minimum} ${j?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${g.minimum} ${j?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${Q} ${Ft} \u05DC\u05D4\u05DB\u05D9\u05DC ${ri}`.trim()}let ze=g.inclusive?">=":">",Ct=m(g.origin??"value");return j?.unit?`${j.shortLabel} \u05DE\u05D3\u05D9: ${Q} ${Ct} ${ze}${g.minimum.toString()} ${j.unit}`:`${j?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${Q} ${Ct} ${ze}${g.minimum.toString()}`}case"invalid_format":{if(g.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${g.prefix}"`;if(g.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${g.suffix}"`;if(g.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${g.includes}"`;if(g.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${g.pattern}`;let j=$[g.format],Q=j?.label??g.format,ze=j?.gender??"m";return`${Q} \u05DC\u05D0 ${ze==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF"}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${g.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${g.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${g.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${Nt(g.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${a(g.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}})}},"hu",0,function(){let t,r;return{localeError:(t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},r={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},e=>{switch(e.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${e.expected}, a kapott \xE9rt\xE9k ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"sz\xE1m";case"object":if(Array.isArray(i))return"t\xF6mb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${Nr(e.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`T\xFAl nagy: ${e.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${i}${e.maximum.toString()} ${a.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${e.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${e.origin} m\xE9rete t\xFAl kicsi ${i}${e.minimum.toString()} ${a.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${e.origin} t\xFAl kicsi ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\xC9rv\xE9nytelen string: "${e.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:e.format==="ends_with"?`\xC9rv\xE9nytelen string: "${e.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:e.format==="includes"?`\xC9rv\xE9nytelen string: "${e.includes}" \xE9rt\xE9ket kell tartalmaznia`:e.format==="regex"?`\xC9rv\xE9nytelen string: ${e.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${r[e.format]??e.format}`;case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${e.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${e.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${e.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}})}},"id",0,function(){let t,r;return{localeError:(t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Input tidak valid: diharapkan ${e.expected}, diterima ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Input tidak valid: diharapkan ${Nr(e.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Terlalu besar: diharapkan ${e.origin??"value"} memiliki ${i}${e.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: diharapkan ${e.origin??"value"} menjadi ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Terlalu kecil: diharapkan ${e.origin} memiliki ${i}${e.minimum.toString()} ${a.unit}`:`Terlalu kecil: diharapkan ${e.origin} menjadi ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`String tidak valid: harus dimulai dengan "${e.prefix}"`:e.format==="ends_with"?`String tidak valid: harus berakhir dengan "${e.suffix}"`:e.format==="includes"?`String tidak valid: harus menyertakan "${e.includes}"`:e.format==="regex"?`String tidak valid: harus sesuai pola ${e.pattern}`:`${r[e.format]??e.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${e.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${e.origin}`}})}},"is",0,function(){let t,r;return{localeError:(t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}},r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},e=>{switch(e.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\xFAmer";case"object":if(Array.isArray(i))return"fylki";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \xFEar sem \xE1 a\xF0 vera ${e.expected}`;case"invalid_value":return e.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${Nr(e.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin??"gildi"} hafi ${i}${e.maximum.toString()} ${a.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin??"gildi"} s\xE9 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin} hafi ${i}${e.minimum.toString()} ${a.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin} s\xE9 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${e.prefix}"`:e.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${e.suffix}"`:e.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${e.includes}"`:e.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${e.pattern}`:`Rangt ${r[e.format]??e.format}`;case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${e.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${e.keys.length>1?"ir lyklar":"ur lykill"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${e.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${e.origin}`}})}},"it",0,function(){let t,r;return{localeError:(t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Input non valido: atteso ${e.expected}, ricevuto ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Input non valido: atteso ${Nr(e.values[0])}`:`Opzione non valida: atteso uno tra ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Troppo grande: ${e.origin??"valore"} deve avere ${i}${e.maximum.toString()} ${a.unit??"elementi"}`:`Troppo grande: ${e.origin??"valore"} deve essere ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Troppo piccolo: ${e.origin} deve avere ${i}${e.minimum.toString()} ${a.unit}`:`Troppo piccolo: ${e.origin} deve essere ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Stringa non valida: deve iniziare con "${e.prefix}"`:e.format==="ends_with"?`Stringa non valida: deve terminare con "${e.suffix}"`:e.format==="includes"?`Stringa non valida: deve includere "${e.includes}"`:e.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${e.pattern}`:`Invalid ${r[e.format]??e.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${e.divisor}`;case"unrecognized_keys":return`Chiav${e.keys.length>1?"i":"e"} non riconosciut${e.keys.length>1?"e":"a"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${e.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${e.origin}`}})}},"ja",0,function(){let t,r;return{localeError:(t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}},r={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},e=>{switch(e.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${e.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u6570\u5024";case"object":if(Array.isArray(i))return"\u914D\u5217";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return e.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${Nr(e.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${Nt(e.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let i=e.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",a=t[e.origin]??null;return a?`\u5927\u304D\u3059\u304E\u308B\u5024: ${e.origin??"\u5024"}\u306F${e.maximum.toString()}${a.unit??"\u8981\u7D20"}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${e.origin??"\u5024"}\u306F${e.maximum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let i=e.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",a=t[e.origin]??null;return a?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${e.origin}\u306F${e.minimum.toString()}${a.unit}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${e.origin}\u306F${e.minimum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":return e.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${e.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:e.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${e.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:e.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${e.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:e.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${e.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${r[e.format]??e.format}`;case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${e.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${e.keys.length>1?"\u7FA4":""}: ${Nt(e.keys,"\u3001")}`;case"invalid_key":return`${e.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${e.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}})}},"ka",0,function(){let t,r;return{localeError:(t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}},r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},e=>{switch(e.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":if(Array.isArray(i))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[a]??a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${Nr(e.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${Nt(e.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin} \u10D8\u10E7\u10DD\u10E1 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${e.prefix}"-\u10D8\u10D7`:e.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${e.suffix}"-\u10D8\u10D7`:e.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${e.includes}"-\u10E1`:e.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${e.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${e.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${e.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${e.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${e.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}})}},"kh",0,function(){return xs()},"km",0,xs,"ko",0,function(){let t,r;return{localeError:(t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}},r={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},e=>{switch(e.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${e.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return e.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${Nr(e.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${Nt(e.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let i=e.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",a=i==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",m=t[e.origin]??null,f=m?.unit??"\uC694\uC18C";return m?`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${e.maximum.toString()}${f} ${i}${a}`:`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${e.maximum.toString()} ${i}${a}`}case"too_small":{let i=e.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",a=i==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",m=t[e.origin]??null,f=m?.unit??"\uC694\uC18C";return m?`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${e.minimum.toString()}${f} ${i}${a}`:`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${e.minimum.toString()} ${i}${a}`}case"invalid_format":return e.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${e.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:e.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${e.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:e.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${e.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:e.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${e.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${r[e.format]??e.format}`;case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${e.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${Nt(e.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${e.origin}`;case"invalid_union":default:return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${e.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function r(i,a,m,f){let $=t[i]??null;return $===null?$:{unit:$.unit[a],verb:$.verb[f][m?"inclusive":"notInclusive"]}}let e={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return i=>{switch(i.code){case"invalid_type":var a;return`Gautas tipas ${Da(typeof(a=i.input),a)}, o tik\u0117tasi - ${Da(i.expected)}`;case"invalid_value":return i.values.length===1?`Privalo b\u016Bti ${Nr(i.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${Nt(i.values,"|")} pasirinkim\u0173`;case"too_big":{let m=Da(i.origin),f=r(i.origin,To(Number(i.maximum)),i.inclusive??!1,"smaller");if(f?.verb)return`${ls(m??i.origin??"reik\u0161m\u0117")} ${f.verb} ${i.maximum.toString()} ${f.unit??"element\u0173"}`;let $=i.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${ls(m??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${$} ${i.maximum.toString()} ${f?.unit}`}case"too_small":{let m=Da(i.origin),f=r(i.origin,To(Number(i.minimum)),i.inclusive??!1,"bigger");if(f?.verb)return`${ls(m??i.origin??"reik\u0161m\u0117")} ${f.verb} ${i.minimum.toString()} ${f.unit??"element\u0173"}`;let $=i.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${ls(m??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${$} ${i.minimum.toString()} ${f?.unit}`}case"invalid_format":return i.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${i.prefix}"`:i.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${i.includes}"`:i.format==="regex"?`Eilut\u0117 privalo atitikti ${i.pattern}`:`Neteisingas ${e[i.format]??i.format}`;case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${i.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${i.keys.length>1?"i":"as"} rakt${i.keys.length>1?"ai":"as"}: ${Nt(i.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga \u012Fvestis";case"invalid_element":{let m=Da(i.origin);return`${ls(m??i.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}}}})()}},"mk",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}},r={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},e=>{switch(e.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0431\u0440\u043E\u0458";case"object":if(Array.isArray(i))return"\u043D\u0438\u0437\u0430";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Invalid input: expected ${Nr(e.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${i}${e.maximum.toString()} ${a.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin} \u0434\u0430 \u0438\u043C\u0430 ${i}${e.minimum.toString()} ${a.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${e.prefix}"`:e.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${e.suffix}"`:e.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${e.includes}"`:e.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${e.pattern}`:`Invalid ${r[e.format]??e.format}`;case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${e.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${e.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}})}},"ms",0,function(){let t,r;return{localeError:(t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Input tidak sah: dijangka ${e.expected}, diterima ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Input tidak sah: dijangka ${Nr(e.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Terlalu besar: dijangka ${e.origin??"nilai"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: dijangka ${e.origin??"nilai"} adalah ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Terlalu kecil: dijangka ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Terlalu kecil: dijangka ${e.origin} adalah ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`String tidak sah: mesti bermula dengan "${e.prefix}"`:e.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${e.suffix}"`:e.format==="includes"?`String tidak sah: mesti mengandungi "${e.includes}"`:e.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${e.pattern}`:`${r[e.format]??e.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Nt(e.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${e.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${e.origin}`}})}},"nl",0,function(){let t,r;return{localeError:(t={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}},r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},e=>{switch(e.code){case"invalid_type":return`Ongeldige invoer: verwacht ${e.expected}, ontving ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ongeldige invoer: verwacht ${Nr(e.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Te groot: verwacht dat ${e.origin??"waarde"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"elementen"}`:`Te groot: verwacht dat ${e.origin??"waarde"} ${i}${e.maximum.toString()} is`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Te klein: verwacht dat ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Te klein: verwacht dat ${e.origin} ${i}${e.minimum.toString()} is`}case"invalid_format":return e.format==="starts_with"?`Ongeldige tekst: moet met "${e.prefix}" beginnen`:e.format==="ends_with"?`Ongeldige tekst: moet op "${e.suffix}" eindigen`:e.format==="includes"?`Ongeldige tekst: moet "${e.includes}" bevatten`:e.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${e.pattern}`:`Ongeldig: ${r[e.format]??e.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${e.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${e.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${e.origin}`}})}},"no",0,function(){let t,r;return{localeError:(t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}},r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Ugyldig input: forventet ${e.expected}, fikk ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ugyldig verdi: forventet ${Nr(e.values[0])}`:`Ugyldig valg: forventet en av ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`For stor(t): forventet ${e.origin??"value"} til \xE5 ha ${i}${e.maximum.toString()} ${a.unit??"elementer"}`:`For stor(t): forventet ${e.origin??"value"} til \xE5 ha ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`For lite(n): forventet ${e.origin} til \xE5 ha ${i}${e.minimum.toString()} ${a.unit}`:`For lite(n): forventet ${e.origin} til \xE5 ha ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${e.prefix}"`:e.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${e.suffix}"`:e.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${e.includes}"`:e.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${e.pattern}`:`Ugyldig ${r[e.format]??e.format}`;case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${e.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${e.origin}`}})}},"ota",0,function(){let t,r;return{localeError:(t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}},r={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},e=>{switch(e.code){case"invalid_type":return`F\xE2sit giren: umulan ${e.expected}, al\u0131nan ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`F\xE2sit giren: umulan ${Nr(e.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Fazla b\xFCy\xFCk: ${e.origin??"value"}, ${i}${e.maximum.toString()} ${a.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${e.origin??"value"}, ${i}${e.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Fazla k\xFC\xE7\xFCk: ${e.origin}, ${i}${e.minimum.toString()} ${a.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${e.origin}, ${i}${e.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":return e.format==="starts_with"?`F\xE2sit metin: "${e.prefix}" ile ba\u015Flamal\u0131.`:e.format==="ends_with"?`F\xE2sit metin: "${e.suffix}" ile bitmeli.`:e.format==="includes"?`F\xE2sit metin: "${e.includes}" ihtiv\xE2 etmeli.`:e.format==="regex"?`F\xE2sit metin: ${e.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${r[e.format]??e.format}`;case"not_multiple_of":return`F\xE2sit say\u0131: ${e.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${e.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}})}},"pl",0,function(){let t,r;return{localeError:(t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}},r={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},e=>{switch(e.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${e.expected}, otrzymano ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${Nr(e.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${e.maximum.toString()} ${a.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${e.minimum.toString()} ${a.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${e.prefix}"`:e.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${e.suffix}"`:e.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${e.includes}"`:e.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${e.pattern}`:`Nieprawid\u0142ow(y/a/e) ${r[e.format]??e.format}`;case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${e.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${e.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${e.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}})}},"ps",0,function(){let t,r;return{localeError:(t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}},r={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},e=>{switch(e.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${e.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":if(Array.isArray(i))return"\u0627\u0631\u06D0";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return e.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${Nr(e.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${Nt(e.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${e.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${e.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} \u0648\u064A`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} ${a.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} \u0648\u064A`}case"invalid_format":return e.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${e.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:e.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${e.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:e.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${e.includes}" \u0648\u0644\u0631\u064A`:e.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${e.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${r[e.format]??e.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`;case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${e.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${e.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${e.origin} \u06A9\u06D0`;case"invalid_union":default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${e.origin} \u06A9\u06D0`}})}},"pt",0,function(){let t,r;return{localeError:(t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},r={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},e=>{switch(e.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${e.expected}, recebido ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\xFAmero";case"object":if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Entrada inv\xE1lida: esperado ${Nr(e.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Muito grande: esperado que ${e.origin??"valor"} tivesse ${i}${e.maximum.toString()} ${a.unit??"elementos"}`:`Muito grande: esperado que ${e.origin??"valor"} fosse ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Muito pequeno: esperado que ${e.origin} tivesse ${i}${e.minimum.toString()} ${a.unit}`:`Muito pequeno: esperado que ${e.origin} fosse ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${e.prefix}"`:e.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${e.suffix}"`:e.format==="includes"?`Texto inv\xE1lido: deve incluir "${e.includes}"`:e.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${e.pattern}`:`${r[e.format]??e.format} inv\xE1lido`;case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${e.divisor}`;case"unrecognized_keys":return`Chave${e.keys.length>1?"s":""} desconhecida${e.keys.length>1?"s":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${e.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${e.origin}`;default:return"Campo inv\xE1lido"}})}},"ru",0,function(){let t,r;return{localeError:(t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}},r={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},e=>{switch(e.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${e.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${Nr(e.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;if(a){let m=no(Number(e.maximum),a.unit.one,a.unit.few,a.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${e.maximum.toString()} ${m}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;if(a){let m=no(Number(e.minimum),a.unit.one,a.unit.few,a.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${e.minimum.toString()} ${m}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin} \u0431\u0443\u0434\u0435\u0442 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${e.prefix}"`:e.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${e.suffix}"`:e.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${e.includes}"`:e.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${e.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${e.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${e.keys.length>1?"\u0438":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${e.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${e.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}})}},"sl",0,function(){let t,r;return{localeError:(t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},r={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},e=>{switch(e.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${e.expected}, prejeto ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0161tevilo";case"object":if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${Nr(e.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Preveliko: pri\u010Dakovano, da bo ${e.origin??"vrednost"} imelo ${i}${e.maximum.toString()} ${a.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${e.origin??"vrednost"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Premajhno: pri\u010Dakovano, da bo ${e.origin} imelo ${i}${e.minimum.toString()} ${a.unit}`:`Premajhno: pri\u010Dakovano, da bo ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${e.prefix}"`:e.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${e.suffix}"`:e.format==="includes"?`Neveljaven niz: mora vsebovati "${e.includes}"`:e.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${e.pattern}`:`Neveljaven ${r[e.format]??e.format}`;case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${e.divisor}`;case"unrecognized_keys":return`Neprepoznan${e.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${e.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${e.origin}`}})}},"sv",0,function(){let t,r;return{localeError:(t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}},r={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},e=>{switch(e.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${e.expected}, fick ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${Nr(e.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`F\xF6r stor(t): f\xF6rv\xE4ntade ${e.origin??"v\xE4rdet"} att ha ${i}${e.maximum.toString()} ${a.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${e.origin??"v\xE4rdet"} att ha ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`F\xF6r lite(t): f\xF6rv\xE4ntade ${e.origin??"v\xE4rdet"} att ha ${i}${e.minimum.toString()} ${a.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${e.origin??"v\xE4rdet"} att ha ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${e.prefix}"`:e.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${e.suffix}"`:e.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${e.includes}"`:e.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${e.pattern}"`:`Ogiltig(t) ${r[e.format]??e.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${Nt(e.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${e.origin??"v\xE4rdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${e.origin??"v\xE4rdet"}`}})}},"ta",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}},r={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":if(Array.isArray(i))return"\u0B85\u0BA3\u0BBF";if(i===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Nr(e.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Nt(e.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${e.maximum.toString()} ${a.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${e.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin} ${i}${e.minimum.toString()} ${a.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin} ${i}${e.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":return e.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${e.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:e.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${e.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:e.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${e.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:e.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${e.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${e.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${e.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`${e.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${e.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}})}},"th",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}},r={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},e=>{switch(e.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${e.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":if(Array.isArray(i))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(i===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${Nr(e.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",a=t[e.origin]??null;return a?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.maximum.toString()} ${a.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",a=t[e.origin]??null;return a?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.minimum.toString()} ${a.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${e.prefix}"`:e.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${e.suffix}"`:e.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${e.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:e.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${e.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${r[e.format]??e.format}`;case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${e.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${Nt(e.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${e.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${e.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}})}},"tr",0,function(){let t,r;return{localeError:(t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}},r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},e=>{switch(e.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${e.expected}, al\u0131nan ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${Nr(e.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\xC7ok b\xFCy\xFCk: beklenen ${e.origin??"de\u011Fer"} ${i}${e.maximum.toString()} ${a.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${e.origin??"de\u011Fer"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\xC7ok k\xFC\xE7\xFCk: beklenen ${e.origin} ${i}${e.minimum.toString()} ${a.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Ge\xE7ersiz metin: "${e.prefix}" ile ba\u015Flamal\u0131`:e.format==="ends_with"?`Ge\xE7ersiz metin: "${e.suffix}" ile bitmeli`:e.format==="includes"?`Ge\xE7ersiz metin: "${e.includes}" i\xE7ermeli`:e.format==="regex"?`Ge\xE7ersiz metin: ${e.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[e.format]??e.format}`;case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${e.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${e.keys.length>1?"lar":""}: ${Nt(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${e.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}})}},"ua",0,function(){return ws()},"uk",0,ws,"ur",0,function(){let t,r;return{localeError:(t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}},r={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},e=>{switch(e.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${e.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0646\u0645\u0628\u0631";case"object":if(Array.isArray(i))return"\u0622\u0631\u06D2";if(i===null)return"\u0646\u0644";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return e.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${Nr(e.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${Nt(e.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${e.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${i}${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${e.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${i}${e.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${e.origin} \u06A9\u06D2 ${i}${e.minimum.toString()} ${a.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${e.origin} \u06A9\u0627 ${i}${e.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":return e.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${e.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:e.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${e.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:e.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${e.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:e.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${e.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${e.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${e.keys.length>1?"\u0632":""}: ${Nt(e.keys,"\u060C ")}`;case"invalid_key":return`${e.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${e.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}})}},"vi",0,function(){let t,r;return{localeError:(t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}},r={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},e=>{switch(e.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${e.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"s\u1ED1";case"object":if(Array.isArray(i))return"m\u1EA3ng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${Nr(e.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${e.origin??"gi\xE1 tr\u1ECB"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${e.origin??"gi\xE1 tr\u1ECB"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${e.prefix}"`:e.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${e.suffix}"`:e.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${e.includes}"`:e.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${e.pattern}`:`${r[e.format]??e.format} kh\xF4ng h\u1EE3p l\u1EC7`;case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${e.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${Nt(e.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${e.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${e.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}})}},"yo",0,function(){let t,r;return{localeError:(t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}},r={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},e=>{switch(e.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${e.expected}, \xE0m\u1ECD\u0300 a r\xED ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":if(Array.isArray(i))return"akop\u1ECD";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${Nr(e.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${e.origin??"iye"} ${a.verb} ${i}${e.maximum} ${a.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${e.maximum}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${e.origin} ${a.verb} ${i}${e.minimum} ${a.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${e.minimum}`}case"invalid_format":return e.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${e.prefix}"`:e.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${e.suffix}"`:e.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${e.includes}"`:e.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${e.pattern}`:`A\u1E63\xEC\u1E63e: ${r[e.format]??e.format}`;case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${e.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${Nt(e.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${e.origin}`;case"invalid_union":default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${e.origin}`}})}},"zhCN",0,function(){let t,r;return{localeError:(t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}},r={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},e=>{switch(e.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${e.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":if(Array.isArray(i))return"\u6570\u7EC4";if(i===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${Nr(e.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${e.origin??"\u503C"} ${i}${e.maximum.toString()} ${a.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${e.origin??"\u503C"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${e.origin} ${i}${e.minimum.toString()} ${a.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${e.prefix}" \u5F00\u5934`:e.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${e.suffix}" \u7ED3\u5C3E`:e.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${e.includes}"`:e.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${e.pattern}`:`\u65E0\u6548${r[e.format]??e.format}`;case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${e.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${Nt(e.keys,", ")}`;case"invalid_key":return`${e.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${e.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}})}},"zhTW",0,function(){let t,r;return{localeError:(t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}},r={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},e=>{switch(e.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${e.expected}\uFF0C\u4F46\u6536\u5230 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${Nr(e.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${Nt(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${e.origin??"\u503C"} \u61C9\u70BA ${i}${e.maximum.toString()} ${a.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${e.origin??"\u503C"} \u61C9\u70BA ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${e.origin} \u61C9\u70BA ${i}${e.minimum.toString()} ${a.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${e.origin} \u61C9\u70BA ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${e.prefix}" \u958B\u982D`:e.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${e.suffix}" \u7D50\u5C3E`:e.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${e.includes}"`:e.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${e.pattern}`:`\u7121\u6548\u7684 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${e.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${e.keys.length>1?"\u5011":""}\uFF1A${Nt(e.keys,"\u3001")}`;case"invalid_key":return`${e.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${e.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}})}}],37208);var of=v.i(37208);v.i(16661),v.i(15210),v.i(91721),v.i(58214);var Dg=v.i(28740);v.s(["$ZodAny",0,vn,"$ZodArray",0,fn,"$ZodAsyncError",()=>tn,"$ZodBase64",0,bs,"$ZodBase64URL",0,Wo,"$ZodBigInt",0,Je,"$ZodBigIntFormat",0,st,"$ZodBoolean",0,se,"$ZodCIDRv4",0,Rn,"$ZodCIDRv6",0,ui,"$ZodCUID",0,fi,"$ZodCUID2",0,vo,"$ZodCatch",0,Dr,"$ZodCheck",0,ln,"$ZodCheckBigIntFormat",0,Bs,"$ZodCheckEndsWith",0,ot,"$ZodCheckGreaterThan",0,Ti,"$ZodCheckIncludes",0,xe,"$ZodCheckLengthEquals",0,O,"$ZodCheckLessThan",0,Pr,"$ZodCheckLowerCase",0,E,"$ZodCheckMaxLength",0,d,"$ZodCheckMaxSize",0,Vs,"$ZodCheckMimeType",0,lr,"$ZodCheckMinLength",0,y,"$ZodCheckMinSize",0,vs,"$ZodCheckMultipleOf",0,yo,"$ZodCheckNumberFormat",0,Hn,"$ZodCheckOverwrite",0,Jt,"$ZodCheckProperty",0,tt,"$ZodCheckRegex",0,ue,"$ZodCheckSizeEquals",0,k,"$ZodCheckStartsWith",0,Ae,"$ZodCheckStringFormat",0,L,"$ZodCheckUpperCase",0,Y,"$ZodCodec",0,ii,"$ZodCustom",0,Ja,"$ZodCustomStringFormat",0,l,"$ZodDate",0,Cr,"$ZodDefault",0,Oe,"$ZodDiscriminatedUnion",0,Gs,"$ZodE164",0,_s,"$ZodEmail",0,Ci,"$ZodEmoji",0,aa,"$ZodEncodeError",()=>Fn,"$ZodEnum",0,I,"$ZodError",0,on,"$ZodFile",0,le,"$ZodFunction",0,Ai,"$ZodGUID",0,cn,"$ZodIPv4",0,Aa,"$ZodIPv6",0,Ma,"$ZodISODate",0,Ga,"$ZodISODateTime",0,da,"$ZodISODuration",0,ka,"$ZodISOTime",0,qi,"$ZodIntersection",0,Qs,"$ZodJWT",0,o,"$ZodKSUID",0,to,"$ZodLazy",0,Ha,"$ZodLiteral",0,K,"$ZodMAC",0,Mo,"$ZodMap",0,_,"$ZodNaN",0,dn,"$ZodNanoID",0,Pi,"$ZodNever",0,yr,"$ZodNonOptional",0,vr,"$ZodNull",0,rn,"$ZodNullable",0,xt,"$ZodNumber",0,C,"$ZodNumberFormat",0,B,"$ZodObject",0,ro,"$ZodObjectJIT",0,Ji,"$ZodOptional",0,ce,"$ZodPipe",0,Zn,"$ZodPrefault",0,Vt,"$ZodPromise",0,ua,"$ZodReadonly",0,zn,"$ZodRealError",0,jr,"$ZodRecord",0,b,"$ZodRegistry",()=>Qo,"$ZodSet",0,z,"$ZodString",0,It,"$ZodStringFormat",0,Mt,"$ZodSuccess",0,De,"$ZodSymbol",0,ur,"$ZodTemplateLiteral",0,ai,"$ZodTransform",0,te,"$ZodTuple",0,s,"$ZodType",0,Ht,"$ZodULID",0,ji,"$ZodURL",0,Ln,"$ZodUUID",0,_i,"$ZodUndefined",0,Er,"$ZodUnion",0,Eo,"$ZodUnknown",0,ct,"$ZodVoid",0,wr,"$ZodXID",0,ha,"$ZodXor",0,Hs,"$brand",0,Rr,"$constructor",()=>G,"$input",0,Wi,"$output",0,us,"Doc",()=>er,"JSONSchema",0,Dg,"JSONSchemaGenerator",()=>Eg,"NEVER",0,br,"TimePrecision",0,co,"_any",()=>wn,"_array",()=>Jc,"_base64",()=>Xs,"_base64url",()=>ci,"_bigint",()=>yl,"_boolean",()=>wu,"_catch",()=>Kp,"_check",()=>Qc,"_cidrv4",()=>qa,"_cidrv6",()=>qs,"_coercedBigint",()=>ql,"_coercedBoolean",()=>gl,"_coercedDate",()=>La,"_coercedNumber",()=>El,"_coercedString",()=>lo,"_cuid",()=>Ar,"_cuid2",()=>Yn,"_custom",()=>Wc,"_date",()=>ol,"_decode",0,ao,"_decodeAsync",0,Fo,"_default",()=>Vp,"_discriminatedUnion",()=>Np,"_e164",()=>ga,"_email",()=>Ss,"_emoji",()=>Gn,"_encode",0,Io,"_encodeAsync",0,jo,"_endsWith",()=>zu,"_enum",()=>Up,"_file",()=>Kc,"_float32",()=>bo,"_float64",()=>Yo,"_gt",()=>ms,"_gte",()=>Oo,"_guid",()=>jn,"_includes",()=>_l,"_int",()=>Tl,"_int32",()=>fl,"_int64",()=>al,"_intersection",()=>Pp,"_ipv4",()=>Us,"_ipv6",()=>Ua,"_isoDate",()=>Uo,"_isoDateTime",()=>ds,"_isoDuration",()=>So,"_isoTime",()=>wi,"_jwt",()=>Vo,"_ksuid",()=>cs,"_lazy",()=>Xp,"_length",()=>bl,"_literal",()=>Lp,"_lowercase",()=>tl,"_lt",()=>es,"_lte",()=>ea,"_mac",()=>uo,"_map",()=>Mp,"_max",()=>ea,"_maxLength",()=>Li,"_maxSize",()=>vl,"_mime",()=>ku,"_min",()=>Oo,"_minLength",()=>Ho,"_minSize",()=>ll,"_multipleOf",()=>sl,"_nan",()=>Ls,"_nanoid",()=>$r,"_nativeEnum",()=>qp,"_negative",()=>eu,"_never",()=>Ys,"_nonnegative",()=>Rl,"_nonoptional",()=>Hp,"_nonpositive",()=>Cl,"_normalize",()=>Iu,"_null",()=>Yl,"_nullable",()=>Bp,"_number",()=>ps,"_optional",()=>Zp,"_overwrite",()=>ul,"_parse",0,Ka,"_parseAsync",0,go,"_pipe",()=>Wp,"_positive",()=>ks,"_promise",()=>Yp,"_property",()=>ic,"_readonly",()=>Gp,"_record",()=>Ap,"_refine",()=>Gc,"_regex",()=>ca,"_safeDecode",0,Wa,"_safeDecodeAsync",0,Pa,"_safeEncode",0,oo,"_safeEncodeAsync",0,gs,"_safeParse",0,wo,"_safeParseAsync",0,ko,"_set",()=>Dp,"_size",()=>Ll,"_slugify",()=>Cu,"_startsWith",()=>Su,"_string",()=>Xo,"_stringFormat",()=>tu,"_stringbool",()=>ed,"_success",()=>Jp,"_superRefine",()=>ac,"_symbol",()=>Xl,"_templateLiteral",()=>Qp,"_toLowerCase",()=>Eu,"_toUpperCase",()=>Tu,"_transform",()=>Fp,"_trim",()=>$u,"_tuple",()=>jp,"_uint32",()=>xu,"_uint64",()=>zs,"_ulid",()=>ki,"_undefined",()=>Ns,"_union",()=>Rp,"_unknown",()=>Ro,"_uppercase",()=>Ol,"_url",()=>oi,"_uuid",()=>bn,"_uuidv4",()=>$n,"_uuidv6",()=>Xn,"_uuidv7",()=>_n,"_void",()=>el,"_xid",()=>Co,"_xor",()=>Op,"clone",()=>Qn,"config",()=>Hr,"createStandardJSONSchemaMethod",0,ru,"createToJSONSchemaMethod",0,td,"decode",0,Ws,"decodeAsync",0,ma,"describe",()=>Xc,"encode",0,ia,"encodeAsync",0,Ds,"extractDefs",()=>Zl,"finalize",()=>Bl,"flattenError",()=>sn,"formatError",()=>Or,"globalConfig",0,Tn,"globalRegistry",0,Mi,"initializeContext",()=>Fl,"isValidBase64",()=>so,"isValidBase64URL",()=>Bo,"isValidJWT",()=>T,"locales",0,of,"meta",()=>Yc,"parse",0,ba,"parseAsync",0,Po,"prettifyError",()=>Ir,"process",()=>$a,"regexes",0,Mg,"registry",()=>Do,"safeDecode",0,za,"safeDecodeAsync",0,Zo,"safeEncode",0,Wn,"safeEncodeAsync",0,Ao,"safeParse",0,Lo,"safeParseAsync",0,_a,"toDotPath",()=>Mr,"toJSONSchema",()=>id,"treeifyError",()=>Vr,"util",0,Ag,"version",0,Pt],20168);var Ug=v.i(20168);v.i(10419),v.i(27632),v.i(1583),v.s(["$brand",0,Rr,"ZodFirstPartyTypeKind",()=>Xt,"ZodIssueCode",0,lp,"config",()=>Hr,"getErrorMap",()=>cp,"setErrorMap",()=>up],2102),v.i(2102);var dl=dl,Si=Si,qg=v.i(52591);v.s(["$brand",0,Rr,"$input",0,Wi,"$output",0,us,"NEVER",0,br,"TimePrecision",0,co,"ZodAny",0,$d,"ZodArray",0,Rd,"ZodBase64",0,xc,"ZodBase64URL",0,wc,"ZodBigInt",0,Au,"ZodBigIntFormat",0,Ic,"ZodBoolean",0,ju,"ZodCIDRv4",0,bc,"ZodCIDRv6",0,_c,"ZodCUID",0,pc,"ZodCUID2",0,mc,"ZodCatch",0,Qd,"ZodCodec",0,jc,"ZodCustom",0,Bu,"ZodCustomStringFormat",0,nu,"ZodDate",0,Ec,"ZodDefault",0,Vd,"ZodDiscriminatedUnion",0,Nd,"ZodE164",0,Sc,"ZodEmail",0,uc,"ZodEmoji",0,cc,"ZodEnum",0,iu,"ZodError",0,Zm,"ZodFile",0,Fd,"ZodFirstPartyTypeKind",()=>Xt,"ZodFunction",0,op,"ZodGUID",0,Ou,"ZodIPv4",0,yc,"ZodIPv6",0,vc,"ZodISODate",0,od,"ZodISODateTime",0,ad,"ZodISODuration",0,ld,"ZodISOTime",0,sd,"ZodIntersection",0,Pd,"ZodIssueCode",0,lp,"ZodJWT",0,zc,"ZodKSUID",0,gc,"ZodLazy",0,np,"ZodLiteral",0,Ld,"ZodMAC",0,_d,"ZodMap",0,Ud,"ZodNaN",0,Yd,"ZodNanoID",0,dc,"ZodNever",0,Td,"ZodNonOptional",0,Nc,"ZodNull",0,kd,"ZodNullable",0,Bd,"ZodNumber",0,Pu,"ZodNumberFormat",0,Vl,"ZodObject",0,Du,"ZodOptional",0,Oc,"ZodPipe",0,Pc,"ZodPrefault",0,Jd,"ZodPromise",0,ap,"ZodReadonly",0,ep,"ZodRealError",0,Ps,"ZodRecord",0,qu,"ZodSet",0,qd,"ZodString",0,Ru,"ZodStringFormat",0,Fa,"ZodSuccess",0,Gd,"ZodSymbol",0,Sd,"ZodTemplateLiteral",0,rp,"ZodTransform",0,Zd,"ZodTuple",0,Ad,"ZodType",0,yi,"ZodULID",0,hc,"ZodURL",0,Nu,"ZodUUID",0,cl,"ZodUndefined",0,zd,"ZodUnion",0,Uu,"ZodUnknown",0,Ed,"ZodVoid",0,Cd,"ZodXID",0,fc,"ZodXor",0,Od,"_ZodString",0,sc,"_default",()=>Hd,"_function",()=>Ac,"any",()=>$h,"array",()=>Mu,"base64",()=>ch,"base64url",()=>dh,"bigint",()=>wh,"boolean",()=>wd,"catch",()=>Xd,"check",()=>Wh,"cidrv4",()=>lh,"cidrv6",()=>uh,"clone",()=>Qn,"codec",()=>Hh,"coerce",0,qg,"config",()=>Hr,"core",0,Ug,"cuid",()=>eh,"cuid2",()=>th,"custom",()=>Gh,"date",()=>Th,"decode",0,md,"decodeAsync",0,fd,"describe",0,Xh,"discriminatedUnion",()=>jh,"e164",()=>ph,"email",()=>Bm,"emoji",()=>Xm,"encode",0,pd,"encodeAsync",0,hd,"endsWith",()=>zu,"enum",()=>Cc,"file",()=>Fh,"flattenError",()=>sn,"float32",()=>vh,"float64",()=>bh,"formatError",()=>Or,"fromJSONSchema",()=>Cg,"function",()=>Ac,"getErrorMap",()=>cp,"globalRegistry",0,Mi,"gt",()=>ms,"gte",()=>Oo,"guid",()=>Vm,"hash",()=>yh,"hex",()=>gh,"hostname",()=>fh,"httpUrl",()=>Qm,"includes",()=>_l,"instanceof",()=>ef,"int",()=>kc,"int32",()=>_h,"int64",()=>Sh,"intersection",()=>jd,"ipv4",()=>ah,"ipv6",()=>sh,"iso",0,af,"json",()=>rf,"jwt",()=>mh,"keyof",()=>Ch,"ksuid",()=>ih,"lazy",()=>ip,"length",()=>bl,"literal",()=>Lh,"locales",0,of,"looseObject",()=>Nh,"looseRecord",()=>Mh,"lowercase",()=>tl,"lt",()=>es,"lte",()=>ea,"mac",()=>oh,"map",()=>Dh,"maxLength",()=>Li,"maxSize",()=>vl,"meta",0,Yh,"mime",()=>ku,"minLength",()=>Ho,"minSize",()=>ll,"multipleOf",()=>sl,"nan",()=>Vh,"nanoid",()=>Ym,"nativeEnum",()=>qh,"negative",()=>eu,"never",()=>$c,"nonnegative",()=>Rl,"nonoptional",()=>Wd,"nonpositive",()=>Cl,"normalize",()=>Iu,"null",()=>Id,"nullable",()=>Fu,"nullish",()=>Zh,"number",()=>xd,"object",()=>Rh,"optional",()=>Lu,"overwrite",()=>ul,"parse",0,ud,"parseAsync",0,cd,"partialRecord",()=>Ah,"pipe",()=>Zu,"positive",()=>ks,"prefault",()=>Kd,"preprocess",()=>nf,"prettifyError",()=>Ir,"promise",()=>Kh,"property",()=>ic,"readonly",()=>tp,"record",()=>Dd,"refine",()=>sp,"regex",()=>ca,"regexes",()=>dl,"registry",()=>Do,"safeDecode",0,yd,"safeDecodeAsync",0,bd,"safeEncode",0,gd,"safeEncodeAsync",0,vd,"safeParse",0,dd,"safeParseAsync",0,oc,"set",()=>Uh,"setErrorMap",()=>up,"size",()=>Ll,"slugify",()=>Cu,"startsWith",()=>Su,"strictObject",()=>Oh,"string",()=>lc,"stringFormat",()=>hh,"stringbool",0,tf,"success",()=>Bh,"superRefine",()=>Qh,"symbol",()=>kh,"templateLiteral",()=>Jh,"toJSONSchema",()=>id,"toLowerCase",()=>Eu,"toUpperCase",()=>Tu,"transform",()=>Rc,"treeifyError",()=>Vr,"trim",()=>$u,"tuple",()=>Md,"uint32",()=>xh,"uint64",()=>zh,"ulid",()=>rh,"undefined",()=>Ih,"union",()=>Tc,"unknown",()=>Hl,"uppercase",()=>Ol,"url",()=>Gm,"util",()=>Si,"uuid",()=>Hm,"uuidv4",()=>Jm,"uuidv6",()=>Km,"uuidv7",()=>Wm,"void",()=>Eh,"xid",()=>nh,"xor",()=>Ph],8891);var sf=v.i(8891);v.s(["default",0,sf],35079),v.s([],6508),(ve=lt||(lt={})).assertEqual=t=>{},ve.assertIs=function(t){},ve.assertNever=function(t){throw Error()},ve.arrayToEnum=t=>{let r={};for(let e of t)r[e]=e;return r},ve.getValidEnumValues=t=>{let r=ve.objectKeys(t).filter(i=>typeof t[t[i]]!="number"),e={};for(let i of r)e[i]=t[i];return ve.objectValues(e)},ve.objectValues=t=>ve.objectKeys(t).map(function(r){return t[r]}),ve.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{let r=[];for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},ve.find=(t,r)=>{for(let e of t)if(r(e))return e},ve.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&Number.isFinite(t)&&Math.floor(t)===t,ve.joinValues=function(t,r=" | "){return t.map(e=>typeof e=="string"?`'${e}'`:e).join(r)},ve.jsonStringifyReplacer=(t,r)=>typeof r=="bigint"?r.toString():r,(pr||(pr={})).mergeShapes=(t,r)=>({...t,...r});let Jr=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pl=t=>{switch(typeof t){case"undefined":return Jr.undefined;case"string":return Jr.string;case"number":return Number.isNaN(t)?Jr.nan:Jr.number;case"boolean":return Jr.boolean;case"function":return Jr.function;case"bigint":return Jr.bigint;case"symbol":return Jr.symbol;case"object":return Array.isArray(t)?Jr.array:t===null?Jr.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Jr.promise:typeof Map<"u"&&t instanceof Map?Jr.map:typeof Set<"u"&&t instanceof Set?Jr.set:typeof Date<"u"&&t instanceof Date?Jr.date:Jr.object;default:return Jr.unknown}};v.s(["ZodParsedType",0,Jr,"getParsedType",0,pl,"objectUtil",()=>pr,"util",()=>lt],4760);let xr=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lf=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class js extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=r}format(r){let e=r||function(m){return m.message},i={_errors:[]},a=m=>{for(let f of m.issues)if(f.code==="invalid_union")f.unionErrors.map(a);else if(f.code==="invalid_return_type")a(f.returnTypeError);else if(f.code==="invalid_arguments")a(f.argumentsError);else if(f.path.length===0)i._errors.push(e(f));else{let $=i,g=0;for(;g<f.path.length;){let j=f.path[g];g===f.path.length-1?($[j]=$[j]||{_errors:[]},$[j]._errors.push(e(f))):$[j]=$[j]||{_errors:[]},$=$[j],g++}}};return a(this),i}static assert(r){if(!(r instanceof js))throw Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=e=>e.message){let e=Object.create(null),i=[];for(let a of this.issues)if(a.path.length>0){let m=a.path[0];e[m]=e[m]||[],e[m].push(r(a))}else i.push(r(a));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}js.create=t=>new js(t),v.s(["ZodError",()=>js,"ZodIssueCode",0,xr,"quotelessJson",0,lf],13458);let Jl=(t,r)=>{let e;switch(t.code){case xr.invalid_type:e=t.received===Jr.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case xr.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,lt.jsonStringifyReplacer)}`;break;case xr.unrecognized_keys:e=`Unrecognized key(s) in object: ${lt.joinValues(t.keys,", ")}`;break;case xr.invalid_union:e="Invalid input";break;case xr.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${lt.joinValues(t.options)}`;break;case xr.invalid_enum_value:e=`Invalid enum value. Expected ${lt.joinValues(t.options)}, received '${t.received}'`;break;case xr.invalid_arguments:e="Invalid function arguments";break;case xr.invalid_return_type:e="Invalid function return type";break;case xr.invalid_date:e="Invalid date";break;case xr.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:lt.assertNever(t.validation):e=t.validation!=="regex"?`Invalid ${t.validation}`:"Invalid";break;case xr.too_small:e=t.type==="array"?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"||t.type==="bigint"?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case xr.too_big:e=t.type==="array"?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case xr.custom:e="Invalid input";break;case xr.invalid_intersection_types:e="Intersection results could not be merged";break;case xr.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case xr.not_finite:e="Number must be finite";break;default:e=r.defaultError,lt.assertNever(t)}return{message:e}},Vu=Jl;function dp(t){Vu=t}function pp(){return Vu}v.s(["getErrorMap",()=>pp,"setErrorMap",()=>dp],3536);let Hu=t=>{let{data:r,path:e,errorMaps:i,issueData:a}=t,m=[...e,...a.path||[]],f={...a,path:m};if(a.message!==void 0)return{...a,path:m,message:a.message};let $="";for(let g of i.filter(j=>!!j).slice().reverse())$=g(f,{data:r,defaultError:$}).message;return{...a,path:m,message:$}},uf=[];function Lr(t,r){let e=Vu,i=Hu({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e,e===Jl?void 0:Jl].filter(a=>!!a)});t.common.issues.push(i)}class ts{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){let i=[];for(let a of e){if(a.status==="aborted")return Mn;a.status==="dirty"&&r.dirty(),i.push(a.value)}return{status:r.value,value:i}}static async mergeObjectAsync(r,e){let i=[];for(let a of e){let m=await a.key,f=await a.value;i.push({key:m,value:f})}return ts.mergeObjectSync(r,i)}static mergeObjectSync(r,e){let i={};for(let a of e){let{key:m,value:f}=a;if(m.status==="aborted"||f.status==="aborted")return Mn;m.status==="dirty"&&r.dirty(),f.status==="dirty"&&r.dirty(),m.value!=="__proto__"&&(f.value!==void 0||a.alwaysSet)&&(i[m.value]=f.value)}return{status:r.value,value:i}}}let Mn=Object.freeze({status:"aborted"}),Ju=t=>({status:"dirty",value:t}),hs=t=>({status:"valid",value:t}),Mc=t=>t.status==="aborted",Dc=t=>t.status==="dirty",Nl=t=>t.status==="valid",au=t=>typeof Promise<"u"&&t instanceof Promise;v.s(["DIRTY",0,Ju,"EMPTY_PATH",0,uf,"INVALID",0,Mn,"OK",0,hs,"ParseStatus",()=>ts,"addIssueToContext",()=>Lr,"isAborted",0,Mc,"isAsync",0,au,"isDirty",0,Dc,"isValid",0,Nl,"makeIssue",0,Hu],63922),v.s([],89402),(n=pt||(pt={})).errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t?.message;class ml{constructor(r,e,i,a){this._cachedPath=[],this.parent=r,this.data=e,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let cf=(t,r)=>{if(Nl(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let e=new js(t.common.issues);return this._error=e,this._error}}};function di(t){if(!t)return{};let{errorMap:r,invalid_type_error:e,required_error:i,description:a}=t;if(r&&(e||i))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(m,f)=>{let{message:$}=t;return m.code==="invalid_enum_value"?{message:$??f.defaultError}:f.data===void 0?{message:$??i??f.defaultError}:m.code!=="invalid_type"?{message:f.defaultError}:{message:$??e??f.defaultError}},description:a}}class si{get description(){return this._def.description}_getType(r){return pl(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:pl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new ts,ctx:{common:r.parent.common,data:r.data,parsedType:pl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let e=this._parse(r);if(au(e))throw Error("Synchronous parse encountered promise.");return e}_parseAsync(r){return Promise.resolve(this._parse(r))}parse(r,e){let i=this.safeParse(r,e);if(i.success)return i.data;throw i.error}safeParse(r,e){let i={common:{issues:[],async:e?.async??!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:pl(r)},a=this._parseSync({data:r,path:i.path,parent:i});return cf(i,a)}"~validate"(r){let e={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:pl(r)};if(!this["~standard"].async)try{let i=this._parseSync({data:r,path:[],parent:e});return Nl(i)?{value:i.value}:{issues:e.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),e.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:e}).then(i=>Nl(i)?{value:i.value}:{issues:e.common.issues})}async parseAsync(r,e){let i=await this.safeParseAsync(r,e);if(i.success)return i.data;throw i.error}async safeParseAsync(r,e){let i={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:pl(r)},a=this._parse({data:r,path:i.path,parent:i});return cf(i,await(au(a)?a:Promise.resolve(a)))}refine(r,e){return this._refinement((i,a)=>{let m=r(i),f=()=>a.addIssue({code:xr.custom,...typeof e=="string"||e===void 0?{message:e}:typeof e=="function"?e(i):e});return typeof Promise<"u"&&m instanceof Promise?m.then($=>!!$||(f(),!1)):!!m||(f(),!1)})}refinement(r,e){return this._refinement((i,a)=>!!r(i)||(a.addIssue(typeof e=="function"?e(i,a):e),!1))}_refinement(r){return new Fs({schema:this,typeName:ft.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return nl.create(this,this._def)}nullable(){return kl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ks.create(this)}promise(){return Gl.create(this,this._def)}or(r){return uu.create([this,r],this._def)}and(r){return cu.create(this,r,this._def)}transform(r){return new Fs({...di(this._def),schema:this,typeName:ft.ZodEffects,effect:{type:"transform",transform:r}})}default(r){return new hu({...di(this._def),innerType:this,defaultValue:typeof r=="function"?r:()=>r,typeName:ft.ZodDefault})}brand(){return new Uc({typeName:ft.ZodBranded,type:this,...di(this._def)})}catch(r){return new fu({...di(this._def),innerType:this,catchValue:typeof r=="function"?r:()=>r,typeName:ft.ZodCatch})}describe(r){return new this.constructor({...this._def,description:r})}pipe(r){return gu.create(this,r)}readonly(){return yu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let Lg=/^c[^\s-]{8,}$/i,Fg=/^[0-9a-z]+$/,Zg=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Vg=/^[a-z0-9_-]{21}$/i,Hg=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jg=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Kg=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Qg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Xg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ey=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,df="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ty=RegExp(`^${df}$`);function pf(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);let e=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${e}`}function mp(t){let r=`${df}T${pf(t)}`,e=[];return e.push(t.local?"Z?":"Z"),t.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,RegExp(`^${r}$`)}class Js extends si{_parse(r){var e,i,a,m;let f;if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Jr.string){let g=this._getOrReturnCtx(r);return Lr(g,{code:xr.invalid_type,expected:Jr.string,received:g.parsedType}),Mn}let $=new ts;for(let g of this._def.checks)if(g.kind==="min")r.data.length<g.value&&(Lr(f=this._getOrReturnCtx(r,f),{code:xr.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),$.dirty());else if(g.kind==="max")r.data.length>g.value&&(Lr(f=this._getOrReturnCtx(r,f),{code:xr.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!1,message:g.message}),$.dirty());else if(g.kind==="length"){let j=r.data.length>g.value,Q=r.data.length<g.value;(j||Q)&&(f=this._getOrReturnCtx(r,f),j?Lr(f,{code:xr.too_big,maximum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message}):Q&&Lr(f,{code:xr.too_small,minimum:g.value,type:"string",inclusive:!0,exact:!0,message:g.message}),$.dirty())}else if(g.kind==="email")Kg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"email",code:xr.invalid_string,message:g.message}),$.dirty());else if(g.kind==="emoji")p||(p=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),p.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"emoji",code:xr.invalid_string,message:g.message}),$.dirty());else if(g.kind==="uuid")Bg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"uuid",code:xr.invalid_string,message:g.message}),$.dirty());else if(g.kind==="nanoid")Vg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"nanoid",code:xr.invalid_string,message:g.message}),$.dirty());else if(g.kind==="cuid")Lg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"cuid",code:xr.invalid_string,message:g.message}),$.dirty());else if(g.kind==="cuid2")Fg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"cuid2",code:xr.invalid_string,message:g.message}),$.dirty());else if(g.kind==="ulid")Zg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"ulid",code:xr.invalid_string,message:g.message}),$.dirty());else if(g.kind==="url")try{new URL(r.data)}catch{Lr(f=this._getOrReturnCtx(r,f),{validation:"url",code:xr.invalid_string,message:g.message}),$.dirty()}else g.kind==="regex"?(g.regex.lastIndex=0,g.regex.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"regex",code:xr.invalid_string,message:g.message}),$.dirty())):g.kind==="trim"?r.data=r.data.trim():g.kind==="includes"?r.data.includes(g.value,g.position)||(Lr(f=this._getOrReturnCtx(r,f),{code:xr.invalid_string,validation:{includes:g.value,position:g.position},message:g.message}),$.dirty()):g.kind==="toLowerCase"?r.data=r.data.toLowerCase():g.kind==="toUpperCase"?r.data=r.data.toUpperCase():g.kind==="startsWith"?r.data.startsWith(g.value)||(Lr(f=this._getOrReturnCtx(r,f),{code:xr.invalid_string,validation:{startsWith:g.value},message:g.message}),$.dirty()):g.kind==="endsWith"?r.data.endsWith(g.value)||(Lr(f=this._getOrReturnCtx(r,f),{code:xr.invalid_string,validation:{endsWith:g.value},message:g.message}),$.dirty()):g.kind==="datetime"?mp(g).test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{code:xr.invalid_string,validation:"datetime",message:g.message}),$.dirty()):g.kind==="date"?ty.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{code:xr.invalid_string,validation:"date",message:g.message}),$.dirty()):g.kind==="time"?RegExp(`^${pf(g)}$`).test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{code:xr.invalid_string,validation:"time",message:g.message}),$.dirty()):g.kind==="duration"?Jg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"duration",code:xr.invalid_string,message:g.message}),$.dirty()):g.kind==="ip"?(e=r.data,!(((i=g.version)==="v4"||!i)&&Wg.test(e)||(i==="v6"||!i)&&Qg.test(e))&&(Lr(f=this._getOrReturnCtx(r,f),{validation:"ip",code:xr.invalid_string,message:g.message}),$.dirty())):g.kind==="jwt"?!function(j,Q){if(!Hg.test(j))return!1;try{let[ze]=j.split(".");if(!ze)return!1;let Ct=ze.replace(/-/g,"+").replace(/_/g,"/").padEnd(ze.length+(4-ze.length%4)%4,"="),Ft=JSON.parse(atob(Ct));return!(typeof Ft!="object"||Ft===null||"typ"in Ft&&Ft?.typ!=="JWT"||!Ft.alg||Q&&Ft.alg!==Q)}catch{return!1}}(r.data,g.alg)&&(Lr(f=this._getOrReturnCtx(r,f),{validation:"jwt",code:xr.invalid_string,message:g.message}),$.dirty()):g.kind==="cidr"?(a=r.data,!(((m=g.version)==="v4"||!m)&&Gg.test(a)||(m==="v6"||!m)&&Xg.test(a))&&(Lr(f=this._getOrReturnCtx(r,f),{validation:"cidr",code:xr.invalid_string,message:g.message}),$.dirty())):g.kind==="base64"?Yg.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"base64",code:xr.invalid_string,message:g.message}),$.dirty()):g.kind==="base64url"?ey.test(r.data)||(Lr(f=this._getOrReturnCtx(r,f),{validation:"base64url",code:xr.invalid_string,message:g.message}),$.dirty()):lt.assertNever(g);return{status:$.value,value:r.data}}_regex(r,e,i){return this.refinement(a=>r.test(a),{validation:e,code:xr.invalid_string,...pt.errToObj(i)})}_addCheck(r){return new Js({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...pt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...pt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...pt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...pt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...pt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...pt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...pt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...pt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...pt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...pt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...pt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...pt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...pt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:r?.precision===void 0?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...pt.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:r?.precision===void 0?null:r?.precision,...pt.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...pt.errToObj(r)})}regex(r,e){return this._addCheck({kind:"regex",regex:r,...pt.errToObj(e)})}includes(r,e){return this._addCheck({kind:"includes",value:r,position:e?.position,...pt.errToObj(e?.message)})}startsWith(r,e){return this._addCheck({kind:"startsWith",value:r,...pt.errToObj(e)})}endsWith(r,e){return this._addCheck({kind:"endsWith",value:r,...pt.errToObj(e)})}min(r,e){return this._addCheck({kind:"min",value:r,...pt.errToObj(e)})}max(r,e){return this._addCheck({kind:"max",value:r,...pt.errToObj(e)})}length(r,e){return this._addCheck({kind:"length",value:r,...pt.errToObj(e)})}nonempty(r){return this.min(1,pt.errToObj(r))}trim(){return new Js({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxLength(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}Js.create=t=>new Js({checks:[],typeName:ft.ZodString,coerce:t?.coerce??!1,...di(t)});class xl extends si{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){let e;if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Jr.number){let a=this._getOrReturnCtx(r);return Lr(a,{code:xr.invalid_type,expected:Jr.number,received:a.parsedType}),Mn}let i=new ts;for(let a of this._def.checks)a.kind==="int"?lt.isInteger(r.data)||(Lr(e=this._getOrReturnCtx(r,e),{code:xr.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?function(m,f){let $=(m.toString().split(".")[1]||"").length,g=(f.toString().split(".")[1]||"").length,j=$>g?$:g;return Number.parseInt(m.toFixed(j).replace(".",""))%Number.parseInt(f.toFixed(j).replace(".",""))/10**j}(r.data,a.value)!==0&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(r.data)||(Lr(e=this._getOrReturnCtx(r,e),{code:xr.not_finite,message:a.message}),i.dirty()):lt.assertNever(a);return{status:i.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,pt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,pt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,pt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,pt.toString(e))}setLimit(r,e,i,a){return new xl({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:i,message:pt.toString(a)}]})}_addCheck(r){return new xl({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:pt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:pt.toString(e)})}finite(r){return this._addCheck({kind:"finite",message:pt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pt.toString(r)})}get minValue(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&lt.isInteger(r.value))}get isFinite(){let r=null,e=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(e===null||i.value>e)&&(e=i.value):i.kind==="max"&&(r===null||i.value<r)&&(r=i.value)}return Number.isFinite(e)&&Number.isFinite(r)}}xl.create=t=>new xl({checks:[],typeName:ft.ZodNumber,coerce:t?.coerce||!1,...di(t)});class wl extends si{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){let e;if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==Jr.bigint)return this._getInvalidInput(r);let i=new ts;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?r.data%a.value!==BigInt(0)&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):lt.assertNever(a);return{status:i.value,value:r.data}}_getInvalidInput(r){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.bigint,received:e.parsedType}),Mn}gte(r,e){return this.setLimit("min",r,!0,pt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,pt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,pt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,pt.toString(e))}setLimit(r,e,i,a){return new wl({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:i,message:pt.toString(a)}]})}_addCheck(r){return new wl({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:pt.toString(e)})}get minValue(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}wl.create=t=>new wl({checks:[],typeName:ft.ZodBigInt,coerce:t?.coerce??!1,...di(t)});class ou extends si{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Jr.boolean){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.boolean,received:e.parsedType}),Mn}return hs(r.data)}}ou.create=t=>new ou({typeName:ft.ZodBoolean,coerce:t?.coerce||!1,...di(t)});class Pl extends si{_parse(r){let e;if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Jr.date){let a=this._getOrReturnCtx(r);return Lr(a,{code:xr.invalid_type,expected:Jr.date,received:a.parsedType}),Mn}if(Number.isNaN(r.data.getTime()))return Lr(this._getOrReturnCtx(r),{code:xr.invalid_date}),Mn;let i=new ts;for(let a of this._def.checks)a.kind==="min"?r.data.getTime()<a.value&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?r.data.getTime()>a.value&&(Lr(e=this._getOrReturnCtx(r,e),{code:xr.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):lt.assertNever(a);return{status:i.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Pl({...this._def,checks:[...this._def.checks,r]})}min(r,e){return this._addCheck({kind:"min",value:r.getTime(),message:pt.toString(e)})}max(r,e){return this._addCheck({kind:"max",value:r.getTime(),message:pt.toString(e)})}get minDate(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r!=null?new Date(r):null}}Pl.create=t=>new Pl({checks:[],coerce:t?.coerce||!1,typeName:ft.ZodDate,...di(t)});class Ku extends si{_parse(r){if(this._getType(r)!==Jr.symbol){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.symbol,received:e.parsedType}),Mn}return hs(r.data)}}Ku.create=t=>new Ku({typeName:ft.ZodSymbol,...di(t)});class su extends si{_parse(r){if(this._getType(r)!==Jr.undefined){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.undefined,received:e.parsedType}),Mn}return hs(r.data)}}su.create=t=>new su({typeName:ft.ZodUndefined,...di(t)});class lu extends si{_parse(r){if(this._getType(r)!==Jr.null){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.null,received:e.parsedType}),Mn}return hs(r.data)}}lu.create=t=>new lu({typeName:ft.ZodNull,...di(t)});class Kl extends si{constructor(){super(...arguments),this._any=!0}_parse(r){return hs(r.data)}}Kl.create=t=>new Kl({typeName:ft.ZodAny,...di(t)});class jl extends si{constructor(){super(...arguments),this._unknown=!0}_parse(r){return hs(r.data)}}jl.create=t=>new jl({typeName:ft.ZodUnknown,...di(t)});class hl extends si{_parse(r){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.never,received:e.parsedType}),Mn}}hl.create=t=>new hl({typeName:ft.ZodNever,...di(t)});class Wu extends si{_parse(r){if(this._getType(r)!==Jr.undefined){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.void,received:e.parsedType}),Mn}return hs(r.data)}}Wu.create=t=>new Wu({typeName:ft.ZodVoid,...di(t)});class Ks extends si{_parse(r){let{ctx:e,status:i}=this._processInputParams(r),a=this._def;if(e.parsedType!==Jr.array)return Lr(e,{code:xr.invalid_type,expected:Jr.array,received:e.parsedType}),Mn;if(a.exactLength!==null){let f=e.data.length>a.exactLength.value,$=e.data.length<a.exactLength.value;(f||$)&&(Lr(e,{code:f?xr.too_big:xr.too_small,minimum:$?a.exactLength.value:void 0,maximum:f?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&e.data.length<a.minLength.value&&(Lr(e,{code:xr.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&e.data.length>a.maxLength.value&&(Lr(e,{code:xr.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map((f,$)=>a.type._parseAsync(new ml(e,f,e.path,$)))).then(f=>ts.mergeArray(i,f));let m=[...e.data].map((f,$)=>a.type._parseSync(new ml(e,f,e.path,$)));return ts.mergeArray(i,m)}get element(){return this._def.type}min(r,e){return new Ks({...this._def,minLength:{value:r,message:pt.toString(e)}})}max(r,e){return new Ks({...this._def,maxLength:{value:r,message:pt.toString(e)}})}length(r,e){return new Ks({...this._def,exactLength:{value:r,message:pt.toString(e)}})}nonempty(r){return this.min(1,r)}}Ks.create=(t,r)=>new Ks({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ft.ZodArray,...di(r)});class io extends si{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let r=this._def.shape(),e=lt.objectKeys(r);return this._cached={shape:r,keys:e},this._cached}_parse(r){if(this._getType(r)!==Jr.object){let g=this._getOrReturnCtx(r);return Lr(g,{code:xr.invalid_type,expected:Jr.object,received:g.parsedType}),Mn}let{status:e,ctx:i}=this._processInputParams(r),{shape:a,keys:m}=this._getCached(),f=[];if(!(this._def.catchall instanceof hl&&this._def.unknownKeys==="strip"))for(let g in i.data)m.includes(g)||f.push(g);let $=[];for(let g of m){let j=a[g],Q=i.data[g];$.push({key:{status:"valid",value:g},value:j._parse(new ml(i,Q,i.path,g)),alwaysSet:g in i.data})}if(this._def.catchall instanceof hl){let g=this._def.unknownKeys;if(g==="passthrough")for(let j of f)$.push({key:{status:"valid",value:j},value:{status:"valid",value:i.data[j]}});else if(g==="strict")f.length>0&&(Lr(i,{code:xr.unrecognized_keys,keys:f}),e.dirty());else if(g!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let g=this._def.catchall;for(let j of f){let Q=i.data[j];$.push({key:{status:"valid",value:j},value:g._parse(new ml(i,Q,i.path,j)),alwaysSet:j in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let g=[];for(let j of $){let Q=await j.key,ze=await j.value;g.push({key:Q,value:ze,alwaysSet:j.alwaysSet})}return g}).then(g=>ts.mergeObjectSync(e,g)):ts.mergeObjectSync(e,$)}get shape(){return this._def.shape()}strict(r){return pt.errToObj,new io({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(e,i)=>{let a=this._def.errorMap?.(e,i).message??i.defaultError;return e.code==="unrecognized_keys"?{message:pt.errToObj(r).message??a}:{message:a}}}:{}})}strip(){return new io({...this._def,unknownKeys:"strip"})}passthrough(){return new io({...this._def,unknownKeys:"passthrough"})}extend(r){return new io({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new io({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:ft.ZodObject})}setKey(r,e){return this.augment({[r]:e})}catchall(r){return new io({...this._def,catchall:r})}pick(r){let e={};for(let i of lt.objectKeys(r))r[i]&&this.shape[i]&&(e[i]=this.shape[i]);return new io({...this._def,shape:()=>e})}omit(r){let e={};for(let i of lt.objectKeys(this.shape))r[i]||(e[i]=this.shape[i]);return new io({...this._def,shape:()=>e})}deepPartial(){return function r(e){if(e instanceof io){let i={};for(let a in e.shape){let m=e.shape[a];i[a]=nl.create(r(m))}return new io({...e._def,shape:()=>i})}return e instanceof Ks?new Ks({...e._def,type:r(e.element)}):e instanceof nl?nl.create(r(e.unwrap())):e instanceof kl?kl.create(r(e.unwrap())):e instanceof rl?rl.create(e.items.map(i=>r(i))):e}(this)}partial(r){let e={};for(let i of lt.objectKeys(this.shape)){let a=this.shape[i];r&&!r[i]?e[i]=a:e[i]=a.optional()}return new io({...this._def,shape:()=>e})}required(r){let e={};for(let i of lt.objectKeys(this.shape))if(r&&!r[i])e[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof nl;)a=a._def.innerType;e[i]=a}return new io({...this._def,shape:()=>e})}keyof(){return mf(lt.objectKeys(this.shape))}}io.create=(t,r)=>new io({shape:()=>t,unknownKeys:"strip",catchall:hl.create(),typeName:ft.ZodObject,...di(r)}),io.strictCreate=(t,r)=>new io({shape:()=>t,unknownKeys:"strict",catchall:hl.create(),typeName:ft.ZodObject,...di(r)}),io.lazycreate=(t,r)=>new io({shape:t,unknownKeys:"strip",catchall:hl.create(),typeName:ft.ZodObject,...di(r)});class uu extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i=this._def.options;if(e.common.async)return Promise.all(i.map(async a=>{let m={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:m}),ctx:m}})).then(function(a){for(let f of a)if(f.result.status==="valid")return f.result;for(let f of a)if(f.result.status==="dirty")return e.common.issues.push(...f.ctx.common.issues),f.result;let m=a.map(f=>new js(f.ctx.common.issues));return Lr(e,{code:xr.invalid_union,unionErrors:m}),Mn});{let a,m=[];for(let $ of i){let g={...e,common:{...e.common,issues:[]},parent:null},j=$._parseSync({data:e.data,path:e.path,parent:g});if(j.status==="valid")return j;j.status!=="dirty"||a||(a={result:j,ctx:g}),g.common.issues.length&&m.push(g.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;let f=m.map($=>new js($));return Lr(e,{code:xr.invalid_union,unionErrors:f}),Mn}}get options(){return this._def.options}}uu.create=(t,r)=>new uu({options:t,typeName:ft.ZodUnion,...di(r)});let Sl=t=>t instanceof du?Sl(t.schema):t instanceof Fs?Sl(t.innerType()):t instanceof pu?[t.value]:t instanceof zl?t.options:t instanceof mu?lt.objectValues(t.enum):t instanceof hu?Sl(t._def.innerType):t instanceof su?[void 0]:t instanceof lu?[null]:t instanceof nl?[void 0,...Sl(t.unwrap())]:t instanceof kl?[null,...Sl(t.unwrap())]:t instanceof Uc||t instanceof yu?Sl(t.unwrap()):t instanceof fu?Sl(t._def.innerType):[];class Gu extends si{_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==Jr.object)return Lr(e,{code:xr.invalid_type,expected:Jr.object,received:e.parsedType}),Mn;let i=this.discriminator,a=e.data[i],m=this.optionsMap.get(a);return m?e.common.async?m._parseAsync({data:e.data,path:e.path,parent:e}):m._parseSync({data:e.data,path:e.path,parent:e}):(Lr(e,{code:xr.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Mn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,i){let a=new Map;for(let m of e){let f=Sl(m.shape[r]);if(!f.length)throw Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let $ of f){if(a.has($))throw Error(`Discriminator property ${String(r)} has duplicate value ${String($)}`);a.set($,m)}}return new Gu({typeName:ft.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:a,...di(i)})}}class cu extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r),a=(m,f)=>{if(Mc(m)||Mc(f))return Mn;let $=function g(j,Q){let ze=pl(j),Ct=pl(Q);if(j===Q)return{valid:!0,data:j};if(ze===Jr.object&&Ct===Jr.object){let Ft=lt.objectKeys(Q),ri=lt.objectKeys(j).filter(Yr=>Ft.indexOf(Yr)!==-1),Rt={...j,...Q};for(let Yr of ri){let vi=g(j[Yr],Q[Yr]);if(!vi.valid)return{valid:!1};Rt[Yr]=vi.data}return{valid:!0,data:Rt}}if(ze===Jr.array&&Ct===Jr.array){if(j.length!==Q.length)return{valid:!1};let Ft=[];for(let ri=0;ri<j.length;ri++){let Rt=g(j[ri],Q[ri]);if(!Rt.valid)return{valid:!1};Ft.push(Rt.data)}return{valid:!0,data:Ft}}return ze===Jr.date&&Ct===Jr.date&&+j==+Q?{valid:!0,data:j}:{valid:!1}}(m.value,f.value);return $.valid?((Dc(m)||Dc(f))&&e.dirty(),{status:e.value,value:$.data}):(Lr(i,{code:xr.invalid_intersection_types}),Mn)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([m,f])=>a(m,f)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}cu.create=(t,r,e)=>new cu({left:t,right:r,typeName:ft.ZodIntersection,...di(e)});class rl extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Jr.array)return Lr(i,{code:xr.invalid_type,expected:Jr.array,received:i.parsedType}),Mn;if(i.data.length<this._def.items.length)return Lr(i,{code:xr.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mn;!this._def.rest&&i.data.length>this._def.items.length&&(Lr(i,{code:xr.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());let a=[...i.data].map((m,f)=>{let $=this._def.items[f]||this._def.rest;return $?$._parse(new ml(i,m,i.path,f)):null}).filter(m=>!!m);return i.common.async?Promise.all(a).then(m=>ts.mergeArray(e,m)):ts.mergeArray(e,a)}get items(){return this._def.items}rest(r){return new rl({...this._def,rest:r})}}rl.create=(t,r)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new rl({items:t,typeName:ft.ZodTuple,rest:null,...di(r)})};class Qu extends si{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Jr.object)return Lr(i,{code:xr.invalid_type,expected:Jr.object,received:i.parsedType}),Mn;let a=[],m=this._def.keyType,f=this._def.valueType;for(let $ in i.data)a.push({key:m._parse(new ml(i,$,i.path,$)),value:f._parse(new ml(i,i.data[$],i.path,$)),alwaysSet:$ in i.data});return i.common.async?ts.mergeObjectAsync(e,a):ts.mergeObjectSync(e,a)}get element(){return this._def.valueType}static create(r,e,i){return new Qu(e instanceof si?{keyType:r,valueType:e,typeName:ft.ZodRecord,...di(i)}:{keyType:Js.create(),valueType:r,typeName:ft.ZodRecord,...di(e)})}}class Xu extends si{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Jr.map)return Lr(i,{code:xr.invalid_type,expected:Jr.map,received:i.parsedType}),Mn;let a=this._def.keyType,m=this._def.valueType,f=[...i.data.entries()].map(([$,g],j)=>({key:a._parse(new ml(i,$,i.path,[j,"key"])),value:m._parse(new ml(i,g,i.path,[j,"value"]))}));if(i.common.async){let $=new Map;return Promise.resolve().then(async()=>{for(let g of f){let j=await g.key,Q=await g.value;if(j.status==="aborted"||Q.status==="aborted")return Mn;(j.status==="dirty"||Q.status==="dirty")&&e.dirty(),$.set(j.value,Q.value)}return{status:e.value,value:$}})}{let $=new Map;for(let g of f){let j=g.key,Q=g.value;if(j.status==="aborted"||Q.status==="aborted")return Mn;(j.status==="dirty"||Q.status==="dirty")&&e.dirty(),$.set(j.value,Q.value)}return{status:e.value,value:$}}}}Xu.create=(t,r,e)=>new Xu({valueType:r,keyType:t,typeName:ft.ZodMap,...di(e)});class Al extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Jr.set)return Lr(i,{code:xr.invalid_type,expected:Jr.set,received:i.parsedType}),Mn;let a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(Lr(i,{code:xr.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),e.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(Lr(i,{code:xr.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),e.dirty());let m=this._def.valueType;function f(g){let j=new Set;for(let Q of g){if(Q.status==="aborted")return Mn;Q.status==="dirty"&&e.dirty(),j.add(Q.value)}return{status:e.value,value:j}}let $=[...i.data.values()].map((g,j)=>m._parse(new ml(i,g,i.path,j)));return i.common.async?Promise.all($).then(g=>f(g)):f($)}min(r,e){return new Al({...this._def,minSize:{value:r,message:pt.toString(e)}})}max(r,e){return new Al({...this._def,maxSize:{value:r,message:pt.toString(e)}})}size(r,e){return this.min(r,e).max(r,e)}nonempty(r){return this.min(1,r)}}Al.create=(t,r)=>new Al({valueType:t,minSize:null,maxSize:null,typeName:ft.ZodSet,...di(r)});class Wl extends si{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==Jr.function)return Lr(e,{code:xr.invalid_type,expected:Jr.function,received:e.parsedType}),Mn;function i($,g){return Hu({data:$,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Vu,Jl].filter(j=>!!j),issueData:{code:xr.invalid_arguments,argumentsError:g}})}function a($,g){return Hu({data:$,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Vu,Jl].filter(j=>!!j),issueData:{code:xr.invalid_return_type,returnTypeError:g}})}let m={errorMap:e.common.contextualErrorMap},f=e.data;if(this._def.returns instanceof Gl){let $=this;return hs(async function(...g){let j=new js([]),Q=await $._def.args.parseAsync(g,m).catch(Ct=>{throw j.addIssue(i(g,Ct)),j}),ze=await Reflect.apply(f,this,Q);return await $._def.returns._def.type.parseAsync(ze,m).catch(Ct=>{throw j.addIssue(a(ze,Ct)),j})})}{let $=this;return hs(function(...g){let j=$._def.args.safeParse(g,m);if(!j.success)throw new js([i(g,j.error)]);let Q=Reflect.apply(f,this,j.data),ze=$._def.returns.safeParse(Q,m);if(!ze.success)throw new js([a(Q,ze.error)]);return ze.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Wl({...this._def,args:rl.create(r).rest(jl.create())})}returns(r){return new Wl({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,i){return new Wl({args:r||rl.create([]).rest(jl.create()),returns:e||jl.create(),typeName:ft.ZodFunction,...di(i)})}}class du extends si{get schema(){return this._def.getter()}_parse(r){let{ctx:e}=this._processInputParams(r);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}du.create=(t,r)=>new du({getter:t,typeName:ft.ZodLazy,...di(r)});class pu extends si{_parse(r){if(r.data!==this._def.value){let e=this._getOrReturnCtx(r);return Lr(e,{received:e.data,code:xr.invalid_literal,expected:this._def.value}),Mn}return{status:"valid",value:r.data}}get value(){return this._def.value}}function mf(t,r){return new zl({values:t,typeName:ft.ZodEnum,...di(r)})}pu.create=(t,r)=>new pu({value:t,typeName:ft.ZodLiteral,...di(r)});class zl extends si{_parse(r){if(typeof r.data!="string"){let e=this._getOrReturnCtx(r),i=this._def.values;return Lr(e,{expected:lt.joinValues(i),received:e.parsedType,code:xr.invalid_type}),Mn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){let e=this._getOrReturnCtx(r),i=this._def.values;return Lr(e,{received:e.data,code:xr.invalid_enum_value,options:i}),Mn}return hs(r.data)}get options(){return this._def.values}get enum(){let r={};for(let e of this._def.values)r[e]=e;return r}get Values(){let r={};for(let e of this._def.values)r[e]=e;return r}get Enum(){let r={};for(let e of this._def.values)r[e]=e;return r}extract(r,e=this._def){return zl.create(r,{...this._def,...e})}exclude(r,e=this._def){return zl.create(this.options.filter(i=>!r.includes(i)),{...this._def,...e})}}zl.create=mf;class mu extends si{_parse(r){let e=lt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(r);if(i.parsedType!==Jr.string&&i.parsedType!==Jr.number){let a=lt.objectValues(e);return Lr(i,{expected:lt.joinValues(a),received:i.parsedType,code:xr.invalid_type}),Mn}if(this._cache||(this._cache=new Set(lt.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){let a=lt.objectValues(e);return Lr(i,{received:i.data,code:xr.invalid_enum_value,options:a}),Mn}return hs(r.data)}get enum(){return this._def.values}}mu.create=(t,r)=>new mu({values:t,typeName:ft.ZodNativeEnum,...di(r)});class Gl extends si{unwrap(){return this._def.type}_parse(r){let{ctx:e}=this._processInputParams(r);return e.parsedType!==Jr.promise&&e.common.async===!1?(Lr(e,{code:xr.invalid_type,expected:Jr.promise,received:e.parsedType}),Mn):hs((e.parsedType===Jr.promise?e.data:Promise.resolve(e.data)).then(i=>this._def.type.parseAsync(i,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Gl.create=(t,r)=>new Gl({type:t,typeName:ft.ZodPromise,...di(r)});class Fs extends si{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ft.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){let{status:e,ctx:i}=this._processInputParams(r),a=this._def.effect||null,m={addIssue:f=>{Lr(i,f),f.fatal?e.abort():e.dirty()},get path(){return i.path}};if(m.addIssue=m.addIssue.bind(m),a.type==="preprocess"){let f=a.transform(i.data,m);if(i.common.async)return Promise.resolve(f).then(async $=>{if(e.value==="aborted")return Mn;let g=await this._def.schema._parseAsync({data:$,path:i.path,parent:i});return g.status==="aborted"?Mn:g.status==="dirty"||e.value==="dirty"?Ju(g.value):g});{if(e.value==="aborted")return Mn;let $=this._def.schema._parseSync({data:f,path:i.path,parent:i});return $.status==="aborted"?Mn:$.status==="dirty"||e.value==="dirty"?Ju($.value):$}}if(a.type==="refinement"){let f=$=>{let g=a.refinement($,m);if(i.common.async)return Promise.resolve(g);if(g instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return $};if(i.common.async!==!1)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then($=>$.status==="aborted"?Mn:($.status==="dirty"&&e.dirty(),f($.value).then(()=>({status:e.value,value:$.value}))));{let $=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return $.status==="aborted"?Mn:($.status==="dirty"&&e.dirty(),f($.value),{status:e.value,value:$.value})}}if(a.type==="transform"){if(i.common.async!==!1)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>Nl(f)?Promise.resolve(a.transform(f.value,m)).then($=>({status:e.value,value:$})):Mn);{let f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Nl(f))return Mn;let $=a.transform(f.value,m);if($ instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:$}}}lt.assertNever(a)}}Fs.create=(t,r,e)=>new Fs({schema:t,typeName:ft.ZodEffects,effect:r,...di(e)}),Fs.createWithPreprocess=(t,r,e)=>new Fs({schema:r,effect:{type:"preprocess",transform:t},typeName:ft.ZodEffects,...di(e)});class nl extends si{_parse(r){return this._getType(r)===Jr.undefined?hs(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}nl.create=(t,r)=>new nl({innerType:t,typeName:ft.ZodOptional,...di(r)});class kl extends si{_parse(r){return this._getType(r)===Jr.null?hs(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}kl.create=(t,r)=>new kl({innerType:t,typeName:ft.ZodNullable,...di(r)});class hu extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i=e.data;return e.parsedType===Jr.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}hu.create=(t,r)=>new hu({innerType:t,typeName:ft.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...di(r)});class fu extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i={...e,common:{...e.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return au(a)?a.then(m=>({status:"valid",value:m.status==="valid"?m.value:this._def.catchValue({get error(){return new js(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new js(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}fu.create=(t,r)=>new fu({innerType:t,typeName:ft.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...di(r)});class Yu extends si{_parse(r){if(this._getType(r)!==Jr.nan){let e=this._getOrReturnCtx(r);return Lr(e,{code:xr.invalid_type,expected:Jr.nan,received:e.parsedType}),Mn}return{status:"valid",value:r.data}}}Yu.create=t=>new Yu({typeName:ft.ZodNaN,...di(t)});let hf=Symbol("zod_brand");class Uc extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class gu extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Mn:a.status==="dirty"?(e.dirty(),Ju(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{let a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Mn:a.status==="dirty"?(e.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(r,e){return new gu({in:r,out:e,typeName:ft.ZodPipeline})}}class yu extends si{_parse(r){let e=this._def.innerType._parse(r),i=a=>(Nl(a)&&(a.value=Object.freeze(a.value)),a);return au(e)?e.then(a=>i(a)):i(e)}unwrap(){return this._def.innerType}}function ff(t,r){let e=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t;return typeof e=="string"?{message:e}:e}function hp(t,r={},e){return t?Kl.create().superRefine((i,a)=>{let m=t(i);if(m instanceof Promise)return m.then(f=>{if(!f){let $=ff(r,i),g=$.fatal??e??!0;a.addIssue({code:"custom",...$,fatal:g})}});if(!m){let f=ff(r,i),$=f.fatal??e??!0;a.addIssue({code:"custom",...f,fatal:$})}}):Kl.create()}yu.create=(t,r)=>new yu({innerType:t,typeName:ft.ZodReadonly,...di(r)});let gf={object:io.lazycreate};(Pe=ft||(ft={})).ZodString="ZodString",Pe.ZodNumber="ZodNumber",Pe.ZodNaN="ZodNaN",Pe.ZodBigInt="ZodBigInt",Pe.ZodBoolean="ZodBoolean",Pe.ZodDate="ZodDate",Pe.ZodSymbol="ZodSymbol",Pe.ZodUndefined="ZodUndefined",Pe.ZodNull="ZodNull",Pe.ZodAny="ZodAny",Pe.ZodUnknown="ZodUnknown",Pe.ZodNever="ZodNever",Pe.ZodVoid="ZodVoid",Pe.ZodArray="ZodArray",Pe.ZodObject="ZodObject",Pe.ZodUnion="ZodUnion",Pe.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Pe.ZodIntersection="ZodIntersection",Pe.ZodTuple="ZodTuple",Pe.ZodRecord="ZodRecord",Pe.ZodMap="ZodMap",Pe.ZodSet="ZodSet",Pe.ZodFunction="ZodFunction",Pe.ZodLazy="ZodLazy",Pe.ZodLiteral="ZodLiteral",Pe.ZodEnum="ZodEnum",Pe.ZodEffects="ZodEffects",Pe.ZodNativeEnum="ZodNativeEnum",Pe.ZodOptional="ZodOptional",Pe.ZodNullable="ZodNullable",Pe.ZodDefault="ZodDefault",Pe.ZodCatch="ZodCatch",Pe.ZodPromise="ZodPromise",Pe.ZodBranded="ZodBranded",Pe.ZodPipeline="ZodPipeline",Pe.ZodReadonly="ZodReadonly";let yf=(t,r={message:`Input not instance of ${t.name}`})=>hp(e=>e instanceof t,r),fp=Js.create,gp=xl.create,vf=Yu.create,bf=wl.create,yp=ou.create,_f=Pl.create,xf=Ku.create,wf=su.create,Sf=lu.create,zf=Kl.create,kf=jl.create,If=hl.create,$f=Wu.create,Ef=Ks.create,Tf=io.create,Cf=io.strictCreate,Rf=uu.create,Of=Gu.create,Nf=cu.create,Pf=rl.create,jf=Qu.create,Af=Xu.create,Mf=Al.create,Df=Wl.create,Uf=du.create,qf=pu.create,Lf=zl.create,Ff=mu.create,Zf=Gl.create,qc=Fs.create,Bf=nl.create,Vf=kl.create,Hf=Fs.createWithPreprocess,Jf=gu.create,Kf=()=>fp().optional(),Wf=()=>gp().optional(),Gf=()=>yp().optional(),Qf={string:t=>Js.create({...t,coerce:!0}),number:t=>xl.create({...t,coerce:!0}),boolean:t=>ou.create({...t,coerce:!0}),bigint:t=>wl.create({...t,coerce:!0}),date:t=>Pl.create({...t,coerce:!0})};v.s(["BRAND",0,hf,"NEVER",0,Mn,"Schema",()=>si,"ZodAny",()=>Kl,"ZodArray",()=>Ks,"ZodBigInt",()=>wl,"ZodBoolean",()=>ou,"ZodBranded",()=>Uc,"ZodCatch",()=>fu,"ZodDate",()=>Pl,"ZodDefault",()=>hu,"ZodDiscriminatedUnion",()=>Gu,"ZodEffects",()=>Fs,"ZodEnum",()=>zl,"ZodFirstPartyTypeKind",()=>ft,"ZodFunction",()=>Wl,"ZodIntersection",()=>cu,"ZodLazy",()=>du,"ZodLiteral",()=>pu,"ZodMap",()=>Xu,"ZodNaN",()=>Yu,"ZodNativeEnum",()=>mu,"ZodNever",()=>hl,"ZodNull",()=>lu,"ZodNullable",()=>kl,"ZodNumber",()=>xl,"ZodObject",()=>io,"ZodOptional",()=>nl,"ZodPipeline",()=>gu,"ZodPromise",()=>Gl,"ZodReadonly",()=>yu,"ZodRecord",()=>Qu,"ZodSchema",()=>si,"ZodSet",()=>Al,"ZodString",()=>Js,"ZodSymbol",()=>Ku,"ZodTransformer",()=>Fs,"ZodTuple",()=>rl,"ZodType",()=>si,"ZodUndefined",()=>su,"ZodUnion",()=>uu,"ZodUnknown",()=>jl,"ZodVoid",()=>Wu,"any",()=>zf,"array",()=>Ef,"bigint",()=>bf,"boolean",()=>yp,"coerce",0,Qf,"custom",()=>hp,"date",()=>_f,"datetimeRegex",()=>mp,"discriminatedUnion",()=>Of,"effect",()=>qc,"enum",()=>Lf,"function",()=>Df,"instanceof",()=>yf,"intersection",()=>Nf,"late",0,gf,"lazy",()=>Uf,"literal",()=>qf,"map",()=>Af,"nan",()=>vf,"nativeEnum",()=>Ff,"never",()=>If,"null",()=>Sf,"nullable",()=>Vf,"number",()=>gp,"object",()=>Tf,"oboolean",()=>Gf,"onumber",()=>Wf,"optional",()=>Bf,"ostring",()=>Kf,"pipeline",()=>Jf,"preprocess",()=>Hf,"promise",()=>Zf,"record",()=>jf,"set",()=>Mf,"strictObject",()=>Cf,"string",()=>fp,"symbol",()=>xf,"transformer",()=>qc,"tuple",()=>Pf,"undefined",()=>wf,"union",()=>Rf,"unknown",()=>kf,"void",()=>$f],69418),v.s([],3505),v.i(3505),v.i(3536),v.s(["defaultErrorMap",0,Jl,"getErrorMap",()=>pp,"setErrorMap",()=>dp],58844),v.i(58844),v.i(63922),v.i(89402),v.i(4760),v.i(69418),v.i(13458),v.s(["BRAND",0,hf,"DIRTY",0,Ju,"EMPTY_PATH",0,uf,"INVALID",0,Mn,"NEVER",0,Mn,"OK",0,hs,"ParseStatus",()=>ts,"Schema",()=>si,"ZodAny",()=>Kl,"ZodArray",()=>Ks,"ZodBigInt",()=>wl,"ZodBoolean",()=>ou,"ZodBranded",()=>Uc,"ZodCatch",()=>fu,"ZodDate",()=>Pl,"ZodDefault",()=>hu,"ZodDiscriminatedUnion",()=>Gu,"ZodEffects",()=>Fs,"ZodEnum",()=>zl,"ZodError",()=>js,"ZodFirstPartyTypeKind",()=>ft,"ZodFunction",()=>Wl,"ZodIntersection",()=>cu,"ZodIssueCode",0,xr,"ZodLazy",()=>du,"ZodLiteral",()=>pu,"ZodMap",()=>Xu,"ZodNaN",()=>Yu,"ZodNativeEnum",()=>mu,"ZodNever",()=>hl,"ZodNull",()=>lu,"ZodNullable",()=>kl,"ZodNumber",()=>xl,"ZodObject",()=>io,"ZodOptional",()=>nl,"ZodParsedType",0,Jr,"ZodPipeline",()=>gu,"ZodPromise",()=>Gl,"ZodReadonly",()=>yu,"ZodRecord",()=>Qu,"ZodSchema",()=>si,"ZodSet",()=>Al,"ZodString",()=>Js,"ZodSymbol",()=>Ku,"ZodTransformer",()=>Fs,"ZodTuple",()=>rl,"ZodType",()=>si,"ZodUndefined",()=>su,"ZodUnion",()=>uu,"ZodUnknown",()=>jl,"ZodVoid",()=>Wu,"addIssueToContext",()=>Lr,"any",()=>zf,"array",()=>Ef,"bigint",()=>bf,"boolean",()=>yp,"coerce",0,Qf,"custom",()=>hp,"date",()=>_f,"datetimeRegex",()=>mp,"defaultErrorMap",0,Jl,"discriminatedUnion",()=>Of,"effect",()=>qc,"enum",()=>Lf,"function",()=>Df,"getErrorMap",()=>pp,"getParsedType",0,pl,"instanceof",()=>yf,"intersection",()=>Nf,"isAborted",0,Mc,"isAsync",0,au,"isDirty",0,Dc,"isValid",0,Nl,"late",0,gf,"lazy",()=>Uf,"literal",()=>qf,"makeIssue",0,Hu,"map",()=>Af,"nan",()=>vf,"nativeEnum",()=>Ff,"never",()=>If,"null",()=>Sf,"nullable",()=>Vf,"number",()=>gp,"object",()=>Tf,"objectUtil",()=>pr,"oboolean",()=>Gf,"onumber",()=>Wf,"optional",()=>Bf,"ostring",()=>Kf,"pipeline",()=>Jf,"preprocess",()=>Hf,"promise",()=>Zf,"quotelessJson",0,lf,"record",()=>jf,"set",()=>Mf,"setErrorMap",()=>dp,"strictObject",()=>Cf,"string",()=>fp,"symbol",()=>xf,"transformer",()=>qc,"tuple",()=>Pf,"undefined",()=>wf,"union",()=>Rf,"unknown",()=>kf,"util",()=>lt,"void",()=>$f],23033),v.i(23033);class Xf extends Error{constructor(r,e){super(r),this.name="ParseError",this.type=e.type,this.field=e.field,this.value=e.value,this.line=e.line}}function vp(t){}class ry extends TransformStream{constructor({onError:r,onRetry:e,onComment:i}={}){let a;super({start(m){a=function(f){if(typeof f=="function")throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:$=vp,onError:g=vp,onRetry:j=vp,onComment:Q}=f,ze="",Ct=!0,Ft,ri="",Rt="";function Yr(En){if(En==="")return ri.length>0&&$({id:Ft,event:Rt||void 0,data:ri.endsWith(`
`)?ri.slice(0,-1):ri}),Ft=void 0,ri="",void(Rt="");if(En.startsWith(":")){Q&&Q(En.slice(En.startsWith(": ")?2:1));return}let Cn=En.indexOf(":");if(Cn!==-1){let xa=En.slice(0,Cn),ya=En[Cn+1]===" "?2:1;vi(xa,En.slice(Cn+ya),En);return}vi(En,"",En)}function vi(En,Cn,xa){switch(En){case"event":Rt=Cn;break;case"data":ri=`${ri}${Cn}
`;break;case"id":Ft=Cn.includes("\0")?void 0:Cn;break;case"retry":/^\d+$/.test(Cn)?j(parseInt(Cn,10)):g(new Xf(`Invalid \`retry\` value: "${Cn}"`,{type:"invalid-retry",value:Cn,line:xa}));break;default:g(new Xf(`Unknown field "${En.length>20?`${En.slice(0,20)}\u2026`:En}"`,{type:"unknown-field",field:En,value:Cn,line:xa}))}}return{feed:function(En){let Cn=Ct?En.replace(/^\xEF\xBB\xBF/,""):En,[xa,ya]=function(Qa){let $s=[],Es="",Ts=0;for(;Ts<Qa.length;){let Ml=Qa.indexOf("\r",Ts),Ql=Qa.indexOf(`
`,Ts),Il=-1;if(Ml!==-1&&Ql!==-1?Il=Math.min(Ml,Ql):Ml!==-1?Il=Ml===Qa.length-1?-1:Ml:Ql!==-1&&(Il=Ql),Il===-1){Es=Qa.slice(Ts);break}{let Zc=Qa.slice(Ts,Il);$s.push(Zc),Qa[(Ts=Il+1)-1]==="\r"&&Qa[Ts]===`
`&&Ts++}}return[$s,Es]}(`${ze}${Cn}`);for(let Qa of xa)Yr(Qa);ze=ya,Ct=!1},reset:function(En={}){ze&&En.consume&&Yr(ze),Ct=!0,Ft=void 0,ri="",Rt="",ze=""}}}({onEvent:f=>{m.enqueue(f)},onError(f){r==="terminate"?m.error(f):typeof r=="function"&&r(f)},onRetry:e,onComment:i})},transform(m){a.feed(m)}})}}function ny(...t){return t.reduce((r,e)=>({...r,...e??{}}),{})}function iy({tools:t=[],providerToolNames:r}){let e={},i={};for(let a of t)if(a.type==="provider"&&a.id in r){let m=r[a.id];e[a.name]=m,i[m]=a.name}return{toProviderToolName:a=>{var m;return(m=e[a])!=null?m:a},toCustomToolName:a=>{var m;return(m=i[a])!=null?m:a}}}async function ay(t,r){if(t==null)return Promise.resolve();let e=r?.abortSignal;return new Promise((i,a)=>{if(e?.aborted)return void a(Yf());let m=setTimeout(()=>{f(),i()},t),f=()=>{clearTimeout(m),e?.removeEventListener("abort",$)},$=()=>{f(),a(Yf())};e?.addEventListener("abort",$)})}function Yf(){return new DOMException("Delay was aborted","AbortError")}var oy=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise||(this._promise=new Promise((t,r)=>{this.status.type==="resolved"?t(this.status.value):this.status.type==="rejected"&&r(this.status.error),this._resolve=t,this._reject=r})),this._promise}resolve(t){var r;this.status={type:"resolved",value:t},this._promise&&((r=this._resolve)==null||r.call(this,t))}reject(t){var r;this.status={type:"rejected",error:t},this._promise&&((r=this._reject)==null||r.call(this,t))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function vu(t){return Object.fromEntries([...t.headers])}var{btoa:sy,atob:ly}=mr;function uy(t){let r=ly(t.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(r,e=>e.codePointAt(0))}function eg(t){let r="";for(let e=0;e<t.length;e++)r+=String.fromCodePoint(t[e]);return sy(r)}function cy(t){return t instanceof Uint8Array?eg(t):t}function dy(t,r={}){let{useArrayBrackets:e=!0}=r,i=new FormData;for(let[a,m]of Object.entries(t))if(m!=null){if(Array.isArray(m)){if(m.length===1){i.append(a,m[0]);continue}let f=e?`${a}[]`:a;for(let $ of m)i.append(f,$);continue}i.append(a,m)}return i}var tg="AI_DownloadError",rg=`vercel.ai.error.${tg}`,py=Symbol.for(rg),Lc=class extends(gn=nr,an=py,gn){constructor({url:t,statusCode:r,statusText:e,cause:i,message:a=i==null?`Failed to download ${t}: ${r} ${e}`:`Failed to download ${t}: ${i}`}){super({name:tg,message:a,cause:i}),this[an]=!0,this.url=t,this.statusCode=r,this.statusText=e}static isInstance(t){return nr.hasMarker(t,rg)}};async function my(t){try{let r=await fetch(t);if(!r.ok)throw new Lc({url:t,statusCode:r.status,statusText:r.statusText});return await r.blob()}catch(r){throw Lc.isInstance(r)?r:new Lc({url:t,cause:r})}}var ng=({prefix:t,size:r=16,alphabet:e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:i="-"}={})=>{let a=()=>{let m=e.length,f=Array(r);for(let $=0;$<r;$++)f[$]=e[Math.random()*m|0];return f.join("")};if(t==null)return a;if(e.includes(i))throw new Gr({argument:"separator",message:`The separator "${i}" must not be part of the alphabet "${e}".`});return()=>`${t}${i}${a()}`},hy=ng();function fy(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}function bu(t){return(t instanceof Error||t instanceof DOMException)&&(t.name==="AbortError"||t.name==="ResponseAborted"||t.name==="TimeoutError")}var gy=["fetch failed","failed to fetch"];function ig({error:t,url:r,requestBodyValues:e}){if(bu(t))return t;if(t instanceof TypeError&&gy.includes(t.message.toLowerCase())){let i=t.cause;if(i!=null)return new q({message:`Cannot connect to API: ${i.message}`,cause:i,url:r,requestBodyValues:e,isRetryable:!0})}return t}function bp(t=mr){var r,e,i;return t.window?"runtime/browser":(r=t.navigator)!=null&&r.userAgent?`runtime/${t.navigator.userAgent.toLowerCase()}`:(i=(e=t.process)==null?void 0:e.versions)!=null&&i.node?`runtime/node.js/${t.process.version.substring(0)}`:t.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function ag(t){if(t==null)return{};let r={};if(t instanceof Headers)t.forEach((e,i)=>{r[i.toLowerCase()]=e});else for(let[e,i]of(Array.isArray(t)||(t=Object.entries(t)),t))i!=null&&(r[e.toLowerCase()]=i);return r}function _p(t,...r){let e=new Headers(ag(t)),i=e.get("user-agent")||"";return e.set("user-agent",[i,...r].filter(Boolean).join(" ")),Object.fromEntries(e.entries())}var og="4.0.1",yy=()=>mr.fetch,vy=async({url:t,headers:r={},successfulResponseHandler:e,failedResponseHandler:i,abortSignal:a,fetch:m=yy()})=>{try{let f=await m(t,{method:"GET",headers:_p(r,`ai-sdk/provider-utils/${og}`,bp()),signal:a}),$=vu(f);if(!f.ok){let g;try{g=await i({response:f,url:t,requestBodyValues:{}})}catch(j){throw bu(j)||q.isInstance(j)?j:new q({message:"Failed to process error response",cause:j,statusCode:f.status,url:t,responseHeaders:$,requestBodyValues:{}})}throw g.value}try{return await e({response:f,url:t,requestBodyValues:{}})}catch(g){throw g instanceof Error&&(bu(g)||q.isInstance(g))?g:new q({message:"Failed to process successful response",cause:g,statusCode:f.status,url:t,responseHeaders:$,requestBodyValues:{}})}}catch(f){throw ig({error:f,url:t,requestBodyValues:{}})}};function by(t){return t!=null}function _y({mediaType:t,url:r,supportedUrls:e}){return r=r.toLowerCase(),t=t.toLowerCase(),Object.entries(e).map(([i,a])=>{let m=i.toLowerCase();return m==="*"||m==="*/*"?{mediaTypePrefix:"",regexes:a}:{mediaTypePrefix:m.replace(/\*/,""),regexes:a}}).filter(({mediaTypePrefix:i})=>t.startsWith(i)).flatMap(({regexes:i})=>i).some(i=>i.test(r))}function xy({apiKey:t,environmentVariableName:r,apiKeyParameterName:e="apiKey",description:i}){if(typeof t=="string")return t;if(t!=null)throw new Re({message:`${i} API key must be a string.`});if(typeof process>"u")throw new Re({message:`${i} API key is missing. Pass it using the '${e}' parameter. Environment variables is not supported in this environment.`});if((t=process.env[r])==null)throw new Re({message:`${i} API key is missing. Pass it using the '${e}' parameter or the ${r} environment variable.`});if(typeof t!="string")throw new Re({message:`${i} API key must be a string. The value of the ${r} environment variable is not a string.`});return t}function wy({settingValue:t,environmentVariableName:r}){return typeof t=="string"?t:t!=null||typeof process>"u"?void 0:(t=process.env[r])!=null&&typeof t=="string"?t:void 0}function Sy(t){var r;let[e,i=""]=t.toLowerCase().split("/");return(r={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[i])!=null?r:i}var zy=/"__proto__"\s*:/,ky=/"constructor"\s*:/;function sg(t){let r=JSON.parse(t);return r===null||typeof r!="object"||zy.test(t)===!1&&ky.test(t)===!1?r:function(e){let i=[e];for(;i.length;){let a=i;for(let m of(i=[],a)){if(Object.prototype.hasOwnProperty.call(m,"__proto__")||Object.prototype.hasOwnProperty.call(m,"constructor")&&Object.prototype.hasOwnProperty.call(m.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let f in m){let $=m[f];$&&typeof $=="object"&&i.push($)}}}return e}(r)}function xp(t){let{stackTraceLimit:r}=Error;try{Error.stackTraceLimit=0}catch{return sg(t)}try{return sg(t)}finally{Error.stackTraceLimit=r}}var Iy=Symbol("Let zodToJsonSchema decide on which parser to use"),lg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function ug(t,r){return Ea(t.type._def,r)}var wp=void 0,$y=/^[cC][^\s-]{8,}$/,Ey=/^[0-9a-z]+$/,Ty=/^[0-9A-HJKMNP-TV-Z]{26}$/,Cy=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,Ry=()=>(wp===void 0&&(wp=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),wp),Oy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ny=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Py=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ay=/^[a-zA-Z0-9_-]{21}$/,My=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function cg(t,r){let e={type:"string"};if(t.checks)for(let i of t.checks)switch(i.kind){case"min":e.minLength=typeof e.minLength=="number"?Math.max(e.minLength,i.value):i.value;break;case"max":e.maxLength=typeof e.maxLength=="number"?Math.min(e.maxLength,i.value):i.value;break;case"email":switch(r.emailStrategy){case"format:email":il(e,"email",i.message,r);break;case"format:idn-email":il(e,"idn-email",i.message,r);break;case"pattern:zod":Is(e,Cy,i.message,r)}break;case"url":il(e,"uri",i.message,r);break;case"uuid":il(e,"uuid",i.message,r);break;case"regex":Is(e,i.regex,i.message,r);break;case"cuid":Is(e,$y,i.message,r);break;case"cuid2":Is(e,Ey,i.message,r);break;case"startsWith":Is(e,RegExp(`^${Sp(i.value,r)}`),i.message,r);break;case"endsWith":Is(e,RegExp(`${Sp(i.value,r)}$`),i.message,r);break;case"datetime":il(e,"date-time",i.message,r);break;case"date":il(e,"date",i.message,r);break;case"time":il(e,"time",i.message,r);break;case"duration":il(e,"duration",i.message,r);break;case"length":e.minLength=typeof e.minLength=="number"?Math.max(e.minLength,i.value):i.value,e.maxLength=typeof e.maxLength=="number"?Math.min(e.maxLength,i.value):i.value;break;case"includes":Is(e,RegExp(Sp(i.value,r)),i.message,r);break;case"ip":i.version!=="v6"&&il(e,"ipv4",i.message,r),i.version!=="v4"&&il(e,"ipv6",i.message,r);break;case"base64url":Is(e,jy,i.message,r);break;case"jwt":Is(e,My,i.message,r);break;case"cidr":i.version!=="v6"&&Is(e,Oy,i.message,r),i.version!=="v4"&&Is(e,Ny,i.message,r);break;case"emoji":Is(e,Ry(),i.message,r);break;case"ulid":Is(e,Ty,i.message,r);break;case"base64":switch(r.base64Strategy){case"format:binary":il(e,"binary",i.message,r);break;case"contentEncoding:base64":e.contentEncoding="base64";break;case"pattern:zod":Is(e,Py,i.message,r)}break;case"nanoid":Is(e,Ay,i.message,r)}return e}function Sp(t,r){return r.patternStrategy==="escape"?function(e){let i="";for(let a=0;a<e.length;a++)Dy.has(e[a])||(i+="\\"),i+=e[a];return i}(t):t}var Dy=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function il(t,r,e,i){var a;t.format||((a=t.anyOf)==null?void 0:a.some(m=>m.format))?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format}),delete t.format),t.anyOf.push({format:r,...e&&i.errorMessages&&{errorMessage:{format:e}}})):t.format=r}function Is(t,r,e,i){var a;t.pattern||((a=t.allOf)==null?void 0:a.some(m=>m.pattern))?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern}),delete t.pattern),t.allOf.push({pattern:dg(r,i),...e&&i.errorMessages&&{errorMessage:{pattern:e}}})):t.pattern=dg(r,i)}function dg(t,r){var e;if(!r.applyRegexFlags||!t.flags)return t.source;let i={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},a=i.i?t.source.toLowerCase():t.source,m="",f=!1,$=!1,g=!1;for(let j=0;j<a.length;j++){if(f){m+=a[j],f=!1;continue}if(i.i){if($){if(a[j].match(/[a-z]/)){g?(m+=a[j],m+=`${a[j-2]}-${a[j]}`.toUpperCase(),g=!1):a[j+1]==="-"&&((e=a[j+2])==null?void 0:e.match(/[a-z]/))?(m+=a[j],g=!0):m+=`${a[j]}${a[j].toUpperCase()}`;continue}}else if(a[j].match(/[a-z]/)){m+=`[${a[j]}${a[j].toUpperCase()}]`;continue}}if(i.m){if(a[j]==="^"){m+=`(^|(?<=[\r
]))`;continue}else if(a[j]==="$"){m+=`($|(?=[\r
]))`;continue}}if(i.s&&a[j]==="."){m+=$?`${a[j]}\r
`:`[${a[j]}\r
]`;continue}m+=a[j],a[j]==="\\"?f=!0:$&&a[j]==="]"?$=!1:$||a[j]!=="["||($=!0)}try{new RegExp(m)}catch{return console.warn(`Could not convert regex pattern at ${r.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return m}function pg(t,r){var e,i,a,m,f,$;let g={type:"object",additionalProperties:(e=Ea(t.valueType._def,{...r,currentPath:[...r.currentPath,"additionalProperties"]}))!=null?e:r.allowedAdditionalProperties};if(((i=t.keyType)==null?void 0:i._def.typeName)===ft.ZodString&&((a=t.keyType._def.checks)==null?void 0:a.length)){let{type:j,...Q}=cg(t.keyType._def,r);return{...g,propertyNames:Q}}if(((m=t.keyType)==null?void 0:m._def.typeName)===ft.ZodEnum)return{...g,propertyNames:{enum:t.keyType._def.values}};if(((f=t.keyType)==null?void 0:f._def.typeName)===ft.ZodBranded&&t.keyType._def.type._def.typeName===ft.ZodString&&(($=t.keyType._def.type._def.checks)==null?void 0:$.length)){let{type:j,...Q}=ug(t.keyType._def,r);return{...g,propertyNames:Q}}return g}var zp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Ea(t,r,e=!1){var i;let a=r.seen.get(t);if(r.override){let g=(i=r.override)==null?void 0:i.call(r,t,r,a,e);if(g!==Iy)return g}if(a&&!e){let g=Uy(a,r);if(g!==void 0)return g}let m={def:t,path:r.currentPath,jsonSchema:void 0};r.seen.set(t,m);let f=((g,j,Q)=>{var ze,Ct,Ft,ri,Rt,Yr;switch(j){case ft.ZodString:return cg(g,Q);case ft.ZodNumber:let vi={type:"number"};if(!g.checks)return vi;for(let Fr of g.checks)switch(Fr.kind){case"int":vi.type="integer";break;case"min":Fr.inclusive?vi.minimum=Fr.value:vi.exclusiveMinimum=Fr.value;break;case"max":Fr.inclusive?vi.maximum=Fr.value:vi.exclusiveMaximum=Fr.value;break;case"multipleOf":vi.multipleOf=Fr.value}return vi;case ft.ZodObject:return function(Fr,Di){let zo={type:"object",properties:{}},No=[],Dl=Fr.shape();for(let Cs in Dl){let rs=Dl[Cs];if(rs===void 0||rs._def===void 0)continue;let ov=function(sv){try{return sv.isOptional()}catch{return!0}}(rs),bg=Ea(rs._def,{...Di,currentPath:[...Di.currentPath,"properties",Cs],propertyPath:[...Di.currentPath,"properties",Cs]});bg!==void 0&&(zo.properties[Cs]=bg,ov||No.push(Cs))}No.length&&(zo.required=No);let Vc=function(Cs,rs){if(Cs.catchall._def.typeName!=="ZodNever")return Ea(Cs.catchall._def,{...rs,currentPath:[...rs.currentPath,"additionalProperties"]});switch(Cs.unknownKeys){case"passthrough":return rs.allowedAdditionalProperties;case"strict":return rs.rejectedAdditionalProperties;case"strip":return rs.removeAdditionalStrategy==="strict"?rs.allowedAdditionalProperties:rs.rejectedAdditionalProperties}}(Fr,Di);return Vc!==void 0&&(zo.additionalProperties=Vc),zo}(g,Q);case ft.ZodBigInt:let En={type:"integer",format:"int64"};if(!g.checks)return En;for(let Fr of g.checks)switch(Fr.kind){case"min":Fr.inclusive?En.minimum=Fr.value:En.exclusiveMinimum=Fr.value;break;case"max":Fr.inclusive?En.maximum=Fr.value:En.exclusiveMaximum=Fr.value;break;case"multipleOf":En.multipleOf=Fr.value}return En;case ft.ZodBoolean:return{type:"boolean"};case ft.ZodDate:return function Fr(Di,zo,No){let Dl=No??zo.dateStrategy;if(Array.isArray(Dl))return{anyOf:Dl.map((Cs,rs)=>Fr(Di,zo,Cs))};switch(Dl){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var Vc=Di;let Cs={type:"integer",format:"unix-time"};for(let rs of Vc.checks)switch(rs.kind){case"min":Cs.minimum=rs.value;break;case"max":Cs.maximum=rs.value}return Cs}}(g,Q);case ft.ZodUndefined:return{not:{}};case ft.ZodNull:return{type:"null"};case ft.ZodArray:let Cn;return Cn={type:"array"},((Ft=g.type)==null?void 0:Ft._def)&&((Rt=(ri=g.type)==null?void 0:ri._def)==null?void 0:Rt.typeName)!==ft.ZodAny&&(Cn.items=Ea(g.type._def,{...Q,currentPath:[...Q.currentPath,"items"]})),g.minLength&&(Cn.minItems=g.minLength.value),g.maxLength&&(Cn.maxItems=g.maxLength.value),g.exactLength&&(Cn.minItems=g.exactLength.value,Cn.maxItems=g.exactLength.value),Cn;case ft.ZodUnion:case ft.ZodDiscriminatedUnion:let xa,ya=g.options instanceof Map?Array.from(g.options.values()):g.options;if(ya.every(Fr=>Fr._def.typeName in zp&&(!Fr._def.checks||!Fr._def.checks.length))){let Fr=ya.reduce((Di,zo)=>{let No=zp[zo._def.typeName];return No&&!Di.includes(No)?[...Di,No]:Di},[]);return{type:Fr.length>1?Fr:Fr[0]}}if(ya.every(Fr=>Fr._def.typeName==="ZodLiteral"&&!Fr.description)){let Fr=ya.reduce((Di,zo)=>{let No=typeof zo._def.value;switch(No){case"string":case"number":case"boolean":return[...Di,No];case"bigint":return[...Di,"integer"];case"object":if(zo._def.value===null)return[...Di,"null"];default:return Di}},[]);if(Fr.length===ya.length){let Di=Fr.filter((zo,No,Dl)=>Dl.indexOf(zo)===No);return{type:Di.length>1?Di:Di[0],enum:ya.reduce((zo,No)=>zo.includes(No._def.value)?zo:[...zo,No._def.value],[])}}}else if(ya.every(Fr=>Fr._def.typeName==="ZodEnum"))return{type:"string",enum:ya.reduce((Fr,Di)=>[...Fr,...Di._def.values.filter(zo=>!Fr.includes(zo))],[])};return ze=g,Ct=Q,(xa=(ze.options instanceof Map?Array.from(ze.options.values()):ze.options).map((Fr,Di)=>Ea(Fr._def,{...Ct,currentPath:[...Ct.currentPath,"anyOf",`${Di}`]})).filter(Fr=>!!Fr&&(!Ct.strictUnions||typeof Fr=="object"&&Object.keys(Fr).length>0))).length?{anyOf:xa}:void 0;case ft.ZodIntersection:let Qa,$s;return Qa=[Ea(g.left._def,{...Q,currentPath:[...Q.currentPath,"allOf","0"]}),Ea(g.right._def,{...Q,currentPath:[...Q.currentPath,"allOf","1"]})].filter(Fr=>!!Fr),$s=[],Qa.forEach(Fr=>{if((!("type"in Fr)||Fr.type!=="string")&&"allOf"in Fr)$s.push(...Fr.allOf);else{let Di=Fr;if("additionalProperties"in Fr&&Fr.additionalProperties===!1){let{additionalProperties:zo,...No}=Fr;Di=No}$s.push(Di)}}),$s.length?{allOf:$s}:void 0;case ft.ZodTuple:return g.rest?{type:"array",minItems:g.items.length,items:g.items.map((Fr,Di)=>Ea(Fr._def,{...Q,currentPath:[...Q.currentPath,"items",`${Di}`]})).reduce((Fr,Di)=>Di===void 0?Fr:[...Fr,Di],[]),additionalItems:Ea(g.rest._def,{...Q,currentPath:[...Q.currentPath,"additionalItems"]})}:{type:"array",minItems:g.items.length,maxItems:g.items.length,items:g.items.map((Fr,Di)=>Ea(Fr._def,{...Q,currentPath:[...Q.currentPath,"items",`${Di}`]})).reduce((Fr,Di)=>Di===void 0?Fr:[...Fr,Di],[])};case ft.ZodRecord:return pg(g,Q);case ft.ZodLiteral:let Es;return(Es=typeof g.value)!="bigint"&&Es!=="number"&&Es!=="boolean"&&Es!=="string"?{type:Array.isArray(g.value)?"array":"object"}:{type:Es==="bigint"?"integer":Es,const:g.value};case ft.ZodEnum:return{type:"string",enum:Array.from(g.values)};case ft.ZodNativeEnum:let Ts,Ml,Ql;return Ts=g.values,{type:(Ql=Array.from(new Set((Ml=Object.keys(g.values).filter(Fr=>typeof Ts[Ts[Fr]]!="number").map(Fr=>Ts[Fr])).map(Fr=>typeof Fr)))).length===1?Ql[0]==="string"?"string":"number":["string","number"],enum:Ml};case ft.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(g.innerType._def.typeName)&&(!g.innerType._def.checks||!g.innerType._def.checks.length))return{type:[zp[g.innerType._def.typeName],"null"]};let Il=Ea(g.innerType._def,{...Q,currentPath:[...Q.currentPath,"anyOf","0"]});return Il&&{anyOf:[Il,{type:"null"}]};case ft.ZodOptional:if(Q.currentPath.toString()===((Yr=Q.propertyPath)==null?void 0:Yr.toString()))return Ea(g.innerType._def,Q);let Zc=Ea(g.innerType._def,{...Q,currentPath:[...Q.currentPath,"anyOf","1"]});return Zc?{anyOf:[{not:{}},Zc]}:{};case ft.ZodMap:return Q.mapStrategy==="record"?pg(g,Q):{type:"array",maxItems:125,items:{type:"array",items:[Ea(g.keyType._def,{...Q,currentPath:[...Q.currentPath,"items","items","0"]})||{},Ea(g.valueType._def,{...Q,currentPath:[...Q.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case ft.ZodSet:let Bc;return Bc={type:"array",uniqueItems:!0,items:Ea(g.valueType._def,{...Q,currentPath:[...Q.currentPath,"items"]})},g.minSize&&(Bc.minItems=g.minSize.value),g.maxSize&&(Bc.maxItems=g.maxSize.value),Bc;case ft.ZodLazy:return()=>g.getter()._def;case ft.ZodPromise:return Ea(g.type._def,Q);case ft.ZodNaN:case ft.ZodNever:return{not:{}};case ft.ZodEffects:return Q.effectStrategy==="input"?Ea(g.schema._def,Q):{};case ft.ZodAny:case ft.ZodUnknown:return{};case ft.ZodDefault:return{...Ea(g.innerType._def,Q),default:g.defaultValue()};case ft.ZodBranded:return ug(g,Q);case ft.ZodReadonly:case ft.ZodCatch:return Ea(g.innerType._def,Q);case ft.ZodPipeline:if(Q.pipeStrategy==="input")return Ea(g.in._def,Q);if(Q.pipeStrategy==="output")return Ea(g.out._def,Q);let vg=Ea(g.in._def,{...Q,currentPath:[...Q.currentPath,"allOf","0"]}),av=Ea(g.out._def,{...Q,currentPath:[...Q.currentPath,"allOf",vg?"1":"0"]});return{allOf:[vg,av].filter(Fr=>Fr!==void 0)};case ft.ZodFunction:case ft.ZodVoid:case ft.ZodSymbol:default:return}})(t,t.typeName,r),$=typeof f=="function"?Ea(f(),r):f;if($&&qy(t,r,$),r.postProcess){let g=r.postProcess($,t,r);return m.jsonSchema=$,g}return m.jsonSchema=$,$}var Uy=(t,r)=>{switch(r.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:((e,i)=>{let a=0;for(;a<e.length&&a<i.length&&e[a]===i[a];a++);return[(e.length-a).toString(),...i.slice(a)].join("/")})(r.currentPath,t.path)};case"none":case"seen":return t.path.length<r.currentPath.length&&t.path.every((e,i)=>r.currentPath[i]===e)?(console.warn(`Recursive reference detected at ${r.currentPath.join("/")}! Defaulting to any`),{}):r.$refStrategy==="seen"?{}:void 0}},qy=(t,r,e)=>(t.description&&(e.description=t.description),e),kp=Symbol.for("vercel.ai.schema");function Ly(t){let r;return()=>(r==null&&(r=t()),r)}function ec(t,{validate:r}={}){return{[kp]:!0,_type:void 0,get jsonSchema(){return typeof t=="function"&&(t=t()),t},validate:r}}function mg(t){var r;return t==null?ec({properties:{},additionalProperties:!1}):typeof t=="object"&&t!==null&&kp in t&&t[kp]===!0&&"jsonSchema"in t&&"validate"in t?t:"~standard"in t?t["~standard"].vendor==="zod"?hg(t):(r=t,ec(()=>r["~standard"].jsonSchema.input({target:"draft-07"}),{validate:async e=>{let i=await r["~standard"].validate(e);return"value"in i?{success:!0,value:i.value}:{success:!1,error:new Qi({value:e,cause:i.issues})}}})):t()}function hg(t,r){var e,i;let a;if("_zod"in t){let m;return m=(e=r?.useReferences)!=null&&e,ec(()=>function f($){if($.type==="object"){$.additionalProperties=!1;let g=$.properties;if(g!=null)for(let j in g)g[j]=f(g[j])}return $.type==="array"&&$.items!=null&&(Array.isArray($.items)?$.items=$.items.map(g=>f(g)):$.items=f($.items)),$}(id(t,{target:"draft-7",io:"input",reused:m?"ref":"inline"})),{validate:async f=>{let $=await oc(t,f);return $.success?{success:!0,value:$.data}:{success:!1,error:$.error}}})}return a=(i=r?.useReferences)!=null&&i,ec(()=>((m,f)=>{var $;let g,j,Q=(j=(g=typeof f=="string"?{...lg,name:f}:{...lg,...f}).name!==void 0?[...g.basePath,g.definitionPath,g.name]:g.basePath,{...g,currentPath:j,propertyPath:void 0,seen:new Map(Object.entries(g.definitions).map(([Yr,vi])=>[vi._def,{def:vi._def,path:[...g.basePath,g.definitionPath,Yr],jsonSchema:void 0}]))}),ze=typeof f=="object"&&f.definitions?Object.entries(f.definitions).reduce((Yr,[vi,En])=>{var Cn;return{...Yr,[vi]:(Cn=Ea(En._def,{...Q,currentPath:[...Q.basePath,Q.definitionPath,vi]},!0))!=null?Cn:{}}},{}):void 0,Ct=typeof f=="string"?f:f?.nameStrategy==="title"||f==null?void 0:f.name,Ft=($=Ea(m._def,Ct===void 0?Q:{...Q,currentPath:[...Q.basePath,Q.definitionPath,Ct]},!1))!=null?$:{},ri=typeof f=="object"&&f.name!==void 0&&f.nameStrategy==="title"?f.name:void 0;ri!==void 0&&(Ft.title=ri);let Rt=Ct===void 0?ze?{...Ft,[Q.definitionPath]:ze}:Ft:{$ref:[...Q.$refStrategy==="relative"?[]:Q.basePath,Q.definitionPath,Ct].join("/"),[Q.definitionPath]:{...ze,[Ct]:Ft}};return Rt.$schema="http://json-schema.org/draft-07/schema#",Rt})(t,{$refStrategy:a?"root":"none"}),{validate:async m=>{let f=await t.safeParseAsync(m);return f.success?{success:!0,value:f.data}:{success:!1,error:f.error}}})}async function fg({value:t,schema:r}){let e=await Fc({value:t,schema:r});if(!e.success)throw Qi.wrap({value:t,cause:e.error});return e.value}async function Fc({value:t,schema:r}){let e=mg(r);try{if(e.validate==null)return{success:!0,value:t,rawValue:t};let i=await e.validate(t);return i.success?{success:!0,value:i.value,rawValue:t}:{success:!1,error:Qi.wrap({value:t,cause:i.error}),rawValue:t}}catch(i){return{success:!1,error:Qi.wrap({value:t,cause:i}),rawValue:t}}}async function Fy({text:t,schema:r}){try{let e=xp(t);return r==null?e:fg({value:e,schema:r})}catch(e){throw In.isInstance(e)||Qi.isInstance(e)?e:new In({text:t,cause:e})}}async function Ip({text:t,schema:r}){try{let e=xp(t);return r==null?{success:!0,value:e,rawValue:e}:await Fc({value:e,schema:r})}catch(e){return{success:!1,error:In.isInstance(e)?e:new In({text:t,cause:e}),rawValue:void 0}}}function Zy(t){try{return xp(t),!0}catch{return!1}}function gg({stream:t,schema:r}){return t.pipeThrough(new TextDecoderStream).pipeThrough(new ry).pipeThrough(new TransformStream({async transform({data:e},i){e!=="[DONE]"&&i.enqueue(await Ip({text:e,schema:r}))}}))}async function By({provider:t,providerOptions:r,schema:e}){if(r?.[t]==null)return;let i=await Fc({value:r[t],schema:e});if(!i.success)throw new Gr({argument:"providerOptions",message:`invalid ${t} provider options`,cause:i.error});return i.value}var Vy=()=>mr.fetch,Hy=async({url:t,headers:r,body:e,failedResponseHandler:i,successfulResponseHandler:a,abortSignal:m,fetch:f})=>yg({url:t,headers:{"Content-Type":"application/json",...r},body:{content:JSON.stringify(e),values:e},failedResponseHandler:i,successfulResponseHandler:a,abortSignal:m,fetch:f}),Jy=async({url:t,headers:r,formData:e,failedResponseHandler:i,successfulResponseHandler:a,abortSignal:m,fetch:f})=>yg({url:t,headers:r,body:{content:e,values:Object.fromEntries(e.entries())},failedResponseHandler:i,successfulResponseHandler:a,abortSignal:m,fetch:f}),yg=async({url:t,headers:r={},body:e,successfulResponseHandler:i,failedResponseHandler:a,abortSignal:m,fetch:f=Vy()})=>{try{let $=await f(t,{method:"POST",headers:_p(r,`ai-sdk/provider-utils/${og}`,bp()),body:e.content,signal:m}),g=vu($);if(!$.ok){let j;try{j=await a({response:$,url:t,requestBodyValues:e.values})}catch(Q){throw bu(Q)||q.isInstance(Q)?Q:new q({message:"Failed to process error response",cause:Q,statusCode:$.status,url:t,responseHeaders:g,requestBodyValues:e.values})}throw j.value}try{return await i({response:$,url:t,requestBodyValues:e.values})}catch(j){throw j instanceof Error&&(bu(j)||q.isInstance(j))?j:new q({message:"Failed to process successful response",cause:j,statusCode:$.status,url:t,responseHeaders:g,requestBodyValues:e.values})}}catch($){throw ig({error:$,url:t,requestBodyValues:e.values})}};function Ky(t){return t}function Wy(t){return{...t,type:"dynamic"}}function Gy({id:t,inputSchema:r}){return({execute:e,outputSchema:i,needsApproval:a,toModelOutput:m,onInputStart:f,onInputDelta:$,onInputAvailable:g,...j})=>({type:"provider",id:t,args:j,inputSchema:r,outputSchema:i,execute:e,needsApproval:a,toModelOutput:m,onInputStart:f,onInputDelta:$,onInputAvailable:g})}function Qy({id:t,inputSchema:r,outputSchema:e,supportsDeferredResults:i}){return({execute:a,needsApproval:m,toModelOutput:f,onInputStart:$,onInputDelta:g,onInputAvailable:j,...Q})=>({type:"provider",id:t,args:Q,inputSchema:r,outputSchema:e,execute:a,needsApproval:m,toModelOutput:f,onInputStart:$,onInputDelta:g,onInputAvailable:j,supportsDeferredResults:i})}async function Xy(t){return typeof t=="function"&&(t=t()),Promise.resolve(t)}var Yy=({errorSchema:t,errorToMessage:r,isRetryable:e})=>async({response:i,url:a,requestBodyValues:m})=>{let f=await i.text(),$=vu(i);if(f.trim()==="")return{responseHeaders:$,value:new q({message:i.statusText,url:a,requestBodyValues:m,statusCode:i.status,responseHeaders:$,responseBody:f,isRetryable:e?.(i)})};try{let g=await Fy({text:f,schema:t});return{responseHeaders:$,value:new q({message:r(g),url:a,requestBodyValues:m,statusCode:i.status,responseHeaders:$,responseBody:f,data:g,isRetryable:e?.(i,g)})}}catch{return{responseHeaders:$,value:new q({message:i.statusText,url:a,requestBodyValues:m,statusCode:i.status,responseHeaders:$,responseBody:f,isRetryable:e?.(i)})}}},ev=t=>async({response:r})=>{let e=vu(r);if(r.body==null)throw new rt({});return{responseHeaders:e,value:gg({stream:r.body,schema:t})}},tv=t=>async({response:r,url:e,requestBodyValues:i})=>{let a=await r.text(),m=await Ip({text:a,schema:t}),f=vu(r);if(!m.success)throw new q({message:"Invalid JSON response",cause:m.error,statusCode:r.status,responseHeaders:f,responseBody:a,url:e,requestBodyValues:i});return{responseHeaders:f,value:m.value,rawValue:m.rawValue}},rv=()=>async({response:t,url:r,requestBodyValues:e})=>{let i=vu(t);if(!t.body)throw new q({message:"Response body is empty",url:r,requestBodyValues:e,statusCode:t.status,responseHeaders:i,responseBody:void 0});try{let a=await t.arrayBuffer();return{responseHeaders:i,value:new Uint8Array(a)}}catch(a){throw new q({message:"Failed to read response as array buffer",url:r,requestBodyValues:e,statusCode:t.status,responseHeaders:i,responseBody:void 0,cause:a})}};function nv(t){return t?.replace(/\/$/,"")}async function*iv({execute:t,input:r,options:e}){let i=t(r,e);if(i!=null&&typeof i[Symbol.asyncIterator]=="function"){let a;for await(let m of i)a=m,yield{type:"preliminary",output:m};yield{type:"final",output:a}}else yield{type:"final",output:await i}}v.s(["DelayedPromise",()=>oy,"DownloadError",()=>Lc,"asSchema",()=>mg,"combineHeaders",()=>ny,"convertBase64ToUint8Array",()=>uy,"convertToBase64",()=>cy,"convertToFormData",()=>dy,"convertUint8ArrayToBase64",()=>eg,"createBinaryResponseHandler",()=>rv,"createEventSourceResponseHandler",()=>ev,"createIdGenerator",()=>ng,"createJsonErrorResponseHandler",()=>Yy,"createJsonResponseHandler",()=>tv,"createProviderToolFactory",()=>Gy,"createProviderToolFactoryWithOutputSchema",()=>Qy,"createToolNameMapping",()=>iy,"delay",()=>ay,"downloadBlob",()=>my,"dynamicTool",()=>Wy,"executeTool",()=>iv,"generateId",()=>hy,"getErrorMessage",()=>fy,"getFromApi",()=>vy,"getRuntimeEnvironmentUserAgent",()=>bp,"isAbortError",()=>bu,"isNonNullable",()=>by,"isParsableJson",()=>Zy,"isUrlSupported",()=>_y,"jsonSchema",()=>ec,"lazySchema",()=>Ly,"loadApiKey",()=>xy,"loadOptionalSetting",()=>wy,"mediaTypeToExtension",()=>Sy,"normalizeHeaders",()=>ag,"parseJsonEventStream",()=>gg,"parseProviderOptions",()=>By,"postFormDataToApi",()=>Jy,"postJsonToApi",()=>Hy,"resolve",()=>Xy,"safeParseJSON",()=>Ip,"safeValidateTypes",()=>Fc,"tool",()=>Ky,"validateTypes",()=>fg,"withUserAgentSuffix",()=>_p,"withoutTrailingSlash",()=>nv,"zodSchema",()=>hg],66125),v.i(35079),v.s(["z",0,sf],39017)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/src_services_ai-providers_ts_f30e308f._.js",87633,v=>{"use strict";var p=v.i(66125),ve=v.i(8715);v.i(6508);var n=v.i(39017),Pe=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({error:n.z.object({code:n.z.number().nullable(),message:n.z.string(),status:n.z.string()})}))),M=(0,p.createJsonErrorResponseHandler)({errorSchema:Pe,errorToMessage:x=>x.error.message}),ie=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({outputDimensionality:n.z.number().optional(),taskType:n.z.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),Ze=class{constructor(x,F){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=x,this.config=F}get provider(){return this.config.provider}async doEmbed({values:x,headers:F,abortSignal:ne,providerOptions:he}){let Ee=await(0,p.parseProviderOptions)({provider:"google",providerOptions:he,schema:ie});if(x.length>this.maxEmbeddingsPerCall)throw new ve.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:x});let Te=(0,p.combineHeaders)(await(0,p.resolve)(this.config.headers),F);if(x.length===1){let{responseHeaders:pe,value:nt,rawValue:Ke}=await(0,p.postJsonToApi)({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:Te,body:{model:`models/${this.modelId}`,content:{parts:[{text:x[0]}]},outputDimensionality:Ee?.outputDimensionality,taskType:Ee?.taskType},failedResponseHandler:M,successfulResponseHandler:(0,p.createJsonResponseHandler)($e),abortSignal:ne,fetch:this.config.fetch});return{warnings:[],embeddings:[nt.embedding.values],usage:void 0,response:{headers:pe,body:Ke}}}let{responseHeaders:ae,value:fe,rawValue:He}=await(0,p.postJsonToApi)({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:Te,body:{requests:x.map(pe=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:pe}]},outputDimensionality:Ee?.outputDimensionality,taskType:Ee?.taskType}))},failedResponseHandler:M,successfulResponseHandler:(0,p.createJsonResponseHandler)(me),abortSignal:ne,fetch:this.config.fetch});return{warnings:[],embeddings:fe.embeddings.map(pe=>pe.values),usage:void 0,response:{headers:ae,body:He}}}},me=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({embeddings:n.z.array(n.z.object({values:n.z.array(n.z.number())}))}))),$e=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({embedding:n.z.object({values:n.z.array(n.z.number())})})));function V(x){var F,ne,he,Ee;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let Te=(F=x.promptTokenCount)!=null?F:0,ae=(ne=x.candidatesTokenCount)!=null?ne:0,fe=(he=x.cachedContentTokenCount)!=null?he:0,He=(Ee=x.thoughtsTokenCount)!=null?Ee:0;return{inputTokens:{total:Te,noCache:Te-fe,cacheRead:fe,cacheWrite:void 0},outputTokens:{total:ae+He,text:ae,reasoning:He},raw:x}}function X(x,F=!0){var ne;if(x==null)return;if((ne=x)!=null&&typeof ne=="object"&&ne.type==="object"&&(ne.properties==null||Object.keys(ne.properties).length===0)&&!ne.additionalProperties)return F?void 0:typeof x=="object"&&x.description?{type:"object",description:x.description}:{type:"object"};if(typeof x=="boolean")return{type:"boolean",properties:{}};let{type:he,description:Ee,required:Te,properties:ae,items:fe,allOf:He,anyOf:pe,oneOf:nt,format:Ke,const:mt,minLength:We,enum:jt}=x,St={};if(Ee&&(St.description=Ee),Te&&(St.required=Te),Ke&&(St.format=Ke),mt!==void 0&&(St.enum=[mt]),he)if(Array.isArray(he)){let Xe=he.includes("null"),$t=he.filter(at=>at!=="null");$t.length===0?St.type="null":(St.anyOf=$t.map(at=>({type:at})),Xe&&(St.nullable=!0))}else St.type=he;if(jt!==void 0&&(St.enum=jt),ae!=null&&(St.properties=Object.entries(ae).reduce((Xe,[$t,at])=>(Xe[$t]=X(at,!1),Xe),{})),fe&&(St.items=Array.isArray(fe)?fe.map(Xe=>X(Xe,!1)):X(fe,!1)),He&&(St.allOf=He.map(Xe=>X(Xe,!1))),pe)if(pe.some(Xe=>typeof Xe=="object"&&Xe?.type==="null")){let Xe=pe.filter($t=>typeof $t!="object"||$t?.type!=="null");if(Xe.length===1){let $t=X(Xe[0],!1);typeof $t=="object"&&(St.nullable=!0,Object.assign(St,$t))}else St.anyOf=Xe.map($t=>X($t,!1)),St.nullable=!0}else St.anyOf=pe.map(Xe=>X(Xe,!1));return nt&&(St.oneOf=nt.map(Xe=>X(Xe,!1))),We!==void 0&&(St.minLength=We),St}function U(x){return x.includes("/")?x:`models/${x}`}var oe=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({responseModalities:n.z.array(n.z.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:n.z.object({thinkingBudget:n.z.number().optional(),includeThoughts:n.z.boolean().optional(),thinkingLevel:n.z.enum(["minimal","low","medium","high"]).optional()}).optional(),cachedContent:n.z.string().optional(),structuredOutputs:n.z.boolean().optional(),safetySettings:n.z.array(n.z.object({category:n.z.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:n.z.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:n.z.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:n.z.boolean().optional(),labels:n.z.record(n.z.string(),n.z.string()).optional(),mediaResolution:n.z.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:n.z.object({aspectRatio:n.z.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:n.z.enum(["1K","2K","4K"]).optional()}).optional(),retrievalConfig:n.z.object({latLng:n.z.object({latitude:n.z.number(),longitude:n.z.number()}).optional()}).optional()})));function _e({finishReason:x,hasToolCalls:F}){switch(x){case"STOP":return F?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"MALFORMED_FUNCTION_CALL":return"error";default:return"other"}}var ge=class{constructor(x,F){var ne;this.specificationVersion="v3",this.modelId=x,this.config=F,this.generateId=(ne=F.generateId)!=null?ne:p.generateId}get provider(){return this.config.provider}get supportedUrls(){var x,F,ne;return(ne=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?ne:{}}async getArgs({prompt:x,maxOutputTokens:F,temperature:ne,topP:he,topK:Ee,frequencyPenalty:Te,presencePenalty:ae,stopSequences:fe,responseFormat:He,seed:pe,tools:nt,toolChoice:Ke,providerOptions:mt}){var We;let jt=[],St=this.config.provider.includes("vertex")?"vertex":"google",Xe=await(0,p.parseProviderOptions)({provider:St,providerOptions:mt,schema:oe});Xe==null&&St!=="google"&&(Xe=await(0,p.parseProviderOptions)({provider:"google",providerOptions:mt,schema:oe})),nt?.some(ke=>ke.type==="provider"&&ke.id==="google.vertex_rag_store")&&!this.config.provider.startsWith("google.vertex.")&&jt.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let $t=this.modelId.toLowerCase().startsWith("gemma-"),{contents:at,systemInstruction:Ut}=function(ke,kr){var At,zt,dt;let Me=[],Bt=[],Kt=!0,Tt=(At=kr?.isGemmaModel)!=null&&At,Dt=(zt=kr?.providerOptionsName)!=null?zt:"google";for(let{role:Ur,content:fr}of ke)switch(Ur){case"system":if(!Kt)throw new ve.UnsupportedFunctionalityError({functionality:"system messages are only supported at the beginning of the conversation"});Me.push({text:fr});break;case"user":{Kt=!1;let sr=[];for(let Ye of fr)switch(Ye.type){case"text":sr.push({text:Ye.text});break;case"file":{let Lt=Ye.mediaType==="image/*"?"image/jpeg":Ye.mediaType;sr.push(Ye.data instanceof URL?{fileData:{mimeType:Lt,fileUri:Ye.data.toString()}}:{inlineData:{mimeType:Lt,data:(0,p.convertToBase64)(Ye.data)}})}}Bt.push({role:"user",parts:sr});break}case"assistant":Kt=!1,Bt.push({role:"model",parts:fr.map(sr=>{var Ye;let Lt=(Ye=sr.providerOptions)==null?void 0:Ye[Dt],yt=Lt?.thoughtSignature!=null?String(Lt.thoughtSignature):void 0;switch(sr.type){case"text":return sr.text.length===0?void 0:{text:sr.text,thoughtSignature:yt};case"reasoning":return sr.text.length===0?void 0:{text:sr.text,thought:!0,thoughtSignature:yt};case"file":if(sr.data instanceof URL)throw new ve.UnsupportedFunctionalityError({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:sr.mediaType,data:(0,p.convertToBase64)(sr.data)},thoughtSignature:yt};case"tool-call":return{functionCall:{name:sr.toolName,args:sr.input},thoughtSignature:yt}}}).filter(sr=>sr!==void 0)});break;case"tool":{Kt=!1;let sr=[];for(let Ye of fr){if(Ye.type==="tool-approval-response")continue;let Lt=Ye.output;if(Lt.type==="content")for(let yt of Lt.value)switch(yt.type){case"text":sr.push({functionResponse:{name:Ye.toolName,response:{name:Ye.toolName,content:yt.text}}});break;case"image-data":sr.push({inlineData:{mimeType:yt.mediaType,data:yt.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:sr.push({text:JSON.stringify(yt)})}else sr.push({functionResponse:{name:Ye.toolName,response:{name:Ye.toolName,content:Lt.type==="execution-denied"?(dt=Lt.reason)!=null?dt:"Tool execution denied.":Lt.value}}})}Bt.push({role:"user",parts:sr})}}if(Tt&&Me.length>0&&Bt.length>0&&Bt[0].role==="user"){let Ur=Me.map(fr=>fr.text).join(`

`);Bt[0].parts.unshift({text:Ur+`

`})}return{systemInstruction:Me.length>0&&!Tt?{parts:Me}:void 0,contents:Bt}}(x,{isGemmaModel:$t,providerOptionsName:St}),{tools:dr,toolConfig:Ie,toolWarnings:de}=function({tools:ke,toolChoice:kr,modelId:At}){var zt;ke=ke?.length?ke:void 0;let dt=[],Me=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(Ye=>Ye===At),Bt=At.includes("gemini-2")||At.includes("gemini-3")||Me,Kt=At.includes("gemini-1.5-flash")&&!At.includes("-8b"),Tt=At.includes("gemini-2.5");if(ke==null)return{tools:void 0,toolConfig:void 0,toolWarnings:dt};let Dt=ke.some(Ye=>Ye.type==="function"),Ur=ke.some(Ye=>Ye.type==="provider");if(Dt&&Ur&&dt.push({type:"unsupported",feature:"combination of function and provider-defined tools"}),Ur){let Ye=[];return ke.filter(Lt=>Lt.type==="provider").forEach(Lt=>{switch(Lt.id){case"google.google_search":Bt?Ye.push({googleSearch:{}}):Kt?Ye.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:Lt.args.mode,dynamicThreshold:Lt.args.dynamicThreshold}}}):Ye.push({googleSearchRetrieval:{}});break;case"google.enterprise_web_search":Bt?Ye.push({enterpriseWebSearch:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"Enterprise Web Search requires Gemini 2.0 or newer."});break;case"google.url_context":Bt?Ye.push({urlContext:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":Bt?Ye.push({codeExecution:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":Tt?Ye.push({fileSearch:{...Lt.args}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The file search tool is only supported with Gemini 2.5 models."});break;case"google.vertex_rag_store":Bt?Ye.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:Lt.args.ragCorpus},similarity_top_k:Lt.args.topK}}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;case"google.google_maps":Bt?Ye.push({googleMaps:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The Google Maps grounding tool is not supported with Gemini models other than Gemini 2 or newer."});break;default:dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`})}}),{tools:Ye.length>0?Ye:void 0,toolConfig:void 0,toolWarnings:dt}}let fr=[];for(let Ye of ke)Ye.type==="function"?fr.push({name:Ye.name,description:(zt=Ye.description)!=null?zt:"",parameters:X(Ye.inputSchema)}):dt.push({type:"unsupported",feature:`function tool ${Ye.name}`});if(kr==null)return{tools:[{functionDeclarations:fr}],toolConfig:void 0,toolWarnings:dt};let sr=kr.type;switch(sr){case"auto":return{tools:[{functionDeclarations:fr}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:dt};case"none":return{tools:[{functionDeclarations:fr}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:dt};case"required":return{tools:[{functionDeclarations:fr}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:dt};case"tool":return{tools:[{functionDeclarations:fr}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[kr.toolName]}},toolWarnings:dt};default:throw new ve.UnsupportedFunctionalityError({functionality:`tool choice type: ${sr}`})}}({tools:nt,toolChoice:Ke,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:F,temperature:ne,topK:Ee,topP:he,frequencyPenalty:Te,presencePenalty:ae,stopSequences:fe,seed:pe,responseMimeType:He?.type==="json"?"application/json":void 0,responseSchema:He?.type==="json"&&He.schema!=null&&((We=Xe?.structuredOutputs)==null||We)?X(He.schema):void 0,...Xe?.audioTimestamp&&{audioTimestamp:Xe.audioTimestamp},responseModalities:Xe?.responseModalities,thinkingConfig:Xe?.thinkingConfig,...Xe?.mediaResolution&&{mediaResolution:Xe.mediaResolution},...Xe?.imageConfig&&{imageConfig:Xe.imageConfig}},contents:at,systemInstruction:$t?void 0:Ut,safetySettings:Xe?.safetySettings,tools:dr,toolConfig:Xe?.retrievalConfig?{...Ie,retrievalConfig:Xe.retrievalConfig}:Ie,cachedContent:Xe?.cachedContent,labels:Xe?.labels},warnings:[...jt,...de],providerOptionsName:St}}async doGenerate(x){var F,ne,he,Ee,Te,ae,fe,He,pe;let nt,{args:Ke,warnings:mt,providerOptionsName:We}=await this.getArgs(x),jt=(0,p.combineHeaders)(await(0,p.resolve)(this.config.headers),x.headers),{responseHeaders:St,value:Xe,rawValue:$t}=await(0,p.postJsonToApi)({url:`${this.config.baseURL}/${U(this.modelId)}:generateContent`,headers:jt,body:Ke,failedResponseHandler:M,successfulResponseHandler:(0,p.createJsonResponseHandler)(it),abortSignal:x.abortSignal,fetch:this.config.fetch}),at=Xe.candidates[0],Ut=[],dr=(ne=(F=at.content)==null?void 0:F.parts)!=null?ne:[],Ie=Xe.usageMetadata;for(let de of dr)if("executableCode"in de&&((he=de.executableCode)==null?void 0:he.code)){let ke=this.config.generateId();nt=ke,Ut.push({type:"tool-call",toolCallId:ke,toolName:"code_execution",input:JSON.stringify(de.executableCode),providerExecuted:!0})}else"codeExecutionResult"in de&&de.codeExecutionResult?(Ut.push({type:"tool-result",toolCallId:nt,toolName:"code_execution",result:{outcome:de.codeExecutionResult.outcome,output:de.codeExecutionResult.output}}),nt=void 0):"text"in de&&de.text!=null&&de.text.length>0?Ut.push({type:de.thought===!0?"reasoning":"text",text:de.text,providerMetadata:de.thoughtSignature?{[We]:{thoughtSignature:de.thoughtSignature}}:void 0}):"functionCall"in de?Ut.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:de.functionCall.name,input:JSON.stringify(de.functionCall.args),providerMetadata:de.thoughtSignature?{[We]:{thoughtSignature:de.thoughtSignature}}:void 0}):"inlineData"in de&&Ut.push({type:"file",data:de.inlineData.data,mediaType:de.inlineData.mimeType,providerMetadata:de.thoughtSignature?{[We]:{thoughtSignature:de.thoughtSignature}}:void 0});for(let de of(Ee=ht({groundingMetadata:at.groundingMetadata,generateId:this.config.generateId}))!=null?Ee:[])Ut.push(de);return{content:Ut,finishReason:{unified:_e({finishReason:at.finishReason,hasToolCalls:Ut.some(de=>de.type==="tool-call")}),raw:(Te=at.finishReason)!=null?Te:void 0},usage:V(Ie),warnings:mt,providerMetadata:{[We]:{promptFeedback:(ae=Xe.promptFeedback)!=null?ae:null,groundingMetadata:(fe=at.groundingMetadata)!=null?fe:null,urlContextMetadata:(He=at.urlContextMetadata)!=null?He:null,safetyRatings:(pe=at.safetyRatings)!=null?pe:null,usageMetadata:Ie??null}},request:{body:Ke},response:{headers:St,body:$t}}}async doStream(x){let F,ne,he,{args:Ee,warnings:Te,providerOptionsName:ae}=await this.getArgs(x),fe=(0,p.combineHeaders)(await(0,p.resolve)(this.config.headers),x.headers),{responseHeaders:He,value:pe}=await(0,p.postJsonToApi)({url:`${this.config.baseURL}/${U(this.modelId)}:streamGenerateContent?alt=sse`,headers:fe,body:Ee,failedResponseHandler:M,successfulResponseHandler:(0,p.createEventSourceResponseHandler)(bt),abortSignal:x.abortSignal,fetch:this.config.fetch}),nt={unified:"other",raw:void 0},Ke=this.config.generateId,mt=!1,We=null,jt=null,St=0,Xe=new Set;return{stream:pe.pipeThrough(new TransformStream({start($t){$t.enqueue({type:"stream-start",warnings:Te})},transform($t,at){var Ut,dr,Ie,de,ke,kr,At;if(x.includeRawChunks&&at.enqueue({type:"raw",rawValue:$t.rawValue}),!$t.success)return void at.enqueue({type:"error",error:$t.error});let zt=$t.value,dt=zt.usageMetadata;dt!=null&&(ne=dt);let Me=(Ut=zt.candidates)==null?void 0:Ut[0];if(Me==null)return;let Bt=Me.content,Kt=ht({groundingMetadata:Me.groundingMetadata,generateId:Ke});if(Kt!=null)for(let Tt of Kt)Tt.sourceType!=="url"||Xe.has(Tt.url)||(Xe.add(Tt.url),at.enqueue(Tt));if(Bt!=null){for(let Dt of(dr=Bt.parts)!=null?dr:[])if("executableCode"in Dt&&((Ie=Dt.executableCode)==null?void 0:Ie.code)){let Ur=Ke();F=Ur,at.enqueue({type:"tool-call",toolCallId:Ur,toolName:"code_execution",input:JSON.stringify(Dt.executableCode),providerExecuted:!0}),mt=!0}else if("codeExecutionResult"in Dt&&Dt.codeExecutionResult){let Ur=F;Ur&&(at.enqueue({type:"tool-result",toolCallId:Ur,toolName:"code_execution",result:{outcome:Dt.codeExecutionResult.outcome,output:Dt.codeExecutionResult.output}}),F=void 0)}else"text"in Dt&&Dt.text!=null&&Dt.text.length>0?Dt.thought===!0?(We!==null&&(at.enqueue({type:"text-end",id:We}),We=null),jt===null&&(jt=String(St++),at.enqueue({type:"reasoning-start",id:jt,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})),at.enqueue({type:"reasoning-delta",id:jt,delta:Dt.text,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})):(jt!==null&&(at.enqueue({type:"reasoning-end",id:jt}),jt=null),We===null&&(We=String(St++),at.enqueue({type:"text-start",id:We,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})),at.enqueue({type:"text-delta",id:We,delta:Dt.text,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})):"inlineData"in Dt&&at.enqueue({type:"file",mediaType:Dt.inlineData.mimeType,data:Dt.inlineData.data});let Tt=function({parts:Dt,generateId:Ur,providerOptionsName:fr}){let sr=Dt?.filter(Ye=>"functionCall"in Ye);return sr==null||sr.length===0?void 0:sr.map(Ye=>({type:"tool-call",toolCallId:Ur(),toolName:Ye.functionCall.name,args:JSON.stringify(Ye.functionCall.args),providerMetadata:Ye.thoughtSignature?{[fr]:{thoughtSignature:Ye.thoughtSignature}}:void 0}))}({parts:Bt.parts,generateId:Ke,providerOptionsName:ae});if(Tt!=null)for(let Dt of Tt)at.enqueue({type:"tool-input-start",id:Dt.toolCallId,toolName:Dt.toolName,providerMetadata:Dt.providerMetadata}),at.enqueue({type:"tool-input-delta",id:Dt.toolCallId,delta:Dt.args,providerMetadata:Dt.providerMetadata}),at.enqueue({type:"tool-input-end",id:Dt.toolCallId,providerMetadata:Dt.providerMetadata}),at.enqueue({type:"tool-call",toolCallId:Dt.toolCallId,toolName:Dt.toolName,input:Dt.args,providerMetadata:Dt.providerMetadata}),mt=!0}Me.finishReason!=null&&(nt={unified:_e({finishReason:Me.finishReason,hasToolCalls:mt}),raw:Me.finishReason},he={[ae]:{promptFeedback:(de=zt.promptFeedback)!=null?de:null,groundingMetadata:(ke=Me.groundingMetadata)!=null?ke:null,urlContextMetadata:(kr=Me.urlContextMetadata)!=null?kr:null,safetyRatings:(At=Me.safetyRatings)!=null?At:null}},dt!=null&&(he[ae].usageMetadata=dt))},flush($t){We!==null&&$t.enqueue({type:"text-end",id:We}),jt!==null&&$t.enqueue({type:"reasoning-end",id:jt}),$t.enqueue({type:"finish",finishReason:nt,usage:V(ne),providerMetadata:he})}})),response:{headers:He},request:{body:Ee}}}};function ht({groundingMetadata:x,generateId:F}){var ne,he,Ee,Te,ae;if(!x?.groundingChunks)return;let fe=[];for(let He of x.groundingChunks)if(He.web!=null)fe.push({type:"source",sourceType:"url",id:F(),url:He.web.uri,title:(ne=He.web.title)!=null?ne:void 0});else if(He.retrievedContext!=null){let pe=He.retrievedContext.uri,nt=He.retrievedContext.fileSearchStore;if(pe&&(pe.startsWith("http://")||pe.startsWith("https://")))fe.push({type:"source",sourceType:"url",id:F(),url:pe,title:(he=He.retrievedContext.title)!=null?he:void 0});else if(pe){let Ke,mt=(Ee=He.retrievedContext.title)!=null?Ee:"Unknown Document",We="application/octet-stream";pe.endsWith(".pdf")?We="application/pdf":pe.endsWith(".txt")?We="text/plain":pe.endsWith(".docx")?We="application/vnd.openxmlformats-officedocument.wordprocessingml.document":pe.endsWith(".doc")?We="application/msword":pe.match(/\.(md|markdown)$/)&&(We="text/markdown"),Ke=pe.split("/").pop(),fe.push({type:"source",sourceType:"document",id:F(),mediaType:We,title:mt,filename:Ke})}else if(nt){let Ke=(Te=He.retrievedContext.title)!=null?Te:"Unknown Document";fe.push({type:"source",sourceType:"document",id:F(),mediaType:"application/octet-stream",title:Ke,filename:nt.split("/").pop()})}}else He.maps!=null&&He.maps.uri&&fe.push({type:"source",sourceType:"url",id:F(),url:He.maps.uri,title:(ae=He.maps.title)!=null?ae:void 0});return fe.length>0?fe:void 0}var ee=()=>n.z.object({webSearchQueries:n.z.array(n.z.string()).nullish(),retrievalQueries:n.z.array(n.z.string()).nullish(),searchEntryPoint:n.z.object({renderedContent:n.z.string()}).nullish(),groundingChunks:n.z.array(n.z.object({web:n.z.object({uri:n.z.string(),title:n.z.string().nullish()}).nullish(),retrievedContext:n.z.object({uri:n.z.string().nullish(),title:n.z.string().nullish(),text:n.z.string().nullish(),fileSearchStore:n.z.string().nullish()}).nullish(),maps:n.z.object({uri:n.z.string().nullish(),title:n.z.string().nullish(),text:n.z.string().nullish(),placeId:n.z.string().nullish()}).nullish()})).nullish(),groundingSupports:n.z.array(n.z.object({segment:n.z.object({startIndex:n.z.number().nullish(),endIndex:n.z.number().nullish(),text:n.z.string().nullish()}),segment_text:n.z.string().nullish(),groundingChunkIndices:n.z.array(n.z.number()).nullish(),supportChunkIndices:n.z.array(n.z.number()).nullish(),confidenceScores:n.z.array(n.z.number()).nullish(),confidenceScore:n.z.array(n.z.number()).nullish()})).nullish(),retrievalMetadata:n.z.union([n.z.object({webDynamicRetrievalScore:n.z.number()}),n.z.object({})]).nullish()}),Be=()=>n.z.object({parts:n.z.array(n.z.union([n.z.object({functionCall:n.z.object({name:n.z.string(),args:n.z.unknown()}),thoughtSignature:n.z.string().nullish()}),n.z.object({inlineData:n.z.object({mimeType:n.z.string(),data:n.z.string()}),thoughtSignature:n.z.string().nullish()}),n.z.object({executableCode:n.z.object({language:n.z.string(),code:n.z.string()}).nullish(),codeExecutionResult:n.z.object({outcome:n.z.string(),output:n.z.string()}).nullish(),text:n.z.string().nullish(),thought:n.z.boolean().nullish(),thoughtSignature:n.z.string().nullish()})])).nullish()}),re=()=>n.z.object({category:n.z.string().nullish(),probability:n.z.string().nullish(),probabilityScore:n.z.number().nullish(),severity:n.z.string().nullish(),severityScore:n.z.number().nullish(),blocked:n.z.boolean().nullish()}),et=n.z.object({cachedContentTokenCount:n.z.number().nullish(),thoughtsTokenCount:n.z.number().nullish(),promptTokenCount:n.z.number().nullish(),candidatesTokenCount:n.z.number().nullish(),totalTokenCount:n.z.number().nullish(),trafficType:n.z.string().nullish()}),Ge=()=>n.z.object({urlMetadata:n.z.array(n.z.object({retrievedUrl:n.z.string(),urlRetrievalStatus:n.z.string()}))}),it=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({candidates:n.z.array(n.z.object({content:Be().nullish().or(n.z.object({}).strict()),finishReason:n.z.string().nullish(),safetyRatings:n.z.array(re()).nullish(),groundingMetadata:ee().nullish(),urlContextMetadata:Ge().nullish()})),usageMetadata:et.nullish(),promptFeedback:n.z.object({blockReason:n.z.string().nullish(),safetyRatings:n.z.array(re()).nullish()}).nullish()}))),bt=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({candidates:n.z.array(n.z.object({content:Be().nullish(),finishReason:n.z.string().nullish(),safetyRatings:n.z.array(re()).nullish(),groundingMetadata:ee().nullish(),urlContextMetadata:Ge().nullish()})).nullish(),usageMetadata:et.nullish(),promptFeedback:n.z.object({blockReason:n.z.string().nullish(),safetyRatings:n.z.array(re()).nullish()}).nullish()}))),Et=(0,p.createProviderToolFactoryWithOutputSchema)({id:"google.code_execution",inputSchema:n.z.object({language:n.z.string().describe("The programming language of the code."),code:n.z.string().describe("The code to be executed.")}),outputSchema:n.z.object({outcome:n.z.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:n.z.string().describe("The output from the code execution.")})}),tr=(0,p.createProviderToolFactory)({id:"google.enterprise_web_search",inputSchema:(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({})))}),Gt=n.z.object({fileSearchStoreNames:n.z.array(n.z.string()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:n.z.number().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:n.z.string().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),Ve=(0,p.lazySchema)(()=>(0,p.zodSchema)(Gt)),cr=(0,p.createProviderToolFactory)({id:"google.file_search",inputSchema:Ve}),ye=(0,p.createProviderToolFactory)({id:"google.google_maps",inputSchema:(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({})))}),be=(0,p.createProviderToolFactory)({id:"google.google_search",inputSchema:(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({mode:n.z.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:n.z.number().default(1)})))}),Z={googleSearch:be,enterpriseWebSearch:tr,googleMaps:ye,urlContext:(0,p.createProviderToolFactory)({id:"google.url_context",inputSchema:(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({})))}),fileSearch:cr,codeExecution:Et,vertexRagStore:(0,p.createProviderToolFactory)({id:"google.vertex_rag_store",inputSchema:n.z.object({ragCorpus:n.z.string(),topK:n.z.number().optional()})})},vt=class{constructor(x,F,ne){this.modelId=x,this.settings=F,this.config=ne,this.specificationVersion="v3"}get maxImagesPerCall(){var x;return(x=this.settings.maxImagesPerCall)!=null?x:4}get provider(){return this.config.provider}async doGenerate(x){var F,ne,he;let{prompt:Ee,n:Te=1,size:ae,aspectRatio:fe="1:1",seed:He,providerOptions:pe,headers:nt,abortSignal:Ke,files:mt,mask:We}=x,jt=[];if(mt!=null&&mt.length>0)throw Error("Google Generative AI does not support image editing. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");if(We!=null)throw Error("Google Generative AI does not support image editing with masks. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");ae!=null&&jt.push({type:"unsupported",feature:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),He!=null&&jt.push({type:"unsupported",feature:"seed",details:"This model does not support the `seed` option through this provider."});let St=await(0,p.parseProviderOptions)({provider:"google",providerOptions:pe,schema:Xt}),Xe=(he=(ne=(F=this.config._internal)==null?void 0:F.currentDate)==null?void 0:ne.call(F))!=null?he:new Date,$t={sampleCount:Te};fe!=null&&($t.aspectRatio=fe),St&&Object.assign($t,St);let{responseHeaders:at,value:Ut}=await(0,p.postJsonToApi)({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:(0,p.combineHeaders)(await(0,p.resolve)(this.config.headers),nt),body:{instances:[{prompt:Ee}],parameters:$t},failedResponseHandler:M,successfulResponseHandler:(0,p.createJsonResponseHandler)(h),abortSignal:Ke,fetch:this.config.fetch});return{images:Ut.predictions.map(dr=>dr.bytesBase64Encoded),warnings:jt??[],providerMetadata:{google:{images:Ut.predictions.map(dr=>({}))}},response:{timestamp:Xe,modelId:this.modelId,headers:at}}}},h=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({predictions:n.z.array(n.z.object({bytesBase64Encoded:n.z.string()})).default([])}))),Xt=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({personGeneration:n.z.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:n.z.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function lt(x={}){var F,ne;let he=(F=(0,p.withoutTrailingSlash)(x.baseURL))!=null?F:"https://generativelanguage.googleapis.com/v1beta",Ee=(ne=x.name)!=null?ne:"google.generative-ai",Te=()=>(0,p.withUserAgentSuffix)({"x-goog-api-key":(0,p.loadApiKey)({apiKey:x.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...x.headers},"ai-sdk/google/3.0.1"),ae=nt=>{var Ke;return new ge(nt,{provider:Ee,baseURL:he,headers:Te,generateId:(Ke=x.generateId)!=null?Ke:p.generateId,supportedUrls:()=>({"*":[RegExp(`^${he}/files/.*$`),RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),fetch:x.fetch})},fe=nt=>new Ze(nt,{provider:Ee,baseURL:he,headers:Te,fetch:x.fetch}),He=(nt,Ke={})=>new vt(nt,Ke,{provider:Ee,baseURL:he,headers:Te,fetch:x.fetch}),pe=function(nt){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return ae(nt)};return pe.specificationVersion="v3",pe.languageModel=ae,pe.chat=ae,pe.generativeAI=ae,pe.embedding=fe,pe.embeddingModel=fe,pe.textEmbedding=fe,pe.textEmbeddingModel=fe,pe.image=He,pe.imageModel=He,pe.tools=Z,pe}lt();var pr=n.z.object({error:n.z.object({message:n.z.string(),type:n.z.string().nullish(),param:n.z.any().nullish(),code:n.z.union([n.z.string(),n.z.number()]).nullish()})}),pt=(0,p.createJsonErrorResponseHandler)({errorSchema:pr,errorToMessage:x=>x.error.message});function ft(x){let F=x.startsWith("o3")||x.startsWith("o4-mini")||x.startsWith("gpt-5")&&!x.startsWith("gpt-5-chat"),ne=x.startsWith("gpt-4")||x.startsWith("gpt-5-mini")||x.startsWith("gpt-5")&&!x.startsWith("gpt-5-nano")&&!x.startsWith("gpt-5-chat")||x.startsWith("o3")||x.startsWith("o4-mini"),he=x.startsWith("o1")||x.startsWith("o3")||x.startsWith("o4-mini")||x.startsWith("codex-mini")||x.startsWith("computer-use-preview")||x.startsWith("gpt-5")&&!x.startsWith("gpt-5-chat");return{supportsFlexProcessing:F,supportsPriorityProcessing:ne,isReasoningModel:he,systemMessageMode:he?"developer":"system",supportsNonReasoningParameters:x.startsWith("gpt-5.1")||x.startsWith("gpt-5.2")}}function an(x){var F,ne,he,Ee,Te,ae;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let fe=(F=x.prompt_tokens)!=null?F:0,He=(ne=x.completion_tokens)!=null?ne:0,pe=(Ee=(he=x.prompt_tokens_details)==null?void 0:he.cached_tokens)!=null?Ee:0,nt=(ae=(Te=x.completion_tokens_details)==null?void 0:Te.reasoning_tokens)!=null?ae:0;return{inputTokens:{total:fe,noCache:fe-pe,cacheRead:pe,cacheWrite:void 0},outputTokens:{total:He,text:He-nt,reasoning:nt},raw:x}}function gn({id:x,model:F,created:ne}){return{id:x??void 0,modelId:F??void 0,timestamp:ne?new Date(1e3*ne):void 0}}function ei(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var pn=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({message:n.z.object({role:n.z.literal("assistant").nullish(),content:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({id:n.z.string().nullish(),type:n.z.literal("function"),function:n.z.object({name:n.z.string(),arguments:n.z.string()})})).nullish(),annotations:n.z.array(n.z.object({type:n.z.literal("url_citation"),url_citation:n.z.object({start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()})})).nullish()}),index:n.z.number(),logprobs:n.z.object({content:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish()}).nullish(),finish_reason:n.z.string().nullish()})),usage:n.z.object({prompt_tokens:n.z.number().nullish(),completion_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),prompt_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),completion_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish(),accepted_prediction_tokens:n.z.number().nullish(),rejected_prediction_tokens:n.z.number().nullish()}).nullish()}).nullish()}))),nr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.union([n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({delta:n.z.object({role:n.z.enum(["assistant"]).nullish(),content:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({index:n.z.number(),id:n.z.string().nullish(),type:n.z.literal("function").nullish(),function:n.z.object({name:n.z.string().nullish(),arguments:n.z.string().nullish()})})).nullish(),annotations:n.z.array(n.z.object({type:n.z.literal("url_citation"),url_citation:n.z.object({start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()})})).nullish()}).nullish(),logprobs:n.z.object({content:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish()}).nullish(),finish_reason:n.z.string().nullish(),index:n.z.number()})),usage:n.z.object({prompt_tokens:n.z.number().nullish(),completion_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),prompt_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),completion_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish(),accepted_prediction_tokens:n.z.number().nullish(),rejected_prediction_tokens:n.z.number().nullish()}).nullish()}).nullish()}),pr]))),zr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({logitBias:n.z.record(n.z.coerce.number(),n.z.number()).optional(),logprobs:n.z.union([n.z.boolean(),n.z.number()]).optional(),parallelToolCalls:n.z.boolean().optional(),user:n.z.string().optional(),reasoningEffort:n.z.enum(["none","minimal","low","medium","high","xhigh"]).optional(),maxCompletionTokens:n.z.number().optional(),store:n.z.boolean().optional(),metadata:n.z.record(n.z.string().max(64),n.z.string().max(512)).optional(),prediction:n.z.record(n.z.string(),n.z.any()).optional(),serviceTier:n.z.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:n.z.boolean().optional(),textVerbosity:n.z.enum(["low","medium","high"]).optional(),promptCacheKey:n.z.string().optional(),promptCacheRetention:n.z.enum(["in_memory","24h"]).optional(),safetyIdentifier:n.z.string().optional(),systemMessageMode:n.z.enum(["system","developer","remove"]).optional(),forceReasoning:n.z.boolean().optional()}))),en=class{constructor(x,F){this.specificationVersion="v3",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=x,this.config=F}get provider(){return this.config.provider}async getArgs({prompt:x,maxOutputTokens:F,temperature:ne,topP:he,topK:Ee,frequencyPenalty:Te,presencePenalty:ae,stopSequences:fe,responseFormat:He,seed:pe,tools:nt,toolChoice:Ke,providerOptions:mt}){var We,jt,St,Xe,$t;let at=[],Ut=(We=await(0,p.parseProviderOptions)({provider:"openai",providerOptions:mt,schema:zr}))!=null?We:{},dr=ft(this.modelId),Ie=(jt=Ut.forceReasoning)!=null?jt:dr.isReasoningModel;Ee!=null&&at.push({type:"unsupported",feature:"topK"});let{messages:de,warnings:ke}=function({prompt:Bt,systemMessageMode:Kt="system"}){var Tt;let Dt=[],Ur=[];for(let{role:fr,content:sr}of Bt)switch(fr){case"system":switch(Kt){case"system":Dt.push({role:"system",content:sr});break;case"developer":Dt.push({role:"developer",content:sr});break;case"remove":Ur.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${Kt}`)}break;case"user":if(sr.length===1&&sr[0].type==="text"){Dt.push({role:"user",content:sr[0].text});break}Dt.push({role:"user",content:sr.map((Ye,Lt)=>{var yt,la,qr;switch(Ye.type){case"text":return{type:"text",text:Ye.text};case"file":if(Ye.mediaType.startsWith("image/")){let kt=Ye.mediaType==="image/*"?"image/jpeg":Ye.mediaType;return{type:"image_url",image_url:{url:Ye.data instanceof URL?Ye.data.toString():`data:${kt};base64,${(0,p.convertToBase64)(Ye.data)}`,detail:(la=(yt=Ye.providerOptions)==null?void 0:yt.openai)==null?void 0:la.imageDetail}}}if(Ye.mediaType.startsWith("audio/")){if(Ye.data instanceof URL)throw new ve.UnsupportedFunctionalityError({functionality:"audio file parts with URLs"});switch(Ye.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:(0,p.convertToBase64)(Ye.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:(0,p.convertToBase64)(Ye.data),format:"mp3"}};default:throw new ve.UnsupportedFunctionalityError({functionality:`audio content parts with media type ${Ye.mediaType}`})}}if(Ye.mediaType==="application/pdf"){if(Ye.data instanceof URL)throw new ve.UnsupportedFunctionalityError({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof Ye.data=="string"&&Ye.data.startsWith("file-")?{file_id:Ye.data}:{filename:(qr=Ye.filename)!=null?qr:`part-${Lt}.pdf`,file_data:`data:application/pdf;base64,${(0,p.convertToBase64)(Ye.data)}`}}}else throw new ve.UnsupportedFunctionalityError({functionality:`file part media type ${Ye.mediaType}`})}})});break;case"assistant":{let Ye="",Lt=[];for(let yt of sr)switch(yt.type){case"text":Ye+=yt.text;break;case"tool-call":Lt.push({id:yt.toolCallId,type:"function",function:{name:yt.toolName,arguments:JSON.stringify(yt.input)}})}Dt.push({role:"assistant",content:Ye,tool_calls:Lt.length>0?Lt:void 0});break}case"tool":for(let Ye of sr){let Lt;if(Ye.type==="tool-approval-response")continue;let yt=Ye.output;switch(yt.type){case"text":case"error-text":Lt=yt.value;break;case"execution-denied":Lt=(Tt=yt.reason)!=null?Tt:"Tool execution denied.";break;case"content":case"json":case"error-json":Lt=JSON.stringify(yt.value)}Dt.push({role:"tool",tool_call_id:Ye.toolCallId,content:Lt})}break;default:throw Error(`Unsupported role: ${fr}`)}return{messages:Dt,warnings:Ur}}({prompt:x,systemMessageMode:(St=Ut.systemMessageMode)!=null?St:Ie?"developer":dr.systemMessageMode});at.push(...ke);let kr=(Xe=Ut.strictJsonSchema)==null||Xe,At={model:this.modelId,logit_bias:Ut.logitBias,logprobs:Ut.logprobs===!0||typeof Ut.logprobs=="number"||void 0,top_logprobs:typeof Ut.logprobs=="number"?Ut.logprobs:typeof Ut.logprobs=="boolean"&&Ut.logprobs?0:void 0,user:Ut.user,parallel_tool_calls:Ut.parallelToolCalls,max_tokens:F,temperature:ne,top_p:he,frequency_penalty:Te,presence_penalty:ae,response_format:He?.type==="json"?He.schema!=null?{type:"json_schema",json_schema:{schema:He.schema,strict:kr,name:($t=He.name)!=null?$t:"response",description:He.description}}:{type:"json_object"}:void 0,stop:fe,seed:pe,verbosity:Ut.textVerbosity,max_completion_tokens:Ut.maxCompletionTokens,store:Ut.store,metadata:Ut.metadata,prediction:Ut.prediction,reasoning_effort:Ut.reasoningEffort,service_tier:Ut.serviceTier,prompt_cache_key:Ut.promptCacheKey,prompt_cache_retention:Ut.promptCacheRetention,safety_identifier:Ut.safetyIdentifier,messages:de};Ie?(Ut.reasoningEffort==="none"&&dr.supportsNonReasoningParameters||(At.temperature!=null&&(At.temperature=void 0,at.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for reasoning models"})),At.top_p!=null&&(At.top_p=void 0,at.push({type:"unsupported",feature:"topP",details:"topP is not supported for reasoning models"})),At.logprobs!=null&&(At.logprobs=void 0,at.push({type:"other",message:"logprobs is not supported for reasoning models"}))),At.frequency_penalty!=null&&(At.frequency_penalty=void 0,at.push({type:"unsupported",feature:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),At.presence_penalty!=null&&(At.presence_penalty=void 0,at.push({type:"unsupported",feature:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),At.logit_bias!=null&&(At.logit_bias=void 0,at.push({type:"other",message:"logitBias is not supported for reasoning models"})),At.top_logprobs!=null&&(At.top_logprobs=void 0,at.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),At.max_tokens!=null&&(At.max_completion_tokens==null&&(At.max_completion_tokens=At.max_tokens),At.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&At.temperature!=null&&(At.temperature=void 0,at.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),Ut.serviceTier!=="flex"||dr.supportsFlexProcessing||(at.push({type:"unsupported",feature:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),At.service_tier=void 0),Ut.serviceTier!=="priority"||dr.supportsPriorityProcessing||(at.push({type:"unsupported",feature:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),At.service_tier=void 0);let{tools:zt,toolChoice:dt,toolWarnings:Me}=function({tools:Bt,toolChoice:Kt}){Bt=Bt?.length?Bt:void 0;let Tt=[];if(Bt==null)return{tools:void 0,toolChoice:void 0,toolWarnings:Tt};let Dt=[];for(let fr of Bt)fr.type==="function"?Dt.push({type:"function",function:{name:fr.name,description:fr.description,parameters:fr.inputSchema,...fr.strict!=null?{strict:fr.strict}:{}}}):Tt.push({type:"unsupported",feature:`tool type: ${fr.type}`});if(Kt==null)return{tools:Dt,toolChoice:void 0,toolWarnings:Tt};let Ur=Kt.type;switch(Ur){case"auto":case"none":case"required":return{tools:Dt,toolChoice:Ur,toolWarnings:Tt};case"tool":return{tools:Dt,toolChoice:{type:"function",function:{name:Kt.toolName}},toolWarnings:Tt};default:throw new ve.UnsupportedFunctionalityError({functionality:`tool choice type: ${Ur}`})}}({tools:nt,toolChoice:Ke});return{args:{...At,tools:zt,tool_choice:dt},warnings:[...at,...Me]}}async doGenerate(x){var F,ne,he,Ee,Te,ae,fe;let{args:He,warnings:pe}=await this.getArgs(x),{responseHeaders:nt,value:Ke,rawValue:mt}=await(0,p.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:He,failedResponseHandler:pt,successfulResponseHandler:(0,p.createJsonResponseHandler)(pn),abortSignal:x.abortSignal,fetch:this.config.fetch}),We=Ke.choices[0],jt=[],St=We.message.content;for(let at of(St!=null&&St.length>0&&jt.push({type:"text",text:St}),(F=We.message.tool_calls)!=null?F:[]))jt.push({type:"tool-call",toolCallId:(ne=at.id)!=null?ne:(0,p.generateId)(),toolName:at.function.name,input:at.function.arguments});for(let at of(he=We.message.annotations)!=null?he:[])jt.push({type:"source",sourceType:"url",id:(0,p.generateId)(),url:at.url_citation.url,title:at.url_citation.title});let Xe=(Ee=Ke.usage)==null?void 0:Ee.completion_tokens_details;(Te=Ke.usage)==null||Te.prompt_tokens_details;let $t={openai:{}};return Xe?.accepted_prediction_tokens!=null&&($t.openai.acceptedPredictionTokens=Xe?.accepted_prediction_tokens),Xe?.rejected_prediction_tokens!=null&&($t.openai.rejectedPredictionTokens=Xe?.rejected_prediction_tokens),((ae=We.logprobs)==null?void 0:ae.content)!=null&&($t.openai.logprobs=We.logprobs.content),{content:jt,finishReason:{unified:ei(We.finish_reason),raw:(fe=We.finish_reason)!=null?fe:void 0},usage:an(Ke.usage),request:{body:He},response:{...gn(Ke),headers:nt,body:mt},warnings:pe,providerMetadata:$t}}async doStream(x){let F,{args:ne,warnings:he}=await this.getArgs(x),Ee={...ne,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:Te,value:ae}=await(0,p.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:Ee,failedResponseHandler:pt,successfulResponseHandler:(0,p.createEventSourceResponseHandler)(nr),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe=[],He={unified:"other",raw:void 0},pe=!1,nt=!1,Ke={openai:{}};return{stream:ae.pipeThrough(new TransformStream({start(mt){mt.enqueue({type:"stream-start",warnings:he})},transform(mt,We){var jt,St,Xe,$t,at,Ut,dr,Ie,de,ke,kr,At,zt,dt,Me,Bt,Kt;if(x.includeRawChunks&&We.enqueue({type:"raw",rawValue:mt.rawValue}),!mt.success){He={unified:"error",raw:void 0},We.enqueue({type:"error",error:mt.error});return}let Tt=mt.value;if("error"in Tt){He={unified:"error",raw:void 0},We.enqueue({type:"error",error:Tt.error});return}!pe&&Object.values(gn(Tt)).some(Boolean)&&(pe=!0,We.enqueue({type:"response-metadata",...gn(Tt)})),Tt.usage!=null&&(F=Tt.usage,((jt=Tt.usage.completion_tokens_details)==null?void 0:jt.accepted_prediction_tokens)!=null&&(Ke.openai.acceptedPredictionTokens=(St=Tt.usage.completion_tokens_details)==null?void 0:St.accepted_prediction_tokens),((Xe=Tt.usage.completion_tokens_details)==null?void 0:Xe.rejected_prediction_tokens)!=null&&(Ke.openai.rejectedPredictionTokens=($t=Tt.usage.completion_tokens_details)==null?void 0:$t.rejected_prediction_tokens));let Dt=Tt.choices[0];if(Dt?.finish_reason!=null&&(He={unified:ei(Dt.finish_reason),raw:Dt.finish_reason}),((at=Dt?.logprobs)==null?void 0:at.content)!=null&&(Ke.openai.logprobs=Dt.logprobs.content),Dt?.delta==null)return;let Ur=Dt.delta;if(Ur.content!=null&&(nt||(We.enqueue({type:"text-start",id:"0"}),nt=!0),We.enqueue({type:"text-delta",id:"0",delta:Ur.content})),Ur.tool_calls!=null)for(let fr of Ur.tool_calls){let sr=fr.index;if(fe[sr]==null){if(fr.type!=="function")throw new ve.InvalidResponseDataError({data:fr,message:"Expected 'function' type."});if(fr.id==null)throw new ve.InvalidResponseDataError({data:fr,message:"Expected 'id' to be a string."});if(((Ut=fr.function)==null?void 0:Ut.name)==null)throw new ve.InvalidResponseDataError({data:fr,message:"Expected 'function.name' to be a string."});We.enqueue({type:"tool-input-start",id:fr.id,toolName:fr.function.name}),fe[sr]={id:fr.id,type:"function",function:{name:fr.function.name,arguments:(dr=fr.function.arguments)!=null?dr:""},hasFinished:!1};let Lt=fe[sr];((Ie=Lt.function)==null?void 0:Ie.name)!=null&&((de=Lt.function)==null?void 0:de.arguments)!=null&&(Lt.function.arguments.length>0&&We.enqueue({type:"tool-input-delta",id:Lt.id,delta:Lt.function.arguments}),(0,p.isParsableJson)(Lt.function.arguments)&&(We.enqueue({type:"tool-input-end",id:Lt.id}),We.enqueue({type:"tool-call",toolCallId:(ke=Lt.id)!=null?ke:(0,p.generateId)(),toolName:Lt.function.name,input:Lt.function.arguments}),Lt.hasFinished=!0));continue}let Ye=fe[sr];!Ye.hasFinished&&(((kr=fr.function)==null?void 0:kr.arguments)!=null&&(Ye.function.arguments+=(zt=(At=fr.function)==null?void 0:At.arguments)!=null?zt:""),We.enqueue({type:"tool-input-delta",id:Ye.id,delta:(dt=fr.function.arguments)!=null?dt:""}),((Me=Ye.function)==null?void 0:Me.name)!=null&&((Bt=Ye.function)==null?void 0:Bt.arguments)!=null&&(0,p.isParsableJson)(Ye.function.arguments)&&(We.enqueue({type:"tool-input-end",id:Ye.id}),We.enqueue({type:"tool-call",toolCallId:(Kt=Ye.id)!=null?Kt:(0,p.generateId)(),toolName:Ye.function.name,input:Ye.function.arguments}),Ye.hasFinished=!0))}if(Ur.annotations!=null)for(let fr of Ur.annotations)We.enqueue({type:"source",sourceType:"url",id:(0,p.generateId)(),url:fr.url_citation.url,title:fr.url_citation.title})},flush(mt){nt&&mt.enqueue({type:"text-end",id:"0"}),mt.enqueue({type:"finish",finishReason:He,usage:an(F),...Ke!=null?{providerMetadata:Ke}:{}})}})),request:{body:Ee},response:{headers:Te}}}};function Se(x){var F,ne,he,Ee;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let Te=(F=x.prompt_tokens)!=null?F:0,ae=(ne=x.completion_tokens)!=null?ne:0;return{inputTokens:{total:(he=x.prompt_tokens)!=null?he:void 0,noCache:Te,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:(Ee=x.completion_tokens)!=null?Ee:void 0,text:ae,reasoning:void 0},raw:x}}function q({id:x,model:F,created:ne}){return{id:x??void 0,modelId:F??void 0,timestamp:ne!=null?new Date(1e3*ne):void 0}}function J(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var W=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string(),logprobs:n.z.object({tokens:n.z.array(n.z.string()),token_logprobs:n.z.array(n.z.number()),top_logprobs:n.z.array(n.z.record(n.z.string(),n.z.number())).nullish()}).nullish()})),usage:n.z.object({prompt_tokens:n.z.number(),completion_tokens:n.z.number(),total_tokens:n.z.number()}).nullish()}))),Fe=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.union([n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string().nullish(),index:n.z.number(),logprobs:n.z.object({tokens:n.z.array(n.z.string()),token_logprobs:n.z.array(n.z.number()),top_logprobs:n.z.array(n.z.record(n.z.string(),n.z.number())).nullish()}).nullish()})),usage:n.z.object({prompt_tokens:n.z.number(),completion_tokens:n.z.number(),total_tokens:n.z.number()}).nullish()}),pr]))),rt=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({echo:n.z.boolean().optional(),logitBias:n.z.record(n.z.string(),n.z.number()).optional(),suffix:n.z.string().optional(),user:n.z.string().optional(),logprobs:n.z.union([n.z.boolean(),n.z.number()]).optional()}))),Zt=class{constructor(x,F){this.specificationVersion="v3",this.supportedUrls={},this.modelId=x,this.config=F}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:x,maxOutputTokens:F,temperature:ne,topP:he,topK:Ee,frequencyPenalty:Te,presencePenalty:ae,stopSequences:fe,responseFormat:He,tools:pe,toolChoice:nt,seed:Ke,providerOptions:mt}){let We=[],jt={...await(0,p.parseProviderOptions)({provider:"openai",providerOptions:mt,schema:rt}),...await(0,p.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:mt,schema:rt})};Ee!=null&&We.push({type:"unsupported",feature:"topK"}),pe?.length&&We.push({type:"unsupported",feature:"tools"}),nt!=null&&We.push({type:"unsupported",feature:"toolChoice"}),He!=null&&He.type!=="text"&&We.push({type:"unsupported",feature:"responseFormat",details:"JSON response format is not supported."});let{prompt:St,stopSequences:Xe}=function({prompt:at,user:Ut="user",assistant:dr="assistant"}){let Ie="";for(let{role:de,content:ke}of(at[0].role==="system"&&(Ie+=`${at[0].content}

`,at=at.slice(1)),at))switch(de){case"system":throw new ve.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:at});case"user":{let kr=ke.map(At=>{if(At.type==="text")return At.text}).filter(Boolean).join("");Ie+=`${Ut}:
${kr}

`;break}case"assistant":{let kr=ke.map(At=>{switch(At.type){case"text":return At.text;case"tool-call":throw new ve.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");Ie+=`${dr}:
${kr}

`;break}case"tool":throw new ve.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${de}`)}return{prompt:Ie+=`${dr}:
`,stopSequences:[`
${Ut}:`]}}({prompt:x}),$t=[...Xe??[],...fe??[]];return{args:{model:this.modelId,echo:jt.echo,logit_bias:jt.logitBias,logprobs:jt?.logprobs===!0?0:jt?.logprobs===!1||jt==null?void 0:jt.logprobs,suffix:jt.suffix,user:jt.user,max_tokens:F,temperature:ne,top_p:he,frequency_penalty:Te,presence_penalty:ae,seed:Ke,prompt:St,stop:$t.length>0?$t:void 0},warnings:We}}async doGenerate(x){var F;let{args:ne,warnings:he}=await this.getArgs(x),{responseHeaders:Ee,value:Te,rawValue:ae}=await(0,p.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:ne,failedResponseHandler:pt,successfulResponseHandler:(0,p.createJsonResponseHandler)(W),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe=Te.choices[0],He={openai:{}};return fe.logprobs!=null&&(He.openai.logprobs=fe.logprobs),{content:[{type:"text",text:fe.text}],usage:Se(Te.usage),finishReason:{unified:J(fe.finish_reason),raw:(F=fe.finish_reason)!=null?F:void 0},request:{body:ne},response:{...q(Te),headers:Ee,body:ae},providerMetadata:He,warnings:he}}async doStream(x){let F,{args:ne,warnings:he}=await this.getArgs(x),Ee={...ne,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:Te,value:ae}=await(0,p.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:Ee,failedResponseHandler:pt,successfulResponseHandler:(0,p.createEventSourceResponseHandler)(Fe),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe={unified:"other",raw:void 0},He={openai:{}},pe=!0;return{stream:ae.pipeThrough(new TransformStream({start(nt){nt.enqueue({type:"stream-start",warnings:he})},transform(nt,Ke){if(x.includeRawChunks&&Ke.enqueue({type:"raw",rawValue:nt.rawValue}),!nt.success){fe={unified:"error",raw:void 0},Ke.enqueue({type:"error",error:nt.error});return}let mt=nt.value;if("error"in mt){fe={unified:"error",raw:void 0},Ke.enqueue({type:"error",error:mt.error});return}pe&&(pe=!1,Ke.enqueue({type:"response-metadata",...q(mt)}),Ke.enqueue({type:"text-start",id:"0"})),mt.usage!=null&&(F=mt.usage);let We=mt.choices[0];We?.finish_reason!=null&&(fe={unified:J(We.finish_reason),raw:We.finish_reason}),We?.logprobs!=null&&(He.openai.logprobs=We.logprobs),We?.text!=null&&We.text.length>0&&Ke.enqueue({type:"text-delta",id:"0",delta:We.text})},flush(nt){pe||nt.enqueue({type:"text-end",id:"0"}),nt.enqueue({type:"finish",finishReason:fe,providerMetadata:He,usage:Se(F)})}})),request:{body:Ee},response:{headers:Te}}}},_r=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({dimensions:n.z.number().optional(),user:n.z.string().optional()}))),H=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({data:n.z.array(n.z.object({embedding:n.z.array(n.z.number())})),usage:n.z.object({prompt_tokens:n.z.number()}).nullish()}))),Br=class{constructor(x,F){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=x,this.config=F}get provider(){return this.config.provider}async doEmbed({values:x,headers:F,abortSignal:ne,providerOptions:he}){var Ee;if(x.length>this.maxEmbeddingsPerCall)throw new ve.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:x});let Te=(Ee=await(0,p.parseProviderOptions)({provider:"openai",providerOptions:he,schema:_r}))!=null?Ee:{},{responseHeaders:ae,value:fe,rawValue:He}=await(0,p.postJsonToApi)({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),F),body:{model:this.modelId,input:x,encoding_format:"float",dimensions:Te.dimensions,user:Te.user},failedResponseHandler:pt,successfulResponseHandler:(0,p.createJsonResponseHandler)(H),abortSignal:ne,fetch:this.config.fetch});return{warnings:[],embeddings:fe.data.map(pe=>pe.embedding),usage:fe.usage?{tokens:fe.usage.prompt_tokens}:void 0,response:{headers:ae,body:He}}}},Gr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({created:n.z.number().nullish(),data:n.z.array(n.z.object({b64_json:n.z.string(),revised_prompt:n.z.string().nullish()})),background:n.z.string().nullish(),output_format:n.z.string().nullish(),size:n.z.string().nullish(),quality:n.z.string().nullish(),usage:n.z.object({input_tokens:n.z.number().nullish(),output_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),input_tokens_details:n.z.object({image_tokens:n.z.number().nullish(),text_tokens:n.z.number().nullish()}).nullish()}).nullish()}))),kn={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10,"gpt-image-1.5":10},Jn=new Set(["gpt-image-1","gpt-image-1-mini","gpt-image-1.5"]),Bn=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3"}get maxImagesPerCall(){var x;return(x=kn[this.modelId])!=null?x:1}get provider(){return this.config.provider}async doGenerate({prompt:x,files:F,mask:ne,n:he,size:Ee,aspectRatio:Te,seed:ae,providerOptions:fe,headers:He,abortSignal:pe}){var nt,Ke,mt,We,jt,St,Xe,$t,at,Ut,dr;let Ie=[];Te!=null&&Ie.push({type:"unsupported",feature:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),ae!=null&&Ie.push({type:"unsupported",feature:"seed"});let de=(mt=(Ke=(nt=this.config._internal)==null?void 0:nt.currentDate)==null?void 0:Ke.call(nt))!=null?mt:new Date;if(F!=null){let{value:At,responseHeaders:zt}=await(0,p.postFormDataToApi)({url:this.config.url({path:"/images/edits",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),He),formData:(0,p.convertToFormData)({model:this.modelId,prompt:x,image:await Promise.all(F.map(dt=>dt.type==="file"?new Blob([dt.data instanceof Uint8Array?new Blob([dt.data],{type:dt.mediaType}):new Blob([(0,p.convertBase64ToUint8Array)(dt.data)],{type:dt.mediaType})],{type:dt.mediaType}):(0,p.downloadBlob)(dt.url))),mask:ne!=null?await ir(ne):void 0,n:he,size:Ee,...(We=fe.openai)!=null?We:{}}),failedResponseHandler:pt,successfulResponseHandler:(0,p.createJsonResponseHandler)(Gr),abortSignal:pe,fetch:this.config.fetch});return{images:At.data.map(dt=>dt.b64_json),warnings:Ie,usage:At.usage!=null?{inputTokens:(jt=At.usage.input_tokens)!=null?jt:void 0,outputTokens:(St=At.usage.output_tokens)!=null?St:void 0,totalTokens:(Xe=At.usage.total_tokens)!=null?Xe:void 0}:void 0,response:{timestamp:de,modelId:this.modelId,headers:zt},providerMetadata:{openai:{images:At.data.map(dt=>{var Me,Bt,Kt,Tt,Dt;return{...dt.revised_prompt?{revisedPrompt:dt.revised_prompt}:{},created:(Me=At.created)!=null?Me:void 0,size:(Bt=At.size)!=null?Bt:void 0,quality:(Kt=At.quality)!=null?Kt:void 0,background:(Tt=At.background)!=null?Tt:void 0,outputFormat:(Dt=At.output_format)!=null?Dt:void 0}})}}}}let{value:ke,responseHeaders:kr}=await(0,p.postJsonToApi)({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),He),body:{model:this.modelId,prompt:x,n:he,size:Ee,...($t=fe.openai)!=null?$t:{},...Jn.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:pt,successfulResponseHandler:(0,p.createJsonResponseHandler)(Gr),abortSignal:pe,fetch:this.config.fetch});return{images:ke.data.map(At=>At.b64_json),warnings:Ie,usage:ke.usage!=null?{inputTokens:(at=ke.usage.input_tokens)!=null?at:void 0,outputTokens:(Ut=ke.usage.output_tokens)!=null?Ut:void 0,totalTokens:(dr=ke.usage.total_tokens)!=null?dr:void 0}:void 0,response:{timestamp:de,modelId:this.modelId,headers:kr},providerMetadata:{openai:{images:ke.data.map(At=>{var zt,dt,Me,Bt,Kt;return{...At.revised_prompt?{revisedPrompt:At.revised_prompt}:{},created:(zt=ke.created)!=null?zt:void 0,size:(dt=ke.size)!=null?dt:void 0,quality:(Me=ke.quality)!=null?Me:void 0,background:(Bt=ke.background)!=null?Bt:void 0,outputFormat:(Kt=ke.output_format)!=null?Kt:void 0}})}}}}};async function ir(x){return x?x.type==="url"?(0,p.downloadBlob)(x.url):new Blob([x.data instanceof Uint8Array?x.data:(0,p.convertBase64ToUint8Array)(x.data)],{type:x.mediaType}):void 0}var Qe=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({callId:n.z.string(),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}))),qt=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({status:n.z.enum(["completed","failed"]),output:n.z.string().optional()})));(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({})));var Qt=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.apply_patch",inputSchema:Qe,outputSchema:qt}),nn=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({code:n.z.string().nullish(),containerId:n.z.string()}))),Qr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullish()}))),ar=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({container:n.z.union([n.z.string(),n.z.object({fileIds:n.z.array(n.z.string()).optional()})]).optional()}))),Vn=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.code_interpreter",inputSchema:nn,outputSchema:Qr}),In=n.z.object({key:n.z.string(),type:n.z.enum(["eq","ne","gt","gte","lt","lte","in","nin"]),value:n.z.union([n.z.string(),n.z.number(),n.z.boolean(),n.z.array(n.z.string())])}),Sn=n.z.object({type:n.z.enum(["and","or"]),filters:n.z.array(n.z.union([In,n.z.lazy(()=>Sn)]))}),li=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({vectorStoreIds:n.z.array(n.z.string()),maxNumResults:n.z.number().optional(),ranking:n.z.object({ranker:n.z.string().optional(),scoreThreshold:n.z.number().optional()}).optional(),filters:n.z.union([In,Sn]).optional()}))),mn=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({queries:n.z.array(n.z.string()),results:n.z.array(n.z.object({attributes:n.z.record(n.z.string(),n.z.unknown()),fileId:n.z.string(),filename:n.z.string(),score:n.z.number(),text:n.z.string()})).nullable()}))),Re=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.file_search",inputSchema:n.z.object({}),outputSchema:mn}),ut=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({background:n.z.enum(["auto","opaque","transparent"]).optional(),inputFidelity:n.z.enum(["low","high"]).optional(),inputImageMask:n.z.object({fileId:n.z.string().optional(),imageUrl:n.z.string().optional()}).optional(),model:n.z.string().optional(),moderation:n.z.enum(["auto"]).optional(),outputCompression:n.z.number().int().min(0).max(100).optional(),outputFormat:n.z.enum(["png","jpeg","webp"]).optional(),partialImages:n.z.number().int().min(0).max(3).optional(),quality:n.z.enum(["auto","low","medium","high"]).optional(),size:n.z.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),hr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({}))),Ue=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({result:n.z.string()}))),hn=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.image_generation",inputSchema:hr,outputSchema:Ue}),pi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({action:n.z.object({type:n.z.literal("exec"),command:n.z.array(n.z.string()),timeoutMs:n.z.number().optional(),user:n.z.string().optional(),workingDirectory:n.z.string().optional(),env:n.z.record(n.z.string(),n.z.string()).optional()})}))),Kr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({output:n.z.string()}))),ta=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.local_shell",inputSchema:pi,outputSchema:Kr}),Ii=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({action:n.z.object({commands:n.z.array(n.z.string()),timeoutMs:n.z.number().optional(),maxOutputLength:n.z.number().optional()})}))),wa=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({output:n.z.array(n.z.object({stdout:n.z.string(),stderr:n.z.string(),outcome:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("timeout")}),n.z.object({type:n.z.literal("exit"),exitCode:n.z.number()})])}))}))),Dn=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.shell",inputSchema:Ii,outputSchema:wa}),Fi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({externalWebAccess:n.z.boolean().optional(),filters:n.z.object({allowedDomains:n.z.array(n.z.string()).optional()}).optional(),searchContextSize:n.z.enum(["low","medium","high"]).optional(),userLocation:n.z.object({type:n.z.literal("approximate"),country:n.z.string().optional(),city:n.z.string().optional(),region:n.z.string().optional(),timezone:n.z.string().optional()}).optional()}))),Ta=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({}))),Gi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().optional()}),n.z.object({type:n.z.literal("openPage"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("findInPage"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})]),sources:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url"),url:n.z.string()}),n.z.object({type:n.z.literal("api"),name:n.z.string()})])).optional()}))),Xr=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.web_search",inputSchema:Ta,outputSchema:Gi}),On=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({searchContextSize:n.z.enum(["low","medium","high"]).optional(),userLocation:n.z.object({type:n.z.literal("approximate"),country:n.z.string().optional(),city:n.z.string().optional(),region:n.z.string().optional(),timezone:n.z.string().optional()}).optional()}))),oa=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({}))),Ca=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().optional()}),n.z.object({type:n.z.literal("openPage"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("findInPage"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})])}))),_o=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.web_search_preview",inputSchema:oa,outputSchema:Ca}),Za=n.z.lazy(()=>n.z.union([n.z.string(),n.z.number(),n.z.boolean(),n.z.null(),n.z.array(Za),n.z.record(n.z.string(),Za)])),Qi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({serverLabel:n.z.string(),allowedTools:n.z.union([n.z.array(n.z.string()),n.z.object({readOnly:n.z.boolean().optional(),toolNames:n.z.array(n.z.string()).optional()})]).optional(),authorization:n.z.string().optional(),connectorId:n.z.string().optional(),headers:n.z.record(n.z.string(),n.z.string()).optional(),requireApproval:n.z.union([n.z.enum(["always","never"]),n.z.object({never:n.z.object({toolNames:n.z.array(n.z.string()).optional()}).optional()})]).optional(),serverDescription:n.z.string().optional(),serverUrl:n.z.string().optional()}).refine(x=>x.serverUrl!=null||x.connectorId!=null,"One of serverUrl or connectorId must be provided."))),Xa=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({}))),Ya=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({type:n.z.literal("call"),serverLabel:n.z.string(),name:n.z.string(),arguments:n.z.string(),output:n.z.string().nullish(),error:n.z.union([n.z.string(),Za]).optional()}))),Ra=(0,p.createProviderToolFactoryWithOutputSchema)({id:"openai.mcp",inputSchema:Xa,outputSchema:Ya}),po={applyPatch:Qt,codeInterpreter:(x={})=>Vn(x),fileSearch:Re,imageGeneration:(x={})=>hn(x),localShell:ta,shell:Dn,webSearchPreview:_o,webSearch:(x={})=>Xr(x),mcp:x=>Ra(x)};function mo(x){var F,ne,he,Ee;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let Te=x.input_tokens,ae=x.output_tokens,fe=(ne=(F=x.input_tokens_details)==null?void 0:F.cached_tokens)!=null?ne:0,He=(Ee=(he=x.output_tokens_details)==null?void 0:he.reasoning_tokens)!=null?Ee:0;return{inputTokens:{total:Te,noCache:Te-fe,cacheRead:fe,cacheWrite:void 0},outputTokens:{total:ae,text:ae-He,reasoning:He},raw:x}}function wt(x,F){return!!F&&F.some(ne=>x.startsWith(ne))}async function Ce({prompt:x,toolNameMapping:F,systemMessageMode:ne,fileIdPrefixes:he,store:Ee,hasLocalShellTool:Te=!1,hasShellTool:ae=!1,hasApplyPatchTool:fe=!1}){var He,pe,nt,Ke,mt,We,jt,St,Xe,$t,at,Ut,dr;let Ie=[],de=[],ke=new Set;for(let{role:kr,content:At}of x)switch(kr){case"system":switch(ne){case"system":Ie.push({role:"system",content:At});break;case"developer":Ie.push({role:"developer",content:At});break;case"remove":de.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${ne}`)}break;case"user":Ie.push({role:"user",content:At.map((zt,dt)=>{var Me,Bt,Kt;switch(zt.type){case"text":return{type:"input_text",text:zt.text};case"file":if(zt.mediaType.startsWith("image/")){let Tt=zt.mediaType==="image/*"?"image/jpeg":zt.mediaType;return{type:"input_image",...zt.data instanceof URL?{image_url:zt.data.toString()}:typeof zt.data=="string"&&wt(zt.data,he)?{file_id:zt.data}:{image_url:`data:${Tt};base64,${(0,p.convertToBase64)(zt.data)}`},detail:(Bt=(Me=zt.providerOptions)==null?void 0:Me.openai)==null?void 0:Bt.imageDetail}}if(zt.mediaType==="application/pdf")return zt.data instanceof URL?{type:"input_file",file_url:zt.data.toString()}:{type:"input_file",...typeof zt.data=="string"&&wt(zt.data,he)?{file_id:zt.data}:{filename:(Kt=zt.filename)!=null?Kt:`part-${dt}.pdf`,file_data:`data:application/pdf;base64,${(0,p.convertToBase64)(zt.data)}`}};throw new ve.UnsupportedFunctionalityError({functionality:`file part media type ${zt.mediaType}`})}})});break;case"assistant":{let zt={};for(let dt of At)switch(dt.type){case"text":{let Me=(pe=(He=dt.providerOptions)==null?void 0:He.openai)==null?void 0:pe.itemId;if(Ee&&Me!=null){Ie.push({type:"item_reference",id:Me});break}Ie.push({role:"assistant",content:[{type:"output_text",text:dt.text}],id:Me});break}case"tool-call":{let Me=(jt=(Ke=(nt=dt.providerOptions)==null?void 0:nt.openai)==null?void 0:Ke.itemId)!=null?jt:(We=(mt=dt.providerMetadata)==null?void 0:mt.openai)==null?void 0:We.itemId;if(dt.providerExecuted){Ee&&Me!=null&&Ie.push({type:"item_reference",id:Me});break}if(Ee&&Me!=null){Ie.push({type:"item_reference",id:Me});break}let Bt=F.toProviderToolName(dt.toolName);if(Te&&Bt==="local_shell"){let Kt=await(0,p.validateTypes)({value:dt.input,schema:pi});Ie.push({type:"local_shell_call",call_id:dt.toolCallId,id:Me,action:{type:"exec",command:Kt.action.command,timeout_ms:Kt.action.timeoutMs,user:Kt.action.user,working_directory:Kt.action.workingDirectory,env:Kt.action.env}});break}if(ae&&Bt==="shell"){let Kt=await(0,p.validateTypes)({value:dt.input,schema:Ii});Ie.push({type:"shell_call",call_id:dt.toolCallId,id:Me,status:"completed",action:{commands:Kt.action.commands,timeout_ms:Kt.action.timeoutMs,max_output_length:Kt.action.maxOutputLength}});break}Ie.push({type:"function_call",call_id:dt.toolCallId,name:Bt,arguments:JSON.stringify(dt.input),id:Me});break}case"tool-result":if(dt.output.type==="execution-denied"||dt.output.type==="json"&&typeof dt.output.value=="object"&&dt.output.value!=null&&"type"in dt.output.value&&dt.output.value.type==="execution-denied")break;if(Ee){let Me=($t=(Xe=(St=dt.providerMetadata)==null?void 0:St.openai)==null?void 0:Xe.itemId)!=null?$t:dt.toolCallId;Ie.push({type:"item_reference",id:Me})}else de.push({type:"other",message:`Results for OpenAI tool ${dt.toolName} are not sent to the API when store is false`});break;case"reasoning":{let Me=await(0,p.parseProviderOptions)({provider:"openai",providerOptions:dt.providerOptions,schema:br}),Bt=Me?.itemId;if(Bt!=null){let Kt=zt[Bt];if(Ee)Kt===void 0&&(Ie.push({type:"item_reference",id:Bt}),zt[Bt]={type:"reasoning",id:Bt,summary:[]});else{let Tt=[];dt.text.length>0?Tt.push({type:"summary_text",text:dt.text}):Kt!==void 0&&de.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(dt)}.`}),Kt===void 0?(zt[Bt]={type:"reasoning",id:Bt,encrypted_content:Me?.reasoningEncryptedContent,summary:Tt},Ie.push(zt[Bt])):(Kt.summary.push(...Tt),Me?.reasoningEncryptedContent!=null&&(Kt.encrypted_content=Me.reasoningEncryptedContent))}}else de.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(dt)}.`})}}break}case"tool":for(let zt of At){let dt;if(zt.type==="tool-approval-response"){if(ke.has(zt.approvalId))continue;ke.add(zt.approvalId),Ee&&Ie.push({type:"item_reference",id:zt.approvalId}),Ie.push({type:"mcp_approval_response",approval_request_id:zt.approvalId,approve:zt.approved});continue}let Me=zt.output;if(Me.type==="execution-denied"&&((Ut=(at=Me.providerOptions)==null?void 0:at.openai)==null?void 0:Ut.approvalId))continue;let Bt=F.toProviderToolName(zt.toolName);if(Te&&Bt==="local_shell"&&Me.type==="json"){let Kt=await(0,p.validateTypes)({value:Me.value,schema:Kr});Ie.push({type:"local_shell_call_output",call_id:zt.toolCallId,output:Kt.output});continue}if(ae&&Bt==="shell"&&Me.type==="json"){let Kt=await(0,p.validateTypes)({value:Me.value,schema:wa});Ie.push({type:"shell_call_output",call_id:zt.toolCallId,output:Kt.output.map(Tt=>({stdout:Tt.stdout,stderr:Tt.stderr,outcome:Tt.outcome.type==="timeout"?{type:"timeout"}:{type:"exit",exit_code:Tt.outcome.exitCode}}))});continue}if(fe&&zt.toolName==="apply_patch"&&Me.type==="json"){let Kt=await(0,p.validateTypes)({value:Me.value,schema:qt});Ie.push({type:"apply_patch_call_output",call_id:zt.toolCallId,status:Kt.status,output:Kt.output});continue}switch(Me.type){case"text":case"error-text":dt=Me.value;break;case"execution-denied":dt=(dr=Me.reason)!=null?dr:"Tool execution denied.";break;case"json":case"error-json":dt=JSON.stringify(Me.value);break;case"content":dt=Me.value.map(Kt=>{var Tt;switch(Kt.type){case"text":return{type:"input_text",text:Kt.text};case"image-data":return{type:"input_image",image_url:`data:${Kt.mediaType};base64,${Kt.data}`};case"file-data":return{type:"input_file",filename:(Tt=Kt.filename)!=null?Tt:"data",file_data:`data:${Kt.mediaType};base64,${Kt.data}`};default:return void de.push({type:"other",message:`unsupported tool content part type: ${Kt.type}`})}}).filter(p.isNonNullable)}Ie.push({type:"function_call_output",call_id:zt.toolCallId,output:dt})}break;default:throw Error(`Unsupported role: ${kr}`)}return{input:Ie,warnings:de}}var br=n.z.object({itemId:n.z.string().nullish(),reasoningEncryptedContent:n.z.string().nullish()});function G({finishReason:x,hasFunctionCall:F}){switch(x){case void 0:case null:return F?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return F?"tool-calls":"other"}}var Rr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.union([n.z.object({type:n.z.literal("response.output_text.delta"),item_id:n.z.string(),delta:n.z.string(),logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish()}),n.z.object({type:n.z.enum(["response.completed","response.incomplete"]),response:n.z.object({incomplete_details:n.z.object({reason:n.z.string()}).nullish(),usage:n.z.object({input_tokens:n.z.number(),input_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),output_tokens:n.z.number(),output_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish()}).nullish()}),service_tier:n.z.string().nullish()})}),n.z.object({type:n.z.literal("response.created"),response:n.z.object({id:n.z.string(),created_at:n.z.number(),model:n.z.string(),service_tier:n.z.string().nullish()})}),n.z.object({type:n.z.literal("response.output_item.added"),output_index:n.z.number(),item:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message"),id:n.z.string()}),n.z.object({type:n.z.literal("reasoning"),id:n.z.string(),encrypted_content:n.z.string().nullish()}),n.z.object({type:n.z.literal("function_call"),id:n.z.string(),call_id:n.z.string(),name:n.z.string(),arguments:n.z.string()}),n.z.object({type:n.z.literal("web_search_call"),id:n.z.string(),status:n.z.string()}),n.z.object({type:n.z.literal("computer_call"),id:n.z.string(),status:n.z.string()}),n.z.object({type:n.z.literal("file_search_call"),id:n.z.string()}),n.z.object({type:n.z.literal("image_generation_call"),id:n.z.string()}),n.z.object({type:n.z.literal("code_interpreter_call"),id:n.z.string(),container_id:n.z.string(),code:n.z.string().nullable(),outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullable(),status:n.z.string()}),n.z.object({type:n.z.literal("mcp_call"),id:n.z.string(),status:n.z.string(),approval_request_id:n.z.string().nullish()}),n.z.object({type:n.z.literal("mcp_list_tools"),id:n.z.string()}),n.z.object({type:n.z.literal("mcp_approval_request"),id:n.z.string()}),n.z.object({type:n.z.literal("apply_patch_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed"]),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}),n.z.object({type:n.z.literal("shell_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed","incomplete"]),action:n.z.object({commands:n.z.array(n.z.string())})})])}),n.z.object({type:n.z.literal("response.output_item.done"),output_index:n.z.number(),item:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message"),id:n.z.string()}),n.z.object({type:n.z.literal("reasoning"),id:n.z.string(),encrypted_content:n.z.string().nullish()}),n.z.object({type:n.z.literal("function_call"),id:n.z.string(),call_id:n.z.string(),name:n.z.string(),arguments:n.z.string(),status:n.z.literal("completed")}),n.z.object({type:n.z.literal("code_interpreter_call"),id:n.z.string(),code:n.z.string().nullable(),container_id:n.z.string(),outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullable()}),n.z.object({type:n.z.literal("image_generation_call"),id:n.z.string(),result:n.z.string()}),n.z.object({type:n.z.literal("web_search_call"),id:n.z.string(),status:n.z.string(),action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().nullish(),sources:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url"),url:n.z.string()}),n.z.object({type:n.z.literal("api"),name:n.z.string()})])).nullish()}),n.z.object({type:n.z.literal("open_page"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("find_in_page"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})])}),n.z.object({type:n.z.literal("file_search_call"),id:n.z.string(),queries:n.z.array(n.z.string()),results:n.z.array(n.z.object({attributes:n.z.record(n.z.string(),n.z.union([n.z.string(),n.z.number(),n.z.boolean()])),file_id:n.z.string(),filename:n.z.string(),score:n.z.number(),text:n.z.string()})).nullish()}),n.z.object({type:n.z.literal("local_shell_call"),id:n.z.string(),call_id:n.z.string(),action:n.z.object({type:n.z.literal("exec"),command:n.z.array(n.z.string()),timeout_ms:n.z.number().optional(),user:n.z.string().optional(),working_directory:n.z.string().optional(),env:n.z.record(n.z.string(),n.z.string()).optional()})}),n.z.object({type:n.z.literal("computer_call"),id:n.z.string(),status:n.z.literal("completed")}),n.z.object({type:n.z.literal("mcp_call"),id:n.z.string(),status:n.z.string(),arguments:n.z.string(),name:n.z.string(),server_label:n.z.string(),output:n.z.string().nullish(),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).nullish(),approval_request_id:n.z.string().nullish()}),n.z.object({type:n.z.literal("mcp_list_tools"),id:n.z.string(),server_label:n.z.string(),tools:n.z.array(n.z.object({name:n.z.string(),description:n.z.string().optional(),input_schema:n.z.any(),annotations:n.z.record(n.z.string(),n.z.unknown()).optional()})),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).optional()}),n.z.object({type:n.z.literal("mcp_approval_request"),id:n.z.string(),server_label:n.z.string(),name:n.z.string(),arguments:n.z.string(),approval_request_id:n.z.string().optional()}),n.z.object({type:n.z.literal("apply_patch_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed"]),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}),n.z.object({type:n.z.literal("shell_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed","incomplete"]),action:n.z.object({commands:n.z.array(n.z.string())})})])}),n.z.object({type:n.z.literal("response.function_call_arguments.delta"),item_id:n.z.string(),output_index:n.z.number(),delta:n.z.string()}),n.z.object({type:n.z.literal("response.image_generation_call.partial_image"),item_id:n.z.string(),output_index:n.z.number(),partial_image_b64:n.z.string()}),n.z.object({type:n.z.literal("response.code_interpreter_call_code.delta"),item_id:n.z.string(),output_index:n.z.number(),delta:n.z.string()}),n.z.object({type:n.z.literal("response.code_interpreter_call_code.done"),item_id:n.z.string(),output_index:n.z.number(),code:n.z.string()}),n.z.object({type:n.z.literal("response.output_text.annotation.added"),annotation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url_citation"),start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()}),n.z.object({type:n.z.literal("file_citation"),file_id:n.z.string(),filename:n.z.string().nullish(),index:n.z.number().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),quote:n.z.string().nullish()}),n.z.object({type:n.z.literal("container_file_citation"),container_id:n.z.string(),file_id:n.z.string(),filename:n.z.string().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),index:n.z.number().nullish()}),n.z.object({type:n.z.literal("file_path"),file_id:n.z.string(),index:n.z.number().nullish()})])}),n.z.object({type:n.z.literal("response.reasoning_summary_part.added"),item_id:n.z.string(),summary_index:n.z.number()}),n.z.object({type:n.z.literal("response.reasoning_summary_text.delta"),item_id:n.z.string(),summary_index:n.z.number(),delta:n.z.string()}),n.z.object({type:n.z.literal("response.reasoning_summary_part.done"),item_id:n.z.string(),summary_index:n.z.number()}),n.z.object({type:n.z.literal("response.apply_patch_call_operation_diff.delta"),item_id:n.z.string(),output_index:n.z.number(),delta:n.z.string(),obfuscation:n.z.string().nullish()}),n.z.object({type:n.z.literal("response.apply_patch_call_operation_diff.done"),item_id:n.z.string(),output_index:n.z.number(),diff:n.z.string()}),n.z.object({type:n.z.literal("error"),sequence_number:n.z.number(),error:n.z.object({type:n.z.string(),code:n.z.string(),message:n.z.string(),param:n.z.string().nullish()})}),n.z.object({type:n.z.string()}).loose().transform(x=>({type:"unknown_chunk",message:x.type}))]))),tn=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({id:n.z.string().optional(),created_at:n.z.number().optional(),error:n.z.object({message:n.z.string(),type:n.z.string(),param:n.z.string().nullish(),code:n.z.string()}).nullish(),model:n.z.string().optional(),output:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message"),role:n.z.literal("assistant"),id:n.z.string(),content:n.z.array(n.z.object({type:n.z.literal("output_text"),text:n.z.string(),logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish(),annotations:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url_citation"),start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()}),n.z.object({type:n.z.literal("file_citation"),file_id:n.z.string(),filename:n.z.string().nullish(),index:n.z.number().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),quote:n.z.string().nullish()}),n.z.object({type:n.z.literal("container_file_citation"),container_id:n.z.string(),file_id:n.z.string(),filename:n.z.string().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),index:n.z.number().nullish()}),n.z.object({type:n.z.literal("file_path"),file_id:n.z.string(),index:n.z.number().nullish()})]))}))}),n.z.object({type:n.z.literal("web_search_call"),id:n.z.string(),status:n.z.string(),action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().nullish(),sources:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url"),url:n.z.string()}),n.z.object({type:n.z.literal("api"),name:n.z.string()})])).nullish()}),n.z.object({type:n.z.literal("open_page"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("find_in_page"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})])}),n.z.object({type:n.z.literal("file_search_call"),id:n.z.string(),queries:n.z.array(n.z.string()),results:n.z.array(n.z.object({attributes:n.z.record(n.z.string(),n.z.union([n.z.string(),n.z.number(),n.z.boolean()])),file_id:n.z.string(),filename:n.z.string(),score:n.z.number(),text:n.z.string()})).nullish()}),n.z.object({type:n.z.literal("code_interpreter_call"),id:n.z.string(),code:n.z.string().nullable(),container_id:n.z.string(),outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullable()}),n.z.object({type:n.z.literal("image_generation_call"),id:n.z.string(),result:n.z.string()}),n.z.object({type:n.z.literal("local_shell_call"),id:n.z.string(),call_id:n.z.string(),action:n.z.object({type:n.z.literal("exec"),command:n.z.array(n.z.string()),timeout_ms:n.z.number().optional(),user:n.z.string().optional(),working_directory:n.z.string().optional(),env:n.z.record(n.z.string(),n.z.string()).optional()})}),n.z.object({type:n.z.literal("function_call"),call_id:n.z.string(),name:n.z.string(),arguments:n.z.string(),id:n.z.string()}),n.z.object({type:n.z.literal("computer_call"),id:n.z.string(),status:n.z.string().optional()}),n.z.object({type:n.z.literal("reasoning"),id:n.z.string(),encrypted_content:n.z.string().nullish(),summary:n.z.array(n.z.object({type:n.z.literal("summary_text"),text:n.z.string()}))}),n.z.object({type:n.z.literal("mcp_call"),id:n.z.string(),status:n.z.string(),arguments:n.z.string(),name:n.z.string(),server_label:n.z.string(),output:n.z.string().nullish(),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).nullish(),approval_request_id:n.z.string().nullish()}),n.z.object({type:n.z.literal("mcp_list_tools"),id:n.z.string(),server_label:n.z.string(),tools:n.z.array(n.z.object({name:n.z.string(),description:n.z.string().optional(),input_schema:n.z.any(),annotations:n.z.record(n.z.string(),n.z.unknown()).optional()})),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).optional()}),n.z.object({type:n.z.literal("mcp_approval_request"),id:n.z.string(),server_label:n.z.string(),name:n.z.string(),arguments:n.z.string(),approval_request_id:n.z.string().optional()}),n.z.object({type:n.z.literal("apply_patch_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed"]),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}),n.z.object({type:n.z.literal("shell_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed","incomplete"]),action:n.z.object({commands:n.z.array(n.z.string())})})])).optional(),service_tier:n.z.string().nullish(),incomplete_details:n.z.object({reason:n.z.string()}).nullish(),usage:n.z.object({input_tokens:n.z.number(),input_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),output_tokens:n.z.number(),output_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish()}).nullish()}).optional()}))),Fn=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({conversation:n.z.string().nullish(),include:n.z.array(n.z.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:n.z.string().nullish(),logprobs:n.z.union([n.z.boolean(),n.z.number().min(1).max(20)]).optional(),maxToolCalls:n.z.number().nullish(),metadata:n.z.any().nullish(),parallelToolCalls:n.z.boolean().nullish(),previousResponseId:n.z.string().nullish(),promptCacheKey:n.z.string().nullish(),promptCacheRetention:n.z.enum(["in_memory","24h"]).nullish(),reasoningEffort:n.z.string().nullish(),reasoningSummary:n.z.string().nullish(),safetyIdentifier:n.z.string().nullish(),serviceTier:n.z.enum(["auto","flex","priority","default"]).nullish(),store:n.z.boolean().nullish(),strictJsonSchema:n.z.boolean().nullish(),textVerbosity:n.z.enum(["low","medium","high"]).nullish(),truncation:n.z.enum(["auto","disabled"]).nullish(),user:n.z.string().nullish(),systemMessageMode:n.z.enum(["system","developer","remove"]).optional(),forceReasoning:n.z.boolean().optional()})));async function Tn({tools:x,toolChoice:F}){x=x?.length?x:void 0;let ne=[];if(x==null)return{tools:void 0,toolChoice:void 0,toolWarnings:ne};let he=[];for(let Te of x)switch(Te.type){case"function":he.push({type:"function",name:Te.name,description:Te.description,parameters:Te.inputSchema,...Te.strict!=null?{strict:Te.strict}:{}});break;case"provider":switch(Te.id){case"openai.file_search":{let ae=await(0,p.validateTypes)({value:Te.args,schema:li});he.push({type:"file_search",vector_store_ids:ae.vectorStoreIds,max_num_results:ae.maxNumResults,ranking_options:ae.ranking?{ranker:ae.ranking.ranker,score_threshold:ae.ranking.scoreThreshold}:void 0,filters:ae.filters});break}case"openai.local_shell":he.push({type:"local_shell"});break;case"openai.shell":he.push({type:"shell"});break;case"openai.apply_patch":he.push({type:"apply_patch"});break;case"openai.web_search_preview":{let ae=await(0,p.validateTypes)({value:Te.args,schema:On});he.push({type:"web_search_preview",search_context_size:ae.searchContextSize,user_location:ae.userLocation});break}case"openai.web_search":{let ae=await(0,p.validateTypes)({value:Te.args,schema:Fi});he.push({type:"web_search",filters:ae.filters!=null?{allowed_domains:ae.filters.allowedDomains}:void 0,external_web_access:ae.externalWebAccess,search_context_size:ae.searchContextSize,user_location:ae.userLocation});break}case"openai.code_interpreter":{let ae=await(0,p.validateTypes)({value:Te.args,schema:ar});he.push({type:"code_interpreter",container:ae.container==null?{type:"auto",file_ids:void 0}:typeof ae.container=="string"?ae.container:{type:"auto",file_ids:ae.container.fileIds}});break}case"openai.image_generation":{let ae=await(0,p.validateTypes)({value:Te.args,schema:ut});he.push({type:"image_generation",background:ae.background,input_fidelity:ae.inputFidelity,input_image_mask:ae.inputImageMask?{file_id:ae.inputImageMask.fileId,image_url:ae.inputImageMask.imageUrl}:void 0,model:ae.model,moderation:ae.moderation,partial_images:ae.partialImages,quality:ae.quality,output_compression:ae.outputCompression,output_format:ae.outputFormat,size:ae.size});break}case"openai.mcp":{let ae=await(0,p.validateTypes)({value:Te.args,schema:Qi}),fe=nt=>({tool_names:nt.toolNames}),He=ae.requireApproval,pe=He==null?void 0:typeof He=="string"?He:He.never!=null?{never:fe(He.never)}:void 0;he.push({type:"mcp",server_label:ae.serverLabel,allowed_tools:Array.isArray(ae.allowedTools)?ae.allowedTools:ae.allowedTools?{read_only:ae.allowedTools.readOnly,tool_names:ae.allowedTools.toolNames}:void 0,authorization:ae.authorization,connector_id:ae.connectorId,headers:ae.headers,require_approval:pe??"never",server_description:ae.serverDescription,server_url:ae.serverUrl})}}break;default:ne.push({type:"unsupported",feature:`function tool ${Te}`})}if(F==null)return{tools:he,toolChoice:void 0,toolWarnings:ne};let Ee=F.type;switch(Ee){case"auto":case"none":case"required":return{tools:he,toolChoice:Ee,toolWarnings:ne};case"tool":return{tools:he,toolChoice:F.toolName==="code_interpreter"||F.toolName==="file_search"||F.toolName==="image_generation"||F.toolName==="web_search_preview"||F.toolName==="web_search"||F.toolName==="mcp"||F.toolName==="apply_patch"?{type:F.toolName}:{type:"function",name:F.toolName},toolWarnings:ne};default:throw new ve.UnsupportedFunctionalityError({functionality:`tool choice type: ${Ee}`})}}function Hr(x){var F,ne;let he={};for(let Ee of x)if(Ee.role==="assistant")for(let Te of Ee.content){if(Te.type!=="tool-call")continue;let ae=(ne=(F=Te.providerOptions)==null?void 0:F.openai)==null?void 0:ne.approvalRequestId;ae!=null&&(he[ae]=Te.toolCallId)}return he}var Kn=class{constructor(x,F){this.specificationVersion="v3",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=x,this.config=F}get provider(){return this.config.provider}async getArgs({maxOutputTokens:x,temperature:F,stopSequences:ne,topP:he,topK:Ee,presencePenalty:Te,frequencyPenalty:ae,seed:fe,prompt:He,providerOptions:pe,tools:nt,toolChoice:Ke,responseFormat:mt}){var We,jt,St,Xe,$t,at;let Ut=[],dr=ft(this.modelId);Ee!=null&&Ut.push({type:"unsupported",feature:"topK"}),fe!=null&&Ut.push({type:"unsupported",feature:"seed"}),Te!=null&&Ut.push({type:"unsupported",feature:"presencePenalty"}),ae!=null&&Ut.push({type:"unsupported",feature:"frequencyPenalty"}),ne!=null&&Ut.push({type:"unsupported",feature:"stopSequences"});let Ie=await(0,p.parseProviderOptions)({provider:"openai",providerOptions:pe,schema:Fn}),de=(We=Ie?.forceReasoning)!=null?We:dr.isReasoningModel;Ie?.conversation&&Ie?.previousResponseId&&Ut.push({type:"unsupported",feature:"conversation",details:"conversation and previousResponseId cannot be used together"});let ke=(0,p.createToolNameMapping)({tools:nt,providerToolNames:{"openai.code_interpreter":"code_interpreter","openai.file_search":"file_search","openai.image_generation":"image_generation","openai.local_shell":"local_shell","openai.shell":"shell","openai.web_search":"web_search","openai.web_search_preview":"web_search_preview","openai.mcp":"mcp","openai.apply_patch":"apply_patch"}}),{input:kr,warnings:At}=await Ce({prompt:He,toolNameMapping:ke,systemMessageMode:(jt=Ie?.systemMessageMode)!=null?jt:de?"developer":dr.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:(St=Ie?.store)==null||St,hasLocalShellTool:Bt("openai.local_shell"),hasShellTool:Bt("openai.shell"),hasApplyPatchTool:Bt("openai.apply_patch")});Ut.push(...At);let zt=(Xe=Ie?.strictJsonSchema)==null||Xe,dt=Ie?.include;function Me(Lt){dt==null?dt=[Lt]:dt.includes(Lt)||(dt=[...dt,Lt])}function Bt(Lt){return nt?.find(yt=>yt.type==="provider"&&yt.id===Lt)!=null}let Kt=typeof Ie?.logprobs=="number"?Ie?.logprobs:Ie?.logprobs===!0?20:void 0;Kt&&Me("message.output_text.logprobs");let Tt=($t=nt?.find(Lt=>Lt.type==="provider"&&(Lt.id==="openai.web_search"||Lt.id==="openai.web_search_preview")))==null?void 0:$t.name;Tt&&Me("web_search_call.action.sources"),Bt("openai.code_interpreter")&&Me("code_interpreter_call.outputs");let Dt=Ie?.store;Dt===!1&&de&&Me("reasoning.encrypted_content");let Ur={model:this.modelId,input:kr,temperature:F,top_p:he,max_output_tokens:x,...(mt?.type==="json"||Ie?.textVerbosity)&&{text:{...mt?.type==="json"&&{format:mt.schema!=null?{type:"json_schema",strict:zt,name:(at=mt.name)!=null?at:"response",description:mt.description,schema:mt.schema}:{type:"json_object"}},...Ie?.textVerbosity&&{verbosity:Ie.textVerbosity}}},conversation:Ie?.conversation,max_tool_calls:Ie?.maxToolCalls,metadata:Ie?.metadata,parallel_tool_calls:Ie?.parallelToolCalls,previous_response_id:Ie?.previousResponseId,store:Dt,user:Ie?.user,instructions:Ie?.instructions,service_tier:Ie?.serviceTier,include:dt,prompt_cache_key:Ie?.promptCacheKey,prompt_cache_retention:Ie?.promptCacheRetention,safety_identifier:Ie?.safetyIdentifier,top_logprobs:Kt,truncation:Ie?.truncation,...de&&(Ie?.reasoningEffort!=null||Ie?.reasoningSummary!=null)&&{reasoning:{...Ie?.reasoningEffort!=null&&{effort:Ie.reasoningEffort},...Ie?.reasoningSummary!=null&&{summary:Ie.reasoningSummary}}}};de?Ie?.reasoningEffort==="none"&&dr.supportsNonReasoningParameters||(Ur.temperature!=null&&(Ur.temperature=void 0,Ut.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for reasoning models"})),Ur.top_p!=null&&(Ur.top_p=void 0,Ut.push({type:"unsupported",feature:"topP",details:"topP is not supported for reasoning models"}))):(Ie?.reasoningEffort!=null&&Ut.push({type:"unsupported",feature:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),Ie?.reasoningSummary!=null&&Ut.push({type:"unsupported",feature:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),Ie?.serviceTier!=="flex"||dr.supportsFlexProcessing||(Ut.push({type:"unsupported",feature:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete Ur.service_tier),Ie?.serviceTier!=="priority"||dr.supportsPriorityProcessing||(Ut.push({type:"unsupported",feature:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete Ur.service_tier);let{tools:fr,toolChoice:sr,toolWarnings:Ye}=await Tn({tools:nt,toolChoice:Ke});return{webSearchToolName:Tt,args:{...Ur,tools:fr,tool_choice:sr},warnings:[...Ut,...Ye],store:Dt,toolNameMapping:ke}}async doGenerate(x){var F,ne,he,Ee,Te,ae,fe,He,pe,nt,Ke,mt,We,jt,St,Xe,$t,at,Ut,dr,Ie,de,ke,kr,At,zt,dt,Me,Bt,Kt,Tt;let{args:Dt,warnings:Ur,webSearchToolName:fr,toolNameMapping:sr}=await this.getArgs(x),Ye=this.config.url({path:"/responses",modelId:this.modelId}),Lt=this.config.provider.replace(".responses",""),yt=Hr(x.prompt),{responseHeaders:la,value:qr,rawValue:kt}=await(0,p.postJsonToApi)({url:Ye,headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:Dt,failedResponseHandler:pt,successfulResponseHandler:(0,p.createJsonResponseHandler)(tn),abortSignal:x.abortSignal,fetch:this.config.fetch});if(qr.error)throw new ve.APICallError({message:qr.error.message,url:Ye,requestBodyValues:Dt,statusCode:400,responseHeaders:la,responseBody:kt,isRetryable:!1});let Ne=[],or=[],Wt=!1;for(let Pr of qr.output)switch(Pr.type){case"reasoning":for(let Ti of(Pr.summary.length===0&&Pr.summary.push({type:"summary_text",text:""}),Pr.summary))Ne.push({type:"reasoning",text:Ti.text,providerMetadata:{[Lt]:{itemId:Pr.id,reasoningEncryptedContent:(F=Pr.encrypted_content)!=null?F:null}}});break;case"image_generation_call":Ne.push({type:"tool-call",toolCallId:Pr.id,toolName:sr.toCustomToolName("image_generation"),input:"{}",providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Pr.id,toolName:sr.toCustomToolName("image_generation"),result:{result:Pr.result}});break;case"local_shell_call":Ne.push({type:"tool-call",toolCallId:Pr.call_id,toolName:sr.toCustomToolName("local_shell"),input:JSON.stringify({action:Pr.action}),providerMetadata:{[Lt]:{itemId:Pr.id}}});break;case"shell_call":Ne.push({type:"tool-call",toolCallId:Pr.call_id,toolName:sr.toCustomToolName("shell"),input:JSON.stringify({action:{commands:Pr.action.commands}}),providerMetadata:{[Lt]:{itemId:Pr.id}}});break;case"message":for(let Ti of Pr.content){((he=(ne=x.providerOptions)==null?void 0:ne.openai)==null?void 0:he.logprobs)&&Ti.logprobs&&or.push(Ti.logprobs);let yo={itemId:Pr.id,...Ti.annotations.length>0&&{annotations:Ti.annotations}};for(let Hn of(Ne.push({type:"text",text:Ti.text,providerMetadata:{[Lt]:yo}}),Ti.annotations))Hn.type==="url_citation"?Ne.push({type:"source",sourceType:"url",id:(ae=(Te=(Ee=this.config).generateId)==null?void 0:Te.call(Ee))!=null?ae:(0,p.generateId)(),url:Hn.url,title:Hn.title}):Hn.type==="file_citation"?Ne.push({type:"source",sourceType:"document",id:(pe=(He=(fe=this.config).generateId)==null?void 0:He.call(fe))!=null?pe:(0,p.generateId)(),mediaType:"text/plain",title:(Ke=(nt=Hn.quote)!=null?nt:Hn.filename)!=null?Ke:"Document",filename:(mt=Hn.filename)!=null?mt:Hn.file_id,...Hn.file_id?{providerMetadata:{[Lt]:{fileId:Hn.file_id}}}:{}}):Hn.type==="container_file_citation"?Ne.push({type:"source",sourceType:"document",id:(St=(jt=(We=this.config).generateId)==null?void 0:jt.call(We))!=null?St:(0,p.generateId)(),mediaType:"text/plain",title:($t=(Xe=Hn.filename)!=null?Xe:Hn.file_id)!=null?$t:"Document",filename:(at=Hn.filename)!=null?at:Hn.file_id,providerMetadata:{[Lt]:{fileId:Hn.file_id,containerId:Hn.container_id,...Hn.index!=null?{index:Hn.index}:{}}}}):Hn.type==="file_path"&&Ne.push({type:"source",sourceType:"document",id:(Ie=(dr=(Ut=this.config).generateId)==null?void 0:dr.call(Ut))!=null?Ie:(0,p.generateId)(),mediaType:"application/octet-stream",title:Hn.file_id,filename:Hn.file_id,providerMetadata:{[Lt]:{fileId:Hn.file_id,...Hn.index!=null?{index:Hn.index}:{}}}})}break;case"function_call":Wt=!0,Ne.push({type:"tool-call",toolCallId:Pr.call_id,toolName:Pr.name,input:Pr.arguments,providerMetadata:{[Lt]:{itemId:Pr.id}}});break;case"web_search_call":Ne.push({type:"tool-call",toolCallId:Pr.id,toolName:sr.toCustomToolName(fr??"web_search"),input:JSON.stringify({}),providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Pr.id,toolName:sr.toCustomToolName(fr??"web_search"),result:Zi(Pr.action)});break;case"mcp_call":{let Ti=Pr.approval_request_id!=null&&(de=yt[Pr.approval_request_id])!=null?de:Pr.id,yo=`mcp.${Pr.name}`;Ne.push({type:"tool-call",toolCallId:Ti,toolName:yo,input:Pr.arguments,providerExecuted:!0,dynamic:!0}),Ne.push({type:"tool-result",toolCallId:Ti,toolName:yo,result:{type:"call",serverLabel:Pr.server_label,name:Pr.name,arguments:Pr.arguments,...Pr.output!=null?{output:Pr.output}:{},...Pr.error!=null?{error:Pr.error}:{}},providerMetadata:{[Lt]:{itemId:Pr.id}}});break}case"mcp_list_tools":break;case"mcp_approval_request":{let Ti=(ke=Pr.approval_request_id)!=null?ke:Pr.id,yo=(zt=(At=(kr=this.config).generateId)==null?void 0:At.call(kr))!=null?zt:(0,p.generateId)(),Hn=`mcp.${Pr.name}`;Ne.push({type:"tool-call",toolCallId:yo,toolName:Hn,input:Pr.arguments,providerExecuted:!0,dynamic:!0}),Ne.push({type:"tool-approval-request",approvalId:Ti,toolCallId:yo});break}case"computer_call":Ne.push({type:"tool-call",toolCallId:Pr.id,toolName:sr.toCustomToolName("computer_use"),input:"",providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Pr.id,toolName:sr.toCustomToolName("computer_use"),result:{type:"computer_use_tool_result",status:Pr.status||"completed"}});break;case"file_search_call":Ne.push({type:"tool-call",toolCallId:Pr.id,toolName:sr.toCustomToolName("file_search"),input:"{}",providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Pr.id,toolName:sr.toCustomToolName("file_search"),result:{queries:Pr.queries,results:(Me=(dt=Pr.results)==null?void 0:dt.map(Ti=>({attributes:Ti.attributes,fileId:Ti.file_id,filename:Ti.filename,score:Ti.score,text:Ti.text})))!=null?Me:null}});break;case"code_interpreter_call":Ne.push({type:"tool-call",toolCallId:Pr.id,toolName:sr.toCustomToolName("code_interpreter"),input:JSON.stringify({code:Pr.code,containerId:Pr.container_id}),providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Pr.id,toolName:sr.toCustomToolName("code_interpreter"),result:{outputs:Pr.outputs}});break;case"apply_patch_call":Ne.push({type:"tool-call",toolCallId:Pr.call_id,toolName:sr.toCustomToolName("apply_patch"),input:JSON.stringify({callId:Pr.call_id,operation:Pr.operation}),providerMetadata:{[Lt]:{itemId:Pr.id}}})}let ln={[Lt]:{responseId:qr.id}};or.length>0&&(ln[Lt].logprobs=or),typeof qr.service_tier=="string"&&(ln[Lt].serviceTier=qr.service_tier);let ja=qr.usage;return{content:Ne,finishReason:{unified:G({finishReason:(Bt=qr.incomplete_details)==null?void 0:Bt.reason,hasFunctionCall:Wt}),raw:(Tt=(Kt=qr.incomplete_details)==null?void 0:Kt.reason)!=null?Tt:void 0},usage:mo(ja),request:{body:Dt},response:{id:qr.id,timestamp:new Date(1e3*qr.created_at),modelId:qr.model,headers:la,body:kt},providerMetadata:ln,warnings:Ur}}async doStream(x){let F,ne,{args:he,warnings:Ee,webSearchToolName:Te,toolNameMapping:ae,store:fe}=await this.getArgs(x),{responseHeaders:He,value:pe}=await(0,p.postJsonToApi)({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:{...he,stream:!0},failedResponseHandler:pt,successfulResponseHandler:(0,p.createEventSourceResponseHandler)(Rr),abortSignal:x.abortSignal,fetch:this.config.fetch}),nt=this,Ke=this.config.provider.replace(".responses",""),mt=Hr(x.prompt),We=new Map,jt={unified:"other",raw:void 0},St=[],Xe=null,$t={},at=[],Ut=!1,dr={};return{stream:pe.pipeThrough(new TransformStream({start(Ie){Ie.enqueue({type:"stream-start",warnings:Ee})},transform(Ie,de){var ke,kr,At,zt,dt,Me,Bt,Kt,Tt,Dt,Ur,fr,sr,Ye,Lt,yt,la,qr,kt,Ne,or,Wt,ln,ja,Pr,Ti,yo,Hn,Bs,Vs,vs,k,d,y,O,L,ue;if(x.includeRawChunks&&de.enqueue({type:"raw",rawValue:Ie.rawValue}),!Ie.success){jt={unified:"error",raw:void 0},de.enqueue({type:"error",error:Ie.error});return}let E=Ie.value;if(Xi(E)){if(E.item.type==="function_call")$t[E.output_index]={toolName:E.item.name,toolCallId:E.item.call_id},de.enqueue({type:"tool-input-start",id:E.item.call_id,toolName:E.item.name});else if(E.item.type==="web_search_call")$t[E.output_index]={toolName:ae.toCustomToolName(Te??"web_search"),toolCallId:E.item.id},de.enqueue({type:"tool-input-start",id:E.item.id,toolName:ae.toCustomToolName(Te??"web_search"),providerExecuted:!0}),de.enqueue({type:"tool-input-end",id:E.item.id}),de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName(Te??"web_search"),input:JSON.stringify({}),providerExecuted:!0});else if(E.item.type==="computer_call")$t[E.output_index]={toolName:ae.toCustomToolName("computer_use"),toolCallId:E.item.id},de.enqueue({type:"tool-input-start",id:E.item.id,toolName:ae.toCustomToolName("computer_use"),providerExecuted:!0});else if(E.item.type==="code_interpreter_call")$t[E.output_index]={toolName:ae.toCustomToolName("code_interpreter"),toolCallId:E.item.id,codeInterpreter:{containerId:E.item.container_id}},de.enqueue({type:"tool-input-start",id:E.item.id,toolName:ae.toCustomToolName("code_interpreter"),providerExecuted:!0}),de.enqueue({type:"tool-input-delta",id:E.item.id,delta:`{"containerId":"${E.item.container_id}","code":"`});else if(E.item.type==="file_search_call")de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName("file_search"),input:"{}",providerExecuted:!0});else if(E.item.type==="image_generation_call")de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName("image_generation"),input:"{}",providerExecuted:!0});else if(!(E.item.type==="mcp_call"||E.item.type==="mcp_list_tools"||E.item.type==="mcp_approval_request"))if(E.item.type==="apply_patch_call"){let{call_id:Y,operation:xe}=E.item;if($t[E.output_index]={toolName:ae.toCustomToolName("apply_patch"),toolCallId:Y,applyPatch:{hasDiff:xe.type==="delete_file",endEmitted:xe.type==="delete_file"}},de.enqueue({type:"tool-input-start",id:Y,toolName:ae.toCustomToolName("apply_patch")}),xe.type==="delete_file"){let Ae=JSON.stringify({callId:Y,operation:xe});de.enqueue({type:"tool-input-delta",id:Y,delta:Ae}),de.enqueue({type:"tool-input-end",id:Y})}else de.enqueue({type:"tool-input-delta",id:Y,delta:`{"callId":"${$i(Y)}","operation":{"type":"${$i(xe.type)}","path":"${$i(xe.path)}","diff":"`})}else E.item.type==="shell_call"?$t[E.output_index]={toolName:ae.toCustomToolName("shell"),toolCallId:E.item.call_id}:E.item.type==="message"?(at.splice(0,at.length),de.enqueue({type:"text-start",id:E.item.id,providerMetadata:{[Ke]:{itemId:E.item.id}}})):Xi(E)&&E.item.type==="reasoning"&&(dr[E.item.id]={encryptedContent:E.item.encrypted_content,summaryParts:{0:"active"}},de.enqueue({type:"reasoning-start",id:`${E.item.id}:0`,providerMetadata:{[Ke]:{itemId:E.item.id,reasoningEncryptedContent:(ke=E.item.encrypted_content)!=null?ke:null}}}))}else if(E.type==="response.output_item.done"){if(E.item.type==="message")de.enqueue({type:"text-end",id:E.item.id,providerMetadata:{[Ke]:{itemId:E.item.id,...at.length>0&&{annotations:at}}}});else if(E.item.type==="function_call")$t[E.output_index]=void 0,Ut=!0,de.enqueue({type:"tool-input-end",id:E.item.call_id}),de.enqueue({type:"tool-call",toolCallId:E.item.call_id,toolName:E.item.name,input:E.item.arguments,providerMetadata:{[Ke]:{itemId:E.item.id}}});else if(E.item.type==="web_search_call")$t[E.output_index]=void 0,de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName(Te??"web_search"),result:Zi(E.item.action)});else if(E.item.type==="computer_call")$t[E.output_index]=void 0,de.enqueue({type:"tool-input-end",id:E.item.id}),de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName("computer_use"),input:"",providerExecuted:!0}),de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("computer_use"),result:{type:"computer_use_tool_result",status:E.item.status||"completed"}});else if(E.item.type==="file_search_call")$t[E.output_index]=void 0,de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("file_search"),result:{queries:E.item.queries,results:(At=(kr=E.item.results)==null?void 0:kr.map(Y=>({attributes:Y.attributes,fileId:Y.file_id,filename:Y.filename,score:Y.score,text:Y.text})))!=null?At:null}});else if(E.item.type==="code_interpreter_call")$t[E.output_index]=void 0,de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("code_interpreter"),result:{outputs:E.item.outputs}});else if(E.item.type==="image_generation_call")de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("image_generation"),result:{result:E.item.result}});else if(E.item.type==="mcp_call"){$t[E.output_index]=void 0;let Y=(zt=E.item.approval_request_id)!=null?zt:void 0,xe=Y!=null&&(Me=(dt=We.get(Y))!=null?dt:mt[Y])!=null?Me:E.item.id,Ae=`mcp.${E.item.name}`;de.enqueue({type:"tool-call",toolCallId:xe,toolName:Ae,input:E.item.arguments,providerExecuted:!0,dynamic:!0}),de.enqueue({type:"tool-result",toolCallId:xe,toolName:Ae,result:{type:"call",serverLabel:E.item.server_label,name:E.item.name,arguments:E.item.arguments,...E.item.output!=null?{output:E.item.output}:{},...E.item.error!=null?{error:E.item.error}:{}},providerMetadata:{[Ke]:{itemId:E.item.id}}})}else if(E.item.type==="mcp_list_tools")$t[E.output_index]=void 0;else if(E.item.type==="apply_patch_call"){let Y=$t[E.output_index];Y?.applyPatch&&!Y.applyPatch.endEmitted&&E.item.operation.type!=="delete_file"&&(Y.applyPatch.hasDiff||de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:$i(E.item.operation.diff)}),de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:'"}}'}),de.enqueue({type:"tool-input-end",id:Y.toolCallId}),Y.applyPatch.endEmitted=!0),Y&&E.item.status==="completed"&&de.enqueue({type:"tool-call",toolCallId:Y.toolCallId,toolName:ae.toCustomToolName("apply_patch"),input:JSON.stringify({callId:E.item.call_id,operation:E.item.operation}),providerMetadata:{[Ke]:{itemId:E.item.id}}}),$t[E.output_index]=void 0}else if(E.item.type==="mcp_approval_request"){$t[E.output_index]=void 0;let Y=(Tt=(Kt=(Bt=nt.config).generateId)==null?void 0:Kt.call(Bt))!=null?Tt:(0,p.generateId)(),xe=(Dt=E.item.approval_request_id)!=null?Dt:E.item.id;We.set(xe,Y);let Ae=`mcp.${E.item.name}`;de.enqueue({type:"tool-call",toolCallId:Y,toolName:Ae,input:E.item.arguments,providerExecuted:!0,dynamic:!0}),de.enqueue({type:"tool-approval-request",approvalId:xe,toolCallId:Y})}else if(E.item.type==="local_shell_call")$t[E.output_index]=void 0,de.enqueue({type:"tool-call",toolCallId:E.item.call_id,toolName:ae.toCustomToolName("local_shell"),input:JSON.stringify({action:{type:"exec",command:E.item.action.command,timeoutMs:E.item.action.timeout_ms,user:E.item.action.user,workingDirectory:E.item.action.working_directory,env:E.item.action.env}}),providerMetadata:{[Ke]:{itemId:E.item.id}}});else if(E.item.type==="shell_call")$t[E.output_index]=void 0,de.enqueue({type:"tool-call",toolCallId:E.item.call_id,toolName:ae.toCustomToolName("shell"),input:JSON.stringify({action:{commands:E.item.action.commands}}),providerMetadata:{[Ke]:{itemId:E.item.id}}});else if(E.item.type==="reasoning"){for(let Y of Object.entries(dr[E.item.id].summaryParts).filter(([xe,Ae])=>Ae==="active"||Ae==="can-conclude").map(([xe])=>xe))de.enqueue({type:"reasoning-end",id:`${E.item.id}:${Y}`,providerMetadata:{[Ke]:{itemId:E.item.id,reasoningEncryptedContent:(Ur=E.item.encrypted_content)!=null?Ur:null}}});delete dr[E.item.id]}}else if(E.type==="response.function_call_arguments.delta"){let Y=$t[E.output_index];Y!=null&&de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:E.delta})}else if(E.type==="response.apply_patch_call_operation_diff.delta"){let Y=$t[E.output_index];Y?.applyPatch&&(de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:$i(E.delta)}),Y.applyPatch.hasDiff=!0)}else if(E.type==="response.apply_patch_call_operation_diff.done"){let Y=$t[E.output_index];Y?.applyPatch&&!Y.applyPatch.endEmitted&&(Y.applyPatch.hasDiff||(de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:$i(E.diff)}),Y.applyPatch.hasDiff=!0),de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:'"}}'}),de.enqueue({type:"tool-input-end",id:Y.toolCallId}),Y.applyPatch.endEmitted=!0)}else if(E.type==="response.image_generation_call.partial_image")de.enqueue({type:"tool-result",toolCallId:E.item_id,toolName:ae.toCustomToolName("image_generation"),result:{result:E.partial_image_b64},preliminary:!0});else if(E.type==="response.code_interpreter_call_code.delta"){let Y=$t[E.output_index];Y!=null&&de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:$i(E.delta)})}else if(E.type==="response.code_interpreter_call_code.done"){let Y=$t[E.output_index];Y!=null&&(de.enqueue({type:"tool-input-delta",id:Y.toolCallId,delta:'"}'}),de.enqueue({type:"tool-input-end",id:Y.toolCallId}),de.enqueue({type:"tool-call",toolCallId:Y.toolCallId,toolName:ae.toCustomToolName("code_interpreter"),input:JSON.stringify({code:E.code,containerId:Y.codeInterpreter.containerId}),providerExecuted:!0}))}else if(E.type==="response.created")Xe=E.response.id,de.enqueue({type:"response-metadata",id:E.response.id,timestamp:new Date(1e3*E.response.created_at),modelId:E.response.model});else if(E.type==="response.output_text.delta")de.enqueue({type:"text-delta",id:E.item_id,delta:E.delta}),((sr=(fr=x.providerOptions)==null?void 0:fr.openai)==null?void 0:sr.logprobs)&&E.logprobs&&St.push(E.logprobs);else if(E.type==="response.reasoning_summary_part.added"){if(E.summary_index>0){let Y=dr[E.item_id];for(let xe of(Y.summaryParts[E.summary_index]="active",Object.keys(Y.summaryParts)))Y.summaryParts[xe]==="can-conclude"&&(de.enqueue({type:"reasoning-end",id:`${E.item_id}:${xe}`,providerMetadata:{[Ke]:{itemId:E.item_id}}}),Y.summaryParts[xe]="concluded");de.enqueue({type:"reasoning-start",id:`${E.item_id}:${E.summary_index}`,providerMetadata:{[Ke]:{itemId:E.item_id,reasoningEncryptedContent:(Lt=(Ye=dr[E.item_id])==null?void 0:Ye.encryptedContent)!=null?Lt:null}}})}}else E.type==="response.reasoning_summary_text.delta"?de.enqueue({type:"reasoning-delta",id:`${E.item_id}:${E.summary_index}`,delta:E.delta,providerMetadata:{[Ke]:{itemId:E.item_id}}}):E.type==="response.reasoning_summary_part.done"?fe?(de.enqueue({type:"reasoning-end",id:`${E.item_id}:${E.summary_index}`,providerMetadata:{[Ke]:{itemId:E.item_id}}}),dr[E.item_id].summaryParts[E.summary_index]="concluded"):dr[E.item_id].summaryParts[E.summary_index]="can-conclude":(ue=E).type==="response.completed"||ue.type==="response.incomplete"?(jt={unified:G({finishReason:(yt=E.response.incomplete_details)==null?void 0:yt.reason,hasFunctionCall:Ut}),raw:(qr=(la=E.response.incomplete_details)==null?void 0:la.reason)!=null?qr:void 0},ne=E.response.usage,typeof E.response.service_tier=="string"&&(F=E.response.service_tier)):E.type==="response.output_text.annotation.added"?(at.push(E.annotation),E.annotation.type==="url_citation"?de.enqueue({type:"source",sourceType:"url",id:(or=(Ne=(kt=nt.config).generateId)==null?void 0:Ne.call(kt))!=null?or:(0,p.generateId)(),url:E.annotation.url,title:E.annotation.title}):E.annotation.type==="file_citation"?de.enqueue({type:"source",sourceType:"document",id:(ja=(ln=(Wt=nt.config).generateId)==null?void 0:ln.call(Wt))!=null?ja:(0,p.generateId)(),mediaType:"text/plain",title:(Ti=(Pr=E.annotation.quote)!=null?Pr:E.annotation.filename)!=null?Ti:"Document",filename:(yo=E.annotation.filename)!=null?yo:E.annotation.file_id,...E.annotation.file_id?{providerMetadata:{[Ke]:{fileId:E.annotation.file_id}}}:{}}):E.annotation.type==="container_file_citation"?de.enqueue({type:"source",sourceType:"document",id:(Vs=(Bs=(Hn=nt.config).generateId)==null?void 0:Bs.call(Hn))!=null?Vs:(0,p.generateId)(),mediaType:"text/plain",title:(k=(vs=E.annotation.filename)!=null?vs:E.annotation.file_id)!=null?k:"Document",filename:(d=E.annotation.filename)!=null?d:E.annotation.file_id,providerMetadata:{[Ke]:{fileId:E.annotation.file_id,containerId:E.annotation.container_id,...E.annotation.index!=null?{index:E.annotation.index}:{}}}}):E.annotation.type==="file_path"&&de.enqueue({type:"source",sourceType:"document",id:(L=(O=(y=nt.config).generateId)==null?void 0:O.call(y))!=null?L:(0,p.generateId)(),mediaType:"application/octet-stream",title:E.annotation.file_id,filename:E.annotation.file_id,providerMetadata:{[Ke]:{fileId:E.annotation.file_id,...E.annotation.index!=null?{index:E.annotation.index}:{}}}})):E.type==="error"&&de.enqueue({type:"error",error:E})},flush(Ie){let de={[Ke]:{responseId:Xe}};St.length>0&&(de[Ke].logprobs=St),F!==void 0&&(de[Ke].serviceTier=F),Ie.enqueue({type:"finish",finishReason:jt,usage:mo(ne),providerMetadata:de})}})),request:{body:he},response:{headers:He}}}};function Xi(x){return x.type==="response.output_item.added"}function Zi(x){var F;switch(x.type){case"search":return{action:{type:"search",query:(F=x.query)!=null?F:void 0},...x.sources!=null&&{sources:x.sources}};case"open_page":return{action:{type:"openPage",url:x.url}};case"find_in_page":return{action:{type:"findInPage",url:x.url,pattern:x.pattern}}}}function $i(x){return JSON.stringify(x).slice(1,-1)}var mi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({instructions:n.z.string().nullish(),speed:n.z.number().min(.25).max(4).default(1).nullish()}))),Bi=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3"}get provider(){return this.config.provider}async getArgs({text:x,voice:F="alloy",outputFormat:ne="mp3",speed:he,instructions:Ee,language:Te,providerOptions:ae}){let fe=[],He=await(0,p.parseProviderOptions)({provider:"openai",providerOptions:ae,schema:mi}),pe={model:this.modelId,input:x,voice:F,response_format:"mp3",speed:he,instructions:Ee};if(ne&&(["mp3","opus","aac","flac","wav","pcm"].includes(ne)?pe.response_format=ne:fe.push({type:"unsupported",feature:"outputFormat",details:`Unsupported output format: ${ne}. Using mp3 instead.`})),He){let nt={};for(let Ke in nt){let mt=nt[Ke];mt!==void 0&&(pe[Ke]=mt)}}return Te&&fe.push({type:"unsupported",feature:"language",details:`OpenAI speech models do not support language selection. Language parameter "${Te}" was ignored.`}),{requestBody:pe,warnings:fe}}async doGenerate(x){var F,ne,he;let Ee=(he=(ne=(F=this.config._internal)==null?void 0:F.currentDate)==null?void 0:ne.call(F))!=null?he:new Date,{requestBody:Te,warnings:ae}=await this.getArgs(x),{value:fe,responseHeaders:He,rawValue:pe}=await(0,p.postJsonToApi)({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:Te,failedResponseHandler:pt,successfulResponseHandler:(0,p.createBinaryResponseHandler)(),abortSignal:x.abortSignal,fetch:this.config.fetch});return{audio:fe,warnings:ae,request:{body:JSON.stringify(Te)},response:{timestamp:Ee,modelId:this.modelId,headers:He,body:pe}}}},Nt=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({text:n.z.string(),language:n.z.string().nullish(),duration:n.z.number().nullish(),words:n.z.array(n.z.object({word:n.z.string(),start:n.z.number(),end:n.z.number()})).nullish(),segments:n.z.array(n.z.object({id:n.z.number(),seek:n.z.number(),start:n.z.number(),end:n.z.number(),text:n.z.string(),tokens:n.z.array(n.z.number()),temperature:n.z.number(),avg_logprob:n.z.number(),compression_ratio:n.z.number(),no_speech_prob:n.z.number()})).nullish()}))),hi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({include:n.z.array(n.z.string()).optional(),language:n.z.string().optional(),prompt:n.z.string().optional(),temperature:n.z.number().min(0).max(1).default(0).optional(),timestampGranularities:n.z.array(n.z.enum(["word","segment"])).default(["segment"]).optional()}))),qn={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},ti=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3"}get provider(){return this.config.provider}async getArgs({audio:x,mediaType:F,providerOptions:ne}){let he=await(0,p.parseProviderOptions)({provider:"openai",providerOptions:ne,schema:hi}),Ee=new FormData,Te=x instanceof Uint8Array?new Blob([x]):new Blob([(0,p.convertBase64ToUint8Array)(x)]);Ee.append("model",this.modelId);let ae=(0,p.mediaTypeToExtension)(F);if(Ee.append("file",new File([Te],"audio",{type:F}),`audio.${ae}`),he){for(let[fe,He]of Object.entries({include:he.include,language:he.language,prompt:he.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:he.temperature,timestamp_granularities:he.timestampGranularities}))if(He!=null)if(Array.isArray(He))for(let pe of He)Ee.append(`${fe}[]`,String(pe));else Ee.append(fe,String(He))}return{formData:Ee,warnings:[]}}async doGenerate(x){var F,ne,he,Ee,Te,ae,fe,He;let pe=(he=(ne=(F=this.config._internal)==null?void 0:F.currentDate)==null?void 0:ne.call(F))!=null?he:new Date,{formData:nt,warnings:Ke}=await this.getArgs(x),{value:mt,responseHeaders:We,rawValue:jt}=await(0,p.postFormDataToApi)({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),formData:nt,failedResponseHandler:pt,successfulResponseHandler:(0,p.createJsonResponseHandler)(Nt),abortSignal:x.abortSignal,fetch:this.config.fetch}),St=mt.language!=null&&mt.language in qn?qn[mt.language]:void 0;return{text:mt.text,segments:(fe=(ae=(Ee=mt.segments)==null?void 0:Ee.map(Xe=>({text:Xe.text,startSecond:Xe.start,endSecond:Xe.end})))!=null?ae:(Te=mt.words)==null?void 0:Te.map(Xe=>({text:Xe.word,startSecond:Xe.start,endSecond:Xe.end})))!=null?fe:[],language:St,durationInSeconds:(He=mt.duration)!=null?He:void 0,warnings:Ke,response:{timestamp:pe,modelId:this.modelId,headers:We,body:jt}}}};function yn(x={}){var F,ne;let he=(F=(0,p.withoutTrailingSlash)((0,p.loadOptionalSetting)({settingValue:x.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))!=null?F:"https://api.openai.com/v1",Ee=(ne=x.name)!=null?ne:"openai",Te=()=>(0,p.withUserAgentSuffix)({Authorization:`Bearer ${(0,p.loadApiKey)({apiKey:x.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":x.organization,"OpenAI-Project":x.project,...x.headers},"ai-sdk/openai/3.0.1"),ae=We=>new Br(We,{provider:`${Ee}.embedding`,url:({path:jt})=>`${he}${jt}`,headers:Te,fetch:x.fetch}),fe=We=>new Bn(We,{provider:`${Ee}.image`,url:({path:jt})=>`${he}${jt}`,headers:Te,fetch:x.fetch}),He=We=>new ti(We,{provider:`${Ee}.transcription`,url:({path:jt})=>`${he}${jt}`,headers:Te,fetch:x.fetch}),pe=We=>new Bi(We,{provider:`${Ee}.speech`,url:({path:jt})=>`${he}${jt}`,headers:Te,fetch:x.fetch}),nt=We=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return Ke(We)},Ke=We=>new Kn(We,{provider:`${Ee}.responses`,url:({path:jt})=>`${he}${jt}`,headers:Te,fetch:x.fetch,fileIdPrefixes:["file-"]}),mt=function(We){return nt(We)};return mt.specificationVersion="v3",mt.languageModel=nt,mt.chat=We=>new en(We,{provider:`${Ee}.chat`,url:({path:jt})=>`${he}${jt}`,headers:Te,fetch:x.fetch}),mt.completion=We=>new Zt(We,{provider:`${Ee}.completion`,url:({path:jt})=>`${he}${jt}`,headers:Te,fetch:x.fetch}),mt.responses=Ke,mt.embedding=ae,mt.embeddingModel=ae,mt.textEmbedding=ae,mt.textEmbeddingModel=ae,mt.image=fe,mt.imageModel=fe,mt.transcription=He,mt.transcriptionModel=He,mt.speech=pe,mt.speechModel=pe,mt.tools=po,mt}yn();var pa=v.i(51615),ra=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({type:n.z.literal("error"),error:n.z.object({type:n.z.string(),message:n.z.string()})}))),Sr=(0,p.createJsonErrorResponseHandler)({errorSchema:ra,errorToMessage:x=>x.error.message}),Ri=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({type:n.z.literal("message"),id:n.z.string().nullish(),model:n.z.string().nullish(),content:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text"),text:n.z.string(),citations:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("web_search_result_location"),cited_text:n.z.string(),url:n.z.string(),title:n.z.string(),encrypted_index:n.z.string()}),n.z.object({type:n.z.literal("page_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_page_number:n.z.number(),end_page_number:n.z.number()}),n.z.object({type:n.z.literal("char_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_char_index:n.z.number(),end_char_index:n.z.number()})])).optional()}),n.z.object({type:n.z.literal("thinking"),thinking:n.z.string(),signature:n.z.string()}),n.z.object({type:n.z.literal("redacted_thinking"),data:n.z.string()}),n.z.object({type:n.z.literal("tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),caller:n.z.union([n.z.object({type:n.z.literal("code_execution_20250825"),tool_id:n.z.string()}),n.z.object({type:n.z.literal("direct")})]).optional()}),n.z.object({type:n.z.literal("server_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.record(n.z.string(),n.z.unknown()).nullish()}),n.z.object({type:n.z.literal("mcp_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),server_name:n.z.string()}),n.z.object({type:n.z.literal("mcp_tool_result"),tool_use_id:n.z.string(),is_error:n.z.boolean(),content:n.z.array(n.z.union([n.z.string(),n.z.object({type:n.z.literal("text"),text:n.z.string()})]))}),n.z.object({type:n.z.literal("web_fetch_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("web_fetch_result"),url:n.z.string(),retrieved_at:n.z.string(),content:n.z.object({type:n.z.literal("document"),title:n.z.string().nullable(),citations:n.z.object({enabled:n.z.boolean()}).optional(),source:n.z.union([n.z.object({type:n.z.literal("base64"),media_type:n.z.literal("application/pdf"),data:n.z.string()}),n.z.object({type:n.z.literal("text"),media_type:n.z.literal("text/plain"),data:n.z.string()})])})}),n.z.object({type:n.z.literal("web_fetch_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("web_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.array(n.z.object({type:n.z.literal("web_search_result"),url:n.z.string(),title:n.z.string(),encrypted_content:n.z.string(),page_age:n.z.string().nullish()})),n.z.object({type:n.z.literal("web_search_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}),n.z.object({type:n.z.literal("code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("bash_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("bash_code_execution_result"),content:n.z.array(n.z.object({type:n.z.literal("bash_code_execution_output"),file_id:n.z.string()})),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number()}),n.z.object({type:n.z.literal("bash_code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("text_editor_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text_editor_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_view_result"),content:n.z.string(),file_type:n.z.string(),num_lines:n.z.number().nullable(),start_line:n.z.number().nullable(),total_lines:n.z.number().nullable()}),n.z.object({type:n.z.literal("text_editor_code_execution_create_result"),is_file_update:n.z.boolean()}),n.z.object({type:n.z.literal("text_editor_code_execution_str_replace_result"),lines:n.z.array(n.z.string()).nullable(),new_lines:n.z.number().nullable(),new_start:n.z.number().nullable(),old_lines:n.z.number().nullable(),old_start:n.z.number().nullable()})])}),n.z.object({type:n.z.literal("tool_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("tool_search_tool_search_result"),tool_references:n.z.array(n.z.object({type:n.z.literal("tool_reference"),tool_name:n.z.string()}))}),n.z.object({type:n.z.literal("tool_search_tool_result_error"),error_code:n.z.string()})])})])),stop_reason:n.z.string().nullish(),stop_sequence:n.z.string().nullish(),usage:n.z.looseObject({input_tokens:n.z.number(),output_tokens:n.z.number(),cache_creation_input_tokens:n.z.number().nullish(),cache_read_input_tokens:n.z.number().nullish()}),container:n.z.object({expires_at:n.z.string(),id:n.z.string(),skills:n.z.array(n.z.object({type:n.z.union([n.z.literal("anthropic"),n.z.literal("custom")]),skill_id:n.z.string(),version:n.z.string()})).nullish()}).nullish(),context_management:n.z.object({applied_edits:n.z.array(n.z.union([n.z.object({type:n.z.literal("clear_tool_uses_20250919"),cleared_tool_uses:n.z.number(),cleared_input_tokens:n.z.number()}),n.z.object({type:n.z.literal("clear_thinking_20251015"),cleared_thinking_turns:n.z.number(),cleared_input_tokens:n.z.number()})]))}).nullish()}))),Vi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message_start"),message:n.z.object({id:n.z.string().nullish(),model:n.z.string().nullish(),role:n.z.string().nullish(),usage:n.z.looseObject({input_tokens:n.z.number(),cache_creation_input_tokens:n.z.number().nullish(),cache_read_input_tokens:n.z.number().nullish()}),content:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),caller:n.z.union([n.z.object({type:n.z.literal("code_execution_20250825"),tool_id:n.z.string()}),n.z.object({type:n.z.literal("direct")})]).optional()})])).nullish(),stop_reason:n.z.string().nullish(),container:n.z.object({expires_at:n.z.string(),id:n.z.string()}).nullish()})}),n.z.object({type:n.z.literal("content_block_start"),index:n.z.number(),content_block:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text"),text:n.z.string()}),n.z.object({type:n.z.literal("thinking"),thinking:n.z.string()}),n.z.object({type:n.z.literal("tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.record(n.z.string(),n.z.unknown()).optional(),caller:n.z.union([n.z.object({type:n.z.literal("code_execution_20250825"),tool_id:n.z.string()}),n.z.object({type:n.z.literal("direct")})]).optional()}),n.z.object({type:n.z.literal("redacted_thinking"),data:n.z.string()}),n.z.object({type:n.z.literal("server_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.record(n.z.string(),n.z.unknown()).nullish()}),n.z.object({type:n.z.literal("mcp_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),server_name:n.z.string()}),n.z.object({type:n.z.literal("mcp_tool_result"),tool_use_id:n.z.string(),is_error:n.z.boolean(),content:n.z.array(n.z.union([n.z.string(),n.z.object({type:n.z.literal("text"),text:n.z.string()})]))}),n.z.object({type:n.z.literal("web_fetch_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("web_fetch_result"),url:n.z.string(),retrieved_at:n.z.string(),content:n.z.object({type:n.z.literal("document"),title:n.z.string().nullable(),citations:n.z.object({enabled:n.z.boolean()}).optional(),source:n.z.union([n.z.object({type:n.z.literal("base64"),media_type:n.z.literal("application/pdf"),data:n.z.string()}),n.z.object({type:n.z.literal("text"),media_type:n.z.literal("text/plain"),data:n.z.string()})])})}),n.z.object({type:n.z.literal("web_fetch_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("web_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.array(n.z.object({type:n.z.literal("web_search_result"),url:n.z.string(),title:n.z.string(),encrypted_content:n.z.string(),page_age:n.z.string().nullish()})),n.z.object({type:n.z.literal("web_search_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}),n.z.object({type:n.z.literal("code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("bash_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("bash_code_execution_result"),content:n.z.array(n.z.object({type:n.z.literal("bash_code_execution_output"),file_id:n.z.string()})),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number()}),n.z.object({type:n.z.literal("bash_code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("text_editor_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text_editor_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_view_result"),content:n.z.string(),file_type:n.z.string(),num_lines:n.z.number().nullable(),start_line:n.z.number().nullable(),total_lines:n.z.number().nullable()}),n.z.object({type:n.z.literal("text_editor_code_execution_create_result"),is_file_update:n.z.boolean()}),n.z.object({type:n.z.literal("text_editor_code_execution_str_replace_result"),lines:n.z.array(n.z.string()).nullable(),new_lines:n.z.number().nullable(),new_start:n.z.number().nullable(),old_lines:n.z.number().nullable(),old_start:n.z.number().nullable()})])}),n.z.object({type:n.z.literal("tool_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("tool_search_tool_search_result"),tool_references:n.z.array(n.z.object({type:n.z.literal("tool_reference"),tool_name:n.z.string()}))}),n.z.object({type:n.z.literal("tool_search_tool_result_error"),error_code:n.z.string()})])})])}),n.z.object({type:n.z.literal("content_block_delta"),index:n.z.number(),delta:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("input_json_delta"),partial_json:n.z.string()}),n.z.object({type:n.z.literal("text_delta"),text:n.z.string()}),n.z.object({type:n.z.literal("thinking_delta"),thinking:n.z.string()}),n.z.object({type:n.z.literal("signature_delta"),signature:n.z.string()}),n.z.object({type:n.z.literal("citations_delta"),citation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("web_search_result_location"),cited_text:n.z.string(),url:n.z.string(),title:n.z.string(),encrypted_index:n.z.string()}),n.z.object({type:n.z.literal("page_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_page_number:n.z.number(),end_page_number:n.z.number()}),n.z.object({type:n.z.literal("char_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_char_index:n.z.number(),end_char_index:n.z.number()})])})])}),n.z.object({type:n.z.literal("content_block_stop"),index:n.z.number()}),n.z.object({type:n.z.literal("error"),error:n.z.object({type:n.z.string(),message:n.z.string()})}),n.z.object({type:n.z.literal("message_delta"),delta:n.z.object({stop_reason:n.z.string().nullish(),stop_sequence:n.z.string().nullish(),container:n.z.object({expires_at:n.z.string(),id:n.z.string(),skills:n.z.array(n.z.object({type:n.z.union([n.z.literal("anthropic"),n.z.literal("custom")]),skill_id:n.z.string(),version:n.z.string()})).nullish()}).nullish(),context_management:n.z.object({applied_edits:n.z.array(n.z.union([n.z.object({type:n.z.literal("clear_tool_uses_20250919"),cleared_tool_uses:n.z.number(),cleared_input_tokens:n.z.number()}),n.z.object({type:n.z.literal("clear_thinking_20251015"),cleared_thinking_turns:n.z.number(),cleared_input_tokens:n.z.number()})]))}).nullish()}),usage:n.z.looseObject({output_tokens:n.z.number(),cache_creation_input_tokens:n.z.number().nullish()})}),n.z.object({type:n.z.literal("message_stop")}),n.z.object({type:n.z.literal("ping")})]))),Nn=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({signature:n.z.string().optional(),redactedData:n.z.string().optional()}))),Yi=n.z.object({citations:n.z.object({enabled:n.z.boolean()}).optional(),title:n.z.string().optional(),context:n.z.string().optional()}),zi=n.z.object({sendReasoning:n.z.boolean().optional(),structuredOutputMode:n.z.enum(["outputFormat","jsonTool","auto"]).optional(),thinking:n.z.object({type:n.z.union([n.z.literal("enabled"),n.z.literal("disabled")]),budgetTokens:n.z.number().optional()}).optional(),disableParallelToolUse:n.z.boolean().optional(),cacheControl:n.z.object({type:n.z.literal("ephemeral"),ttl:n.z.union([n.z.literal("5m"),n.z.literal("1h")]).optional()}).optional(),mcpServers:n.z.array(n.z.object({type:n.z.literal("url"),name:n.z.string(),url:n.z.string(),authorizationToken:n.z.string().nullish(),toolConfiguration:n.z.object({enabled:n.z.boolean().nullish(),allowedTools:n.z.array(n.z.string()).nullish()}).nullish()})).optional(),container:n.z.object({id:n.z.string().optional(),skills:n.z.array(n.z.object({type:n.z.union([n.z.literal("anthropic"),n.z.literal("custom")]),skillId:n.z.string(),version:n.z.string().optional()})).optional()}).optional(),toolStreaming:n.z.boolean().optional(),effort:n.z.enum(["low","medium","high"]).optional(),contextManagement:n.z.object({edits:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("clear_tool_uses_20250919"),trigger:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("input_tokens"),value:n.z.number()}),n.z.object({type:n.z.literal("tool_uses"),value:n.z.number()})]).optional(),keep:n.z.object({type:n.z.literal("tool_uses"),value:n.z.number()}).optional(),clearAtLeast:n.z.object({type:n.z.literal("input_tokens"),value:n.z.number()}).optional(),clearToolInputs:n.z.boolean().optional(),excludeTools:n.z.array(n.z.string()).optional()}),n.z.object({type:n.z.literal("clear_thinking_20251015"),keep:n.z.union([n.z.literal("all"),n.z.object({type:n.z.literal("thinking_turns"),value:n.z.number()})]).optional()})]))}).optional()}),sa=class{constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(x,F){var ne;let he,Ee=(ne=(he=x?.anthropic)==null?void 0:he.cacheControl)!=null?ne:he?.cache_control;if(Ee)return F.canCache?(this.breakpointCount++,this.breakpointCount>4?void this.warnings.push({type:"unsupported",feature:"cacheControl breakpoint limit",details:`Maximum 4 cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`}):Ee):void this.warnings.push({type:"unsupported",feature:"cache_control on non-cacheable context",details:`cache_control cannot be set on ${F.type}. It will be ignored.`})}getWarnings(){return this.warnings}},Oa=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({maxCharacters:n.z.number().optional()}))),ni=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),Na=(0,p.createProviderToolFactory)({id:"anthropic.text_editor_20250728",inputSchema:ni}),Oi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({maxUses:n.z.number().optional(),allowedDomains:n.z.array(n.z.string()).optional(),blockedDomains:n.z.array(n.z.string()).optional(),userLocation:n.z.object({type:n.z.literal("approximate"),city:n.z.string().optional(),region:n.z.string().optional(),country:n.z.string().optional(),timezone:n.z.string().optional()}).optional()}))),Ni=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.array(n.z.object({url:n.z.string(),title:n.z.string().nullable(),pageAge:n.z.string().nullable(),encryptedContent:n.z.string(),type:n.z.literal("web_search_result")})))),ho=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({query:n.z.string()}))),va=(0,p.createProviderToolFactoryWithOutputSchema)({id:"anthropic.web_search_20250305",inputSchema:ho,outputSchema:Ni}),Jo=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({maxUses:n.z.number().optional(),allowedDomains:n.z.array(n.z.string()).optional(),blockedDomains:n.z.array(n.z.string()).optional(),citations:n.z.object({enabled:n.z.boolean()}).optional(),maxContentTokens:n.z.number().optional()}))),ns=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({type:n.z.literal("web_fetch_result"),url:n.z.string(),content:n.z.object({type:n.z.literal("document"),title:n.z.string().nullable(),citations:n.z.object({enabled:n.z.boolean()}).optional(),source:n.z.union([n.z.object({type:n.z.literal("base64"),mediaType:n.z.literal("application/pdf"),data:n.z.string()}),n.z.object({type:n.z.literal("text"),mediaType:n.z.literal("text/plain"),data:n.z.string()})])}),retrievedAt:n.z.string().nullable()}))),bi=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({url:n.z.string()}))),xo=(0,p.createProviderToolFactoryWithOutputSchema)({id:"anthropic.web_fetch_20250910",inputSchema:bi,outputSchema:ns});async function Hi({tools:x,toolChoice:F,disableParallelToolUse:ne,cacheControlValidator:he,supportsStructuredOutput:Ee}){var Te;x=x?.length?x:void 0;let ae=[],fe=new Set,He=he||new sa;if(x==null)return{tools:void 0,toolChoice:void 0,toolWarnings:ae,betas:fe};let pe=[];for(let Ke of x)switch(Ke.type){case"function":{let mt=He.getCacheControl(Ke.providerOptions,{type:"tool definition",canCache:!0}),We=(Te=Ke.providerOptions)==null?void 0:Te.anthropic,jt=We?.deferLoading,St=We?.allowedCallers;pe.push({name:Ke.name,description:Ke.description,input_schema:Ke.inputSchema,cache_control:mt,...Ee===!0&&Ke.strict!=null?{strict:Ke.strict}:{},...jt!=null?{defer_loading:jt}:{},...St!=null?{allowed_callers:St}:{},...Ke.inputExamples!=null?{input_examples:Ke.inputExamples.map(Xe=>Xe.input)}:{}}),Ee===!0&&fe.add("structured-outputs-2025-11-13"),(Ke.inputExamples!=null||St!=null)&&fe.add("advanced-tool-use-2025-11-20");break}case"provider":switch(Ke.id){case"anthropic.code_execution_20250522":fe.add("code-execution-2025-05-22"),pe.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break;case"anthropic.code_execution_20250825":fe.add("code-execution-2025-08-25"),pe.push({type:"code_execution_20250825",name:"code_execution"});break;case"anthropic.computer_20250124":fe.add("computer-use-2025-01-24"),pe.push({name:"computer",type:"computer_20250124",display_width_px:Ke.args.displayWidthPx,display_height_px:Ke.args.displayHeightPx,display_number:Ke.args.displayNumber,cache_control:void 0});break;case"anthropic.computer_20241022":fe.add("computer-use-2024-10-22"),pe.push({name:"computer",type:"computer_20241022",display_width_px:Ke.args.displayWidthPx,display_height_px:Ke.args.displayHeightPx,display_number:Ke.args.displayNumber,cache_control:void 0});break;case"anthropic.text_editor_20250124":fe.add("computer-use-2025-01-24"),pe.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break;case"anthropic.text_editor_20241022":fe.add("computer-use-2024-10-22"),pe.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break;case"anthropic.text_editor_20250429":fe.add("computer-use-2025-01-24"),pe.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break;case"anthropic.text_editor_20250728":{let mt=await(0,p.validateTypes)({value:Ke.args,schema:Oa});pe.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:mt.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":fe.add("computer-use-2025-01-24"),pe.push({name:"bash",type:"bash_20250124",cache_control:void 0});break;case"anthropic.bash_20241022":fe.add("computer-use-2024-10-22"),pe.push({name:"bash",type:"bash_20241022",cache_control:void 0});break;case"anthropic.memory_20250818":fe.add("context-management-2025-06-27"),pe.push({name:"memory",type:"memory_20250818"});break;case"anthropic.web_fetch_20250910":{fe.add("web-fetch-2025-09-10");let mt=await(0,p.validateTypes)({value:Ke.args,schema:Jo});pe.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:mt.maxUses,allowed_domains:mt.allowedDomains,blocked_domains:mt.blockedDomains,citations:mt.citations,max_content_tokens:mt.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let mt=await(0,p.validateTypes)({value:Ke.args,schema:Oi});pe.push({type:"web_search_20250305",name:"web_search",max_uses:mt.maxUses,allowed_domains:mt.allowedDomains,blocked_domains:mt.blockedDomains,user_location:mt.userLocation,cache_control:void 0});break}case"anthropic.tool_search_regex_20251119":fe.add("advanced-tool-use-2025-11-20"),pe.push({type:"tool_search_tool_regex_20251119",name:"tool_search_tool_regex"});break;case"anthropic.tool_search_bm25_20251119":fe.add("advanced-tool-use-2025-11-20"),pe.push({type:"tool_search_tool_bm25_20251119",name:"tool_search_tool_bm25"});break;default:ae.push({type:"unsupported",feature:`provider-defined tool ${Ke.id}`})}break;default:ae.push({type:"unsupported",feature:`tool ${Ke}`})}if(F==null)return{tools:pe,toolChoice:ne?{type:"auto",disable_parallel_tool_use:ne}:void 0,toolWarnings:ae,betas:fe};let nt=F.type;switch(nt){case"auto":return{tools:pe,toolChoice:{type:"auto",disable_parallel_tool_use:ne},toolWarnings:ae,betas:fe};case"required":return{tools:pe,toolChoice:{type:"any",disable_parallel_tool_use:ne},toolWarnings:ae,betas:fe};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:ae,betas:fe};case"tool":return{tools:pe,toolChoice:{type:"tool",name:F.toolName,disable_parallel_tool_use:ne},toolWarnings:ae,betas:fe};default:throw new ve.UnsupportedFunctionalityError({functionality:`tool choice type: ${nt}`})}}function Qn(x){var F,ne;let he=x.input_tokens,Ee=x.output_tokens,Te=(F=x.cache_creation_input_tokens)!=null?F:0,ae=(ne=x.cache_read_input_tokens)!=null?ne:0;return{inputTokens:{total:he+Te+ae,noCache:he,cacheRead:ae,cacheWrite:Te},outputTokens:{total:Ee,text:void 0,reasoning:void 0},raw:x}}var rr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}))),Ei=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({code:n.z.string()}))),Nr=(0,p.createProviderToolFactoryWithOutputSchema)({id:"anthropic.code_execution_20250522",inputSchema:Ei,outputSchema:rr}),eo=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}),n.z.object({type:n.z.literal("bash_code_execution_result"),content:n.z.array(n.z.object({type:n.z.literal("bash_code_execution_output"),file_id:n.z.string()})),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number()}),n.z.object({type:n.z.literal("bash_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_view_result"),content:n.z.string(),file_type:n.z.string(),num_lines:n.z.number().nullable(),start_line:n.z.number().nullable(),total_lines:n.z.number().nullable()}),n.z.object({type:n.z.literal("text_editor_code_execution_create_result"),is_file_update:n.z.boolean()}),n.z.object({type:n.z.literal("text_editor_code_execution_str_replace_result"),lines:n.z.array(n.z.string()).nullable(),new_lines:n.z.number().nullable(),new_start:n.z.number().nullable(),old_lines:n.z.number().nullable(),old_start:n.z.number().nullable()})]))),qo=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("programmatic-tool-call"),code:n.z.string()}),n.z.object({type:n.z.literal("bash_code_execution"),command:n.z.string()}),n.z.discriminatedUnion("command",[n.z.object({type:n.z.literal("text_editor_code_execution"),command:n.z.literal("view"),path:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution"),command:n.z.literal("create"),path:n.z.string(),file_text:n.z.string().nullish()}),n.z.object({type:n.z.literal("text_editor_code_execution"),command:n.z.literal("str_replace"),path:n.z.string(),old_str:n.z.string(),new_str:n.z.string()})])]))),is=(0,p.createProviderToolFactoryWithOutputSchema)({id:"anthropic.code_execution_20250825",inputSchema:qo,outputSchema:eo,supportsDeferredResults:!0}),As=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.array(n.z.object({type:n.z.literal("tool_reference"),toolName:n.z.string()})))),Sa=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({pattern:n.z.string(),limit:n.z.number().optional()}))),Ms=(0,p.createProviderToolFactoryWithOutputSchema)({id:"anthropic.tool_search_regex_20251119",inputSchema:Sa,outputSchema:As});async function Ko({prompt:x,sendReasoning:F,warnings:ne,cacheControlValidator:he,toolNameMapping:Ee}){var Te,ae,fe,He,pe,nt,Ke,mt,We,jt,St,Xe,$t,at,Ut;let dr,Ie=new Set,de=function(dt){let Me,Bt=[];for(let Kt of dt){let{role:Tt}=Kt;switch(Tt){case"system":Me?.type!=="system"&&(Me={type:"system",messages:[]},Bt.push(Me)),Me.messages.push(Kt);break;case"assistant":Me?.type!=="assistant"&&(Me={type:"assistant",messages:[]},Bt.push(Me)),Me.messages.push(Kt);break;case"user":case"tool":Me?.type!=="user"&&(Me={type:"user",messages:[]},Bt.push(Me)),Me.messages.push(Kt);break;default:throw Error(`Unsupported role: ${Tt}`)}}return Bt}(x),ke=he||new sa,kr=[];async function At(dt){var Me,Bt;let Kt=await(0,p.parseProviderOptions)({provider:"anthropic",providerOptions:dt,schema:Yi});return(Bt=(Me=Kt?.citations)==null?void 0:Me.enabled)!=null&&Bt}async function zt(dt){let Me=await(0,p.parseProviderOptions)({provider:"anthropic",providerOptions:dt,schema:Yi});return{title:Me?.title,context:Me?.context}}for(let dt=0;dt<de.length;dt++){let Me=de[dt],Bt=dt===de.length-1,Kt=Me.type;switch(Kt){case"system":if(dr!=null)throw new ve.UnsupportedFunctionalityError({functionality:"Multiple system messages that are separated by user/assistant messages"});dr=Me.messages.map(({content:Tt,providerOptions:Dt})=>({type:"text",text:Tt,cache_control:ke.getCacheControl(Dt,{type:"system message",canCache:!0})}));break;case"user":{let Tt=[];for(let Dt of Me.messages){let{role:Ur,content:fr}=Dt;switch(Ur){case"user":for(let sr=0;sr<fr.length;sr++){let Ye=fr[sr],Lt=sr===fr.length-1,yt=(Te=ke.getCacheControl(Ye.providerOptions,{type:"user message part",canCache:!0}))!=null?Te:Lt?ke.getCacheControl(Dt.providerOptions,{type:"user message",canCache:!0}):void 0;switch(Ye.type){case"text":Tt.push({type:"text",text:Ye.text,cache_control:yt});break;case"file":if(Ye.mediaType.startsWith("image/"))Tt.push({type:"image",source:Ye.data instanceof URL?{type:"url",url:Ye.data.toString()}:{type:"base64",media_type:Ye.mediaType==="image/*"?"image/jpeg":Ye.mediaType,data:(0,p.convertToBase64)(Ye.data)},cache_control:yt});else if(Ye.mediaType==="application/pdf"){Ie.add("pdfs-2024-09-25");let la=await At(Ye.providerOptions),qr=await zt(Ye.providerOptions);Tt.push({type:"document",source:Ye.data instanceof URL?{type:"url",url:Ye.data.toString()}:{type:"base64",media_type:"application/pdf",data:(0,p.convertToBase64)(Ye.data)},title:(ae=qr.title)!=null?ae:Ye.filename,...qr.context&&{context:qr.context},...la&&{citations:{enabled:!0}},cache_control:yt})}else if(Ye.mediaType==="text/plain"){let la=await At(Ye.providerOptions),qr=await zt(Ye.providerOptions);Tt.push({type:"document",source:Ye.data instanceof URL?{type:"url",url:Ye.data.toString()}:{type:"text",media_type:"text/plain",data:function(kt){if(typeof kt=="string")return pa.Buffer.from(kt,"base64").toString("utf-8");if(kt instanceof Uint8Array)return new TextDecoder().decode(kt);throw kt instanceof URL?new ve.UnsupportedFunctionalityError({functionality:"URL-based text documents are not supported for citations"}):new ve.UnsupportedFunctionalityError({functionality:`unsupported data type for text documents: ${typeof kt}`})}(Ye.data)},title:(fe=qr.title)!=null?fe:Ye.filename,...qr.context&&{context:qr.context},...la&&{citations:{enabled:!0}},cache_control:yt})}else throw new ve.UnsupportedFunctionalityError({functionality:`media type: ${Ye.mediaType}`})}}break;case"tool":for(let sr=0;sr<fr.length;sr++){let Ye,Lt=fr[sr];if(Lt.type==="tool-approval-response")continue;let yt=sr===fr.length-1,la=(He=ke.getCacheControl(Lt.providerOptions,{type:"tool result part",canCache:!0}))!=null?He:yt?ke.getCacheControl(Dt.providerOptions,{type:"tool result message",canCache:!0}):void 0,qr=Lt.output;switch(qr.type){case"content":Ye=qr.value.map(kt=>{switch(kt.type){case"text":return{type:"text",text:kt.text};case"image-data":return{type:"image",source:{type:"base64",media_type:kt.mediaType,data:kt.data}};case"image-url":return{type:"image",source:{type:"url",url:kt.url}};case"file-url":return{type:"document",source:{type:"url",url:kt.url}};case"file-data":if(kt.mediaType==="application/pdf")return Ie.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:kt.mediaType,data:kt.data}};ne.push({type:"other",message:`unsupported tool content part type: ${kt.type} with media type: ${kt.mediaType}`});return;default:return void ne.push({type:"other",message:`unsupported tool content part type: ${kt.type}`})}}).filter(p.isNonNullable);break;case"text":case"error-text":Ye=qr.value;break;case"execution-denied":Ye=(pe=qr.reason)!=null?pe:"Tool execution denied.";break;default:Ye=JSON.stringify(qr.value)}Tt.push({type:"tool_result",tool_use_id:Lt.toolCallId,content:Ye,is_error:qr.type==="error-text"||qr.type==="error-json"||void 0,cache_control:la})}break;default:throw Error(`Unsupported role: ${Ur}`)}}kr.push({role:"user",content:Tt});break}case"assistant":{let Tt=[],Dt=new Set;for(let Ur=0;Ur<Me.messages.length;Ur++){let fr=Me.messages[Ur],sr=Ur===Me.messages.length-1,{content:Ye}=fr;for(let Lt=0;Lt<Ye.length;Lt++){let yt=Ye[Lt],la=Lt===Ye.length-1,qr=(nt=ke.getCacheControl(yt.providerOptions,{type:"assistant message part",canCache:!0}))!=null?nt:la?ke.getCacheControl(fr.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(yt.type){case"text":Tt.push({type:"text",text:Bt&&sr&&la?yt.text.trim():yt.text,cache_control:qr});break;case"reasoning":if(F){let kt=await(0,p.parseProviderOptions)({provider:"anthropic",providerOptions:yt.providerOptions,schema:Nn});kt!=null?kt.signature!=null?(ke.getCacheControl(yt.providerOptions,{type:"thinking block",canCache:!1}),Tt.push({type:"thinking",thinking:yt.text,signature:kt.signature})):kt.redactedData!=null?(ke.getCacheControl(yt.providerOptions,{type:"redacted thinking block",canCache:!1}),Tt.push({type:"redacted_thinking",data:kt.redactedData})):ne.push({type:"other",message:"unsupported reasoning metadata"}):ne.push({type:"other",message:"unsupported reasoning metadata"})}else ne.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":{if(yt.providerExecuted){let or=Ee.toProviderToolName(yt.toolName);if(((mt=(Ke=yt.providerOptions)==null?void 0:Ke.anthropic)==null?void 0:mt.type)==="mcp-tool-use"){Dt.add(yt.toolCallId);let Wt=(jt=(We=yt.providerOptions)==null?void 0:We.anthropic)==null?void 0:jt.serverName;if(Wt==null||typeof Wt!="string"){ne.push({type:"other",message:"mcp tool use server name is required and must be a string"});break}Tt.push({type:"mcp_tool_use",id:yt.toolCallId,name:yt.toolName,input:yt.input,server_name:Wt,cache_control:qr})}else if(or==="code_execution"&&yt.input!=null&&typeof yt.input=="object"&&"type"in yt.input&&typeof yt.input.type=="string"&&(yt.input.type==="bash_code_execution"||yt.input.type==="text_editor_code_execution"))Tt.push({type:"server_tool_use",id:yt.toolCallId,name:yt.input.type,input:yt.input,cache_control:qr});else if(or==="code_execution"&&yt.input!=null&&typeof yt.input=="object"&&"type"in yt.input&&yt.input.type==="programmatic-tool-call"){let{type:Wt,...ln}=yt.input;Tt.push({type:"server_tool_use",id:yt.toolCallId,name:"code_execution",input:ln,cache_control:qr})}else or==="code_execution"||or==="web_fetch"||or==="web_search"||or==="tool_search_tool_regex"||or==="tool_search_tool_bm25"?Tt.push({type:"server_tool_use",id:yt.toolCallId,name:or,input:yt.input,cache_control:qr}):ne.push({type:"other",message:`provider executed tool call for tool ${yt.toolName} is not supported`});break}let kt=(St=yt.providerOptions)==null?void 0:St.anthropic,Ne=kt?.caller?kt.caller.type==="code_execution_20250825"&&kt.caller.toolId?{type:"code_execution_20250825",tool_id:kt.caller.toolId}:kt.caller.type==="direct"?{type:"direct"}:void 0:void 0;Tt.push({type:"tool_use",id:yt.toolCallId,name:yt.toolName,input:yt.input,...Ne&&{caller:Ne},cache_control:qr});break}case"tool-result":{let kt=Ee.toProviderToolName(yt.toolName);if(Dt.has(yt.toolCallId)){let Ne=yt.output;if(Ne.type!=="json"&&Ne.type!=="error-json"){ne.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}Tt.push({type:"mcp_tool_result",tool_use_id:yt.toolCallId,is_error:Ne.type==="error-json",content:Ne.value,cache_control:qr})}else if(kt==="code_execution"){let Ne=yt.output;if(Ne.type==="error-text"||Ne.type==="error-json"){let or={};try{typeof Ne.value=="string"?or=JSON.parse(Ne.value):typeof Ne.value=="object"&&Ne.value!==null&&(or=Ne.value)}catch{}or.type==="code_execution_tool_result_error"?Tt.push({type:"code_execution_tool_result",tool_use_id:yt.toolCallId,content:{type:"code_execution_tool_result_error",error_code:(Xe=or.errorCode)!=null?Xe:"unknown"},cache_control:qr}):Tt.push({type:"bash_code_execution_tool_result",tool_use_id:yt.toolCallId,cache_control:qr,content:{type:"bash_code_execution_tool_result_error",error_code:($t=or.errorCode)!=null?$t:"unknown"}});break}if(Ne.type!=="json"){ne.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}if(Ne.value==null||typeof Ne.value!="object"||!("type"in Ne.value)||typeof Ne.value.type!="string"){ne.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${yt.toolName}`});break}if(Ne.value.type==="code_execution_result"){let or=await(0,p.validateTypes)({value:Ne.value,schema:rr});Tt.push({type:"code_execution_tool_result",tool_use_id:yt.toolCallId,content:{type:or.type,stdout:or.stdout,stderr:or.stderr,return_code:or.return_code,content:(at=or.content)!=null?at:[]},cache_control:qr})}else{let or=await(0,p.validateTypes)({value:Ne.value,schema:eo});or.type==="code_execution_result"?Tt.push({type:"code_execution_tool_result",tool_use_id:yt.toolCallId,content:{type:or.type,stdout:or.stdout,stderr:or.stderr,return_code:or.return_code,content:(Ut=or.content)!=null?Ut:[]},cache_control:qr}):or.type==="bash_code_execution_result"||or.type==="bash_code_execution_tool_result_error"?Tt.push({type:"bash_code_execution_tool_result",tool_use_id:yt.toolCallId,cache_control:qr,content:or}):Tt.push({type:"text_editor_code_execution_tool_result",tool_use_id:yt.toolCallId,cache_control:qr,content:or})}break}if(kt==="web_fetch"){let Ne=yt.output;if(Ne.type==="error-json"){let Wt=JSON.parse(Ne.value);Tt.push({type:"web_fetch_tool_result",tool_use_id:yt.toolCallId,content:{type:"web_fetch_tool_result_error",error_code:Wt.errorCode},cache_control:qr});break}if(Ne.type!=="json"){ne.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}let or=await(0,p.validateTypes)({value:Ne.value,schema:ns});Tt.push({type:"web_fetch_tool_result",tool_use_id:yt.toolCallId,content:{type:"web_fetch_result",url:or.url,retrieved_at:or.retrievedAt,content:{type:"document",title:or.content.title,citations:or.content.citations,source:{type:or.content.source.type,media_type:or.content.source.mediaType,data:or.content.source.data}}},cache_control:qr});break}if(kt==="web_search"){let Ne=yt.output;if(Ne.type!=="json"){ne.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}let or=await(0,p.validateTypes)({value:Ne.value,schema:Ni});Tt.push({type:"web_search_tool_result",tool_use_id:yt.toolCallId,content:or.map(Wt=>({url:Wt.url,title:Wt.title,page_age:Wt.pageAge,encrypted_content:Wt.encryptedContent,type:Wt.type})),cache_control:qr});break}if(kt==="tool_search_tool_regex"||kt==="tool_search_tool_bm25"){let Ne=yt.output;if(Ne.type!=="json"){ne.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}let or=(await(0,p.validateTypes)({value:Ne.value,schema:As})).map(Wt=>({type:"tool_reference",tool_name:Wt.toolName}));Tt.push({type:"tool_search_tool_result",tool_use_id:yt.toolCallId,content:{type:"tool_search_tool_search_result",tool_references:or},cache_control:qr});break}ne.push({type:"other",message:`provider executed tool result for tool ${yt.toolName} is not supported`})}}}}kr.push({role:"assistant",content:Tt});break}default:throw Error(`content type: ${Kt}`)}}return{prompt:{system:dr,messages:kr},betas:Ie}}function fs({finishReason:x,isJsonResponseFromTool:F}){switch(x){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return F?"stop":"tool-calls";case"max_tokens":case"model_context_window_exceeded":return"length";default:return"other"}}function Rs(x,F,ne){var he;if(x.type!=="page_location"&&x.type!=="char_location")return;let Ee=F[x.document_index];if(Ee)return{type:"source",sourceType:"document",id:ne(),mediaType:Ee.mediaType,title:(he=x.document_title)!=null?he:Ee.title,filename:Ee.filename,providerMetadata:{anthropic:x.type==="page_location"?{citedText:x.cited_text,startPageNumber:x.start_page_number,endPageNumber:x.end_page_number}:{citedText:x.cited_text,startCharIndex:x.start_char_index,endCharIndex:x.end_char_index}}}}var fo=class{constructor(x,F){var ne;this.specificationVersion="v3",this.modelId=x,this.config=F,this.generateId=(ne=F.generateId)!=null?ne:p.generateId}supportsUrl(x){return x.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var x,F,ne;return(ne=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?ne:{}}async getArgs({userSuppliedBetas:x,prompt:F,maxOutputTokens:ne,temperature:he,topP:Ee,topK:Te,frequencyPenalty:ae,presencePenalty:fe,stopSequences:He,responseFormat:pe,seed:nt,tools:Ke,toolChoice:mt,providerOptions:We,stream:jt}){var St,Xe,$t,at,Ut,dr;let Ie=[];ae!=null&&Ie.push({type:"unsupported",feature:"frequencyPenalty"}),fe!=null&&Ie.push({type:"unsupported",feature:"presencePenalty"}),nt!=null&&Ie.push({type:"unsupported",feature:"seed"}),he!=null&&he>1?(Ie.push({type:"unsupported",feature:"temperature",details:`${he} exceeds anthropic maximum of 1.0. clamped to 1.0`}),he=1):he!=null&&he<0&&(Ie.push({type:"unsupported",feature:"temperature",details:`${he} is below anthropic minimum of 0. clamped to 0`}),he=0),pe?.type==="json"&&pe.schema==null&&Ie.push({type:"unsupported",feature:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."});let de=await(0,p.parseProviderOptions)({provider:"anthropic",providerOptions:We,schema:zi}),{maxOutputTokens:ke,supportsStructuredOutput:kr,isKnownModel:At}=function(Wt){return Wt.includes("claude-sonnet-4-5")||Wt.includes("claude-opus-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0}:Wt.includes("claude-opus-4-1")?{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0}:Wt.includes("claude-sonnet-4-")||Wt.includes("claude-3-7-sonnet")||Wt.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0}:Wt.includes("claude-opus-4-")?{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0}:Wt.includes("claude-3-5-haiku")?{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0}:Wt.includes("claude-3-haiku")?{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0}:{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}(this.modelId),zt=((St=this.config.supportsNativeStructuredOutput)==null||St)&&kr,dt=(Xe=de?.structuredOutputMode)!=null?Xe:"auto",Me=dt==="outputFormat"||dt==="auto"&&zt,Bt=pe?.type!=="json"||pe.schema==null||Me?void 0:{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:pe.schema},Kt=de?.contextManagement,Tt=new sa,Dt=(0,p.createToolNameMapping)({tools:Ke,providerToolNames:{"anthropic.code_execution_20250522":"code_execution","anthropic.code_execution_20250825":"code_execution","anthropic.computer_20241022":"computer","anthropic.computer_20250124":"computer","anthropic.text_editor_20241022":"str_replace_editor","anthropic.text_editor_20250124":"str_replace_editor","anthropic.text_editor_20250429":"str_replace_based_edit_tool","anthropic.text_editor_20250728":"str_replace_based_edit_tool","anthropic.bash_20241022":"bash","anthropic.bash_20250124":"bash","anthropic.memory_20250818":"memory","anthropic.web_search_20250305":"web_search","anthropic.web_fetch_20250910":"web_fetch","anthropic.tool_search_regex_20251119":"tool_search_tool_regex","anthropic.tool_search_bm25_20251119":"tool_search_tool_bm25"}}),{prompt:Ur,betas:fr}=await Ko({prompt:F,sendReasoning:($t=de?.sendReasoning)==null||$t,warnings:Ie,cacheControlValidator:Tt,toolNameMapping:Dt}),sr=((at=de?.thinking)==null?void 0:at.type)==="enabled",Ye=(Ut=de?.thinking)==null?void 0:Ut.budgetTokens,Lt=ne??ke,yt={model:this.modelId,max_tokens:Lt,temperature:he,top_k:Te,top_p:Ee,stop_sequences:He,...sr&&{thinking:{type:"enabled",budget_tokens:Ye}},...de?.effort&&{output_config:{effort:de.effort}},...Me&&pe?.type==="json"&&pe.schema!=null&&{output_format:{type:"json_schema",schema:pe.schema}},...de?.mcpServers&&de.mcpServers.length>0&&{mcp_servers:de.mcpServers.map(Wt=>({type:Wt.type,name:Wt.name,url:Wt.url,authorization_token:Wt.authorizationToken,tool_configuration:Wt.toolConfiguration?{allowed_tools:Wt.toolConfiguration.allowedTools,enabled:Wt.toolConfiguration.enabled}:void 0}))},...de?.container&&{container:de.container.skills&&de.container.skills.length>0?{id:de.container.id,skills:de.container.skills.map(Wt=>({type:Wt.type,skill_id:Wt.skillId,version:Wt.version}))}:de.container.id},system:Ur.system,messages:Ur.messages,...Kt&&{context_management:{edits:Kt.edits.map(Wt=>{let ln=Wt.type;switch(ln){case"clear_tool_uses_20250919":return{type:Wt.type,...Wt.trigger!==void 0&&{trigger:Wt.trigger},...Wt.keep!==void 0&&{keep:Wt.keep},...Wt.clearAtLeast!==void 0&&{clear_at_least:Wt.clearAtLeast},...Wt.clearToolInputs!==void 0&&{clear_tool_inputs:Wt.clearToolInputs},...Wt.excludeTools!==void 0&&{exclude_tools:Wt.excludeTools}};case"clear_thinking_20251015":return{type:Wt.type,...Wt.keep!==void 0&&{keep:Wt.keep}};default:Ie.push({type:"other",message:`Unknown context management strategy: ${ln}`});return}}).filter(Wt=>Wt!==void 0)}}};sr&&(Ye==null&&(Ie.push({type:"compatibility",feature:"extended thinking",details:"thinking budget is required when thinking is enabled. using default budget of 1024 tokens."}),yt.thinking={type:"enabled",budget_tokens:1024},Ye=1024),yt.temperature!=null&&(yt.temperature=void 0,Ie.push({type:"unsupported",feature:"temperature",details:"temperature is not supported when thinking is enabled"})),Te!=null&&(yt.top_k=void 0,Ie.push({type:"unsupported",feature:"topK",details:"topK is not supported when thinking is enabled"})),Ee!=null&&(yt.top_p=void 0,Ie.push({type:"unsupported",feature:"topP",details:"topP is not supported when thinking is enabled"})),yt.max_tokens=Lt+(Ye??0)),At&&yt.max_tokens>ke&&(ne!=null&&Ie.push({type:"unsupported",feature:"maxOutputTokens",details:`${yt.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${ke} max output tokens. The max output tokens have been limited to ${ke}.`}),yt.max_tokens=ke),de?.mcpServers&&de.mcpServers.length>0&&fr.add("mcp-client-2025-04-04"),Kt&&fr.add("context-management-2025-06-27"),de?.container&&de.container.skills&&de.container.skills.length>0&&(fr.add("code-execution-2025-08-25"),fr.add("skills-2025-10-02"),fr.add("files-api-2025-04-14"),Ke?.some(Wt=>Wt.type==="provider"&&Wt.id==="anthropic.code_execution_20250825")||Ie.push({type:"other",message:"code execution tool is required when using skills"})),de?.effort&&fr.add("effort-2025-11-24"),jt&&((dr=de?.toolStreaming)==null||dr)&&fr.add("fine-grained-tool-streaming-2025-05-14"),Me&&pe?.type==="json"&&pe.schema!=null&&fr.add("structured-outputs-2025-11-13");let{tools:la,toolChoice:qr,toolWarnings:kt,betas:Ne}=await Hi(Bt!=null?{tools:[...Ke??[],Bt],toolChoice:{type:"required"},disableParallelToolUse:!0,cacheControlValidator:Tt,supportsStructuredOutput:zt}:{tools:Ke??[],toolChoice:mt,disableParallelToolUse:de?.disableParallelToolUse,cacheControlValidator:Tt,supportsStructuredOutput:zt}),or=Tt.getWarnings();return{args:{...yt,tools:la,tool_choice:qr,stream:jt===!0||void 0},warnings:[...Ie,...kt,...or],betas:new Set([...fr,...Ne,...x]),usesJsonResponseTool:Bt!=null,toolNameMapping:Dt}}async getHeaders({betas:x,headers:F}){return(0,p.combineHeaders)(await(0,p.resolve)(this.config.headers),F,x.size>0?{"anthropic-beta":Array.from(x).join(",")}:{})}async getBetasFromHeaders(x){var F,ne;let he=(F=(await(0,p.resolve)(this.config.headers))["anthropic-beta"])!=null?F:"",Ee=(ne=x?.["anthropic-beta"])!=null?ne:"";return new Set([...he.toLowerCase().split(","),...Ee.toLowerCase().split(",")].map(Te=>Te.trim()).filter(Te=>Te!==""))}buildRequestUrl(x){var F,ne,he;return(he=(ne=(F=this.config).buildRequestUrl)==null?void 0:ne.call(F,this.config.baseURL,x))!=null?he:`${this.config.baseURL}/messages`}transformRequestBody(x){var F,ne,he;return(he=(ne=(F=this.config).transformRequestBody)==null?void 0:ne.call(F,x))!=null?he:x}extractCitationDocuments(x){return x.filter(F=>F.role==="user").flatMap(F=>F.content).filter(F=>{var ne,he;if(F.type!=="file"||F.mediaType!=="application/pdf"&&F.mediaType!=="text/plain")return!1;let Ee=(ne=F.providerOptions)==null?void 0:ne.anthropic,Te=Ee?.citations;return(he=Te?.enabled)!=null&&he}).map(F=>{var ne;return{title:(ne=F.filename)!=null?ne:"Untitled Document",filename:F.filename,mediaType:F.mediaType}})}async doGenerate(x){var F,ne,he,Ee,Te,ae,fe,He,pe,nt;let{args:Ke,warnings:mt,betas:We,usesJsonResponseTool:jt,toolNameMapping:St}=await this.getArgs({...x,stream:!1,userSuppliedBetas:await this.getBetasFromHeaders(x.headers)}),Xe=this.extractCitationDocuments(x.prompt),{responseHeaders:$t,value:at,rawValue:Ut}=await(0,p.postJsonToApi)({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:We,headers:x.headers}),body:this.transformRequestBody(Ke),failedResponseHandler:Sr,successfulResponseHandler:(0,p.createJsonResponseHandler)(Ri),abortSignal:x.abortSignal,fetch:this.config.fetch}),dr=[],Ie={},de=!1;for(let ke of at.content)switch(ke.type){case"text":if(!jt&&(dr.push({type:"text",text:ke.text}),ke.citations))for(let kr of ke.citations){let At=Rs(kr,Xe,this.generateId);At&&dr.push(At)}break;case"thinking":dr.push({type:"reasoning",text:ke.thinking,providerMetadata:{anthropic:{signature:ke.signature}}});break;case"redacted_thinking":dr.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:ke.data}}});break;case"tool_use":if(jt&&ke.name==="json")de=!0,dr.push({type:"text",text:JSON.stringify(ke.input)});else{let kr=ke.caller,At=kr?{type:kr.type,toolId:"tool_id"in kr?kr.tool_id:void 0}:void 0;dr.push({type:"tool-call",toolCallId:ke.id,toolName:ke.name,input:JSON.stringify(ke.input),...At&&{providerMetadata:{anthropic:{caller:At}}}})}break;case"server_tool_use":if(ke.name==="text_editor_code_execution"||ke.name==="bash_code_execution")dr.push({type:"tool-call",toolCallId:ke.id,toolName:St.toCustomToolName("code_execution"),input:JSON.stringify({type:ke.name,...ke.input}),providerExecuted:!0});else if(ke.name==="web_search"||ke.name==="code_execution"||ke.name==="web_fetch"){let kr=ke.name==="code_execution"&&ke.input!=null&&typeof ke.input=="object"&&"code"in ke.input&&!("type"in ke.input)?{type:"programmatic-tool-call",...ke.input}:ke.input;dr.push({type:"tool-call",toolCallId:ke.id,toolName:St.toCustomToolName(ke.name),input:JSON.stringify(kr),providerExecuted:!0})}else(ke.name==="tool_search_tool_regex"||ke.name==="tool_search_tool_bm25")&&dr.push({type:"tool-call",toolCallId:ke.id,toolName:St.toCustomToolName(ke.name),input:JSON.stringify(ke.input),providerExecuted:!0});break;case"mcp_tool_use":Ie[ke.id]={type:"tool-call",toolCallId:ke.id,toolName:ke.name,input:JSON.stringify(ke.input),providerExecuted:!0,dynamic:!0,providerMetadata:{anthropic:{type:"mcp-tool-use",serverName:ke.server_name}}},dr.push(Ie[ke.id]);break;case"mcp_tool_result":dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:Ie[ke.tool_use_id].toolName,isError:ke.is_error,result:ke.content,dynamic:!0,providerMetadata:Ie[ke.tool_use_id].providerMetadata});break;case"web_fetch_tool_result":ke.content.type==="web_fetch_result"?dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("web_fetch"),result:{type:"web_fetch_result",url:ke.content.url,retrievedAt:ke.content.retrieved_at,content:{type:ke.content.content.type,title:ke.content.content.title,citations:ke.content.content.citations,source:{type:ke.content.content.source.type,mediaType:ke.content.content.source.media_type,data:ke.content.content.source.data}}}}):ke.content.type==="web_fetch_tool_result_error"&&dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("web_fetch"),isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:ke.content.error_code}});break;case"web_search_tool_result":if(Array.isArray(ke.content))for(let kr of(dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("web_search"),result:ke.content.map(At=>{var zt;return{url:At.url,title:At.title,pageAge:(zt=At.page_age)!=null?zt:null,encryptedContent:At.encrypted_content,type:At.type}})}),ke.content))dr.push({type:"source",sourceType:"url",id:this.generateId(),url:kr.url,title:kr.title,providerMetadata:{anthropic:{pageAge:(F=kr.page_age)!=null?F:null}}});else dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("web_search"),isError:!0,result:{type:"web_search_tool_result_error",errorCode:ke.content.error_code}});break;case"code_execution_tool_result":ke.content.type==="code_execution_result"?dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("code_execution"),result:{type:ke.content.type,stdout:ke.content.stdout,stderr:ke.content.stderr,return_code:ke.content.return_code,content:(ne=ke.content.content)!=null?ne:[]}}):ke.content.type==="code_execution_tool_result_error"&&dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("code_execution"),isError:!0,result:{type:"code_execution_tool_result_error",errorCode:ke.content.error_code}});break;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("code_execution"),result:ke.content});break;case"tool_search_tool_result":ke.content.type==="tool_search_tool_search_result"?dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("tool_search"),result:ke.content.tool_references.map(kr=>({type:kr.type,toolName:kr.tool_name}))}):dr.push({type:"tool-result",toolCallId:ke.tool_use_id,toolName:St.toCustomToolName("tool_search"),isError:!0,result:{type:"tool_search_tool_result_error",errorCode:ke.content.error_code}})}return{content:dr,finishReason:{unified:fs({finishReason:at.stop_reason,isJsonResponseFromTool:de}),raw:(he=at.stop_reason)!=null?he:void 0},usage:Qn(at.usage),request:{body:Ke},response:{id:(Ee=at.id)!=null?Ee:void 0,modelId:(Te=at.model)!=null?Te:void 0,headers:$t,body:Ut},warnings:mt,providerMetadata:{anthropic:{usage:at.usage,cacheCreationInputTokens:(ae=at.usage.cache_creation_input_tokens)!=null?ae:null,stopSequence:(fe=at.stop_sequence)!=null?fe:null,container:at.container?{expiresAt:at.container.expires_at,id:at.container.id,skills:(pe=(He=at.container.skills)==null?void 0:He.map(ke=>({type:ke.type,skillId:ke.skill_id,version:ke.version})))!=null?pe:null}:null,contextManagement:(nt=na(at.context_management))!=null?nt:null}}}}async doStream(x){var F,ne;let he,Ee,{args:Te,warnings:ae,betas:fe,usesJsonResponseTool:He,toolNameMapping:pe}=await this.getArgs({...x,stream:!0,userSuppliedBetas:await this.getBetasFromHeaders(x.headers)}),nt=this.extractCitationDocuments(x.prompt),Ke=this.buildRequestUrl(!0),{responseHeaders:mt,value:We}=await(0,p.postJsonToApi)({url:Ke,headers:await this.getHeaders({betas:fe,headers:x.headers}),body:this.transformRequestBody(Te),failedResponseHandler:Sr,successfulResponseHandler:(0,p.createEventSourceResponseHandler)(Vi),abortSignal:x.abortSignal,fetch:this.config.fetch}),jt={unified:"other",raw:void 0},St={input_tokens:0,output_tokens:0,cache_creation_input_tokens:0,cache_read_input_tokens:0},Xe={},$t={},at=null,Ut=null,dr=null,Ie=null,de=!1,ke=this.generateId,[kr,At]=We.pipeThrough(new TransformStream({start(dt){dt.enqueue({type:"stream-start",warnings:ae})},transform(dt,Me){var Bt,Kt,Tt,Dt,Ur,fr,sr,Ye,Lt,yt,la,qr;if(x.includeRawChunks&&Me.enqueue({type:"raw",rawValue:dt.rawValue}),!dt.success)return void Me.enqueue({type:"error",error:dt.error});let kt=dt.value;switch(kt.type){case"ping":return;case"content_block_start":{let Ne=kt.content_block,or=Ne.type;switch(Ee=or,or){case"text":if(He)return;Xe[kt.index]={type:"text"},Me.enqueue({type:"text-start",id:String(kt.index)});return;case"thinking":Xe[kt.index]={type:"reasoning"},Me.enqueue({type:"reasoning-start",id:String(kt.index)});return;case"redacted_thinking":Xe[kt.index]={type:"reasoning"},Me.enqueue({type:"reasoning-start",id:String(kt.index),providerMetadata:{anthropic:{redactedData:Ne.data}}});return;case"tool_use":if(He&&Ne.name==="json")de=!0,Xe[kt.index]={type:"text"},Me.enqueue({type:"text-start",id:String(kt.index)});else{let Wt=Ne.caller,ln=Wt?{type:Wt.type,toolId:"tool_id"in Wt?Wt.tool_id:void 0}:void 0,ja=Ne.input&&Object.keys(Ne.input).length>0?JSON.stringify(Ne.input):"";Xe[kt.index]={type:"tool-call",toolCallId:Ne.id,toolName:Ne.name,input:ja,firstDelta:ja.length===0,...ln&&{caller:ln}},Me.enqueue({type:"tool-input-start",id:Ne.id,toolName:Ne.name})}return;case"server_tool_use":if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(Ne.name)){let Wt=Ne.name==="text_editor_code_execution"||Ne.name==="bash_code_execution"?"code_execution":Ne.name,ln=pe.toCustomToolName(Wt);Xe[kt.index]={type:"tool-call",toolCallId:Ne.id,toolName:ln,input:"",providerExecuted:!0,firstDelta:!0,providerToolName:Ne.name},Me.enqueue({type:"tool-input-start",id:Ne.id,toolName:ln,providerExecuted:!0})}else if(Ne.name==="tool_search_tool_regex"||Ne.name==="tool_search_tool_bm25"){let Wt=pe.toCustomToolName(Ne.name);Xe[kt.index]={type:"tool-call",toolCallId:Ne.id,toolName:Wt,input:"",providerExecuted:!0,firstDelta:!0,providerToolName:Ne.name},Me.enqueue({type:"tool-input-start",id:Ne.id,toolName:Wt,providerExecuted:!0})}return;case"web_fetch_tool_result":Ne.content.type==="web_fetch_result"?Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("web_fetch"),result:{type:"web_fetch_result",url:Ne.content.url,retrievedAt:Ne.content.retrieved_at,content:{type:Ne.content.content.type,title:Ne.content.content.title,citations:Ne.content.content.citations,source:{type:Ne.content.content.source.type,mediaType:Ne.content.content.source.media_type,data:Ne.content.content.source.data}}}}):Ne.content.type==="web_fetch_tool_result_error"&&Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("web_fetch"),isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:Ne.content.error_code}});return;case"web_search_tool_result":if(Array.isArray(Ne.content))for(let Wt of(Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("web_search"),result:Ne.content.map(ln=>{var ja;return{url:ln.url,title:ln.title,pageAge:(ja=ln.page_age)!=null?ja:null,encryptedContent:ln.encrypted_content,type:ln.type}})}),Ne.content))Me.enqueue({type:"source",sourceType:"url",id:ke(),url:Wt.url,title:Wt.title,providerMetadata:{anthropic:{pageAge:(Bt=Wt.page_age)!=null?Bt:null}}});else Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("web_search"),isError:!0,result:{type:"web_search_tool_result_error",errorCode:Ne.content.error_code}});return;case"code_execution_tool_result":Ne.content.type==="code_execution_result"?Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("code_execution"),result:{type:Ne.content.type,stdout:Ne.content.stdout,stderr:Ne.content.stderr,return_code:Ne.content.return_code,content:(Kt=Ne.content.content)!=null?Kt:[]}}):Ne.content.type==="code_execution_tool_result_error"&&Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("code_execution"),isError:!0,result:{type:"code_execution_tool_result_error",errorCode:Ne.content.error_code}});return;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":return void Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("code_execution"),result:Ne.content});case"tool_search_tool_result":Ne.content.type==="tool_search_tool_search_result"?Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("tool_search"),result:Ne.content.tool_references.map(Wt=>({type:Wt.type,toolName:Wt.tool_name}))}):Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:pe.toCustomToolName("tool_search"),isError:!0,result:{type:"tool_search_tool_result_error",errorCode:Ne.content.error_code}});return;case"mcp_tool_use":$t[Ne.id]={type:"tool-call",toolCallId:Ne.id,toolName:Ne.name,input:JSON.stringify(Ne.input),providerExecuted:!0,dynamic:!0,providerMetadata:{anthropic:{type:"mcp-tool-use",serverName:Ne.server_name}}},Me.enqueue($t[Ne.id]);return;case"mcp_tool_result":return void Me.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:$t[Ne.tool_use_id].toolName,isError:Ne.is_error,result:Ne.content,dynamic:!0,providerMetadata:$t[Ne.tool_use_id].providerMetadata});default:throw Error(`Unsupported content block type: ${or}`)}}case"content_block_stop":if(Xe[kt.index]!=null){let Ne=Xe[kt.index];switch(Ne.type){case"text":Me.enqueue({type:"text-end",id:String(kt.index)});break;case"reasoning":Me.enqueue({type:"reasoning-end",id:String(kt.index)});break;case"tool-call":if(!(He&&Ne.toolName==="json")){Me.enqueue({type:"tool-input-end",id:Ne.toolCallId});let or=Ne.input===""?"{}":Ne.input;if(Ne.providerToolName==="code_execution")try{let Wt=JSON.parse(or);Wt!=null&&typeof Wt=="object"&&"code"in Wt&&!("type"in Wt)&&(or=JSON.stringify({type:"programmatic-tool-call",...Wt}))}catch{}Me.enqueue({type:"tool-call",toolCallId:Ne.toolCallId,toolName:Ne.toolName,input:or,providerExecuted:Ne.providerExecuted,...Ne.caller&&{providerMetadata:{anthropic:{caller:Ne.caller}}}})}}delete Xe[kt.index]}Ee=void 0;return;case"content_block_delta":{let Ne=kt.delta.type;switch(Ne){case"text_delta":if(He)return;Me.enqueue({type:"text-delta",id:String(kt.index),delta:kt.delta.text});return;case"thinking_delta":return void Me.enqueue({type:"reasoning-delta",id:String(kt.index),delta:kt.delta.thinking});case"signature_delta":Ee==="thinking"&&Me.enqueue({type:"reasoning-delta",id:String(kt.index),delta:"",providerMetadata:{anthropic:{signature:kt.delta.signature}}});return;case"input_json_delta":{let or=Xe[kt.index],Wt=kt.delta.partial_json;if(Wt.length===0)return;if(de){if(or?.type!=="text")return;Me.enqueue({type:"text-delta",id:String(kt.index),delta:Wt})}else{if(or?.type!=="tool-call")return;or.firstDelta&&(or.providerToolName==="bash_code_execution"||or.providerToolName==="text_editor_code_execution")&&(Wt=`{"type": "${or.providerToolName}",${Wt.substring(1)}`),Me.enqueue({type:"tool-input-delta",id:or.toolCallId,delta:Wt}),or.input+=Wt,or.firstDelta=!1}return}case"citations_delta":{let or=Rs(kt.delta.citation,nt,ke);or&&Me.enqueue(or);return}default:throw Error(`Unsupported delta type: ${Ne}`)}}case"message_start":if(St.input_tokens=kt.message.usage.input_tokens,St.cache_read_input_tokens=(Tt=kt.message.usage.cache_read_input_tokens)!=null?Tt:0,St.cache_creation_input_tokens=(Dt=kt.message.usage.cache_creation_input_tokens)!=null?Dt:0,he={...kt.message.usage},Ut=(Ur=kt.message.usage.cache_creation_input_tokens)!=null?Ur:null,kt.message.container!=null&&(Ie={expiresAt:kt.message.container.expires_at,id:kt.message.container.id,skills:null}),kt.message.stop_reason!=null&&(jt={unified:fs({finishReason:kt.message.stop_reason,isJsonResponseFromTool:de}),raw:kt.message.stop_reason}),Me.enqueue({type:"response-metadata",id:(fr=kt.message.id)!=null?fr:void 0,modelId:(sr=kt.message.model)!=null?sr:void 0}),kt.message.content!=null)for(let Ne=0;Ne<kt.message.content.length;Ne++){let or=kt.message.content[Ne];if(or.type==="tool_use"){let Wt=or.caller,ln=Wt?{type:Wt.type,toolId:"tool_id"in Wt?Wt.tool_id:void 0}:void 0;Me.enqueue({type:"tool-input-start",id:or.id,toolName:or.name});let ja=JSON.stringify((Ye=or.input)!=null?Ye:{});Me.enqueue({type:"tool-input-delta",id:or.id,delta:ja}),Me.enqueue({type:"tool-input-end",id:or.id}),Me.enqueue({type:"tool-call",toolCallId:or.id,toolName:or.name,input:ja,...ln&&{providerMetadata:{anthropic:{caller:ln}}}})}}return;case"message_delta":St.output_tokens=kt.usage.output_tokens,jt={unified:fs({finishReason:kt.delta.stop_reason,isJsonResponseFromTool:de}),raw:(Lt=kt.delta.stop_reason)!=null?Lt:void 0},dr=(yt=kt.delta.stop_sequence)!=null?yt:null,Ie=kt.delta.container!=null?{expiresAt:kt.delta.container.expires_at,id:kt.delta.container.id,skills:(qr=(la=kt.delta.container.skills)==null?void 0:la.map(Ne=>({type:Ne.type,skillId:Ne.skill_id,version:Ne.version})))!=null?qr:null}:null,kt.delta.context_management&&(at=na(kt.delta.context_management)),he={...he,...kt.usage};return;case"message_stop":return void Me.enqueue({type:"finish",finishReason:jt,usage:Qn(St),providerMetadata:{anthropic:{usage:he??null,cacheCreationInputTokens:Ut,stopSequence:dr,container:Ie,contextManagement:at}}});case"error":return void Me.enqueue({type:"error",error:kt.error});default:throw Error(`Unsupported chunk type: ${kt}`)}}})).tee(),zt=kr.getReader();try{await zt.read();let dt=await zt.read();if(((F=dt.value)==null?void 0:F.type)==="raw"&&(dt=await zt.read()),((ne=dt.value)==null?void 0:ne.type)==="error"){let Me=dt.value.error;throw new ve.APICallError({message:Me.message,url:Ke,requestBodyValues:Te,statusCode:Me.type==="overloaded_error"?529:500,responseHeaders:mt,responseBody:JSON.stringify(Me),isRetryable:Me.type==="overloaded_error"})}}finally{zt.cancel().catch(()=>{}),zt.releaseLock()}return{stream:At,request:{body:Te},response:{headers:mt}}}};function na(x){return x?{appliedEdits:x.applied_edits.map(F=>{switch(F.type){case"clear_tool_uses_20250919":return{type:F.type,clearedToolUses:F.cleared_tool_uses,clearedInputTokens:F.cleared_input_tokens};case"clear_thinking_20251015":return{type:F.type,clearedThinkingTurns:F.cleared_thinking_turns,clearedInputTokens:F.cleared_input_tokens}}}).filter(F=>F!==void 0)}:null}var Ba=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({command:n.z.string(),restart:n.z.boolean().optional()}))),An=(0,p.createProviderToolFactory)({id:"anthropic.bash_20241022",inputSchema:Ba}),u=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({command:n.z.string(),restart:n.z.boolean().optional()}))),w=(0,p.createProviderToolFactory)({id:"anthropic.bash_20250124",inputSchema:u}),R=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({action:n.z.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:n.z.array(n.z.number().int()).optional(),text:n.z.string().optional()}))),P=(0,p.createProviderToolFactory)({id:"anthropic.computer_20241022",inputSchema:R}),A=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({action:n.z.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:n.z.tuple([n.z.number().int(),n.z.number().int()]).optional(),duration:n.z.number().optional(),scroll_amount:n.z.number().optional(),scroll_direction:n.z.enum(["up","down","left","right"]).optional(),start_coordinate:n.z.tuple([n.z.number().int(),n.z.number().int()]).optional(),text:n.z.string().optional()}))),we=(0,p.createProviderToolFactory)({id:"anthropic.computer_20250124",inputSchema:A}),qe=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.discriminatedUnion("command",[n.z.object({command:n.z.literal("view"),path:n.z.string(),view_range:n.z.tuple([n.z.number(),n.z.number()]).optional()}),n.z.object({command:n.z.literal("create"),path:n.z.string(),file_text:n.z.string()}),n.z.object({command:n.z.literal("str_replace"),path:n.z.string(),old_str:n.z.string(),new_str:n.z.string()}),n.z.object({command:n.z.literal("insert"),path:n.z.string(),insert_line:n.z.number(),insert_text:n.z.string()}),n.z.object({command:n.z.literal("delete"),path:n.z.string()}),n.z.object({command:n.z.literal("rename"),old_path:n.z.string(),new_path:n.z.string()})]))),gt=(0,p.createProviderToolFactory)({id:"anthropic.memory_20250818",inputSchema:qe}),je=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert","undo_edit"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),_t=(0,p.createProviderToolFactory)({id:"anthropic.text_editor_20241022",inputSchema:je}),gr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert","undo_edit"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),Tr=(0,p.createProviderToolFactory)({id:"anthropic.text_editor_20250124",inputSchema:gr}),Yt=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),on=(0,p.createProviderToolFactory)({id:"anthropic.text_editor_20250429",inputSchema:Yt}),jr=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.array(n.z.object({type:n.z.literal("tool_reference"),toolName:n.z.string()})))),sn=(0,p.lazySchema)(()=>(0,p.zodSchema)(n.z.object({query:n.z.string(),limit:n.z.number().optional()}))),Or=(0,p.createProviderToolFactoryWithOutputSchema)({id:"anthropic.tool_search_bm25_20251119",inputSchema:sn,outputSchema:jr}),Vr={bash_20241022:An,bash_20250124:w,codeExecution_20250522:(x={})=>Nr(x),codeExecution_20250825:(x={})=>is(x),computer_20241022:P,computer_20250124:we,memory_20250818:gt,textEditor_20241022:_t,textEditor_20250124:Tr,textEditor_20250429:on,textEditor_20250728:(x={})=>Na(x),webFetch_20250910:(x={})=>xo(x),webSearch_20250305:(x={})=>va(x),toolSearchRegex_20251119:(x={})=>Ms(x),toolSearchBm25_20251119:(x={})=>Or(x)};function Mr(x={}){var F,ne;let he=(F=(0,p.withoutTrailingSlash)((0,p.loadOptionalSetting)({settingValue:x.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))!=null?F:"https://api.anthropic.com/v1",Ee=(ne=x.name)!=null?ne:"anthropic.messages",Te=()=>(0,p.withUserAgentSuffix)({"anthropic-version":"2023-06-01","x-api-key":(0,p.loadApiKey)({apiKey:x.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...x.headers},"ai-sdk/anthropic/3.0.1"),ae=He=>{var pe;return new fo(He,{provider:Ee,baseURL:he,headers:Te,fetch:x.fetch,generateId:(pe=x.generateId)!=null?pe:p.generateId,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/]})})},fe=function(He){if(new.target)throw Error("The Anthropic model function cannot be called with the new keyword.");return ae(He)};return fe.specificationVersion="v3",fe.languageModel=ae,fe.chat=ae,fe.messages=ae,fe.embeddingModel=He=>{throw new ve.NoSuchModelError({modelId:He,modelType:"embeddingModel"})},fe.textEmbeddingModel=fe.embeddingModel,fe.imageModel=He=>{throw new ve.NoSuchModelError({modelId:He,modelType:"imageModel"})},fe.tools=Vr,fe}Mr();var Ir={errorSchema:n.z.object({error:n.z.object({message:n.z.string(),type:n.z.string().nullish(),param:n.z.any().nullish(),code:n.z.union([n.z.string(),n.z.number()]).nullish()})}),errorToMessage:x=>x.error.message};function Ka(x){var F,ne,he,Ee,Te,ae;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let fe=(F=x.prompt_tokens)!=null?F:0,He=(ne=x.completion_tokens)!=null?ne:0,pe=(Ee=(he=x.prompt_tokens_details)==null?void 0:he.cached_tokens)!=null?Ee:0,nt=(ae=(Te=x.completion_tokens_details)==null?void 0:Te.reasoning_tokens)!=null?ae:0;return{inputTokens:{total:fe,noCache:fe-pe,cacheRead:pe,cacheWrite:void 0},outputTokens:{total:He,text:He-nt,reasoning:nt},raw:x}}function ba(x){var F,ne;return(ne=(F=x?.providerOptions)==null?void 0:F.openaiCompatible)!=null?ne:{}}function go({id:x,model:F,created:ne}){return{id:x??void 0,modelId:F??void 0,timestamp:ne!=null?new Date(1e3*ne):void 0}}function Po(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var wo=n.z.object({user:n.z.string().optional(),reasoningEffort:n.z.string().optional(),textVerbosity:n.z.string().optional()}),Lo=class{constructor(x,F){var ne,he;this.specificationVersion="v3",this.modelId=x,this.config=F;let Ee=(ne=F.errorStructure)!=null?ne:Ir;this.chunkSchema=ia(Ee.errorSchema),this.failedResponseHandler=(0,p.createJsonErrorResponseHandler)(Ee),this.supportsStructuredOutputs=(he=F.supportsStructuredOutputs)!=null&&he}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get supportedUrls(){var x,F,ne;return(ne=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?ne:{}}async getArgs({prompt:x,maxOutputTokens:F,temperature:ne,topP:he,topK:Ee,frequencyPenalty:Te,presencePenalty:ae,providerOptions:fe,stopSequences:He,responseFormat:pe,seed:nt,toolChoice:Ke,tools:mt}){var We,jt,St,Xe;let $t=[],at=Object.assign((We=await(0,p.parseProviderOptions)({provider:"openai-compatible",providerOptions:fe,schema:wo}))!=null?We:{},(jt=await(0,p.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:fe,schema:wo}))!=null?jt:{});Ee!=null&&$t.push({type:"unsupported",feature:"topK"}),pe?.type!=="json"||pe.schema==null||this.supportsStructuredOutputs||$t.push({type:"unsupported",feature:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{tools:Ut,toolChoice:dr,toolWarnings:Ie}=function({tools:de,toolChoice:ke}){de=de?.length?de:void 0;let kr=[];if(de==null)return{tools:void 0,toolChoice:void 0,toolWarnings:kr};let At=[];for(let dt of de)dt.type==="provider"?kr.push({type:"unsupported",feature:`provider-defined tool ${dt.id}`}):At.push({type:"function",function:{name:dt.name,description:dt.description,parameters:dt.inputSchema,...dt.strict!=null?{strict:dt.strict}:{}}});if(ke==null)return{tools:At,toolChoice:void 0,toolWarnings:kr};let zt=ke.type;switch(zt){case"auto":case"none":case"required":return{tools:At,toolChoice:zt,toolWarnings:kr};case"tool":return{tools:At,toolChoice:{type:"function",function:{name:ke.toolName}},toolWarnings:kr};default:throw new ve.UnsupportedFunctionalityError({functionality:`tool choice type: ${zt}`})}}({tools:mt,toolChoice:Ke});return{args:{model:this.modelId,user:at.user,max_tokens:F,temperature:ne,top_p:he,frequency_penalty:Te,presence_penalty:ae,response_format:pe?.type==="json"?this.supportsStructuredOutputs===!0&&pe.schema!=null?{type:"json_schema",json_schema:{schema:pe.schema,name:(St=pe.name)!=null?St:"response",description:pe.description}}:{type:"json_object"}:void 0,stop:He,seed:nt,...Object.fromEntries(Object.entries((Xe=fe?.[this.providerOptionsName])!=null?Xe:{}).filter(([de])=>!Object.keys(wo.shape).includes(de))),reasoning_effort:at.reasoningEffort,verbosity:at.textVerbosity,messages:function(de){var ke;let kr=[];for(let{role:At,content:zt,...dt}of de){let Me=ba({...dt});switch(At){case"system":kr.push({role:"system",content:zt,...Me});break;case"user":if(zt.length===1&&zt[0].type==="text"){kr.push({role:"user",content:zt[0].text,...ba(zt[0])});break}kr.push({role:"user",content:zt.map(Bt=>{let Kt=ba(Bt);switch(Bt.type){case"text":return{type:"text",text:Bt.text,...Kt};case"file":if(Bt.mediaType.startsWith("image/")){let Tt=Bt.mediaType==="image/*"?"image/jpeg":Bt.mediaType;return{type:"image_url",image_url:{url:Bt.data instanceof URL?Bt.data.toString():`data:${Tt};base64,${(0,p.convertToBase64)(Bt.data)}`},...Kt}}throw new ve.UnsupportedFunctionalityError({functionality:`file part media type ${Bt.mediaType}`})}}),...Me});break;case"assistant":{let Bt="",Kt=[];for(let Tt of zt){let Dt=ba(Tt);switch(Tt.type){case"text":Bt+=Tt.text;break;case"tool-call":Kt.push({id:Tt.toolCallId,type:"function",function:{name:Tt.toolName,arguments:JSON.stringify(Tt.input)},...Dt})}}kr.push({role:"assistant",content:Bt,tool_calls:Kt.length>0?Kt:void 0,...Me});break}case"tool":for(let Bt of zt){let Kt;if(Bt.type==="tool-approval-response")continue;let Tt=Bt.output;switch(Tt.type){case"text":case"error-text":Kt=Tt.value;break;case"execution-denied":Kt=(ke=Tt.reason)!=null?ke:"Tool execution denied.";break;case"content":case"json":case"error-json":Kt=JSON.stringify(Tt.value)}let Dt=ba(Bt);kr.push({role:"tool",tool_call_id:Bt.toolCallId,content:Kt,...Dt})}break;default:throw Error(`Unsupported role: ${At}`)}}return kr}(x),tools:Ut,tool_choice:dr},warnings:[...$t,...Ie]}}async doGenerate(x){var F,ne,he,Ee,Te,ae;let{args:fe,warnings:He}=await this.getArgs({...x}),pe=JSON.stringify(fe),{responseHeaders:nt,value:Ke,rawValue:mt}=await(0,p.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:fe,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,p.createJsonResponseHandler)(_a),abortSignal:x.abortSignal,fetch:this.config.fetch}),We=Ke.choices[0],jt=[],St=We.message.content;St!=null&&St.length>0&&jt.push({type:"text",text:St});let Xe=(F=We.message.reasoning_content)!=null?F:We.message.reasoning;if(Xe!=null&&Xe.length>0&&jt.push({type:"reasoning",text:Xe}),We.message.tool_calls!=null)for(let Ut of We.message.tool_calls)jt.push({type:"tool-call",toolCallId:(ne=Ut.id)!=null?ne:(0,p.generateId)(),toolName:Ut.function.name,input:Ut.function.arguments});let $t={[this.providerOptionsName]:{},...await((Ee=(he=this.config.metadataExtractor)==null?void 0:he.extractMetadata)==null?void 0:Ee.call(he,{parsedBody:mt}))},at=(Te=Ke.usage)==null?void 0:Te.completion_tokens_details;return at?.accepted_prediction_tokens!=null&&($t[this.providerOptionsName].acceptedPredictionTokens=at?.accepted_prediction_tokens),at?.rejected_prediction_tokens!=null&&($t[this.providerOptionsName].rejectedPredictionTokens=at?.rejected_prediction_tokens),{content:jt,finishReason:{unified:Po(We.finish_reason),raw:(ae=We.finish_reason)!=null?ae:void 0},usage:Ka(Ke.usage),providerMetadata:$t,request:{body:pe},response:{...go(Ke),headers:nt,body:mt},warnings:He}}async doStream(x){var F;let ne,{args:he,warnings:Ee}=await this.getArgs({...x}),Te={...he,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},ae=(F=this.config.metadataExtractor)==null?void 0:F.createStreamExtractor(),{responseHeaders:fe,value:He}=await(0,p.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:Te,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,p.createEventSourceResponseHandler)(this.chunkSchema),abortSignal:x.abortSignal,fetch:this.config.fetch}),pe=[],nt={unified:"other",raw:void 0},Ke=!0,mt=this.providerOptionsName,We=!1,jt=!1;return{stream:He.pipeThrough(new TransformStream({start(St){St.enqueue({type:"stream-start",warnings:Ee})},transform(St,Xe){var $t,at,Ut,dr,Ie,de,ke,kr,At,zt,dt,Me,Bt,Kt;if(x.includeRawChunks&&Xe.enqueue({type:"raw",rawValue:St.rawValue}),!St.success){nt={unified:"error",raw:void 0},Xe.enqueue({type:"error",error:St.error});return}if(ae?.processChunk(St.rawValue),"error"in St.value){nt={unified:"error",raw:void 0},Xe.enqueue({type:"error",error:St.value.error.message});return}let Tt=St.value;Ke&&(Ke=!1,Xe.enqueue({type:"response-metadata",...go(Tt)})),Tt.usage!=null&&(ne=Tt.usage);let Dt=Tt.choices[0];if(Dt?.finish_reason!=null&&(nt={unified:Po(Dt.finish_reason),raw:($t=Dt.finish_reason)!=null?$t:void 0}),Dt?.delta==null)return;let Ur=Dt.delta,fr=(at=Ur.reasoning_content)!=null?at:Ur.reasoning;if(fr&&(We||(Xe.enqueue({type:"reasoning-start",id:"reasoning-0"}),We=!0),Xe.enqueue({type:"reasoning-delta",id:"reasoning-0",delta:fr})),Ur.content&&(jt||(Xe.enqueue({type:"text-start",id:"txt-0"}),jt=!0),Xe.enqueue({type:"text-delta",id:"txt-0",delta:Ur.content})),Ur.tool_calls!=null)for(let sr of Ur.tool_calls){let Ye=sr.index;if(pe[Ye]==null){if(sr.id==null)throw new ve.InvalidResponseDataError({data:sr,message:"Expected 'id' to be a string."});if(((Ut=sr.function)==null?void 0:Ut.name)==null)throw new ve.InvalidResponseDataError({data:sr,message:"Expected 'function.name' to be a string."});Xe.enqueue({type:"tool-input-start",id:sr.id,toolName:sr.function.name}),pe[Ye]={id:sr.id,type:"function",function:{name:sr.function.name,arguments:(dr=sr.function.arguments)!=null?dr:""},hasFinished:!1};let yt=pe[Ye];((Ie=yt.function)==null?void 0:Ie.name)!=null&&((de=yt.function)==null?void 0:de.arguments)!=null&&(yt.function.arguments.length>0&&Xe.enqueue({type:"tool-input-delta",id:yt.id,delta:yt.function.arguments}),(0,p.isParsableJson)(yt.function.arguments)&&(Xe.enqueue({type:"tool-input-end",id:yt.id}),Xe.enqueue({type:"tool-call",toolCallId:(ke=yt.id)!=null?ke:(0,p.generateId)(),toolName:yt.function.name,input:yt.function.arguments}),yt.hasFinished=!0));continue}let Lt=pe[Ye];!Lt.hasFinished&&(((kr=sr.function)==null?void 0:kr.arguments)!=null&&(Lt.function.arguments+=(zt=(At=sr.function)==null?void 0:At.arguments)!=null?zt:""),Xe.enqueue({type:"tool-input-delta",id:Lt.id,delta:(dt=sr.function.arguments)!=null?dt:""}),((Me=Lt.function)==null?void 0:Me.name)!=null&&((Bt=Lt.function)==null?void 0:Bt.arguments)!=null&&(0,p.isParsableJson)(Lt.function.arguments)&&(Xe.enqueue({type:"tool-input-end",id:Lt.id}),Xe.enqueue({type:"tool-call",toolCallId:(Kt=Lt.id)!=null?Kt:(0,p.generateId)(),toolName:Lt.function.name,input:Lt.function.arguments}),Lt.hasFinished=!0))}},flush(St){var Xe,$t,at,Ut,dr;for(let de of(We&&St.enqueue({type:"reasoning-end",id:"reasoning-0"}),jt&&St.enqueue({type:"text-end",id:"txt-0"}),pe.filter(ke=>!ke.hasFinished)))St.enqueue({type:"tool-input-end",id:de.id}),St.enqueue({type:"tool-call",toolCallId:(Xe=de.id)!=null?Xe:(0,p.generateId)(),toolName:de.function.name,input:de.function.arguments});let Ie={[mt]:{},...ae?.buildMetadata()};(($t=ne?.completion_tokens_details)==null?void 0:$t.accepted_prediction_tokens)!=null&&(Ie[mt].acceptedPredictionTokens=(at=ne?.completion_tokens_details)==null?void 0:at.accepted_prediction_tokens),((Ut=ne?.completion_tokens_details)==null?void 0:Ut.rejected_prediction_tokens)!=null&&(Ie[mt].rejectedPredictionTokens=(dr=ne?.completion_tokens_details)==null?void 0:dr.rejected_prediction_tokens),St.enqueue({type:"finish",finishReason:nt,usage:Ka(ne),providerMetadata:Ie})}})),request:{body:Te},response:{headers:fe}}}},ko=n.z.object({prompt_tokens:n.z.number().nullish(),completion_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),prompt_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),completion_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish(),accepted_prediction_tokens:n.z.number().nullish(),rejected_prediction_tokens:n.z.number().nullish()}).nullish()}).nullish(),_a=n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({message:n.z.object({role:n.z.literal("assistant").nullish(),content:n.z.string().nullish(),reasoning_content:n.z.string().nullish(),reasoning:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({id:n.z.string().nullish(),function:n.z.object({name:n.z.string(),arguments:n.z.string()})})).nullish()}),finish_reason:n.z.string().nullish()})),usage:ko}),Io=n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({delta:n.z.object({role:n.z.enum(["assistant"]).nullish(),content:n.z.string().nullish(),reasoning_content:n.z.string().nullish(),reasoning:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({index:n.z.number(),id:n.z.string().nullish(),function:n.z.object({name:n.z.string().nullish(),arguments:n.z.string().nullish()})})).nullish()}).nullish(),finish_reason:n.z.string().nullish()})),usage:ko}),ia=x=>n.z.union([Io,x]);function ao(x){var F,ne;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let he=(F=x.prompt_tokens)!=null?F:0,Ee=(ne=x.completion_tokens)!=null?ne:0;return{inputTokens:{total:he,noCache:he,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:Ee,text:Ee,reasoning:void 0},raw:x}}function Ws({id:x,model:F,created:ne}){return{id:x??void 0,modelId:F??void 0,timestamp:ne!=null?new Date(1e3*ne):void 0}}function jo(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var Ds=n.z.object({echo:n.z.boolean().optional(),logitBias:n.z.record(n.z.string(),n.z.number()).optional(),suffix:n.z.string().optional(),user:n.z.string().optional()}),Fo=class{constructor(x,F){var ne;this.specificationVersion="v3",this.modelId=x,this.config=F;let he=(ne=F.errorStructure)!=null?ne:Ir;this.chunkSchema=Wn(he.errorSchema),this.failedResponseHandler=(0,p.createJsonErrorResponseHandler)(he)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get supportedUrls(){var x,F,ne;return(ne=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?ne:{}}async getArgs({prompt:x,maxOutputTokens:F,temperature:ne,topP:he,topK:Ee,frequencyPenalty:Te,presencePenalty:ae,stopSequences:fe,responseFormat:He,seed:pe,providerOptions:nt,tools:Ke,toolChoice:mt}){var We;let jt=[],St=(We=await(0,p.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:nt,schema:Ds}))!=null?We:{};Ee!=null&&jt.push({type:"unsupported",feature:"topK"}),Ke?.length&&jt.push({type:"unsupported",feature:"tools"}),mt!=null&&jt.push({type:"unsupported",feature:"toolChoice"}),He!=null&&He.type!=="text"&&jt.push({type:"unsupported",feature:"responseFormat",details:"JSON response format is not supported."});let{prompt:Xe,stopSequences:$t}=function({prompt:Ut,user:dr="user",assistant:Ie="assistant"}){let de="";for(let{role:ke,content:kr}of(Ut[0].role==="system"&&(de+=`${Ut[0].content}

`,Ut=Ut.slice(1)),Ut))switch(ke){case"system":throw new ve.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:Ut});case"user":{let At=kr.map(zt=>{if(zt.type==="text")return zt.text}).filter(Boolean).join("");de+=`${dr}:
${At}

`;break}case"assistant":{let At=kr.map(zt=>{switch(zt.type){case"text":return zt.text;case"tool-call":throw new ve.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");de+=`${Ie}:
${At}

`;break}case"tool":throw new ve.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${ke}`)}return{prompt:de+=`${Ie}:
`,stopSequences:[`
${dr}:`]}}({prompt:x}),at=[...$t??[],...fe??[]];return{args:{model:this.modelId,echo:St.echo,logit_bias:St.logitBias,suffix:St.suffix,user:St.user,max_tokens:F,temperature:ne,top_p:he,frequency_penalty:Te,presence_penalty:ae,seed:pe,...nt?.[this.providerOptionsName],prompt:Xe,stop:at.length>0?at:void 0},warnings:jt}}async doGenerate(x){let{args:F,warnings:ne}=await this.getArgs(x),{responseHeaders:he,value:Ee,rawValue:Te}=await(0,p.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:F,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,p.createJsonResponseHandler)(oo),abortSignal:x.abortSignal,fetch:this.config.fetch}),ae=Ee.choices[0],fe=[];return ae.text!=null&&ae.text.length>0&&fe.push({type:"text",text:ae.text}),{content:fe,usage:ao(Ee.usage),finishReason:{unified:jo(ae.finish_reason),raw:ae.finish_reason},request:{body:F},response:{...Ws(Ee),headers:he,body:Te},warnings:ne}}async doStream(x){let F,{args:ne,warnings:he}=await this.getArgs(x),Ee={...ne,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},{responseHeaders:Te,value:ae}=await(0,p.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),x.headers),body:Ee,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,p.createEventSourceResponseHandler)(this.chunkSchema),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe={unified:"other",raw:void 0},He=!0;return{stream:ae.pipeThrough(new TransformStream({start(pe){pe.enqueue({type:"stream-start",warnings:he})},transform(pe,nt){var Ke;if(x.includeRawChunks&&nt.enqueue({type:"raw",rawValue:pe.rawValue}),!pe.success){fe={unified:"error",raw:void 0},nt.enqueue({type:"error",error:pe.error});return}let mt=pe.value;if("error"in mt){fe={unified:"error",raw:void 0},nt.enqueue({type:"error",error:mt.error});return}He&&(He=!1,nt.enqueue({type:"response-metadata",...Ws(mt)}),nt.enqueue({type:"text-start",id:"0"})),mt.usage!=null&&(F=mt.usage);let We=mt.choices[0];We?.finish_reason!=null&&(fe={unified:jo(We.finish_reason),raw:(Ke=We.finish_reason)!=null?Ke:void 0}),We?.text!=null&&nt.enqueue({type:"text-delta",id:"0",delta:We.text})},flush(pe){He||pe.enqueue({type:"text-end",id:"0"}),pe.enqueue({type:"finish",finishReason:fe,usage:ao(F)})}})),request:{body:Ee},response:{headers:Te}}}},ma=n.z.object({prompt_tokens:n.z.number(),completion_tokens:n.z.number(),total_tokens:n.z.number()}),oo=n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string()})),usage:ma.nullish()}),Wn=x=>n.z.union([n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string().nullish(),index:n.z.number()})),usage:ma.nullish()}),x]),Wa=n.z.object({dimensions:n.z.number().optional(),user:n.z.string().optional()}),za=class{constructor(x,F){this.specificationVersion="v3",this.modelId=x,this.config=F}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var x;return(x=this.config.maxEmbeddingsPerCall)!=null?x:2048}get supportsParallelCalls(){var x;return(x=this.config.supportsParallelCalls)==null||x}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}async doEmbed({values:x,headers:F,abortSignal:ne,providerOptions:he}){var Ee,Te,ae;let fe=Object.assign((Ee=await(0,p.parseProviderOptions)({provider:"openai-compatible",providerOptions:he,schema:Wa}))!=null?Ee:{},(Te=await(0,p.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:he,schema:Wa}))!=null?Te:{});if(x.length>this.maxEmbeddingsPerCall)throw new ve.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:x});let{responseHeaders:He,value:pe,rawValue:nt}=await(0,p.postJsonToApi)({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),F),body:{model:this.modelId,input:x,encoding_format:"float",dimensions:fe.dimensions,user:fe.user},failedResponseHandler:(0,p.createJsonErrorResponseHandler)((ae=this.config.errorStructure)!=null?ae:Ir),successfulResponseHandler:(0,p.createJsonResponseHandler)(gs),abortSignal:ne,fetch:this.config.fetch});return{warnings:[],embeddings:pe.data.map(Ke=>Ke.embedding),usage:pe.usage?{tokens:pe.usage.prompt_tokens}:void 0,providerMetadata:pe.providerMetadata,response:{headers:He,body:nt}}}},gs=n.z.object({data:n.z.array(n.z.object({embedding:n.z.array(n.z.number())})),usage:n.z.object({prompt_tokens:n.z.number()}).nullish(),providerMetadata:n.z.record(n.z.string(),n.z.record(n.z.string(),n.z.any())).optional()}),Ao=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3",this.maxImagesPerCall=10}get provider(){return this.config.provider}async doGenerate({prompt:x,n:F,size:ne,aspectRatio:he,seed:Ee,providerOptions:Te,headers:ae,abortSignal:fe,files:He,mask:pe}){var nt,Ke,mt,We,jt,St,Xe;let $t=[];he!=null&&$t.push({type:"unsupported",feature:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),Ee!=null&&$t.push({type:"unsupported",feature:"seed"});let at=(mt=(Ke=(nt=this.config._internal)==null?void 0:nt.currentDate)==null?void 0:Ke.call(nt))!=null?mt:new Date;if(He!=null&&He.length>0){let{value:Ie,responseHeaders:de}=await(0,p.postFormDataToApi)({url:this.config.url({path:"/images/edits",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),ae),formData:(0,p.convertToFormData)({model:this.modelId,prompt:x,image:await Promise.all(He.map(ke=>Zo(ke))),mask:pe!=null?await Zo(pe):void 0,n:F,size:ne,...(We=Te.openai)!=null?We:{}}),failedResponseHandler:(0,p.createJsonErrorResponseHandler)((jt=this.config.errorStructure)!=null?jt:Ir),successfulResponseHandler:(0,p.createJsonResponseHandler)(Pa),abortSignal:fe,fetch:this.config.fetch});return{images:Ie.data.map(ke=>ke.b64_json),warnings:$t,response:{timestamp:at,modelId:this.modelId,headers:de}}}let{value:Ut,responseHeaders:dr}=await(0,p.postJsonToApi)({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:(0,p.combineHeaders)(this.config.headers(),ae),body:{model:this.modelId,prompt:x,n:F,size:ne,...(St=Te.openai)!=null?St:{},response_format:"b64_json"},failedResponseHandler:(0,p.createJsonErrorResponseHandler)((Xe=this.config.errorStructure)!=null?Xe:Ir),successfulResponseHandler:(0,p.createJsonResponseHandler)(Pa),abortSignal:fe,fetch:this.config.fetch});return{images:Ut.data.map(Ie=>Ie.b64_json),warnings:$t,response:{timestamp:at,modelId:this.modelId,headers:dr}}}},Pa=n.z.object({data:n.z.array(n.z.object({b64_json:n.z.string()}))});async function Zo(x){return x.type==="url"?(0,p.downloadBlob)(x.url):new Blob([x.data instanceof Uint8Array?x.data:(0,p.convertBase64ToUint8Array)(x.data)],{type:x.mediaType})}function ys(x){let F=(0,p.withoutTrailingSlash)(x.baseURL),ne=x.name,he={...x.apiKey&&{Authorization:`Bearer ${x.apiKey}`},...x.headers},Ee=()=>(0,p.withUserAgentSuffix)(he,"ai-sdk/openai-compatible/2.0.1"),Te=nt=>({provider:`${ne}.${nt}`,url:({path:Ke})=>{let mt=new URL(`${F}${Ke}`);return x.queryParams&&(mt.search=new URLSearchParams(x.queryParams).toString()),mt.toString()},headers:Ee,fetch:x.fetch}),ae=nt=>fe(nt),fe=nt=>new Lo(nt,{...Te("chat"),includeUsage:x.includeUsage,supportsStructuredOutputs:x.supportsStructuredOutputs}),He=nt=>new za(nt,{...Te("embedding")}),pe=nt=>ae(nt);return pe.specificationVersion="v3",pe.languageModel=ae,pe.chatModel=fe,pe.completionModel=nt=>new Fo(nt,{...Te("completion"),includeUsage:x.includeUsage}),pe.embeddingModel=He,pe.textEmbeddingModel=He,pe.imageModel=nt=>new Ao(nt,Te("image")),pe}let Va={gemini:"gemini-3-flash-preview",openai:"gpt-5.2",anthropic:"claude-sonnet-4-5-20250929",ollama:"llama3.2",lmstudio:"deepseek-r1-distill-llama-8b"};function Zs(x){let F=x.model||Va[x.type];switch(x.type){case"gemini":if(!x.apiKey)throw Error("Gemini API key is required");return lt({apiKey:x.apiKey})(F);case"openai":if(!x.apiKey)throw Error("OpenAI API key is required");return yn({apiKey:x.apiKey})(F);case"anthropic":if(!x.apiKey)throw Error("Anthropic API key is required");return Mr({apiKey:x.apiKey})(F);case"ollama":return ys({name:"ollama",baseURL:x.baseUrl||"http://localhost:11434/v1",apiKey:"ollama"})(F);case"lmstudio":return ys({name:"lmstudio",baseURL:x.baseUrl||"http://127.0.0.1:1234/v1",apiKey:"lmstudio"})(F);default:throw Error(`Unknown provider type: ${x.type}`)}}function as(x){switch(x){case"gemini":return["gemini-3-flash-preview","gemini-3-pro-preview","gemini-2.0-flash","gemini-2.0-pro-exp-02-05","gemini-1.5-pro"];case"openai":return["gpt-5.2","gpt-5.2-chat-latest","gpt-5.1","gpt-5","gpt-4o","o3-mini","o1"];case"anthropic":return["claude-opus-4-5-20251101","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022"];case"ollama":return["llama3.2","llama3.1","codellama","mistral","phi3","qwen2.5"];case"lmstudio":return["deepseek-r1-distill-llama-8b","meta-llama-3.1-8b-instruct","qwen2.5-7b-instruct"];default:return[]}}v.s(["PROVIDER_NAMES",0,{gemini:"Google Gemini",openai:"OpenAI GPT",anthropic:"Anthropic Claude",ollama:"Ollama (Local)",lmstudio:"LMStudio (Local)"},"createAIProvider",()=>Zs,"getAvailableModels",()=>as],87633)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/turbopack-node_modules_next_dist_esm_build_templates_edge-wrapper_1432d336.js",{otherChunks:["chunks/node_modules_next_dist_esm_build_templates_edge-app-route_d34589f6.js","chunks/[root-of-the-server]__a45c7ec5._.js","chunks/node_modules_a458cac4._.js","chunks/node_modules_@opentelemetry_api_build_esm_a886cc58._.js","chunks/_7ece717d._.js","chunks/node_modules_c144a9c7._.js","chunks/node_modules_@ai-sdk_provider-utils_dist_index_mjs_995f32ad._.js","chunks/src_services_ai-providers_ts_f30e308f._.js"],runtimeModuleIds:[30371]}]),(()=>{let v;if(!Array.isArray(mr.TURBOPACK))return;let p=new WeakMap;function ve(Se,q){this.m=Se,this.e=q}let n=ve.prototype,Pe=Object.prototype.hasOwnProperty,M=typeof Symbol<"u"&&Symbol.toStringTag;function ie(Se,q,J){Pe.call(Se,q)||Object.defineProperty(Se,q,J)}function Ze(Se,q){let J=Se[q];return J||(J=me(q),Se[q]=J),J}function me(Se){return{exports:{},error:void 0,id:Se,namespaceObject:void 0}}function $e(Se,q){ie(Se,"__esModule",{value:!0}),M&&ie(Se,M,{value:"Module"});let J=0;for(;J<q.length;){let W=q[J++],Fe=q[J++];if(typeof Fe=="number")if(Fe===0)ie(Se,W,{value:q[J++],enumerable:!0,writable:!1});else throw Error(`unexpected tag: ${Fe}`);else typeof q[J]=="function"?ie(Se,W,{get:Fe,set:q[J++],enumerable:!0}):ie(Se,W,{get:Fe,enumerable:!0})}Object.seal(Se)}n.s=function(Se,q){let J,W;q!=null?W=(J=Ze(this.c,q)).exports:(J=this.m,W=this.e),J.namespaceObject=W,$e(W,Se)},n.j=function(Se,q){var J,W;let Fe,rt,Zt;q!=null?rt=(Fe=Ze(this.c,q)).exports:(Fe=this.m,rt=this.e);let _r=(J=Fe,W=rt,(Zt=p.get(J))||(p.set(J,Zt=[]),J.exports=J.namespaceObject=new Proxy(W,{get(H,Br){if(Pe.call(H,Br)||Br==="default"||Br==="__esModule")return Reflect.get(H,Br);for(let Gr of Zt){let kn=Reflect.get(Gr,Br);if(kn!==void 0)return kn}},ownKeys(H){let Br=Reflect.ownKeys(H);for(let Gr of Zt)for(let kn of Reflect.ownKeys(Gr))kn==="default"||Br.includes(kn)||Br.push(kn);return Br}})),Zt);typeof Se=="object"&&Se!==null&&_r.push(Se)},n.v=function(Se,q){(q!=null?Ze(this.c,q):this.m).exports=Se},n.n=function(Se,q){let J;(J=q!=null?Ze(this.c,q):this.m).exports=J.namespaceObject=Se};let V=Object.getPrototypeOf?Se=>Object.getPrototypeOf(Se):Se=>Se.__proto__,X=[null,V({}),V([]),V(V)];function U(Se,q,J){let W=[],Fe=-1;for(let rt=Se;(typeof rt=="object"||typeof rt=="function")&&!X.includes(rt);rt=V(rt))for(let Zt of Object.getOwnPropertyNames(rt))W.push(Zt,function(_r,H){return()=>_r[H]}(Se,Zt)),Fe===-1&&Zt==="default"&&(Fe=W.length-1);return J&&Fe>=0||(Fe>=0?W.splice(Fe,1,0,Se):W.push("default",0,Se)),$e(q,W),q}function oe(Se){return typeof Se=="function"?function(...q){return Se.apply(this,q)}:Object.create(null)}function _e(Se){let q=pt(Se,this.m);if(q.namespaceObject)return q.namespaceObject;let J=q.exports;return q.namespaceObject=U(J,oe(J),J&&J.__esModule)}function ge(Se){let q=Se.indexOf("#");q!==-1&&(Se=Se.substring(0,q));let J=Se.indexOf("?");return J!==-1&&(Se=Se.substring(0,J)),Se}function ht(Se){return typeof Se=="string"?Se:Se.path}function ee(){let Se,q;return{promise:new Promise((J,W)=>{q=W,Se=J}),resolve:Se,reject:q}}n.i=_e,n.A=function(Se){return this.r(Se)(_e.bind(this))},n.t=typeof Hc=="function"?Hc:function(){throw Error("Unexpected use of runtime require")},n.r=function(Se){return pt(Se,this.m).exports},n.f=function(Se){function q(J){if(J=ge(J),Pe.call(Se,J))return Se[J].module();let W=Error(`Cannot find module '${J}'`);throw W.code="MODULE_NOT_FOUND",W}return q.keys=()=>Object.keys(Se),q.resolve=J=>{if(J=ge(J),Pe.call(Se,J))return Se[J].id();let W=Error(`Cannot find module '${J}'`);throw W.code="MODULE_NOT_FOUND",W},q.import=async J=>await q(J),q};let Be=Symbol("turbopack queues"),re=Symbol("turbopack exports"),et=Symbol("turbopack error");function Ge(Se){Se&&Se.status!==1&&(Se.status=1,Se.forEach(q=>q.queueCount--),Se.forEach(q=>q.queueCount--?q.queueCount++:q()))}n.a=function(Se,q){let J=this.m,W=q?Object.assign([],{status:-1}):void 0,Fe=new Set,{resolve:rt,reject:Zt,promise:_r}=ee(),H=Object.assign(_r,{[re]:J.exports,[Be]:Gr=>{W&&Gr(W),Fe.forEach(Gr),H.catch(()=>{})}}),Br={get:()=>H,set(Gr){Gr!==H&&(H[re]=Gr)}};Object.defineProperty(J,"exports",Br),Object.defineProperty(J,"namespaceObject",Br),Se(function(Gr){let kn=Gr.map(Qt=>{if(Qt!==null&&typeof Qt=="object"){if(Be in Qt)return Qt;if(Qt!=null&&typeof Qt=="object"&&"then"in Qt&&typeof Qt.then=="function"){let nn=Object.assign([],{status:0}),Qr={[re]:{},[Be]:ar=>ar(nn)};return Qt.then(ar=>{Qr[re]=ar,Ge(nn)},ar=>{Qr[et]=ar,Ge(nn)}),Qr}}return{[re]:Qt,[Be]:()=>{}}}),Jn=()=>kn.map(Qt=>{if(Qt[et])throw Qt[et];return Qt[re]}),{promise:Bn,resolve:ir}=ee(),Qe=Object.assign(()=>ir(Jn),{queueCount:0});function qt(Qt){Qt!==W&&!Fe.has(Qt)&&(Fe.add(Qt),Qt&&Qt.status===0&&(Qe.queueCount++,Qt.push(Qe)))}return kn.map(Qt=>Qt[Be](qt)),Qe.queueCount?Bn:Jn()},function(Gr){Gr?Zt(H[et]=Gr):rt(H[re]),Ge(W)}),W&&W.status===-1&&(W.status=0)};let it=function(Se){let q=new URL(Se,"x:/"),J={};for(let W in q)J[W]=q[W];for(let W in J.href=Se,J.pathname=Se.replace(/[?#].*/,""),J.origin=J.protocol="",J.toString=J.toJSON=(...Fe)=>Se,J)Object.defineProperty(this,W,{enumerable:!0,configurable:!0,value:J[W]})};function bt(Se,q){throw Error(`Invariant: ${q(Se)}`)}it.prototype=URL.prototype,n.U=it,n.z=function(Se){throw Error("dynamic usage of require is not supported")},n.g=mr;let Et=ve.prototype;var tr,Gt=((tr=Gt||{})[tr.Runtime=0]="Runtime",tr[tr.Parent=1]="Parent",tr[tr.Update=2]="Update",tr);let Ve=new Map;n.M=Ve;let cr=new Map,ye=new Map;async function be(Se,q,J){let W;if(typeof J=="string")return h(Se,q,Xt(J));let Fe=J.included||[],rt=Fe.map(H=>!!Ve.has(H)||cr.get(H));if(rt.length>0&&rt.every(H=>H))return void await Promise.all(rt);let Zt=J.moduleChunks||[],_r=Zt.map(H=>ye.get(H)).filter(H=>H);if(_r.length>0){if(_r.length===Zt.length)return void await Promise.all(_r);let H=new Set;for(let Br of Zt)ye.has(Br)||H.add(Br);for(let Br of H){let Gr=h(Se,q,Xt(Br));ye.set(Br,Gr),_r.push(Gr)}W=Promise.all(_r)}else for(let H of(W=h(Se,q,Xt(J.path)),Zt))ye.has(H)||ye.set(H,W);for(let H of Fe)cr.has(H)||cr.set(H,W);await W}Et.l=function(Se){return be(1,this.m.id,Se)};let Z=Promise.resolve(void 0),vt=new WeakMap;function h(Se,q,J){let W=v.loadChunkCached(Se,J),Fe=vt.get(W);if(Fe===void 0){let rt=vt.set.bind(vt,W,Z);Fe=W.then(rt).catch(Zt=>{let _r;switch(Se){case 0:_r=`as a runtime dependency of chunk ${q}`;break;case 1:_r=`from module ${q}`;break;case 2:_r="from an HMR update";break;default:bt(Se,Br=>`Unknown source type: ${Br}`)}let H=Error(`Failed to load chunk ${J} ${_r}${Zt?`: ${Zt}`:""}`,Zt?{cause:Zt}:void 0);throw H.name="ChunkLoadError",H}),vt.set(W,Fe)}return Fe}function Xt(Se){return`${Se.split("/").map(q=>encodeURIComponent(q)).join("/")}`}Et.L=function(Se){return h(1,this.m.id,Se)},Et.R=function(Se){let q=this.r(Se);return q?.default??q},Et.P=function(Se){return`/ROOT/${Se??""}`},Et.b=function(Se){let q=new Blob([`self.TURBOPACK_WORKER_LOCATION = ${JSON.stringify(location.origin)};
self.TURBOPACK_CHUNK_SUFFIX = ${JSON.stringify("")};
self.TURBOPACK_NEXT_CHUNK_URLS = ${JSON.stringify(Se.reverse().map(Xt),null,2)};
importScripts(...self.TURBOPACK_NEXT_CHUNK_URLS.map(c => self.TURBOPACK_WORKER_LOCATION + c).reverse());`],{type:"text/javascript"});return URL.createObjectURL(q)};let lt=/\.js(?:\?[^#]*)?(?:#.*)?$/;n.w=function(Se,q,J){return v.loadWebAssembly(1,this.m.id,Se,q,J)},n.u=function(Se,q){return v.loadWebAssemblyModule(1,this.m.id,Se,q)};let pr={};n.c=pr;let pt=(Se,q)=>{let J=pr[Se];if(J){if(J.error)throw J.error;return J}return ft(Se,Gt.Parent,q.id)};function ft(Se,q,J){let W=Ve.get(Se);if(typeof W!="function")throw Error(function(_r,H,Br){let Gr;switch(H){case 0:Gr=`as a runtime entry of chunk ${Br}`;break;case 1:Gr=`because it was required from module ${Br}`;break;case 2:Gr="because of an HMR update";break;default:bt(H,kn=>`Unknown source type: ${kn}`)}return`Module ${_r} was instantiated ${Gr}, but the module factory is not available.`}(Se,q,J));let Fe=me(Se),rt=Fe.exports;pr[Se]=Fe;let Zt=new ve(Fe,rt);try{W(Zt,Fe,rt)}catch(_r){throw Fe.error=_r,_r}return Fe.namespaceObject&&Fe.exports!==Fe.namespaceObject&&U(Fe.exports,Fe.namespaceObject),Fe}function an(Se){let q,J=function(W){if(typeof W=="string")return W;let Fe=decodeURIComponent((typeof TURBOPACK_NEXT_CHUNK_URLS<"u"?TURBOPACK_NEXT_CHUNK_URLS.pop():W.getAttribute("src")).replace(/[?#].*$/,""));return Fe.startsWith("")?Fe.slice(0):Fe}(Se[0]);return Se.length===2?q=Se[1]:(q=void 0,function(W,Fe,rt,Zt){let _r=1;for(;_r<W.length;){let H=W[_r],Br=_r+1;for(;Br<W.length&&typeof W[Br]!="function";)Br++;if(Br===W.length)throw Error("malformed chunk format, expected a factory function");if(!rt.has(H)){let Gr=W[Br];for(Object.defineProperty(Gr,"name",{value:"module evaluation"});_r<Br;_r++)H=W[_r],rt.set(H,Gr)}_r=Br+1}}(Se,0,Ve)),v.registerChunk(J,q)}function gn(Se,q,J=!1){let W;try{W=q()}catch(Fe){throw Error(`Failed to load external module ${Se}: ${Fe}`)}return!J||W.__esModule?W:U(W,oe(W),!0)}n.y=async function(Se){let q;try{q=await import(Se)}catch(J){throw Error(`Failed to load external module ${Se}: ${J}`)}return q&&q.__esModule&&q.default&&"default"in q.default?U(q.default,oe(q),!0):q},gn.resolve=(Se,q)=>Hc.resolve(Se,q),n.x=gn,v={registerChunk(Se,q){ei.add(Se),function(J){let W=pn.get(J);if(W!=null){for(let Fe of W)Fe.requiredChunks.delete(J),Fe.requiredChunks.size===0&&nr(Fe.runtimeModuleIds,Fe.chunkPath);pn.delete(J)}}(Se),q!=null&&(q.otherChunks.length===0?nr(q.runtimeModuleIds,Se):function(J,W,Fe){let rt=new Set,Zt={runtimeModuleIds:Fe,chunkPath:J,requiredChunks:rt};for(let _r of W){let H=ht(_r);if(ei.has(H))continue;rt.add(H);let Br=pn.get(H);Br==null&&(Br=new Set,pn.set(H,Br)),Br.add(Zt)}Zt.requiredChunks.size===0&&nr(Zt.runtimeModuleIds,Zt.chunkPath)}(Se,q.otherChunks.filter(J=>{var W;return W=ht(J),lt.test(W)}),q.runtimeModuleIds))},loadChunkCached(Se,q){throw Error("chunk loading is not supported")},async loadWebAssembly(Se,q,J,W,Fe){let rt=await zr(J,W);return await WebAssembly.instantiate(rt,Fe)},loadWebAssemblyModule:async(Se,q,J,W)=>zr(J,W)};let ei=new Set,pn=new Map;function nr(Se,q){for(let J of Se)(function(W,Fe){let rt=pr[Fe];if(rt){if(rt.error)throw rt.error;return}ft(Fe,Gt.Runtime,W)})(q,J)}async function zr(Se,q){let J;try{J=q()}catch{}if(!J)throw Error(`dynamically loading WebAssembly is not supported in this runtime as global was not injected for chunk '${Se}'`);return J}let en=mr.TURBOPACK;mr.TURBOPACK={push:an},en.forEach(an)})(),function(){let v={exports:{},loaded:!1};return function(ve,n){var Pe=Object.create,M=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,Ze=Object.getOwnPropertyNames,me=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty,V=Ve=>M(Ve,"__esModule",{value:!0}),X=(Ve,cr)=>{V(Ve);for(var ye in cr)M(Ve,ye,{get:cr[ye],enumerable:!0})},U=(Ve,cr,ye)=>{if(cr&&typeof cr=="object"||typeof cr=="function")for(let be of Ze(cr))!$e.call(Ve,be)&&be!=="default"&&M(Ve,be,{get:()=>cr[be],enumerable:!(ye=ie(cr,be))||ye.enumerable});return Ve},oe=Ve=>U(V(M(Ve!=null?Pe(me(Ve)):{},"default",Ve&&Ve.__esModule&&"default"in Ve?{get:()=>Ve.default,enumerable:!0}:{value:Ve,enumerable:!0})),Ve);X(n,{default:()=>bt});var _e=oe((Sg(),Tp(nc))),ge="@next/request-context",ht=Symbol.for(ge),ee=Symbol.for("internal.storage");function Be(){let Ve=mr;if(!Ve[ht]){let cr=new _e.AsyncLocalStorage,ye={get:()=>cr.getStore(),[ee]:cr};Ve[ht]=ye}return Ve[ht]}var re=Be();function et(Ve,cr){return re[ee].run(Ve,cr)}function Ge(Ve){let cr={};return Ve&&Ve.forEach((ye,be)=>{cr[be]=ye,be.toLowerCase()==="set-cookie"&&(cr[be]=it(ye))}),cr}function it(Ve){let cr=[],ye=0,be,Z,vt,h,Xt;function lt(){for(;ye<Ve.length&&/\s/.test(Ve.charAt(ye));)ye+=1;return ye<Ve.length}function pr(){return Z=Ve.charAt(ye),Z!=="="&&Z!==";"&&Z!==","}for(;ye<Ve.length;){for(be=ye,Xt=!1;lt();)if(Z=Ve.charAt(ye),Z===","){for(vt=ye,ye+=1,lt(),h=ye;ye<Ve.length&&pr();)ye+=1;ye<Ve.length&&Ve.charAt(ye)==="="?(Xt=!0,ye=h,cr.push(Ve.substring(be,vt)),be=ye):ye=vt+1}else ye+=1;(!Xt||ye>=Ve.length)&&cr.push(Ve.substring(be,Ve.length))}return cr}function bt(Ve){let cr=Ve.staticRoutes.map(be=>({regexp:new RegExp(be.namedRegex),page:be.page})),ye=Ve.dynamicRoutes?.map(be=>({regexp:new RegExp(be.namedRegex),page:be.page}))||[];return async function(be,Z){let vt=new URL(be.url).pathname,h={};if(Ve.nextConfig?.basePath&&vt.startsWith(Ve.nextConfig.basePath)&&(vt=vt.replace(Ve.nextConfig.basePath,"")||"/"),Ve.nextConfig?.i18n)for(let lt of Ve.nextConfig.i18n.locales){let pr=new RegExp(`^/${lt}($|/)`,"i");if(vt.match(pr)){vt=vt.replace(pr,"/")||"/";break}}for(let lt of cr)if(lt.regexp.exec(vt)){h.name=lt.page;break}if(!h.name){let lt=tr(vt);for(let pr of ye||[]){if(lt&&!tr(pr.page))continue;let pt=pr.regexp.exec(vt);if(pt){h={name:pr.page,params:pt.groups};break}}}let Xt=await et({waitUntil:Z.waitUntil},()=>mr._ENTRIES[`middleware_${Ve.name}`].default.call({},{request:{url:be.url,method:be.method,headers:Ge(be.headers),ip:Et(be.headers,Gt.Ip),geo:{city:Et(be.headers,Gt.City,!0),country:Et(be.headers,Gt.Country,!0),latitude:Et(be.headers,Gt.Latitude),longitude:Et(be.headers,Gt.Longitude),region:Et(be.headers,Gt.Region,!0)},nextConfig:Ve.nextConfig,page:h,body:be.body}}));return Xt.waitUntil&&Z.waitUntil(Xt.waitUntil),Xt.response}}function Et(Ve,cr,ye=!1){let be=Ve.get(cr)||void 0;return ye&&be?decodeURIComponent(be):be}function tr(Ve){return Ve==="/api"||Ve.startsWith("/api/")}var Gt;(function(Ve){Ve.City="x-vercel-ip-city",Ve.Country="x-vercel-ip-country",Ve.Ip="x-real-ip",Ve.Latitude="x-vercel-ip-latitude",Ve.Longitude="x-vercel-ip-longitude",Ve.Region="x-vercel-ip-country-region"})(Gt||(Gt={}))}(v,v.exports),v.exports}.call({}).default({name:"app/api/explain/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_global-error",regex:"^/_global\\-error(?:/)?$",routeKeys:{},namedRegex:"^/_global\\-error(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/api/explain",regex:"^/api/explain(?:/)?$",routeKeys:{},namedRegex:"^/api/explain(?:/)?$"},{page:"/api/repos",regex:"^/api/repos(?:/)?$",routeKeys:{},namedRegex:"^/api/repos(?:/)?$"},{page:"/api/test-connection",regex:"^/api/test\\-connection(?:/)?$",routeKeys:{},namedRegex:"^/api/test\\-connection(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"}],dynamicRoutes:[{page:"/api/repos/[id]/commits",regex:"^/api/repos/([^/]+?)/commits(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/commits(?:/)?$"},{page:"/api/repos/[id]/commits/[sha]",regex:"^/api/repos/([^/]+?)/commits/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid",nxtPsha:"nxtPsha"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/commits/(?<nxtPsha>[^/]+?)(?:/)?$"},{page:"/api/repos/[id]/commits/[sha]/content",regex:"^/api/repos/([^/]+?)/commits/([^/]+?)/content(?:/)?$",routeKeys:{nxtPid:"nxtPid",nxtPsha:"nxtPsha"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/commits/(?<nxtPsha>[^/]+?)/content(?:/)?$"},{page:"/api/repos/[id]/summarize",regex:"^/api/repos/([^/]+?)/summarize(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/summarize(?:/)?$"},{page:"/explore/[id]",regex:"^/explore/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/explore/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/explore/[id]/timeline",regex:"^/explore/([^/]+?)/timeline(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/explore/(?<nxtPid>[^/]+?)/timeline(?:/)?$"}],nextConfig:{basePath:""}})))(_u,_u,_u);export{xv as default};
