var _g=Object.defineProperty;var lv=Object.getOwnPropertyDescriptor;var uv=Object.getOwnPropertyNames;var cv=Object.prototype.hasOwnProperty;var Hc=(Mi=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Mi,{get:(mr,Ul)=>(typeof require<"u"?require:mr)[Ul]}):Mi)(function(Mi){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+Mi+'" is not supported')});var Ep=(Mi,mr)=>()=>(Mi&&(mr=Mi(Mi=0)),mr);var $p=(Mi,mr,Ul,_)=>{if(mr&&typeof mr=="object"||typeof mr=="function")for(let g of uv(mr))!cv.call(Mi,g)&&g!==Ul&&_g(Mi,g,{get:()=>mr[g],enumerable:!(_=lv(mr,g))||_.enumerable});return Mi},$l=(Mi,mr,Ul)=>($p(Mi,mr,"default"),Ul&&$p(Ul,mr,"default"));var Tp=Mi=>$p(_g({},"__esModule",{value:!0}),Mi);var tc={};import*as gv from"node:async_hooks";var xg=Ep(()=>{$l(tc,gv)});var rc={};import*as yv from"node:buffer";var wg=Ep(()=>{$l(rc,yv)});var nc={};import*as vv from"async_hooks";var Sg=Ep(()=>{$l(nc,vv)});import{__getNamedExports as dv}from"../../../../../__next-on-pages-dist__/manifest/__RSC_SERVER_MANIFEST.js";var _u=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/repos/[id]/summarize"),pv=dv(_u,_u,_u),mv=pv.__RSC_SERVER_MANIFEST,xv=((Mi,mr,Ul)=>(mr._ENTRIES={},mr.__BUILD_MANIFEST={pages:{"/_app":[]},devFiles:[],polyfillFiles:["static/chunks/a6dad97d9634a72d.js"],lowPriorityFiles:[],rootMainFiles:["static/chunks/e0df3873fae7bdbe.js","static/chunks/7021c85f9439b89e.js","static/chunks/bd537e0a0b58a56b.js","static/chunks/cc759f7c2413b7ff.js","static/chunks/turbopack-f9e9c5bd2166a7b5.js"]},mr.__BUILD_MANIFEST.lowPriorityFiles=["/static/45wwz01MkHA8G0LiTpfIq/_buildManifest.js","/static/45wwz01MkHA8G0LiTpfIq/_ssgManifest.js"],Mi.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",Mi.__SERVER_FILES_MANIFEST={version:1,config:{distDir:".next",cacheComponents:!1,htmlLimitedBots:"[\\w-]+-Google|Google-[\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight",assetPrefix:"",trailingSlash:!1,images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:[{pathname:"**",search:""}],remotePatterns:[],qualities:[75],unoptimized:!1},reactMaxHeadersLength:6e3,cacheLife:{default:{stale:300,revalidate:900,expire:4294967294},seconds:{stale:30,revalidate:1,expire:60},minutes:{stale:300,revalidate:60,expire:3600},hours:{stale:300,revalidate:3600,expire:86400},days:{stale:300,revalidate:86400,expire:604800},weeks:{stale:300,revalidate:604800,expire:2592e3},max:{stale:300,revalidate:2592e3,expire:31536e3}},basePath:"",expireTime:31536e3,generateEtags:!0,poweredByHeader:!0,cacheHandlers:{},cacheMaxMemorySize:52428800,compress:!1,i18n:null,httpAgentOptions:{keepAlive:!0},pageExtensions:["tsx","ts","jsx","js"],useFileSystemPublicRoutes:!0,experimental:{ppr:!1,staleTimes:{dynamic:0,static:300},dynamicOnHover:!1,inlineCss:!1,authInterrupts:!1,fetchCacheKeyPrefix:"",isrFlushToDisk:!0,optimizeCss:!1,nextScriptWorkers:!1,disableOptimizedLoading:!1,largePageDataBytes:128e3,serverComponentsHmrCache:!0,caseSensitiveRoutes:!1,validateRSCRequestHeaders:!1,useSkewCookie:!1,preloadEntriesOnStart:!0,hideLogsAfterAbort:!1,removeUncaughtErrorAndRejectionListeners:!1,imgOptConcurrency:null,imgOptMaxInputPixels:268402689,imgOptSequentialRead:null,imgOptSkipMetadata:null,imgOptTimeoutInSeconds:7,proxyClientMaxBodySize:10485760,trustHostHeader:!0,isExperimentalCompile:!1}},appDir:"/Users/mac/Desktop/code/grepbase",relativeAppDir:"",files:[".next/routes-manifest.json",".next/server/pages-manifest.json",".next/build-manifest.json",".next/prerender-manifest.json",".next/server/functions-config-manifest.json",".next/server/middleware-manifest.json",".next/server/middleware-build-manifest.js",".next/server/app-paths-manifest.json",".next/app-path-routes-manifest.json",".next/server/server-reference-manifest.js",".next/server/server-reference-manifest.json",".next/BUILD_ID",".next/server/next-font-manifest.js",".next/server/next-font-manifest.json",".next/required-server-files.json"],ignore:[]},Mi.__RSC_SERVER_MANIFEST=mv,mr.__RSC_MANIFEST=mr.__RSC_MANIFEST||{},mr.__RSC_MANIFEST["/api/repos/[id]/summarize/route"]={moduleLoading:{prefix:"",crossOrigin:null},clientModules:{},ssrModuleMapping:{},edgeSSRModuleMapping:{},rscModuleMapping:{},edgeRscModuleMapping:{},entryCSSFiles:{},entryJSFiles:{}},(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/_next-internal_server_app_api_repos_[id]_summarize_route_actions_9442c97c.js",7377,(_,g,xe)=>{}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/[root-of-the-server]__5f5efe2e._.js",85105,_=>{"use strict";var g=_.i(34953);_.s(["afterTaskAsyncStorage",()=>g.afterTaskAsyncStorageInstance])},78500,(_,g,xe)=>{g.exports=_.x("node:async_hooks",()=>(xg(),Tp(tc)))},69568,_=>{"use strict";let g;class xe extends Error{constructor(Ee,W){super(`Invariant: ${Ee.endsWith(".")?Ee:Ee+"."} This is a bug in Next.js.`,W),this.name="InvariantError"}}class n{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.pendingTimeoutCleanup=null,this.subscribedSignals=null,this.invokeListenersIfNoPendingReads=()=>{if(this.pendingTimeoutCleanup=null,this.count===0){for(let Ee=0;Ee<this.listeners.length;Ee++)this.listeners[Ee]();this.listeners.length=0}},Object.defineProperty(new xe("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E728",enumerable:!1,configurable:!0})}noMorePendingCaches(){var Ee;let W,ne;this.tickPending||(this.tickPending=!0,queueMicrotask(()=>process.nextTick(()=>{if(this.tickPending=!1,this.count===0){for(let B=0;B<this.earlyListeners.length;B++)this.earlyListeners[B]();this.earlyListeners.length=0}}))),this.pendingTimeoutCleanup&&this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=(Ee=this.invokeListenersIfNoPendingReads,ne=setImmediate(()=>{W=clearTimeout.bind(null,setTimeout(Ee,0))}),W=clearImmediate.bind(null,ne),()=>W())}inputReady(){return new Promise(Ee=>{this.earlyListeners.push(Ee),this.count===0&&this.noMorePendingCaches()})}cacheReady(){return new Promise(Ee=>{this.listeners.push(Ee),this.count===0&&this.noMorePendingCaches()})}beginRead(){if(this.count++,this.pendingTimeoutCleanup&&(this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=null),this.subscribedSignals!==null)for(let Ee of this.subscribedSignals)Ee.beginRead()}endRead(){if(this.count===0)throw Object.defineProperty(new xe("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,this.count===0&&this.noMorePendingCaches(),this.subscribedSignals!==null)for(let Ee of this.subscribedSignals)Ee.endRead()}hasPendingReads(){return this.count>0}trackRead(Ee){this.beginRead();let W=this.endRead.bind(this);return Ee.then(W,W),Ee}subscribeToReads(Ee){if(Ee===this)throw Object.defineProperty(new xe("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});this.subscribedSignals===null&&(this.subscribedSignals=new Set),this.subscribedSignals.add(Ee);for(let W=0;W<this.count;W++)Ee.beginRead();return this.unsubscribeFromReads.bind(this,Ee)}unsubscribeFromReads(Ee){this.subscribedSignals&&this.subscribedSignals.delete(Ee)}}function Ke(){return g||(g=new n),g}function M(ge){Ke().trackRead(ge)}function ie(ge){let Ee=Ke();if(ge!==null&&typeof ge=="object"&&"then"in ge&&typeof ge.then=="function"){let W=Promise.resolve(ge);Ee.trackRead(W)}}function Fe(ge){let Ee=Ke().subscribeToReads(ge);ge.cacheReady().then(Ee)}_.s(["trackPendingChunkLoad",()=>M,"trackPendingImport",()=>ie,"trackPendingModules",()=>Fe],69568)},70438,_=>{"use strict";var g=_.i(89610);_.s(["actionAsyncStorage",()=>g.actionAsyncStorageInstance])},34080,35171,_=>{"use strict";let g=(0,_.i(42871).createAsyncLocalStorage)();_.s(["dynamicAccessAsyncStorageInstance",0,g],34080),_.s(["dynamicAccessAsyncStorage",0,g],35171)},51615,(_,g,xe)=>{g.exports=_.x("node:buffer",()=>(wg(),Tp(rc)))},42871,_=>{"use strict";let g=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class xe{disable(){throw g}getStore(){}run(){throw g}exit(){throw g}enterWith(){throw g}static bind(ie){return ie}}let n=typeof mr<"u"&&mr.AsyncLocalStorage;function Ke(){return n?new n:new xe}_.s(["createAsyncLocalStorage",()=>Ke])},13477,_=>{"use strict";let g=(0,_.i(42871).createAsyncLocalStorage)();_.s(["workAsyncStorageInstance",0,g])},68644,_=>{"use strict";var g=_.i(13477);_.s(["workAsyncStorage",()=>g.workAsyncStorageInstance])},85021,_=>{"use strict";let g=(0,_.i(42871).createAsyncLocalStorage)();_.s(["workUnitAsyncStorageInstance",0,g])},18904,_=>{"use strict";var g=_.i(85021);_.s(["workUnitAsyncStorage",()=>g.workUnitAsyncStorageInstance])},89610,_=>{"use strict";let g=(0,_.i(42871).createAsyncLocalStorage)();_.s(["actionAsyncStorageInstance",0,g])},34953,_=>{"use strict";let g=(0,_.i(42871).createAsyncLocalStorage)();_.s(["afterTaskAsyncStorageInstance",0,g])},84256,_=>{"use strict";async function g(){return"globalThis._ENTRIES"in mr&&mr._ENTRIES.middleware_instrumentation&&await mr._ENTRIES.middleware_instrumentation}let xe=null;async function n(){if(process.env.NEXT_PHASE==="phase-production-build")return;xe||(xe=g());let ge=await xe;if(ge?.register)try{await ge.register()}catch(Ee){throw Ee.message=`An error occurred while loading instrumentation hook: ${Ee.message}`,Ee}}async function Ke(...ge){let Ee=await g();try{var W;await(Ee==null||(W=Ee.onRequestError)==null?void 0:W.call(Ee,...ge))}catch(ne){console.error("Error in instrumentation.onRequestError:",ne)}}let M=null;function ie(){return M||(M=n()),M}function Fe(ge){return`The edge runtime does not support Node.js '${ge}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==_.g.process&&(process.env=_.g.process.env,_.g.process=process);try{Object.defineProperty(mr,"__import_unsupported",{value:function(ge){let Ee=new Proxy(function(){},{get(W,ne){if(ne==="then")return{};throw Object.defineProperty(Error(Fe(ge)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(Fe(ge)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(W,ne,B){if(typeof B[0]=="function")return B[0](Ee);throw Object.defineProperty(Error(Fe(ge)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>Ee})},enumerable:!1,configurable:!1})}catch{}ie(),_.s(["edgeInstrumentationOnRequestError",()=>Ke,"ensureInstrumentationRegistered",()=>ie,"getEdgeInstrumentationModule",()=>g])},66060,(_,g,xe)=>{Mi._ENTRIES||={};let n=Promise.resolve().then(()=>_.i(33330));n.catch(()=>{}),Mi._ENTRIES["middleware_app/api/repos/[id]/summarize/route"]=new Proxy(n,{get(Ke,M){if(M==="then")return(Fe,ge)=>Ke.then(Fe,ge);let ie=(...Fe)=>Ke.then(ge=>(0,ge[M])(...Fe));return ie.then=(Fe,ge)=>Ke.then(Ee=>Ee[M]).then(Fe,ge),ie}})},33330,_=>{"use strict";let g;var xe,n=_.i(92480),Ke=_.i(87259),M=_.i(51615),ie=_.i(73246),Fe=_.i(23646),ge=_.i(32995),Ee=_.i(4842),W=_.i(68045),ne=_.i(87167),B=_.i(20900),ce=_.i(83877),Te=_.i(546),ye=_.i(66163),ht=_.i(16423),Y=_.i(63402),Ge=_.i(40409),te=_.i(14327),Ye=_.i(80441);_.i(27064);var We=_.i(34277),rt=_.i(40831);_.i(17649);var $t=_.i(60378),Pt=_.i(71062),er=_.i(87633),Gt=_.i(97804);async function Ve(Nr,{params:Vr}){try{let Sn=(0,rt.getDb)(),{id:Kr}=await Vr,{provider:Pr,apiKey:Dn,model:Nn,baseUrl:Re}=await Nr.json(),L=await Sn.select().from($t.repositories).where((0,Pt.eq)($t.repositories.id,parseInt(Kr))).limit(1);if(L.length===0)return Response.json({error:"Repository not found"},{status:404});let V=L[0];if(Pr!=="ollama"&&Pr!=="lmstudio"&&!Dn)return Response.json({error:"API key is required"},{status:400});let K=(0,er.createAIProvider)({type:Pr,apiKey:Dn,model:Nn,baseUrl:Re}),Le=`You are an expert at explaining software projects to developers. 
Your role is to provide a clear, engaging overview of a GitHub repository that helps newcomers understand:
1. What the project does and why it exists
2. The main technologies and patterns used
3. Key concepts someone should understand
4. How to get started exploring the codebase

Be concise but thorough. Use markdown formatting with headers and bullet points.
Write in an enthusiastic, welcoming tone that encourages exploration.`,at=`Please analyze this GitHub repository and provide a comprehensive overview:

**Repository:** ${V.owner}/${V.name}
**Description:** ${V.description||"No description provided"}
**Stars:** ${V.stars}

${V.readme?`**README Content:**
${V.readme.substring(0,8e3)}${V.readme.length>8e3?`
... (truncated)`:""}`:"No README available."}

Please provide:
1. **What This Project Does** - A beginner-friendly explanation
2. **Key Technologies** - Main languages, frameworks, and tools used
3. **Core Concepts** - Important patterns or ideas to understand
4. **Where to Start** - Recommended files or areas to explore first
5. **Quick Tips** - Advice for someone new to this codebase`;return(0,Gt.streamText)({model:K,system:Le,prompt:at,maxOutputTokens:2e3}).toTextStreamResponse()}catch(Sn){return console.error("Error generating summary:",Sn),Response.json({error:Sn instanceof Error?Sn.message:"Failed to generate summary"},{status:500})}}_.s(["POST",()=>Ve,"runtime",0,"edge"],73653);var sr=_.i(73653);let pe=new ie.AppRouteRouteModule({definition:{kind:Fe.RouteKind.APP_ROUTE,page:"/api/repos/[id]/summarize/route",pathname:"/api/repos/[id]/summarize",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/repos/[id]/summarize/route.ts",nextConfigOutput:"",userland:sr}),{workAsyncStorage:ve,workUnitAsyncStorage:q,serverHooks:vt}=pe;function h(){return(0,ge.patchFetch)({workAsyncStorage:ve,workUnitAsyncStorage:q})}async function Yt(Nr,Vr,Sn){pe.isDev&&(0,Ee.addRequestMeta)(Nr,"devRequestTimingInternalsEnd",process.hrtime.bigint());let Kr="/api/repos/[id]/summarize/route";Kr=Kr.replace(/\/index$/,"")||"/";let Pr=await pe.prepare(Nr,Vr,{srcPage:Kr,multiZoneDraftMode:!1});if(!Pr)return Vr.statusCode=400,Vr.end("Bad Request"),Sn.waitUntil==null||Sn.waitUntil.call(Sn,Promise.resolve()),null;let{buildId:Dn,params:Nn,nextConfig:Re,parsedUrl:L,isDraftMode:V,prerenderManifest:K,routerServerContext:Le,isOnDemandRevalidate:at,revalidateOnlyGenerated:Wt,resolvedPathname:wr,clientReferenceManifest:J,serverActionsManifest:Xr}=Pr,Yr=(0,ne.normalizeAppPath)(Kr),hn=!!(K.dynamicRoutes[Yr]||K.routes[wr]),ti=async()=>(Le?.render404?await Le.render404(Nr,Vr,L,!1):Vr.end("This page could not be found"),null);if(hn&&!V){let Tn=!!K.routes[wr],Xn=K.dynamicRoutes[Yr];if(Xn&&Xn.fallback===!1&&!Tn){if(Re.experimental.adapterPath)return await ti();throw new Ye.NoFallbackError}}let Zn=null;!hn||pe.isDev||V||(Zn=(Zn=wr)==="/index"?"/":Zn);let lr=pe.isDev===!0||!hn,st=hn&&!lr;Xr&&J&&(0,n.setManifestsSingleton)({page:Kr,clientReferenceManifest:J,serverActionsManifest:Xr});let Ut=Nr.method||"GET",nr=(0,W.getTracer)(),fn=nr.getActiveScopeSpan(),Zr={params:Nn,prerenderManifest:K,renderOpts:{experimental:{authInterrupts:!!Re.experimental.authInterrupts},cacheComponents:!!Re.cacheComponents,supportsDynamicResponse:lr,incrementalCache:(0,Ee.getRequestMeta)(Nr,"incrementalCache"),cacheLifeProfiles:Re.cacheLife,waitUntil:Sn.waitUntil,onClose:Tn=>{Vr.on("close",Tn)},onAfterTaskError:void 0,onInstrumentationRequestError:(Tn,Xn,pn,ze)=>pe.onRequestError(Nr,Tn,pn,ze,Le)},sharedContext:{buildId:Dn}},dr=new B.NodeNextRequest(Nr),Ki=new B.NodeNextResponse(Vr),ri=ce.NextRequestAdapter.fromNodeNextRequest(dr,(0,ce.signalFromNodeResponse)(Vr));try{let Tn=async ze=>pe.handle(ri,Zr).finally(()=>{if(!ze)return;ze.setAttributes({"http.status_code":Vr.statusCode,"next.rsc":!1});let ft=nr.getRootSpanAttributes();if(!ft)return;if(ft.get("next.span_type")!==Te.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${ft.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let pr=ft.get("next.route");if(pr){let De=`${Ut} ${pr}`;ze.setAttributes({"next.route":pr,"http.route":pr,"next.span_name":De}),ze.updateName(De)}else ze.updateName(`${Ut} ${Kr}`)}),Xn=!!(0,Ee.getRequestMeta)(Nr,"minimalMode"),pn=async ze=>{var ft,pr;let De=async({previousCacheEntry:rn})=>{try{if(!Xn&&at&&Wt&&!rn)return Vr.statusCode=404,Vr.setHeader("x-nextjs-cache","REVALIDATED"),Vr.end("This page could not be found"),null;let Di=await Tn(ze);Nr.fetchMetrics=Zr.renderOpts.fetchMetrics;let ca=Zr.renderOpts.pendingWaitUntil;ca&&Sn.waitUntil&&(Sn.waitUntil(ca),ca=void 0);let qa=Zr.renderOpts.collectedTags;if(!hn)return await(0,ht.sendResponse)(dr,Ki,Di,Zr.renderOpts.pendingWaitUntil),null;{let An=await Di.blob(),ia=(0,Y.toNodeOutgoingHttpHeaders)(Di.headers);qa&&(ia[te.NEXT_CACHE_TAGS_HEADER]=qa),!ia["content-type"]&&An.type&&(ia["content-type"]=An.type);let Ha=Zr.renderOpts.collectedRevalidate!==void 0&&!(Zr.renderOpts.collectedRevalidate>=te.INFINITE_CACHE)&&Zr.renderOpts.collectedRevalidate,Yi=Zr.renderOpts.collectedExpire===void 0||Zr.renderOpts.collectedExpire>=te.INFINITE_CACHE?void 0:Zr.renderOpts.collectedExpire;return{value:{kind:We.CachedRouteKind.APP_ROUTE,status:Di.status,body:M.Buffer.from(await An.arrayBuffer()),headers:ia},cacheControl:{revalidate:Ha,expire:Yi}}}}catch(Di){throw rn?.isStale&&await pe.onRequestError(Nr,Di,{routerKind:"App Router",routePath:Kr,routeType:"route",revalidateReason:(0,ye.getRevalidateReason)({isStaticGeneration:st,isOnDemandRevalidate:at})},!1,Le),Di}},cn=await pe.handleResponse({req:Nr,nextConfig:Re,cacheKey:Zn,routeKind:Fe.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:K,isRoutePPREnabled:!1,isOnDemandRevalidate:at,revalidateOnlyGenerated:Wt,responseGenerator:De,waitUntil:Sn.waitUntil,isMinimalMode:Xn});if(!hn)return null;if((cn==null||(ft=cn.value)==null?void 0:ft.kind)!==We.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${cn==null||(pr=cn.value)==null?void 0:pr.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});Xn||Vr.setHeader("x-nextjs-cache",at?"REVALIDATED":cn.isMiss?"MISS":cn.isStale?"STALE":"HIT"),V&&Vr.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let zi=(0,Y.fromNodeOutgoingHttpHeaders)(cn.value.headers);return Xn&&hn||zi.delete(te.NEXT_CACHE_TAGS_HEADER),!cn.cacheControl||Vr.getHeader("Cache-Control")||zi.get("Cache-Control")||zi.set("Cache-Control",(0,Ge.getCacheControlHeader)(cn.cacheControl)),await(0,ht.sendResponse)(dr,Ki,new Response(cn.value.body,{headers:zi,status:cn.value.status||200})),null};fn?await pn(fn):await nr.withPropagatedContext(Nr.headers,()=>nr.trace(Te.BaseServerSpan.handleRequest,{spanName:`${Ut} ${Kr}`,kind:W.SpanKind.SERVER,attributes:{"http.method":Ut,"http.target":Nr.url}},pn))}catch(Tn){if(Tn instanceof Ye.NoFallbackError||await pe.onRequestError(Nr,Tn,{routerKind:"App Router",routePath:Yr,routeType:"route",revalidateReason:(0,ye.getRevalidateReason)({isStaticGeneration:st,isOnDemandRevalidate:at})},!1,Le),hn)throw Tn;return await(0,ht.sendResponse)(dr,Ki,new Response(null,{status:500})),null}}_.s(["handler",()=>Yt,"patchFetch",()=>h,"routeModule",()=>pe,"serverHooks",()=>vt,"workAsyncStorage",()=>ve,"workUnitAsyncStorage",()=>q],97382);var lt=_.i(97382);let ur=(xe=Mi.__RSC_MANIFEST)==null?void 0:xe["/api/repos/[id]/summarize/route"],ct=(g=Mi.__RSC_SERVER_MANIFEST)?JSON.parse(g):void 0;ur&&ct&&(0,n.setManifestsSingleton)({page:"/api/repos/[id]/summarize/route",clientReferenceManifest:ur,serverActionsManifest:ct});let mt=Ke.EdgeRouteModuleWrapper.wrap(lt.routeModule,{page:"/api/repos/[id]/summarize/route"});_.s(["ComponentMod",0,lt,"default",0,mt],33330)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/_7ece717d._.js",59518,(_,g,xe)=>{},58168,(_,g,xe)=>{"use strict";let n,Ke,M,ie,Fe;var ge=Object.create,Ee=Object.defineProperty,W=Object.getOwnPropertyDescriptor,ne=Object.getOwnPropertyNames,B=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty,Te=($t,Pt,er,Gt)=>{if(Pt&&typeof Pt=="object"||typeof Pt=="function")for(let Ve of ne(Pt))ce.call($t,Ve)||Ve===er||Ee($t,Ve,{get:()=>Pt[Ve],enumerable:!(Gt=W(Pt,Ve))||Gt.enumerable});return $t},ye=(n={"../../node_modules/dedent-tabs/dist/dedent-tabs.js"($t){Object.defineProperty($t,"__esModule",{value:!0}),$t.default=function(Pt){for(var er=typeof Pt=="string"?[Pt]:Pt.raw,Gt="",Ve=0;Ve<er.length;Ve++)if(Gt+=er[Ve].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{"),Ve<(1>=arguments.length?0:arguments.length-1)){var sr=Gt.substring(Gt.lastIndexOf(`
`)+1).match(/^(\s*)\S?/);Gt+=((1>Ve+1||arguments.length<=Ve+1?void 0:arguments[Ve+1])+"").replace(/\n/g,`
`+sr[1])}var pe=Gt.split(`
`),ve=null;if(pe.forEach(function(vt){var h=Math.min,Yt=vt.match(/^(\s+)\S+/);if(Yt){var lt=Yt[1].length;ve=ve?h(ve,lt):lt}}),ve!==null){var q=ve;Gt=pe.map(function(vt){return vt[0]===" "||vt[0]==="	"?vt.slice(q):vt}).join(`
`)}return Gt.trim().replace(/\\n/g,`
`)}}},function(){return Ke||(0,n[ne(n)[0]])((Ke={exports:{}}).exports,Ke),Ke.exports}),ht={},Y={getOptionalRequestContext:()=>We,getRequestContext:()=>rt};for(var Ge in Y)Ee(ht,Ge,{get:Y[Ge],enumerable:!0});g.exports=Te(Ee({},"__esModule",{value:!0}),ht),_.r(59518);var te=(Fe=(M=ye())!=null?ge(B(M)):{},Te(!ie&&M&&M.__esModule?Fe:Ee(Fe,"default",{value:M,enumerable:!0}),M)),Ye=Symbol.for("__cloudflare-request-context__");function We(){let $t=mr[Ye];if((process?.release?.name==="node"?"nodejs":"edge")=="nodejs")throw Error(te.default`
			\`getRequestContext\` and \`getOptionalRequestContext\` can only be run
			inside the edge runtime, so please make sure to have included
			\`export const runtime = 'edge'\` in all the routes using such functions
			(regardless of whether they are used directly or indirectly through imports).
		`);return $t}function rt(){let $t=We();if(!$t)throw process?.env?.NEXT_PHASE==="phase-production-build"?Error(te.default`
				\n\`getRequestContext\` is being called at the top level of a route file, this is not supported
				for more details see https://developers.cloudflare.com/pages/framework-guides/nextjs/ssr/troubleshooting/#top-level-getrequestcontext \n
			`):Error("Failed to retrieve the Cloudflare request context.");return $t}},40831,71062,76436,60378,17649,_=>{"use strict";let g,xe;var n,Ke=_.i(58168);let M=Symbol.for("drizzle:entityKind");function ie(T,o){if(!T||typeof T!="object")return!1;if(T instanceof o)return!0;if(!Object.prototype.hasOwnProperty.call(o,M))throw Error(`Class "${o.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let l=Object.getPrototypeOf(T).constructor;if(l)for(;l;){if(M in l&&l[M]===o[M])return!0;l=Object.getPrototypeOf(l)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class Fe{static[M]="ConsoleLogWriter";write(o){console.log(o)}}class ge{static[M]="DefaultLogger";writer;constructor(o){this.writer=o?.writer??new Fe}logQuery(o,l){let C=l.map(oe=>{try{return JSON.stringify(oe)}catch{return String(oe)}}),Z=C.length?` -- params: [${C.join(", ")}]`:"";this.writer.write(`Query: ${o}${Z}`)}}class Ee{static[M]="NoopLogger";logQuery(){}}let W=Symbol.for("drizzle:Name"),ne=Symbol.for("drizzle:Schema"),B=Symbol.for("drizzle:Columns"),ce=Symbol.for("drizzle:ExtraConfigColumns"),Te=Symbol.for("drizzle:OriginalName"),ye=Symbol.for("drizzle:BaseName"),ht=Symbol.for("drizzle:IsAlias"),Y=Symbol.for("drizzle:ExtraConfigBuilder"),Ge=Symbol.for("drizzle:IsDrizzleTable");class te{static[M]="Table";static Symbol={Name:W,Schema:ne,OriginalName:Te,Columns:B,ExtraConfigColumns:ce,BaseName:ye,IsAlias:ht,ExtraConfigBuilder:Y};[W];[Te];[ne];[B];[ce];[ye];[ht]=!1;[Ge]=!0;[Y]=void 0;constructor(o,l,C){this[W]=this[Te]=o,this[ne]=l,this[ye]=C}}function Ye(T){return`${T[ne]??"public"}.${T[W]}`}class We{constructor(o,l){this.table=o,this.config=l,this.name=l.name,this.keyAsName=l.keyAsName,this.notNull=l.notNull,this.default=l.default,this.defaultFn=l.defaultFn,this.onUpdateFn=l.onUpdateFn,this.hasDefault=l.hasDefault,this.primary=l.primaryKey,this.isUnique=l.isUnique,this.uniqueName=l.uniqueName,this.uniqueType=l.uniqueType,this.dataType=l.dataType,this.columnType=l.columnType,this.generated=l.generated,this.generatedIdentity=l.generatedIdentity}static[M]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(o){return o}mapToDriverValue(o){return o}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class rt{static[M]="ColumnBuilder";config;constructor(o,l,C){this.config={name:o,keyAsName:o==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:l,columnType:C,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(o){return this.config.default=o,this.config.hasDefault=!0,this}$defaultFn(o){return this.config.defaultFn=o,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(o){return this.config.onUpdateFn=o,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(o){this.config.name===""&&(this.config.name=o)}}class $t{static[M]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(o,l){this.reference=()=>{let{name:C,columns:Z,foreignColumns:oe}=o();return{name:C,columns:Z,foreignTable:oe[0].table,foreignColumns:oe}},l&&(this._onUpdate=l.onUpdate,this._onDelete=l.onDelete)}onUpdate(o){return this._onUpdate=o===void 0?"no action":o,this}onDelete(o){return this._onDelete=o===void 0?"no action":o,this}build(o){return new Pt(o,this)}}class Pt{constructor(o,l){this.table=o,this.reference=l.reference,this.onUpdate=l._onUpdate,this.onDelete=l._onDelete}static[M]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:o,columns:l,foreignColumns:C}=this.reference(),Z=l.map(ot=>ot.name),oe=C.map(ot=>ot.name),Be=[this.table[W],...Z,C[0].table[W],...oe];return o??`${Be.join("_")}_fk`}}function er(T,...o){return T(...o)}function Gt(T,o){return`${T[W]}_${o.join("_")}_unique`}class Ve{constructor(o,l){this.name=l,this.columns=o}static[M]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(o){return new pe(o,this.columns,this.nullsNotDistinctConfig,this.name)}}class sr{static[M]="PgUniqueOnConstraintBuilder";name;constructor(o){this.name=o}on(...o){return new Ve(o,this.name)}}class pe{constructor(o,l,C,Z){this.table=o,this.columns=l,this.name=Z??Gt(this.table,this.columns.map(oe=>oe.name)),this.nullsNotDistinct=C}static[M]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function ve(T,o,l){for(let C=o;C<T.length;C++){let Z=T[C];if(Z==="\\"){C++;continue}if(Z==='"')return[T.slice(o,C).replace(/\\/g,""),C+1];if(!l&&(Z===","||Z==="}"))return[T.slice(o,C).replace(/\\/g,""),C]}return[T.slice(o).replace(/\\/g,""),T.length]}class q extends rt{foreignKeyConfigs=[];static[M]="PgColumnBuilder";array(o){return new lt(this.config.name,this,o)}references(o,l={}){return this.foreignKeyConfigs.push({ref:o,actions:l}),this}unique(o,l){return this.config.isUnique=!0,this.config.uniqueName=o,this.config.uniqueType=l?.nulls,this}generatedAlwaysAs(o){return this.config.generated={as:o,type:"always",mode:"stored"},this}buildForeignKeys(o,l){return this.foreignKeyConfigs.map(({ref:C,actions:Z})=>er((oe,Be)=>{let ot=new $t(()=>({columns:[o],foreignColumns:[oe()]}));return Be.onUpdate&&ot.onUpdate(Be.onUpdate),Be.onDelete&&ot.onDelete(Be.onDelete),ot.build(l)},C,Z))}buildExtraConfigColumn(o){return new h(o,this.config)}}class vt extends We{constructor(o,l){l.uniqueName||(l.uniqueName=Gt(o,[l.name])),super(o,l),this.table=o}static[M]="PgColumn"}class h extends vt{static[M]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(o){return this.indexConfig.opClass=o,this}}class Yt{static[M]="IndexedColumn";constructor(o,l,C,Z){this.name=o,this.keyAsName=l,this.type=C,this.indexConfig=Z}name;keyAsName;type;indexConfig}class lt extends q{static[M]="PgArrayBuilder";constructor(o,l,C){super(o,"array","PgArray"),this.config.baseBuilder=l,this.config.size=C}build(o){let l=this.config.baseBuilder.build(o);return new ur(o,this.config,l)}}class ur extends vt{constructor(o,l,C,Z){super(o,l),this.baseColumn=C,this.range=Z,this.size=l.size}size;static[M]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(o){return typeof o=="string"&&(o=function(l){let[C]=function Z(oe,Be=0){let ot=[],or=Be,Ir=!1;for(;or<oe.length;){let tn=oe[or];if(tn===","){(Ir||or===Be)&&ot.push(""),Ir=!0,or++;continue}if(Ir=!1,tn==="\\"){or+=2;continue}if(tn==='"'){let[gr,_r]=ve(oe,or+1,!0);ot.push(gr),or=_r;continue}if(tn==="}")return[ot,or+1];if(tn==="{"){let[gr,_r]=Z(oe,or+1);ot.push(gr),or=_r;continue}let[yn,ut]=ve(oe,or,!1);ot.push(yn),or=ut}return[ot,or]}(l,1);return C}(o)),o.map(l=>this.baseColumn.mapFromDriverValue(l))}mapToDriverValue(o,l=!1){let C=o.map(Z=>Z===null?null:ie(this.baseColumn,ur)?this.baseColumn.mapToDriverValue(Z,!0):this.baseColumn.mapToDriverValue(Z));return l?C:function Z(oe){return`{${oe.map(Be=>Array.isArray(Be)?Z(Be):typeof Be=="string"?`"${Be.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${Be}`).join(",")}}`}(C)}}class ct extends q{static[M]="PgEnumObjectColumnBuilder";constructor(o,l){super(o,"string","PgEnumObjectColumn"),this.config.enum=l}build(o){return new mt(o,this.config)}}class mt extends vt{static[M]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(o,l){super(o,l),this.enum=l.enum}getSQLType(){return this.enum.enumName}}let Nr=Symbol.for("drizzle:isPgEnum");class Vr extends q{static[M]="PgEnumColumnBuilder";constructor(o,l){super(o,"string","PgEnumColumn"),this.config.enum=l}build(o){return new Sn(o,this.config)}}class Sn extends vt{static[M]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(o,l){super(o,l),this.enum=l.enum}getSQLType(){return this.enum.enumName}}class Kr{static[M]="Subquery";constructor(o,l,C,Z=!1,oe=[]){this._={brand:"Subquery",sql:o,selectedFields:l,alias:C,isWith:Z,usedTables:oe}}}class Pr extends Kr{static[M]="WithSubquery"}let Dn=(T,o)=>g?(xe||(xe=g.trace.getTracer("drizzle-orm","0.45.1")),er((l,C)=>C.startActiveSpan(T,Z=>{try{return o(Z)}catch(oe){throw Z.setStatus({code:l.SpanStatusCode.ERROR,message:oe instanceof Error?oe.message:"Unknown error"}),oe}finally{Z.end()}}),g,xe)):o(),Nn=Symbol.for("drizzle:ViewBaseConfig");class Re{static[M]="FakePrimitiveParam"}function L(T){return T!=null&&typeof T.getSQL=="function"}class V{static[M]="StringChunk";value;constructor(o){this.value=Array.isArray(o)?o:[o]}getSQL(){return new K([this])}}class K{constructor(o){for(let l of(this.queryChunks=o,o))if(ie(l,te)){let C=l[te.Symbol.Schema];this.usedTables.push(C===void 0?l[te.Symbol.Name]:C+"."+l[te.Symbol.Name])}}static[M]="SQL";decoder=at;shouldInlineParams=!1;usedTables=[];append(o){return this.queryChunks.push(...o.queryChunks),this}toQuery(o){return Dn("drizzle.buildSQL",l=>{let C=this.buildQueryFromSourceParams(this.queryChunks,o);return l?.setAttributes({"drizzle.query.text":C.sql,"drizzle.query.params":JSON.stringify(C.params)}),C})}buildQueryFromSourceParams(o,l){let C=Object.assign({},l,{inlineParams:l.inlineParams||this.shouldInlineParams,paramStartIndex:l.paramStartIndex||{value:0}}),{casing:Z,escapeName:oe,escapeParam:Be,prepareTyping:ot,inlineParams:or,paramStartIndex:Ir}=C;var tn=o.map(ut=>{if(ie(ut,V))return{sql:ut.value.join(""),params:[]};if(ie(ut,Le))return{sql:oe(ut.value),params:[]};if(ut===void 0)return{sql:"",params:[]};if(Array.isArray(ut)){let gr=[new V("(")];for(let[_r,Er]of ut.entries())gr.push(Er),_r<ut.length-1&&gr.push(new V(", "));return gr.push(new V(")")),this.buildQueryFromSourceParams(gr,C)}if(ie(ut,K))return this.buildQueryFromSourceParams(ut.queryChunks,{...C,inlineParams:or||ut.shouldInlineParams});if(ie(ut,te)){let gr=ut[te.Symbol.Schema],_r=ut[te.Symbol.Name];return{sql:gr===void 0||ut[ht]?oe(_r):oe(gr)+"."+oe(_r),params:[]}}if(ie(ut,We)){let gr=Z.getColumnCasing(ut);if(l.invokeSource==="indexes")return{sql:oe(gr),params:[]};let _r=ut.table[te.Symbol.Schema];return{sql:ut.table[ht]||_r===void 0?oe(ut.table[te.Symbol.Name])+"."+oe(gr):oe(_r)+"."+oe(ut.table[te.Symbol.Name])+"."+oe(gr),params:[]}}if(ie(ut,lr)){let gr=ut[Nn].schema,_r=ut[Nn].name;return{sql:gr===void 0||ut[Nn].isAlias?oe(_r):oe(gr)+"."+oe(_r),params:[]}}if(ie(ut,wr)){if(ie(ut.value,hn))return{sql:Be(Ir.value++,ut),params:[ut],typings:["none"]};let gr=ut.value===null?null:ut.encoder.mapToDriverValue(ut.value);if(ie(gr,K))return this.buildQueryFromSourceParams([gr],C);if(or)return{sql:this.mapInlineParam(gr,C),params:[]};let _r=["none"];return ot&&(_r=[ot(ut.encoder)]),{sql:Be(Ir.value++,gr),params:[gr],typings:_r}}return ie(ut,hn)?{sql:Be(Ir.value++,ut),params:[ut],typings:["none"]}:ie(ut,K.Aliased)&&ut.fieldAlias!==void 0?{sql:oe(ut.fieldAlias),params:[]}:ie(ut,Kr)?ut._.isWith?{sql:oe(ut._.alias),params:[]}:this.buildQueryFromSourceParams([new V("("),ut._.sql,new V(") "),new Le(ut._.alias)],C):ut&&typeof ut=="function"&&Nr in ut&&ut[Nr]===!0?ut.schema?{sql:oe(ut.schema)+"."+oe(ut.enumName),params:[]}:{sql:oe(ut.enumName),params:[]}:L(ut)?ut.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([ut.getSQL()],C):this.buildQueryFromSourceParams([new V("("),ut.getSQL(),new V(")")],C):or?{sql:this.mapInlineParam(ut,C),params:[]}:{sql:Be(Ir.value++,ut),params:[ut],typings:["none"]}});let yn={sql:"",params:[]};for(let ut of tn)yn.sql+=ut.sql,yn.params.push(...ut.params),ut.typings?.length&&(yn.typings||(yn.typings=[]),yn.typings.push(...ut.typings));return yn}mapInlineParam(o,{escapeString:l}){if(o===null)return"null";if(typeof o=="number"||typeof o=="boolean")return o.toString();if(typeof o=="string")return l(o);if(typeof o=="object"){let C=o.toString();return l(C==="[object Object]"?JSON.stringify(o):C)}throw Error("Unexpected param value: "+o)}getSQL(){return this}as(o){return o===void 0?this:new K.Aliased(this,o)}mapWith(o){return this.decoder=typeof o=="function"?{mapFromDriverValue:o}:o,this}inlineParams(){return this.shouldInlineParams=!0,this}if(o){return o?this:void 0}}class Le{constructor(o){this.value=o}static[M]="Name";brand;getSQL(){return new K([this])}}let at={mapFromDriverValue:T=>T},Wt={mapToDriverValue:T=>T};({...at,...Wt});class wr{constructor(o,l=Wt){this.value=o,this.encoder=l}static[M]="Param";brand;getSQL(){return new K([this])}}function J(T,...o){let l=[];for(let[C,Z]of((o.length>0||T.length>0&&T[0]!=="")&&l.push(new V(T[0])),o.entries()))l.push(Z,new V(T[C+1]));return new K(l)}(n=J||(J={})).empty=function(){return new K([])},n.fromList=function(T){return new K(T)},n.raw=function(T){return new K([new V(T)])},n.join=function(T,o){let l=[];for(let[C,Z]of T.entries())C>0&&o!==void 0&&l.push(o),l.push(Z);return new K(l)},n.identifier=function(T){return new Le(T)},n.placeholder=function(T){return new hn(T)},n.param=function(T,o){return new wr(T,o)};var Xr=K||(K={});class Yr{constructor(o,l){this.sql=o,this.fieldAlias=l}static[M]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new Yr(this.sql,this.fieldAlias)}}Xr.Aliased=Yr;class hn{constructor(o){this.name=o}static[M]="Placeholder";getSQL(){return new K([this])}}function ti(T,o){return T.map(l=>{if(ie(l,hn)){if(!(l.name in o))throw Error(`No value for placeholder "${l.name}" was provided`);return o[l.name]}if(ie(l,wr)&&ie(l.value,hn)){if(!(l.value.name in o))throw Error(`No value for placeholder "${l.value.name}" was provided`);return l.encoder.mapToDriverValue(o[l.value.name])}return l})}let Zn=Symbol.for("drizzle:IsDrizzleView");class lr{static[M]="View";[Nn];[Zn]=!0;constructor({name:o,schema:l,selectedFields:C,query:Z}){this[Nn]={name:o,originalName:o,schema:l,selectedFields:C,query:Z,isExisting:!Z,isAlias:!1}}getSQL(){return new K([this])}}function st(T,o,l){let C={},Z=T.reduce((oe,{path:Be,field:ot},or)=>{let Ir;Ir=ie(ot,We)?ot:ie(ot,K)?ot.decoder:ie(ot,Kr)?ot._.sql.decoder:ot.sql.decoder;let tn=oe;for(let[yn,ut]of Be.entries())if(yn<Be.length-1)ut in tn||(tn[ut]={}),tn=tn[ut];else{let gr=o[or],_r=tn[ut]=gr===null?null:Ir.mapFromDriverValue(gr);if(l&&ie(ot,We)&&Be.length===2){let Er=Be[0];Er in C?typeof C[Er]=="string"&&C[Er]!==ot.table[W]&&(C[Er]=!1):C[Er]=_r===null&&ot.table[W]}}return oe},{});if(l&&Object.keys(C).length>0)for(let[oe,Be]of Object.entries(C))typeof Be!="string"||l[Be]||(Z[oe]=null);return Z}function Ut(T,o){return Object.entries(T).reduce((l,[C,Z])=>{if(typeof C!="string")return l;let oe=o?[...o,C]:[C];return ie(Z,We)||ie(Z,K)||ie(Z,K.Aliased)||ie(Z,Kr)?l.push({path:oe,field:Z}):ie(Z,te)?l.push(...Ut(Z[te.Symbol.Columns],oe)):l.push(...Ut(Z,oe)),l},[])}function nr(T,o){let l=Object.keys(T),C=Object.keys(o);if(l.length!==C.length)return!1;for(let[Z,oe]of l.entries())if(oe!==C[Z])return!1;return!0}function fn(T,o){let l=Object.entries(o).filter(([,C])=>C!==void 0).map(([C,Z])=>ie(Z,K)||ie(Z,We)?[C,Z]:[C,new wr(Z,T[te.Symbol.Columns][C])]);if(l.length===0)throw Error("No values to set");return Object.fromEntries(l)}function Zr(T){return ie(T,Kr)?T._.alias:ie(T,lr)?T[Nn].name:ie(T,K)?void 0:T[te.Symbol.IsAlias]?T[te.Symbol.Name]:T[te.Symbol.BaseName]}function dr(T,o){return{name:typeof T=="string"&&T.length>0?T:"",config:typeof T=="object"?T:o}}We.prototype.getSQL=function(){return new K([this])},te.prototype.getSQL=function(){return new K([this])},Kr.prototype.getSQL=function(){return new K([this])};let Ki=typeof TextDecoder>"u"?null:new TextDecoder;class ri extends q{static[M]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(o){if(o){let{name:l,...C}=o;this.config.generatedIdentity={type:"always",sequenceName:l,sequenceOptions:C}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(o){if(o){let{name:l,...C}=o;this.config.generatedIdentity={type:"byDefault",sequenceName:l,sequenceOptions:C}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class Tn extends ri{static[M]="PgBigInt53Builder";constructor(o){super(o,"number","PgBigInt53")}build(o){return new Xn(o,this.config)}}class Xn extends vt{static[M]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}}class pn extends ri{static[M]="PgBigInt64Builder";constructor(o){super(o,"bigint","PgBigInt64")}build(o){return new ze(o,this.config)}}class ze extends vt{static[M]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(o){return BigInt(o)}}class ft extends q{static[M]="PgBigSerial53Builder";constructor(o){super(o,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new pr(o,this.config)}}class pr extends vt{static[M]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}}class De extends q{static[M]="PgBigSerial64Builder";constructor(o){super(o,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(o){return new cn(o,this.config)}}class cn extends vt{static[M]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(o){return BigInt(o)}}class zi extends q{static[M]="PgBooleanBuilder";constructor(o){super(o,"boolean","PgBoolean")}build(o){return new rn(o,this.config)}}class rn extends vt{static[M]="PgBoolean";getSQLType(){return"boolean"}}class Di extends q{static[M]="PgCharBuilder";constructor(o,l){super(o,"string","PgChar"),this.config.length=l.length,this.config.enumValues=l.enum}build(o){return new ca(o,this.config)}}class ca extends vt{static[M]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}class qa extends q{static[M]="PgCidrBuilder";constructor(o){super(o,"string","PgCidr")}build(o){return new An(o,this.config)}}class An extends vt{static[M]="PgCidr";getSQLType(){return"cidr"}}class ia extends q{static[M]="PgCustomColumnBuilder";constructor(o,l,C){super(o,"custom","PgCustomColumn"),this.config.fieldConfig=l,this.config.customTypeParams=C}build(o){return new Ha(o,this.config)}}class Ha extends vt{static[M]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(o,l){super(o,l),this.sqlName=l.customTypeParams.dataType(l.fieldConfig),this.mapTo=l.customTypeParams.toDriver,this.mapFrom=l.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(o){return typeof this.mapFrom=="function"?this.mapFrom(o):o}mapToDriverValue(o){return typeof this.mapTo=="function"?this.mapTo(o):o}}class Yi extends q{static[M]="PgDateColumnBaseBuilder";defaultNow(){return this.default(J`now()`)}}class nn extends Yi{static[M]="PgDateBuilder";constructor(o){super(o,"date","PgDate")}build(o){return new Bn(o,this.config)}}class Bn extends vt{static[M]="PgDate";getSQLType(){return"date"}mapFromDriverValue(o){return typeof o=="string"?new Date(o):o}mapToDriverValue(o){return o.toISOString()}}class da extends Yi{static[M]="PgDateStringBuilder";constructor(o){super(o,"string","PgDateString")}build(o){return new Ja(o,this.config)}}class Ja extends vt{static[M]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(o){return typeof o=="string"?o:o.toISOString().slice(0,-14)}}class _o extends q{static[M]="PgDoublePrecisionBuilder";constructor(o){super(o,"number","PgDoublePrecision")}build(o){return new La(o,this.config)}}class La extends vt{static[M]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(o){return typeof o=="string"?Number.parseFloat(o):o}}class Wi extends q{static[M]="PgInetBuilder";constructor(o){super(o,"string","PgInet")}build(o){return new Xa(o,this.config)}}class Xa extends vt{static[M]="PgInet";getSQLType(){return"inet"}}class Ya extends ri{static[M]="PgIntegerBuilder";constructor(o){super(o,"number","PgInteger")}build(o){return new Ea(o,this.config)}}class Ea extends vt{static[M]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(o){return typeof o=="string"?Number.parseInt(o):o}}class po extends q{static[M]="PgIntervalBuilder";constructor(o,l){super(o,"string","PgInterval"),this.config.intervalConfig=l}build(o){return new mo(o,this.config)}}class mo extends vt{static[M]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let o=this.fields?` ${this.fields}`:"",l=this.precision?`(${this.precision})`:"";return`interval${o}${l}`}}class xt extends q{static[M]="PgJsonBuilder";constructor(o){super(o,"json","PgJson")}build(o){return new Ce(o,this.config)}}class Ce extends vt{static[M]="PgJson";constructor(o,l){super(o,l)}getSQLType(){return"json"}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){if(typeof o=="string")try{return JSON.parse(o)}catch{}return o}}class vr extends q{static[M]="PgJsonbBuilder";constructor(o){super(o,"json","PgJsonb")}build(o){return new G(o,this.config)}}class G extends vt{static[M]="PgJsonb";constructor(o,l){super(o,l)}getSQLType(){return"jsonb"}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){if(typeof o=="string")try{return JSON.parse(o)}catch{}return o}}class Tr extends q{static[M]="PgLineBuilder";constructor(o){super(o,"array","PgLine")}build(o){return new en(o,this.config)}}class en extends vt{static[M]="PgLine";getSQLType(){return"line"}mapFromDriverValue(o){let[l,C,Z]=o.slice(1,-1).split(",");return[Number.parseFloat(l),Number.parseFloat(C),Number.parseFloat(Z)]}mapToDriverValue(o){return`{${o[0]},${o[1]},${o[2]}}`}}class Ln extends q{static[M]="PgLineABCBuilder";constructor(o){super(o,"json","PgLineABC")}build(o){return new In(o,this.config)}}class In extends vt{static[M]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(o){let[l,C,Z]=o.slice(1,-1).split(",");return{a:Number.parseFloat(l),b:Number.parseFloat(C),c:Number.parseFloat(Z)}}mapToDriverValue(o){return`{${o.a},${o.b},${o.c}}`}}class Jr extends q{static[M]="PgMacaddrBuilder";constructor(o){super(o,"string","PgMacaddr")}build(o){return new Hn(o,this.config)}}class Hn extends vt{static[M]="PgMacaddr";getSQLType(){return"macaddr"}}class Gi extends q{static[M]="PgMacaddr8Builder";constructor(o){super(o,"string","PgMacaddr8")}build(o){return new Li(o,this.config)}}class Li extends vt{static[M]="PgMacaddr8";getSQLType(){return"macaddr8"}}class ki extends q{static[M]="PgNumericBuilder";constructor(o,l,C){super(o,"string","PgNumeric"),this.config.precision=l,this.config.scale=C}build(o){return new di(o,this.config)}}class di extends vt{static[M]="PgNumeric";precision;scale;constructor(o,l){super(o,l),this.precision=l.precision,this.scale=l.scale}mapFromDriverValue(o){return typeof o=="string"?o:String(o)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class Fi extends q{static[M]="PgNumericNumberBuilder";constructor(o,l,C){super(o,"number","PgNumericNumber"),this.config.precision=l,this.config.scale=C}build(o){return new Ot(o,this.config)}}class Ot extends vt{static[M]="PgNumericNumber";precision;scale;constructor(o,l){super(o,l),this.precision=l.precision,this.scale=l.scale}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class pi extends q{static[M]="PgNumericBigIntBuilder";constructor(o,l,C){super(o,"bigint","PgNumericBigInt"),this.config.precision=l,this.config.scale=C}build(o){return new Un(o,this.config)}}class Un extends vt{static[M]="PgNumericBigInt";precision;scale;constructor(o,l){super(o,l),this.precision=l.precision,this.scale=l.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class Yn extends q{static[M]="PgPointTupleBuilder";constructor(o){super(o,"array","PgPointTuple")}build(o){return new gn(o,this.config)}}class gn extends vt{static[M]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(o){if(typeof o=="string"){let[l,C]=o.slice(1,-1).split(",");return[Number.parseFloat(l),Number.parseFloat(C)]}return[o.x,o.y]}mapToDriverValue(o){return`(${o[0]},${o[1]})`}}class pa extends q{static[M]="PgPointObjectBuilder";constructor(o){super(o,"json","PgPointObject")}build(o){return new ea(o,this.config)}}class ea extends vt{static[M]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(o){if(typeof o=="string"){let[l,C]=o.slice(1,-1).split(",");return{x:Number.parseFloat(l),y:Number.parseFloat(C)}}return o}mapToDriverValue(o){return`(${o.x},${o.y})`}}function xr(T,o){let l=new DataView(new ArrayBuffer(8));for(let C=0;C<8;C++)l.setUint8(C,T[o+C]);return l.getFloat64(0,!0)}function Ti(T){let o=function(Be){let ot=[];for(let or=0;or<Be.length;or+=2)ot.push(Number.parseInt(Be.slice(or,or+2),16));return new Uint8Array(ot)}(T),l=0,C=o[0];l+=1;let Z=new DataView(o.buffer),oe=Z.getUint32(l,C===1);if(l+=4,536870912&oe&&(Z.getUint32(l,C===1),l+=4),(65535&oe)==1){let Be=xr(o,l),ot=xr(o,l+=8);return l+=8,[Be,ot]}throw Error("Unsupported geometry type")}class Zi extends q{static[M]="PgGeometryBuilder";constructor(o){super(o,"array","PgGeometry")}build(o){return new Cn(o,this.config)}}class Cn extends vt{static[M]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(o){return Ti(o)}mapToDriverValue(o){return`point(${o[0]} ${o[1]})`}}class Qi extends q{static[M]="PgGeometryObjectBuilder";constructor(o){super(o,"json","PgGeometryObject")}build(o){return new wi(o,this.config)}}class wi extends vt{static[M]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(o){let l=Ti(o);return{x:l[0],y:l[1]}}mapToDriverValue(o){return`point(${o.x} ${o.y})`}}class aa extends q{static[M]="PgRealBuilder";constructor(o,l){super(o,"number","PgReal"),this.config.length=l}build(o){return new Ta(o,this.config)}}class Ta extends vt{static[M]="PgReal";constructor(o,l){super(o,l)}getSQLType(){return"real"}mapFromDriverValue=o=>typeof o=="string"?Number.parseFloat(o):o}class ni extends q{static[M]="PgSerialBuilder";constructor(o){super(o,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new Ca(o,this.config)}}class Ca extends vt{static[M]="PgSerial";getSQLType(){return"serial"}}class Ci extends ri{static[M]="PgSmallIntBuilder";constructor(o){super(o,"number","PgSmallInt")}build(o){return new Ri(o,this.config)}}class Ri extends vt{static[M]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=o=>typeof o=="string"?Number(o):o}class ho extends q{static[M]="PgSmallSerialBuilder";constructor(o){super(o,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new va(o,this.config)}}class va extends vt{static[M]="PgSmallSerial";getSQLType(){return"smallserial"}}class Jo extends q{static[M]="PgTextBuilder";constructor(o,l){super(o,"string","PgText"),this.config.enumValues=l.enum}build(o){return new ns(o,this.config)}}class ns extends vt{static[M]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}class yi extends Yi{constructor(o,l,C){super(o,"string","PgTime"),this.withTimezone=l,this.precision=C,this.config.withTimezone=l,this.config.precision=C}static[M]="PgTimeBuilder";build(o){return new xo(o,this.config)}}class xo extends vt{static[M]="PgTime";withTimezone;precision;constructor(o,l){super(o,l),this.withTimezone=l.withTimezone,this.precision=l.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}class Bi extends Yi{static[M]="PgTimestampBuilder";constructor(o,l,C){super(o,"date","PgTimestamp"),this.config.withTimezone=l,this.config.precision=C}build(o){return new Wn(o,this.config)}}class Wn extends vt{static[M]="PgTimestamp";withTimezone;precision;constructor(o,l){super(o,l),this.withTimezone=l.withTimezone,this.precision=l.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(o){return typeof o=="string"?new Date(this.withTimezone?o:o+"+0000"):o}mapToDriverValue=o=>o.toISOString()}class tr extends Yi{static[M]="PgTimestampStringBuilder";constructor(o,l,C){super(o,"string","PgTimestampString"),this.config.withTimezone=l,this.config.precision=C}build(o){return new Ii(o,this.config)}}class Ii extends vt{static[M]="PgTimestampString";withTimezone;precision;constructor(o,l){super(o,l),this.withTimezone=l.withTimezone,this.precision=l.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(o){if(typeof o=="string")return o;let l=o.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let C=o.getTimezoneOffset();return`${l}${C<=0?"+":"-"}${Math.floor(Math.abs(C)/60).toString().padStart(2,"0")}`}return l}}class Rr extends q{static[M]="PgUUIDBuilder";constructor(o){super(o,"string","PgUUID")}defaultRandom(){return this.default(J`gen_random_uuid()`)}build(o){return new eo(o,this.config)}}class eo extends vt{static[M]="PgUUID";getSQLType(){return"uuid"}}class qo extends q{static[M]="PgVarcharBuilder";constructor(o,l){super(o,"string","PgVarchar"),this.config.length=l.length,this.config.enumValues=l.enum}build(o){return new is(o,this.config)}}class is extends vt{static[M]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}class As extends q{static[M]="PgBinaryVectorBuilder";constructor(o,l){super(o,"string","PgBinaryVector"),this.config.dimensions=l.dimensions}build(o){return new wa(o,this.config)}}class wa extends vt{static[M]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}class Ms extends q{static[M]="PgHalfVectorBuilder";constructor(o,l){super(o,"array","PgHalfVector"),this.config.dimensions=l.dimensions}build(o){return new Ko(o,this.config)}}class Ko extends vt{static[M]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){return o.slice(1,-1).split(",").map(l=>Number.parseFloat(l))}}class fs extends q{static[M]="PgSparseVectorBuilder";constructor(o,l){super(o,"string","PgSparseVector"),this.config.dimensions=l.dimensions}build(o){return new Rs(o,this.config)}}class Rs extends vt{static[M]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}class fo extends q{static[M]="PgVectorBuilder";constructor(o,l){super(o,"array","PgVector"),this.config.dimensions=l.dimensions}build(o){return new ta(o,this.config)}}class ta extends vt{static[M]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){return o.slice(1,-1).split(",").map(l=>Number.parseFloat(l))}}let Fa=Symbol.for("drizzle:PgInlineForeignKeys"),Pn=Symbol.for("drizzle:EnableRLS");class u extends te{static[M]="PgTable";static Symbol=Object.assign({},te.Symbol,{InlineForeignKeys:Fa,EnableRLS:Pn});[Fa]=[];[Pn]=!1;[te.Symbol.ExtraConfigBuilder]=void 0;[te.Symbol.ExtraConfigColumns]={}}class w{static[M]="PgPrimaryKeyBuilder";columns;name;constructor(o,l){this.columns=o,this.name=l}build(o){return new R(o,this.columns,this.name)}}class R{constructor(o,l,C){this.table=o,this.columns=l,this.name=C}static[M]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[u.Symbol.Name]}_${this.columns.map(o=>o.name).join("_")}_pk`}}function P(T,o){return typeof o!="object"||o===null||!("mapToDriverValue"in o)||typeof o.mapToDriverValue!="function"||L(T)||ie(T,wr)||ie(T,hn)||ie(T,We)||ie(T,te)||ie(T,lr)?T:new wr(T,o)}let A=(T,o)=>J`${T} = ${P(o,T)}`,_e=(T,o)=>J`${T} <> ${P(o,T)}`;function Ue(...T){let o=T.filter(l=>l!==void 0);if(o.length!==0)return new K(o.length===1?o:[new V("("),J.join(o,new V(" and ")),new V(")")])}function gt(...T){let o=T.filter(l=>l!==void 0);if(o.length!==0)return new K(o.length===1?o:[new V("("),J.join(o,new V(" or ")),new V(")")])}function Pe(T){return J`not ${T}`}let bt=(T,o)=>J`${T} > ${P(o,T)}`,fr=(T,o)=>J`${T} >= ${P(o,T)}`,$r=(T,o)=>J`${T} < ${P(o,T)}`,Qt=(T,o)=>J`${T} <= ${P(o,T)}`;function an(T,o){return Array.isArray(o)?o.length===0?J`false`:J`${T} in ${o.map(l=>P(l,T))}`:J`${T} in ${P(o,T)}`}function jr(T,o){return Array.isArray(o)?o.length===0?J`true`:J`${T} not in ${o.map(l=>P(l,T))}`:J`${T} not in ${P(o,T)}`}function on(T){return J`${T} is null`}function Cr(T){return J`${T} is not null`}function Hr(T){return J`exists ${T}`}function Mr(T){return J`not exists ${T}`}function zr(T,o,l){return J`${T} between ${P(o,T)} and ${P(l,T)}`}function Ka(T,o,l){return J`${T} not between ${P(o,T)} and ${P(l,T)}`}function ba(T,o){return J`${T} like ${o}`}function go(T,o){return J`${T} not like ${o}`}function Po(T,o){return J`${T} ilike ${o}`}function wo(T,o){return J`${T} not ilike ${o}`}function Lo(T){return J`${T} asc`}function ko(T){return J`${T} desc`}_.s(["and",()=>Ue,"between",()=>zr,"eq",()=>A,"exists",()=>Hr,"gt",()=>bt,"gte",()=>fr,"ilike",()=>Po,"inArray",()=>an,"isNotNull",()=>Cr,"isNull",()=>on,"like",()=>ba,"lt",()=>$r,"lte",()=>Qt,"ne",()=>_e,"not",()=>Pe,"notBetween",()=>Ka,"notExists",()=>Mr,"notIlike",()=>wo,"notInArray",()=>jr,"notLike",()=>go,"or",()=>gt],71062),_.s(["asc",()=>Lo,"desc",()=>ko],76436);class _a{constructor(o,l,C){this.sourceTable=o,this.referencedTable=l,this.relationName=C,this.referencedTableName=l[te.Symbol.Name]}static[M]="Relation";referencedTableName;fieldName}class Io{constructor(o,l){this.table=o,this.config=l}static[M]="Relations"}class ra extends _a{constructor(o,l,C,Z){super(o,l,C?.relationName),this.config=C,this.isNullable=Z}static[M]="One";withFieldName(o){let l=new ra(this.sourceTable,this.referencedTable,this.config,this.isNullable);return l.fieldName=o,l}}class ao extends _a{constructor(o,l,C){super(o,l,C?.relationName),this.config=C}static[M]="Many";withFieldName(o){let l=new ao(this.sourceTable,this.referencedTable,this.config);return l.fieldName=o,l}}function Ws(T){return{one:function(o,l){return new ra(T,o,l,l?.fields.reduce((C,Z)=>C&&Z.notNull,!0)??!1)},many:function(o,l){return new ao(T,o,l)}}}class jo{constructor(o){this.table=o}static[M]="ColumnAliasProxyHandler";get(o,l){return l==="table"?this.table:o[l]}}class Ds{constructor(o,l){this.alias=o,this.replaceOriginalName=l}static[M]="TableAliasProxyHandler";get(o,l){if(l===te.Symbol.IsAlias)return!0;if(l===te.Symbol.Name||this.replaceOriginalName&&l===te.Symbol.OriginalName)return this.alias;if(l===Nn)return{...o[Nn],name:this.alias,isAlias:!0};if(l===te.Symbol.Columns){let Z=o[te.Symbol.Columns];if(!Z)return Z;let oe={};return Object.keys(Z).map(Be=>{oe[Be]=new Proxy(Z[Be],new jo(new Proxy(o,this)))}),oe}let C=o[l];return ie(C,We)?new Proxy(C,new jo(new Proxy(o,this))):C}}class Fo{constructor(o){this.alias=o}static[M]="RelationTableAliasProxyHandler";get(o,l){return l==="sourceTable"?ma(o.sourceTable,this.alias):o[l]}}function ma(T,o){return new Proxy(T,new Ds(o,!1))}function oo(T,o){return new Proxy(T,new jo(new Proxy(T.table,new Ds(o,!1))))}function Jn(T,o){return new K.Aliased(Wa(T.sql,o),T.fieldAlias)}function Wa(T,o){return J.join(T.queryChunks.map(l=>ie(l,We)?oo(l,o):ie(l,K)?Wa(l,o):ie(l,K.Aliased)?Jn(l,o):l))}class Sa{static[M]="SelectionProxyHandler";config;constructor(o){this.config={...o}}get(o,l){if(l==="_")return{...o._,selectedFields:new Proxy(o._.selectedFields,this)};if(l===Nn)return{...o[Nn],selectedFields:new Proxy(o[Nn].selectedFields,this)};if(typeof l=="symbol")return o[l];let C=(ie(o,Kr)?o._.selectedFields:ie(o,lr)?o[Nn].selectedFields:o)[l];if(ie(C,K.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!C.isSelectionField)return C.sql;let Z=C.clone();return Z.isSelectionField=!0,Z}if(ie(C,K)){if(this.config.sqlBehavior==="sql")return C;throw Error(`You tried to reference "${l}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return ie(C,We)?this.config.alias?new Proxy(C,new jo(new Proxy(C.table,new Ds(this.config.alias,this.config.replaceOriginalName??!1)))):C:typeof C!="object"||C===null?C:new Proxy(C,new Sa(this.config))}}function gs(T){return(T.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(o=>o.toLowerCase()).join("_")}function Ao(T){return(T.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((o,l,C)=>o+(C===0?l.toLowerCase():`${l[0].toUpperCase()}${l.slice(1)}`),"")}function Ra(T){return T}class Zo{static[M]="CasingCache";cache={};cachedTables={};convert;constructor(o){this.convert=o==="snake_case"?gs:o==="camelCase"?Ao:Ra}getColumnCasing(o){if(!o.keyAsName)return o.name;let l=o.table[te.Symbol.Schema]??"public",C=o.table[te.Symbol.OriginalName],Z=`${l}.${C}.${o.name}`;return this.cache[Z]||this.cacheTable(o.table),this.cache[Z]}cacheTable(o){let l=o[te.Symbol.Schema]??"public",C=o[te.Symbol.OriginalName],Z=`${l}.${C}`;if(!this.cachedTables[Z]){for(let oe of Object.values(o[te.Symbol.Columns])){let Be=`${Z}.${oe.name}`;this.cache[Be]=this.convert(oe.name)}this.cachedTables[Z]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class ys extends Error{static[M]="DrizzleError";constructor({message:o,cause:l}){super(o),this.name="DrizzleError",this.cause=l}}class Za extends Error{constructor(o,l,C){super(`Failed query: ${o}
params: ${l}`),this.query=o,this.params=l,this.cause=C,Error.captureStackTrace(this,Za),C&&(this.cause=C)}}class Zs extends ys{static[M]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class as{static[M]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(o,l){this.reference=()=>{let{name:C,columns:Z,foreignColumns:oe}=o();return{name:C,columns:Z,foreignTable:oe[0].table,foreignColumns:oe}},l&&(this._onUpdate=l.onUpdate,this._onDelete=l.onDelete)}onUpdate(o){return this._onUpdate=o,this}onDelete(o){return this._onDelete=o,this}build(o){return new x(o,this)}}class x{constructor(o,l){this.table=o,this.reference=l.reference,this.onUpdate=l._onUpdate,this.onDelete=l._onDelete}static[M]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){let{name:o,columns:l,foreignColumns:C}=this.reference(),Z=l.map(ot=>ot.name),oe=C.map(ot=>ot.name),Be=[this.table[W],...Z,C[0].table[W],...oe];return o??`${Be.join("_")}_fk`}}function F(T,o){return`${T[W]}_${o.join("_")}_unique`}class re{constructor(o,l){this.name=l,this.columns=o}static[M]="SQLiteUniqueConstraintBuilder";columns;build(o){return new Ie(o,this.columns,this.name)}}class he{static[M]="SQLiteUniqueOnConstraintBuilder";name;constructor(o){this.name=o}on(...o){return new re(o,this.name)}}class Ie{constructor(o,l,C){this.table=o,this.columns=l,this.name=C??F(this.table,this.columns.map(Z=>Z.name))}static[M]="SQLiteUniqueConstraint";columns;name;getName(){return this.name}}class $e extends rt{static[M]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(o,l={}){return this.foreignKeyConfigs.push({ref:o,actions:l}),this}unique(o){return this.config.isUnique=!0,this.config.uniqueName=o,this}generatedAlwaysAs(o,l){return this.config.generated={as:o,type:"always",mode:l?.mode??"virtual"},this}buildForeignKeys(o,l){return this.foreignKeyConfigs.map(({ref:C,actions:Z})=>{let oe;return oe=new as(()=>({columns:[o],foreignColumns:[C()]})),Z.onUpdate&&oe.onUpdate(Z.onUpdate),Z.onDelete&&oe.onDelete(Z.onDelete),oe.build(l)})}}class ae extends We{constructor(o,l){l.uniqueName||(l.uniqueName=F(o,[l.name])),super(o,l),this.table=o}static[M]="SQLiteColumn"}var fe=_.i(51615);class Ze extends $e{static[M]="SQLiteBigIntBuilder";constructor(o){super(o,"bigint","SQLiteBigInt")}build(o){return new me(o,this.config)}}class me extends ae{static[M]="SQLiteBigInt";getSQLType(){return"blob"}mapFromDriverValue(o){return fe.Buffer!==void 0&&fe.Buffer.from?BigInt((fe.Buffer.isBuffer(o)?o:o instanceof ArrayBuffer?fe.Buffer.from(o):o.buffer?fe.Buffer.from(o.buffer,o.byteOffset,o.byteLength):fe.Buffer.from(o)).toString("utf8")):BigInt(Ki.decode(o))}mapToDriverValue(o){return fe.Buffer.from(o.toString())}}class tt extends $e{static[M]="SQLiteBlobJsonBuilder";constructor(o){super(o,"json","SQLiteBlobJson")}build(o){return new He(o,this.config)}}class He extends ae{static[M]="SQLiteBlobJson";getSQLType(){return"blob"}mapFromDriverValue(o){return fe.Buffer!==void 0&&fe.Buffer.from?JSON.parse((fe.Buffer.isBuffer(o)?o:o instanceof ArrayBuffer?fe.Buffer.from(o):o.buffer?fe.Buffer.from(o.buffer,o.byteOffset,o.byteLength):fe.Buffer.from(o)).toString("utf8")):JSON.parse(Ki.decode(o))}mapToDriverValue(o){return fe.Buffer.from(JSON.stringify(o))}}class pt extends $e{static[M]="SQLiteBlobBufferBuilder";constructor(o){super(o,"buffer","SQLiteBlobBuffer")}build(o){return new Je(o,this.config)}}class Je extends ae{static[M]="SQLiteBlobBuffer";mapFromDriverValue(o){return fe.Buffer.isBuffer(o)?o:fe.Buffer.from(o)}getSQLType(){return"blob"}}function jt(T,o){let{name:l,config:C}=dr(T,o);return C?.mode==="json"?new tt(l):C?.mode==="bigint"?new Ze(l):new pt(l)}class wt extends $e{static[M]="SQLiteCustomColumnBuilder";constructor(o,l,C){super(o,"custom","SQLiteCustomColumn"),this.config.fieldConfig=l,this.config.customTypeParams=C}build(o){return new Qe(o,this.config)}}class Qe extends ae{static[M]="SQLiteCustomColumn";sqlName;mapTo;mapFrom;constructor(o,l){super(o,l),this.sqlName=l.customTypeParams.dataType(l.fieldConfig),this.mapTo=l.customTypeParams.toDriver,this.mapFrom=l.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(o){return typeof this.mapFrom=="function"?this.mapFrom(o):o}mapToDriverValue(o){return typeof this.mapTo=="function"?this.mapTo(o):o}}function It(T){return(o,l)=>{let{name:C,config:Z}=dr(o,l);return new wt(C,Z,T)}}class nt extends $e{static[M]="SQLiteBaseIntegerBuilder";constructor(o,l,C){super(o,l,C),this.config.autoIncrement=!1}primaryKey(o){return o?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}class qt extends ae{static[M]="SQLiteBaseInteger";autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}}class cr extends nt{static[M]="SQLiteIntegerBuilder";constructor(o){super(o,"number","SQLiteInteger")}build(o){return new ke(o,this.config)}}class ke extends qt{static[M]="SQLiteInteger"}class de extends nt{static[M]="SQLiteTimestampBuilder";constructor(o,l){super(o,"date","SQLiteTimestamp"),this.config.mode=l}defaultNow(){return this.default(J`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(o){return new Se(o,this.config)}}class Se extends qt{static[M]="SQLiteTimestamp";mode=this.config.mode;mapFromDriverValue(o){return new Date(this.config.mode==="timestamp"?1e3*o:o)}mapToDriverValue(o){let l=o.getTime();return this.config.mode==="timestamp"?Math.floor(l/1e3):l}}class Sr extends nt{static[M]="SQLiteBooleanBuilder";constructor(o,l){super(o,"boolean","SQLiteBoolean"),this.config.mode=l}build(o){return new At(o,this.config)}}class At extends qt{static[M]="SQLiteBoolean";mode=this.config.mode;mapFromDriverValue(o){return Number(o)===1}mapToDriverValue(o){return+!!o}}function St(T,o){let{name:l,config:C}=dr(T,o);return C?.mode==="timestamp"||C?.mode==="timestamp_ms"?new de(l,C.mode):C?.mode==="boolean"?new Sr(l,C.mode):new cr(l)}class dt extends $e{static[M]="SQLiteNumericBuilder";constructor(o){super(o,"string","SQLiteNumeric")}build(o){return new Ae(o,this.config)}}class Ae extends ae{static[M]="SQLiteNumeric";mapFromDriverValue(o){return typeof o=="string"?o:String(o)}getSQLType(){return"numeric"}}class Zt extends $e{static[M]="SQLiteNumericNumberBuilder";constructor(o){super(o,"number","SQLiteNumericNumber")}build(o){return new Jt(o,this.config)}}class Jt extends ae{static[M]="SQLiteNumericNumber";mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}mapToDriverValue=String;getSQLType(){return"numeric"}}class Et extends $e{static[M]="SQLiteNumericBigIntBuilder";constructor(o){super(o,"bigint","SQLiteNumericBigInt")}build(o){return new Dt(o,this.config)}}class Dt extends ae{static[M]="SQLiteNumericBigInt";mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return"numeric"}}function Ur(T,o){let{name:l,config:C}=dr(T,o),Z=C?.mode;return Z==="number"?new Zt(l):Z==="bigint"?new Et(l):new dt(l)}class hr extends $e{static[M]="SQLiteRealBuilder";constructor(o){super(o,"number","SQLiteReal")}build(o){return new ir(o,this.config)}}class ir extends ae{static[M]="SQLiteReal";getSQLType(){return"real"}}function Xe(T){return new hr(T??"")}class Lt extends $e{static[M]="SQLiteTextBuilder";constructor(o,l){super(o,"string","SQLiteText"),this.config.enumValues=l.enum,this.config.length=l.length}build(o){return new yt(o,this.config)}}class yt extends ae{static[M]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(o,l){super(o,l)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class oa extends $e{static[M]="SQLiteTextJsonBuilder";constructor(o){super(o,"json","SQLiteTextJson")}build(o){return new qr(o,this.config)}}class qr extends ae{static[M]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(o){return JSON.parse(o)}mapToDriverValue(o){return JSON.stringify(o)}}function zt(T,o={}){let{name:l,config:C}=dr(T,o);return C.mode==="json"?new oa(l):new Lt(l,C)}let Ne=Symbol.for("drizzle:SQLiteInlineForeignKeys");class rr extends te{static[M]="SQLiteTable";static Symbol=Object.assign({},te.Symbol,{InlineForeignKeys:Ne});[te.Symbol.Columns];[Ne]=[];[te.Symbol.ExtraConfigBuilder]=void 0}let Kt=(T,o,l)=>function(C,Z,oe,Be,ot=C){let or=new rr(C,void 0,ot),Ir=Object.fromEntries(Object.entries(typeof Z=="function"?Z({blob:jt,customType:It,integer:St,numeric:Ur,real:Xe,text:zt}):Z).map(([yn,ut])=>{ut.setName(yn);let gr=ut.build(or);return or[Ne].push(...ut.buildForeignKeys(gr,or)),[yn,gr]})),tn=Object.assign(or,Ir);return tn[te.Symbol.Columns]=Ir,tn[te.Symbol.ExtraConfigColumns]=Ir,oe&&(tn[rr.Symbol.ExtraConfigBuilder]=oe),tn}(T,o,l);class sn extends lr{static[M]="SQLiteViewBase"}class Oa{static[M]="SQLiteDialect";casing;constructor(o){this.casing=new Zo(o?.casing)}escapeName(o){return`"${o}"`}escapeParam(o){return"?"}escapeString(o){return`'${o.replace(/'/g,"''")}'`}buildWithCTE(o){if(!o?.length)return;let l=[J`with `];for(let[C,Z]of o.entries())l.push(J`${J.identifier(Z._.alias)} as (${Z._.sql})`),C<o.length-1&&l.push(J`, `);return l.push(J` `),J.join(l)}buildDeleteQuery({table:o,where:l,returning:C,withList:Z,limit:oe,orderBy:Be}){let ot=this.buildWithCTE(Z),or=C?J` returning ${this.buildSelection(C,{isSingleTable:!0})}`:void 0,Ir=l?J` where ${l}`:void 0,tn=this.buildOrderBy(Be),yn=this.buildLimit(oe);return J`${ot}delete from ${o}${Ir}${or}${tn}${yn}`}buildUpdateSet(o,l){let C=o[te.Symbol.Columns],Z=Object.keys(C).filter(Be=>l[Be]!==void 0||C[Be]?.onUpdateFn!==void 0),oe=Z.length;return J.join(Z.flatMap((Be,ot)=>{let or=C[Be],Ir=or.onUpdateFn?.(),tn=l[Be]??(ie(Ir,K)?Ir:J.param(Ir,or)),yn=J`${J.identifier(this.casing.getColumnCasing(or))} = ${tn}`;return ot<oe-1?[yn,J.raw(", ")]:[yn]}))}buildUpdateQuery({table:o,set:l,where:C,returning:Z,withList:oe,joins:Be,from:ot,limit:or,orderBy:Ir}){let tn=this.buildWithCTE(oe),yn=this.buildUpdateSet(o,l),ut=ot&&J.join([J.raw(" from "),this.buildFromTable(ot)]),gr=this.buildJoins(Be),_r=Z?J` returning ${this.buildSelection(Z,{isSingleTable:!0})}`:void 0,Er=C?J` where ${C}`:void 0,ln=this.buildOrderBy(Ir),mn=this.buildLimit(or);return J`${tn}update ${o} set ${yn}${ut}${gr}${Er}${_r}${ln}${mn}`}buildSelection(o,{isSingleTable:l=!1}={}){let C=o.length,Z=o.flatMap(({field:oe},Be)=>{let ot=[];if(ie(oe,K.Aliased)&&oe.isSelectionField)ot.push(J.identifier(oe.fieldAlias));else if(ie(oe,K.Aliased)||ie(oe,K)){let or=ie(oe,K.Aliased)?oe.sql:oe;l?ot.push(new K(or.queryChunks.map(Ir=>ie(Ir,We)?J.identifier(this.casing.getColumnCasing(Ir)):Ir))):ot.push(or),ie(oe,K.Aliased)&&ot.push(J` as ${J.identifier(oe.fieldAlias)}`)}else if(ie(oe,We)){let or=oe.table[te.Symbol.Name];oe.columnType==="SQLiteNumericBigInt"?l?ot.push(J`cast(${J.identifier(this.casing.getColumnCasing(oe))} as text)`):ot.push(J`cast(${J.identifier(or)}.${J.identifier(this.casing.getColumnCasing(oe))} as text)`):l?ot.push(J.identifier(this.casing.getColumnCasing(oe))):ot.push(J`${J.identifier(or)}.${J.identifier(this.casing.getColumnCasing(oe))}`)}else if(ie(oe,Kr)){let or=Object.entries(oe._.selectedFields);if(or.length===1){let Ir=or[0][1],tn=ie(Ir,K)?Ir.decoder:ie(Ir,We)?{mapFromDriverValue:yn=>Ir.mapFromDriverValue(yn)}:Ir.sql.decoder;tn&&(oe._.sql.decoder=tn)}ot.push(oe)}return Be<C-1&&ot.push(J`, `),ot});return J.join(Z)}buildJoins(o){if(!o||o.length===0)return;let l=[];if(o)for(let[C,Z]of o.entries()){C===0&&l.push(J` `);let oe=Z.table,Be=Z.on?J` on ${Z.on}`:void 0;if(ie(oe,rr)){let ot=oe[rr.Symbol.Name],or=oe[rr.Symbol.Schema],Ir=oe[rr.Symbol.OriginalName],tn=ot===Ir?void 0:Z.alias;l.push(J`${J.raw(Z.joinType)} join ${or?J`${J.identifier(or)}.`:void 0}${J.identifier(Ir)}${tn&&J` ${J.identifier(tn)}`}${Be}`)}else l.push(J`${J.raw(Z.joinType)} join ${oe}${Be}`);C<o.length-1&&l.push(J` `)}return J.join(l)}buildLimit(o){return typeof o=="object"||typeof o=="number"&&o>=0?J` limit ${o}`:void 0}buildOrderBy(o){let l=[];if(o)for(let[C,Z]of o.entries())l.push(Z),C<o.length-1&&l.push(J`, `);return l.length>0?J` order by ${J.join(l)}`:void 0}buildFromTable(o){return ie(o,te)&&o[te.Symbol.IsAlias]?J`${J`${J.identifier(o[te.Symbol.Schema]??"")}.`.if(o[te.Symbol.Schema])}${J.identifier(o[te.Symbol.OriginalName])} ${J.identifier(o[te.Symbol.Name])}`:o}buildSelectQuery({withList:o,fields:l,fieldsFlat:C,where:Z,having:oe,table:Be,joins:ot,orderBy:or,groupBy:Ir,limit:tn,offset:yn,distinct:ut,setOperators:gr}){let _r=C??Ut(l);for(let os of _r){let s;if(ie(os.field,We)&&os.field.table[W]!==(ie(Be,Kr)?Be._.alias:ie(Be,sn)?Be[Nn].name:ie(Be,K)?void 0:Be[W])&&(s=os.field.table,!ot?.some(({alias:c})=>c===(s[te.Symbol.IsAlias]?s[W]:s[te.Symbol.BaseName])))){let c=os.field.table[W];throw Error(`Your "${os.path.join("->")}" field references a column "${c}"."${os.field.name}", but the table "${c}" is not part of the query! Did you forget to join it?`)}}let Er=!ot||ot.length===0,ln=this.buildWithCTE(o),mn=ut?J` distinct`:void 0,Rn=this.buildSelection(_r,{isSingleTable:Er}),Mn=this.buildFromTable(Be),$o=this.buildJoins(ot),ro=Z?J` where ${Z}`:void 0,Vi=oe?J` having ${oe}`:void 0,Hi=[];if(Ir)for(let[os,s]of Ir.entries())Hi.push(s),os<Ir.length-1&&Hi.push(J`, `);let Eo=Hi.length>0?J` group by ${J.join(Hi)}`:void 0,Os=this.buildOrderBy(or),Hs=this.buildLimit(tn),Gs=yn?J` offset ${yn}`:void 0,Qs=J`${ln}select${mn} ${Rn} from ${Mn}${$o}${ro}${Eo}${Vi}${Os}${Hs}${Gs}`;return gr.length>0?this.buildSetOperations(Qs,gr):Qs}buildSetOperations(o,l){let[C,...Z]=l;if(!C)throw Error("Cannot pass undefined values to any set operator");return Z.length===0?this.buildSetOperationQuery({leftSelect:o,setOperator:C}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:o,setOperator:C}),Z)}buildSetOperationQuery({leftSelect:o,setOperator:{type:l,isAll:C,rightSelect:Z,limit:oe,orderBy:Be,offset:ot}}){let or,Ir=J`${o.getSQL()} `,tn=J`${Z.getSQL()}`;if(Be&&Be.length>0){let _r=[];for(let Er of Be)if(ie(Er,ae))_r.push(J.identifier(Er.name));else if(ie(Er,K)){for(let ln=0;ln<Er.queryChunks.length;ln++){let mn=Er.queryChunks[ln];ie(mn,ae)&&(Er.queryChunks[ln]=J.identifier(this.casing.getColumnCasing(mn)))}_r.push(J`${Er}`)}else _r.push(J`${Er}`);or=J` order by ${J.join(_r,J`, `)}`}let yn=typeof oe=="object"||typeof oe=="number"&&oe>=0?J` limit ${oe}`:void 0,ut=J.raw(`${l} ${C?"all ":""}`),gr=ot?J` offset ${ot}`:void 0;return J`${Ir}${ut}${tn}${or}${yn}${gr}`}buildInsertQuery({table:o,values:l,onConflict:C,returning:Z,withList:oe,select:Be}){let ot=[],or=Object.entries(o[te.Symbol.Columns]).filter(([_r,Er])=>!Er.shouldDisableInsert()),Ir=or.map(([,_r])=>J.identifier(this.casing.getColumnCasing(_r)));if(Be)ie(l,K)?ot.push(l):ot.push(l.getSQL());else for(let[_r,Er]of(ot.push(J.raw("values ")),l.entries())){let ln=[];for(let[mn,Rn]of or){let Mn=Er[mn];if(Mn===void 0||ie(Mn,wr)&&Mn.value===void 0){let $o;if(Rn.default!==null&&Rn.default!==void 0)$o=ie(Rn.default,K)?Rn.default:J.param(Rn.default,Rn);else if(Rn.defaultFn!==void 0){let ro=Rn.defaultFn();$o=ie(ro,K)?ro:J.param(ro,Rn)}else if(Rn.default||Rn.onUpdateFn===void 0)$o=J`null`;else{let ro=Rn.onUpdateFn();$o=ie(ro,K)?ro:J.param(ro,Rn)}ln.push($o)}else ln.push(Mn)}ot.push(ln),_r<l.length-1&&ot.push(J`, `)}let tn=this.buildWithCTE(oe),yn=J.join(ot),ut=Z?J` returning ${this.buildSelection(Z,{isSingleTable:!0})}`:void 0,gr=C?.length?J.join(C):void 0;return J`${tn}insert into ${o} ${Ir} ${yn}${gr}${ut}`}sqlToQuery(o,l){return o.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:l})}buildRelationalQuery({fullSchema:o,schema:l,tableNamesMap:C,table:Z,tableConfig:oe,queryConfig:Be,tableAlias:ot,nestedQueryRelation:or,joinOn:Ir}){let tn,yn=[],ut,gr,_r=[],Er,ln=[];if(Be===!0)yn=Object.entries(oe.columns).map(([mn,Rn])=>({dbKey:Rn.name,tsKey:mn,field:oo(Rn,ot),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let mn=Object.fromEntries(Object.entries(oe.columns).map(([Vi,Hi])=>[Vi,oo(Hi,ot)]));if(Be.where){let Vi=typeof Be.where=="function"?Be.where(mn,{and:Ue,between:zr,eq:A,exists:Hr,gt:bt,gte:fr,ilike:Po,inArray:an,isNull:on,isNotNull:Cr,like:ba,lt:$r,lte:Qt,ne:_e,not:Pe,notBetween:Ka,notExists:Mr,notLike:go,notIlike:wo,notInArray:jr,or:gt,sql:J}):Be.where;Er=Vi&&Wa(Vi,ot)}let Rn=[],Mn=[];if(Be.columns){let Vi=!1;for(let[Hi,Eo]of Object.entries(Be.columns))Eo!==void 0&&Hi in oe.columns&&(Vi||Eo!==!0||(Vi=!0),Mn.push(Hi));Mn.length>0&&(Mn=Vi?Mn.filter(Hi=>Be.columns?.[Hi]===!0):Object.keys(oe.columns).filter(Hi=>!Mn.includes(Hi)))}else Mn=Object.keys(oe.columns);for(let Vi of Mn){let Hi=oe.columns[Vi];Rn.push({tsKey:Vi,value:Hi})}let $o=[];if(Be.with&&($o=Object.entries(Be.with).filter(Vi=>!!Vi[1]).map(([Vi,Hi])=>({tsKey:Vi,queryConfig:Hi,relation:oe.relations[Vi]}))),Be.extras)for(let[Vi,Hi]of Object.entries(typeof Be.extras=="function"?Be.extras(mn,{sql:J}):Be.extras))Rn.push({tsKey:Vi,value:Jn(Hi,ot)});for(let{tsKey:Vi,value:Hi}of Rn)yn.push({dbKey:ie(Hi,K.Aliased)?Hi.fieldAlias:oe.columns[Vi].name,tsKey:Vi,field:ie(Hi,We)?oo(Hi,ot):Hi,relationTableTsKey:void 0,isJson:!1,selection:[]});let ro=typeof Be.orderBy=="function"?Be.orderBy(mn,{sql:J,asc:Lo,desc:ko}):Be.orderBy??[];for(let{tsKey:Vi,queryConfig:Hi,relation:Eo}of(Array.isArray(ro)||(ro=[ro]),_r=ro.map(Os=>ie(Os,We)?oo(Os,ot):Wa(Os,ot)),ut=Be.limit,gr=Be.offset,$o)){let Os=function(c,v,b){if(ie(b,ra)&&b.config)return{fields:b.config.fields,references:b.config.references};let S=v[Ye(b.referencedTable)];if(!S)throw Error(`Table "${b.referencedTable[te.Symbol.Name]}" not found in schema`);let z=c[S];if(!z)throw Error(`Table "${S}" not found in schema`);let N=b.sourceTable,I=v[Ye(N)];if(!I)throw Error(`Table "${N[te.Symbol.Name]}" not found in schema`);let H=[];for(let se of Object.values(z.relations))(b.relationName&&b!==se&&se.relationName===b.relationName||!b.relationName&&se.referencedTable===b.sourceTable)&&H.push(se);if(H.length>1)throw b.relationName?Error(`There are multiple relations with name "${b.relationName}" in table "${S}"`):Error(`There are multiple relations between "${S}" and "${b.sourceTable[te.Symbol.Name]}". Please specify relation name`);if(H[0]&&ie(H[0],ra)&&H[0].config)return{fields:H[0].config.references,references:H[0].config.fields};throw Error(`There is not enough information to infer relation "${I}.${b.fieldName}"`)}(l,C,Eo),Hs=C[Ye(Eo.referencedTable)],Gs=`${ot}_${Vi}`,Qs=Ue(...Os.fields.map((c,v)=>A(oo(Os.references[v],Gs),oo(c,ot)))),os=this.buildRelationalQuery({fullSchema:o,schema:l,tableNamesMap:C,table:o[Hs],tableConfig:l[Hs],queryConfig:ie(Eo,ra)?Hi===!0?{limit:1}:{...Hi,limit:1}:Hi,tableAlias:Gs,joinOn:Qs,nestedQueryRelation:Eo}),s=J`(${os.sql})`.as(Vi);yn.push({dbKey:Vi,tsKey:Vi,field:s,relationTableTsKey:Hs,isJson:!0,selection:os.selection})}}if(yn.length===0)throw new ys({message:`No fields selected for table "${oe.tsName}" ("${ot}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});if(Er=Ue(Ir,Er),or){let mn=J`json_array(${J.join(yn.map(({field:Mn})=>ie(Mn,ae)?J.identifier(this.casing.getColumnCasing(Mn)):ie(Mn,K.Aliased)?Mn.sql:Mn),J`, `)})`;ie(or,ao)&&(mn=J`coalesce(json_group_array(${mn}), json_array())`);let Rn=[{dbKey:"data",tsKey:"data",field:mn.as("data"),isJson:!0,relationTableTsKey:oe.tsName,selection:yn}];ut!==void 0||gr!==void 0||_r.length>0?(tn=this.buildSelectQuery({table:ma(Z,ot),fields:{},fieldsFlat:[{path:[],field:J.raw("*")}],where:Er,limit:ut,offset:gr,orderBy:_r,setOperators:[]}),Er=void 0,ut=void 0,gr=void 0,_r=void 0):tn=ma(Z,ot),tn=this.buildSelectQuery({table:ie(tn,rr)?tn:new Kr(tn,{},ot),fields:{},fieldsFlat:Rn.map(({field:Mn})=>({path:[],field:ie(Mn,We)?oo(Mn,ot):Mn})),joins:ln,where:Er,limit:ut,offset:gr,orderBy:_r,setOperators:[]})}else tn=this.buildSelectQuery({table:ma(Z,ot),fields:{},fieldsFlat:yn.map(({field:mn})=>({path:[],field:ie(mn,We)?oo(mn,ot):mn})),joins:ln,where:Er,limit:ut,offset:gr,orderBy:_r,setOperators:[]});return{tableTsKey:oe.tsName,sql:tn,selection:yn}}}class Or extends Oa{static[M]="SQLiteSyncDialect";migrate(o,l,C){let Z=C===void 0||typeof C=="string"?"__drizzle_migrations":C.migrationsTable??"__drizzle_migrations",oe=J`
			CREATE TABLE IF NOT EXISTS ${J.identifier(Z)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;l.run(oe);let Be=l.values(J`SELECT id, hash, created_at FROM ${J.identifier(Z)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;l.run(J`BEGIN`);try{for(let ot of o)if(!Be||Number(Be[2])<ot.folderMillis){for(let or of ot.sql)l.run(J.raw(or));l.run(J`INSERT INTO ${J.identifier(Z)} ("hash", "created_at") VALUES(${ot.hash}, ${ot.folderMillis})`)}l.run(J`COMMIT`)}catch(ot){throw l.run(J`ROLLBACK`),ot}}}class $i extends Oa{static[M]="SQLiteAsyncDialect";async migrate(o,l,C){let Z=C===void 0||typeof C=="string"?"__drizzle_migrations":C.migrationsTable??"__drizzle_migrations",oe=J`
			CREATE TABLE IF NOT EXISTS ${J.identifier(Z)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await l.run(oe);let Be=(await l.values(J`SELECT id, hash, created_at FROM ${J.identifier(Z)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await l.transaction(async ot=>{for(let or of o)if(!Be||Number(Be[2])<or.folderMillis){for(let Ir of or.sql)await ot.run(J.raw(Ir));await ot.run(J`INSERT INTO ${J.identifier(Z)} ("hash", "created_at") VALUES(${or.hash}, ${or.folderMillis})`)}})}}class yo{static[M]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class Vn{static[M]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(o){return this.then(void 0,o)}finally(o){return this.then(l=>(o?.(),l),l=>{throw o?.(),l})}then(o,l){return this.execute().then(o,l)}}class Bs{constructor(o,l){this.name=o,this.value=l}static[M]="SQLiteCheckBuilder";brand;build(o){return new Vs(o,this)}}class Vs{constructor(o,l){this.table=o,this.name=l.name,this.value=l.value}static[M]="SQLiteCheck";name;value}class vs{constructor(o,l){this.name=o,this.unique=l}static[M]="SQLiteIndexBuilderOn";on(...o){return new k(this.name,o,this.unique)}}class k{static[M]="SQLiteIndexBuilder";config;constructor(o,l,C){this.config={name:o,columns:l,unique:C,where:void 0}}where(o){return this.config.where=o,this}build(o){return new d(this.config,o)}}class d{static[M]="SQLiteIndex";config;constructor(o,l){this.config={...o,table:l}}}class y{static[M]="SQLitePrimaryKeyBuilder";columns;name;constructor(o,l){this.columns=o,this.name=l}build(o){return new O(o,this.columns,this.name)}}class O{constructor(o,l,C){this.table=o,this.columns=l,this.name=C}static[M]="SQLitePrimaryKey";columns;name;getName(){return this.name??`${this.table[rr.Symbol.Name]}_${this.columns.map(o=>o.name).join("_")}_pk`}}function U(T){return ie(T,rr)?[`${T[te.Symbol.BaseName]}`]:ie(T,Kr)?T._.usedTables??[]:ie(T,K)?T.usedTables??[]:[]}class le{static[M]="SQLiteSelectBuilder";fields;session;dialect;withList;distinct;constructor(o){this.fields=o.fields,this.session=o.session,this.dialect=o.dialect,this.withList=o.withList,this.distinct=o.distinct}from(o){let l,C=!!this.fields;return l=this.fields?this.fields:ie(o,Kr)?Object.fromEntries(Object.keys(o._.selectedFields).map(Z=>[Z,o[Z]])):ie(o,sn)?o[Nn].selectedFields:ie(o,K)?{}:o[te.Symbol.Columns],new X({table:o,fields:l,isPartialSelect:C,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class E extends yo{static[M]="SQLiteSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:o,fields:l,isPartialSelect:C,session:Z,dialect:oe,withList:Be,distinct:ot}){for(let or of(super(),this.config={withList:Be,table:o,fields:{...l},distinct:ot,setOperators:[]},this.isPartialSelect=C,this.session=Z,this.dialect=oe,this._={selectedFields:l,config:this.config},this.tableName=Zr(o),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{},U(o)))this.usedTables.add(or)}getUsedTables(){return[...this.usedTables]}createJoin(o){return(l,C)=>{let Z=this.tableName,oe=Zr(l);for(let Be of U(l))this.usedTables.add(Be);if(typeof oe=="string"&&this.config.joins?.some(Be=>Be.alias===oe))throw Error(`Alias "${oe}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof Z=="string"&&(this.config.fields={[Z]:this.config.fields}),typeof oe=="string"&&!ie(l,K))){let Be=ie(l,Kr)?l._.selectedFields:ie(l,lr)?l[Nn].selectedFields:l[te.Symbol.Columns];this.config.fields[oe]=Be}if(typeof C=="function"&&(C=C(new Proxy(this.config.fields,new Sa({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:C,table:l,joinType:o,alias:oe}),typeof oe=="string")switch(o){case"left":this.joinsNotNullableMap[oe]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([Be])=>[Be,!1])),this.joinsNotNullableMap[oe]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[oe]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([Be])=>[Be,!1])),this.joinsNotNullableMap[oe]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");crossJoin=this.createJoin("cross");createSetOperator(o,l){return C=>{let Z=typeof C=="function"?C(je()):C;if(!nr(this.getSelectedFields(),Z.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:o,isAll:l,rightSelect:Z}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);except=this.createSetOperator("except",!1);addSetOperators(o){return this.config.setOperators.push(...o),this}where(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Sa({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=o,this}having(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Sa({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=o,this}groupBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.fields,new Sa({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(l)?l:[l]}else this.config.groupBy=o;return this}orderBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.fields,new Sa({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),C=Array.isArray(l)?l:[l];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=C:this.config.orderBy=C}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=o:this.config.orderBy=o;return this}limit(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=o:this.config.limit=o,this}offset(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=o:this.config.offset=o,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}as(o){let l=[];if(l.push(...U(this.config.table)),this.config.joins)for(let C of this.config.joins)l.push(...U(C.table));return new Proxy(new Kr(this.getSQL(),this.config.fields,o,!1,[...new Set(l)]),new Sa({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Sa({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class X extends E{static[M]="SQLiteSelect";_prepare(o=!0){if(!this.session)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let l=Ut(this.config.fields),C=this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),l,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return C.joinsNotNullableMap=this.joinsNotNullableMap,C}$withCache(o){return this.cacheConfig=o===void 0?{config:{},enable:!0,autoInvalidate:!0}:o===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...o},this}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(){return this.all()}}for(let T of[Vn])for(let o of Object.getOwnPropertyNames(T.prototype))o!=="constructor"&&Object.defineProperty(X.prototype,o,Object.getOwnPropertyDescriptor(T.prototype,o)||Object.create(null));function be(T,o){return(l,C,...Z)=>{let oe=[C,...Z].map(Be=>({type:T,isAll:o,rightSelect:Be}));for(let Be of oe)if(!nr(l.getSelectedFields(),Be.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return l.addSetOperators(oe)}}let je=()=>({union:it,unionAll:Rt,intersect:et,except:ar}),it=be("union",!1),Rt=be("union",!0),et=be("intersect",!1),ar=be("except",!1);class Ht{static[M]="SQLiteQueryBuilder";dialect;dialectConfig;constructor(o){this.dialect=ie(o,Oa)?o:void 0,this.dialectConfig=ie(o,Oa)?void 0:o}$with=(o,l)=>{let C=this;return{as:Z=>(typeof Z=="function"&&(Z=Z(C)),new Proxy(new Pr(Z.getSQL(),l??("getSelectedFields"in Z?Z.getSelectedFields()??{}:{}),o,!0),new Sa({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...o){let l=this;return{select:function(C){return new le({fields:C??void 0,session:void 0,dialect:l.getDialect(),withList:o})},selectDistinct:function(C){return new le({fields:C??void 0,session:void 0,dialect:l.getDialect(),withList:o,distinct:!0})}}}select(o){return new le({fields:o??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(o){return new le({fields:o??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new Or(this.dialectConfig)),this.dialect}}class Xt extends Vn{constructor(o,l,C,Z){super(),this.table=o,this.session=l,this.dialect=C,this.config={table:o,withList:Z}}static[M]="SQLiteDelete";config;where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.table[te.Symbol.Columns],new Sa({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),C=Array.isArray(l)?l:[l];this.config.orderBy=C}else this.config.orderBy=o;return this}limit(o){return this.config.limit=o,this}returning(o=this.table[rr.Symbol.Columns]){return this.config.returning=Ut(o),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:U(this.config.table)})}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(o){return this._prepare().execute(o)}$dynamic(){return this}}class Nt{constructor(o,l,C,Z){this.table=o,this.session=l,this.dialect=C,this.withList=Z}static[M]="SQLiteInsertBuilder";values(o){if((o=Array.isArray(o)?o:[o]).length===0)throw Error("values() must be called with at least one value");let l=o.map(C=>{let Z={},oe=this.table[te.Symbol.Columns];for(let Be of Object.keys(C)){let ot=C[Be];Z[Be]=ie(ot,K)?ot:new wr(ot,oe[Be])}return Z});return new Vt(this.table,l,this.session,this.dialect,this.withList)}select(o){let l=typeof o=="function"?o(new Ht):o;if(!ie(l,K)&&!nr(this.table[B],l._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Vt(this.table,l,this.session,this.dialect,this.withList,!0)}}class Vt extends Vn{constructor(o,l,C,Z,oe,Be){super(),this.session=C,this.dialect=Z,this.config={table:o,values:l,withList:oe,select:Be}}static[M]="SQLiteInsert";config;returning(o=this.config.table[rr.Symbol.Columns]){return this.config.returning=Ut(o),this}onConflictDoNothing(o={}){if(this.config.onConflict||(this.config.onConflict=[]),o.target===void 0)this.config.onConflict.push(J` on conflict do nothing`);else{let l=Array.isArray(o.target)?J`${o.target}`:J`${[o.target]}`,C=o.where?J` where ${o.where}`:J``;this.config.onConflict.push(J` on conflict ${l} do nothing${C}`)}return this}onConflictDoUpdate(o){if(o.where&&(o.targetWhere||o.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);let l=o.where?J` where ${o.where}`:void 0,C=o.targetWhere?J` where ${o.targetWhere}`:void 0,Z=o.setWhere?J` where ${o.setWhere}`:void 0,oe=Array.isArray(o.target)?J`${o.target}`:J`${[o.target]}`,Be=this.dialect.buildUpdateSet(this.config.table,fn(this.config.table,o.set));return this.config.onConflict.push(J` on conflict ${oe}${C} do update set ${Be}${l}${Z}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:U(this.config.table)})}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class kt{constructor(o,l,C,Z){this.table=o,this.session=l,this.dialect=C,this.withList=Z}static[M]="SQLiteUpdateBuilder";set(o){return new Mt(this.table,fn(this.table,o),this.session,this.dialect,this.withList)}}class Mt extends Vn{constructor(o,l,C,Z,oe){super(),this.session=C,this.dialect=Z,this.config={set:l,table:o,withList:oe,joins:[]}}static[M]="SQLiteUpdate";config;from(o){return this.config.from=o,this}createJoin(o){return(l,C)=>{let Z=Zr(l);if(typeof Z=="string"&&this.config.joins.some(oe=>oe.alias===Z))throw Error(`Alias "${Z}" is already used in this query`);if(typeof C=="function"){let oe=this.config.from?ie(l,rr)?l[te.Symbol.Columns]:ie(l,Kr)?l._.selectedFields:ie(l,sn)?l[Nn].selectedFields:void 0:void 0;C=C(new Proxy(this.config.table[te.Symbol.Columns],new Sa({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),oe&&new Proxy(oe,new Sa({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:C,table:l,joinType:o,alias:Z}),this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){let l=o[0](new Proxy(this.config.table[te.Symbol.Columns],new Sa({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),C=Array.isArray(l)?l:[l];this.config.orderBy=C}else this.config.orderBy=o;return this}limit(o){return this.config.limit=o,this}returning(o=this.config.table[rr.Symbol.Columns]){return this.config.returning=Ut(o),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:U(this.config.table)})}prepare(){return this._prepare(!1)}run=o=>this._prepare().run(o);all=o=>this._prepare().all(o);get=o=>this._prepare().get(o);values=o=>this._prepare().values(o);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}class un extends K{constructor(o){super(un.buildEmbeddedCount(o.source,o.filters).queryChunks),this.params=o,this.session=o.session,this.sql=un.buildCount(o.source,o.filters)}sql;static[M]="SQLiteCountBuilderAsync";[Symbol.toStringTag]="SQLiteCountBuilderAsync";session;static buildEmbeddedCount(o,l){return J`(select count(*) from ${o}${J.raw(" where ").if(l)}${l})`}static buildCount(o,l){return J`select count(*) from ${o}${J.raw(" where ").if(l)}${l}`}then(o,l){return Promise.resolve(this.session.count(this.sql)).then(o,l)}catch(o){return this.then(void 0,o)}finally(o){return this.then(l=>(o?.(),l),l=>{throw o?.(),l})}}class vi{constructor(o,l,C,Z,oe,Be,ot,or){this.mode=o,this.fullSchema=l,this.schema=C,this.tableNamesMap=Z,this.table=oe,this.tableConfig=Be,this.dialect=ot,this.session=or}static[M]="SQLiteAsyncRelationalQueryBuilder";findMany(o){return this.mode==="sync"?new qn(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o||{},"many"):new Ei(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o||{},"many")}findFirst(o){return this.mode==="sync"?new qn(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o?{...o,limit:1}:{limit:1},"first"):new Ei(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,o?{...o,limit:1}:{limit:1},"first")}}class Ei extends Vn{constructor(o,l,C,Z,oe,Be,ot,or,Ir){super(),this.fullSchema=o,this.schema=l,this.tableNamesMap=C,this.table=Z,this.tableConfig=oe,this.dialect=Be,this.session=ot,this.config=or,this.mode=Ir}static[M]="SQLiteAsyncRelationalQuery";mode;getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(o=!1){let{query:l,builtQuery:C}=this._toSQL();return this.session[o?"prepareOneTimeQuery":"prepareQuery"](C,void 0,this.mode==="first"?"get":"all",!0,(Z,oe)=>{let Be=Z.map(ot=>function or(Ir,tn,yn,ut,gr=_r=>_r){let _r={};for(let[Er,ln]of ut.entries())if(ln.isJson){let mn=tn.relations[ln.tsKey],Rn=yn[Er],Mn=typeof Rn=="string"?JSON.parse(Rn):Rn;_r[ln.tsKey]=ie(mn,ra)?Mn&&or(Ir,Ir[ln.relationTableTsKey],Mn,ln.selection,gr):Mn.map($o=>or(Ir,Ir[ln.relationTableTsKey],$o,ln.selection,gr))}else{let mn,Rn=gr(yn[Er]),Mn=ln.field;mn=ie(Mn,We)?Mn:ie(Mn,K)?Mn.decoder:Mn.sql.decoder,_r[ln.tsKey]=Rn===null?null:mn.mapFromDriverValue(Rn)}return _r}(this.schema,this.tableConfig,ot,l.selection,oe));return this.mode==="first"?Be[0]:Be})}prepare(){return this._prepare(!1)}_toSQL(){let o=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),l=this.dialect.sqlToQuery(o.sql);return{query:o,builtQuery:l}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}class qn extends Ei{static[M]="SQLiteSyncRelationalQuery";sync(){return this.executeRaw()}}class na extends Vn{constructor(o,l,C,Z,oe){super(),this.execute=o,this.getSQL=l,this.dialect=Z,this.mapBatchResult=oe,this.config={action:C}}static[M]="SQLiteRaw";config;getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(o,l){return l?this.mapBatchResult(o):o}_prepare(){return this}isResponseInArrayMode(){return!1}}class Oi{constructor(o,l,C,Z){this.resultKind=o,this.dialect=l,this.session=C,this._=Z?{schema:Z.schema,fullSchema:Z.fullSchema,tableNamesMap:Z.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};let oe=this.query;if(this._.schema)for(let[Be,ot]of Object.entries(this._.schema))oe[Be]=new vi(o,Z.fullSchema,this._.schema,this._.tableNamesMap,Z.fullSchema[Be],ot,l,C);this.$cache={invalidate:async Be=>{}}}static[M]="BaseSQLiteDatabase";query;$with=(o,l)=>{let C=this;return{as:Z=>(typeof Z=="function"&&(Z=Z(new Ht(C.dialect))),new Proxy(new Pr(Z.getSQL(),l??("getSelectedFields"in Z?Z.getSelectedFields()??{}:{}),o,!0),new Sa({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(o,l){return new un({source:o,filters:l,session:this.session})}with(...o){let l=this;return{select:function(C){return new le({fields:C??void 0,session:l.session,dialect:l.dialect,withList:o})},selectDistinct:function(C){return new le({fields:C??void 0,session:l.session,dialect:l.dialect,withList:o,distinct:!0})},update:function(C){return new kt(C,l.session,l.dialect,o)},insert:function(C){return new Nt(C,l.session,l.dialect,o)},delete:function(C){return new Xt(C,l.session,l.dialect,o)}}}select(o){return new le({fields:o??void 0,session:this.session,dialect:this.dialect})}selectDistinct(o){return new le({fields:o??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(o){return new kt(o,this.session,this.dialect)}$cache;insert(o){return new Nt(o,this.session,this.dialect)}delete(o){return new Xt(o,this.session,this.dialect)}run(o){let l=typeof o=="string"?J.raw(o):o.getSQL();return this.resultKind==="async"?new na(async()=>this.session.run(l),()=>l,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(l)}all(o){let l=typeof o=="string"?J.raw(o):o.getSQL();return this.resultKind==="async"?new na(async()=>this.session.all(l),()=>l,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(l)}get(o){let l=typeof o=="string"?J.raw(o):o.getSQL();return this.resultKind==="async"?new na(async()=>this.session.get(l),()=>l,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(l)}values(o){let l=typeof o=="string"?J.raw(o):o.getSQL();return this.resultKind==="async"?new na(async()=>this.session.values(l),()=>l,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(l)}transaction(o,l){return this.session.transaction(o,l)}}class mi{static[M]="Cache"}class vo extends mi{strategy(){return"all"}static[M]="NoopCache";async get(o){}async put(o,l,C,Z){}async onMutate(o){}}async function Ni(T,o){let l=`${T}-${JSON.stringify(o)}`,C=new TextEncoder().encode(l);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",C))].map(Z=>Z.toString(16).padStart(2,"0")).join("")}class ha extends Vn{constructor(o){super(),this.resultCb=o}static[M]="ExecuteResultSync";async execute(){return this.resultCb()}sync(){return this.resultCb()}}class to{constructor(o,l,C,Z,oe,Be){this.mode=o,this.executeMethod=l,this.query=C,this.cache=Z,this.queryMetadata=oe,this.cacheConfig=Be,Z&&Z.strategy()==="all"&&Be===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}static[M]="PreparedQuery";joinsNotNullableMap;async queryWithCache(o,l,C){if(this.cache===void 0||ie(this.cache,vo)||this.queryMetadata===void 0||this.cacheConfig&&!this.cacheConfig.enable)try{return await C()}catch(Z){throw new Za(o,l,Z)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[Z]=await Promise.all([C(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return Z}catch(Z){throw new Za(o,l,Z)}if(!this.cacheConfig)try{return await C()}catch(Z){throw new Za(o,l,Z)}if(this.queryMetadata.type==="select"){let Z=await this.cache.get(this.cacheConfig.tag??await Ni(o,l),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(Z===void 0){let oe;try{oe=await C()}catch(Be){throw new Za(o,l,Be)}return await this.cache.put(this.cacheConfig.tag??await Ni(o,l),oe,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),oe}return Z}try{return await C()}catch(Z){throw new Za(o,l,Z)}}getQuery(){return this.query}mapRunResult(o,l){return o}mapAllResult(o,l){throw Error("Not implemented")}mapGetResult(o,l){throw Error("Not implemented")}execute(o){return this.mode==="async"?this[this.executeMethod](o):new ha(()=>this[this.executeMethod](o))}mapResult(o,l){switch(this.executeMethod){case"run":return this.mapRunResult(o,l);case"all":return this.mapAllResult(o,l);case"get":return this.mapGetResult(o,l)}}}class ua{constructor(o){this.dialect=o}static[M]="SQLiteSession";prepareOneTimeQuery(o,l,C,Z,oe,Be,ot){return this.prepareQuery(o,l,C,Z,oe,Be,ot)}run(o){let l=this.dialect.sqlToQuery(o);try{return this.prepareOneTimeQuery(l,void 0,"run",!1).run()}catch(C){throw new ys({cause:C,message:`Failed to run the query '${l.sql}'`})}}extractRawRunValueFromBatchResult(o){return o}all(o){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(o),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(o){throw Error("Not implemented")}get(o){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(o),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(o){throw Error("Not implemented")}values(o){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(o),void 0,"run",!1).values()}async count(o){return(await this.values(o))[0][0]}extractRawValuesValueFromBatchResult(o){throw Error("Not implemented")}}class Ga extends Oi{constructor(o,l,C,Z,oe=0){super(o,l,C,Z),this.schema=Z,this.nestedIndex=oe}static[M]="SQLiteTransaction";rollback(){throw new Zs}}class Ui extends ua{constructor(o,l,C,Z={}){super(l),this.client=o,this.schema=C,this.options=Z,this.logger=Z.logger??new Ee,this.cache=Z.cache??new vo}static[M]="SQLiteD1Session";logger;cache;prepareQuery(o,l,C,Z,oe,Be,ot){return new Pa(this.client.prepare(o.sql),o,this.logger,this.cache,Be,ot,l,C,Z,oe)}async batch(o){let l=[],C=[];for(let Z of o){let oe=Z._prepare(),Be=oe.getQuery();if(l.push(oe),Be.params.length>0)C.push(oe.stmt.bind(...Be.params));else{let ot=oe.getQuery();C.push(this.client.prepare(ot.sql).bind(...ot.params))}}return(await this.client.batch(C)).map((Z,oe)=>l[oe].mapResult(Z,!0))}extractRawAllValueFromBatchResult(o){return o.results}extractRawGetValueFromBatchResult(o){return o.results[0]}extractRawValuesValueFromBatchResult(o){return Na(o.results)}async transaction(o,l){let C=new za("async",this.dialect,this,this.schema);await this.run(J.raw(`begin${l?.behavior?" "+l.behavior:""}`));try{let Z=await o(C);return await this.run(J`commit`),Z}catch(Z){throw await this.run(J`rollback`),Z}}}class za extends Ga{static[M]="D1Transaction";async transaction(o){let l=`sp${this.nestedIndex}`,C=new za("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(J.raw(`savepoint ${l}`));try{let Z=await o(C);return await this.session.run(J.raw(`release savepoint ${l}`)),Z}catch(Z){throw await this.session.run(J.raw(`rollback to savepoint ${l}`)),Z}}}function Na(T){let o=[];for(let l of T){let C=Object.keys(l).map(Z=>l[Z]);o.push(C)}return o}class Pa extends to{constructor(o,l,C,Z,oe,Be,ot,or,Ir,tn){super("async",or,l,Z,oe,Be),this.logger=C,this._isResponseInArrayMode=Ir,this.customResultMapper=tn,this.fields=ot,this.stmt=o}static[M]="D1PreparedQuery";customResultMapper;fields;stmt;async run(o){let l=ti(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),await this.queryWithCache(this.query.sql,l,async()=>this.stmt.bind(...l).run())}async all(o){let{fields:l,query:C,logger:Z,stmt:oe,customResultMapper:Be}=this;if(!l&&!Be){let or=ti(C.params,o??{});return Z.logQuery(C.sql,or),await this.queryWithCache(C.sql,or,async()=>oe.bind(...or).all().then(({results:Ir})=>this.mapAllResult(Ir)))}let ot=await this.values(o);return this.mapAllResult(ot)}mapAllResult(o,l){return l&&(o=Na(o.results)),this.fields||this.customResultMapper?this.customResultMapper?this.customResultMapper(o):o.map(C=>st(this.fields,C,this.joinsNotNullableMap)):o}async get(o){let{fields:l,joinsNotNullableMap:C,query:Z,logger:oe,stmt:Be,customResultMapper:ot}=this;if(!l&&!ot){let Ir=ti(Z.params,o??{});return oe.logQuery(Z.sql,Ir),await this.queryWithCache(Z.sql,Ir,async()=>Be.bind(...Ir).all().then(({results:tn})=>tn[0]))}let or=await this.values(o);if(or[0])return ot?ot(or):st(l,or[0],C)}mapGetResult(o,l){return l&&(o=Na(o.results)[0]),this.fields||this.customResultMapper?this.customResultMapper?this.customResultMapper([o]):st(this.fields,o,this.joinsNotNullableMap):o}async values(o){let l=ti(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),await this.queryWithCache(this.query.sql,l,async()=>this.stmt.bind(...l).raw())}isResponseInArrayMode(){return this._isResponseInArrayMode}}class Mo extends Oi{static[M]="D1Database";async batch(o){return this.session.batch(o)}}let En=Kt("repositories",{id:St("id").primaryKey({autoIncrement:!0}),url:zt("url").notNull().unique(),owner:zt("owner").notNull(),name:zt("name").notNull(),description:zt("description"),stars:St("stars").default(0),defaultBranch:zt("default_branch").default("main"),readme:zt("readme"),lastFetched:St("last_fetched",{mode:"timestamp"}).notNull(),createdAt:St("created_at",{mode:"timestamp"}).notNull()}),li=Kt("commits",{id:St("id").primaryKey({autoIncrement:!0}),repoId:St("repo_id").notNull().references(()=>En.id,{onDelete:"cascade"}),sha:zt("sha").notNull(),message:zt("message").notNull(),authorName:zt("author_name"),authorEmail:zt("author_email"),date:St("date",{mode:"timestamp"}).notNull(),order:St("order").notNull()}),so=Kt("files",{id:St("id").primaryKey({autoIncrement:!0}),commitId:St("commit_id").notNull().references(()=>li.id,{onDelete:"cascade"}),path:zt("path").notNull(),content:zt("content"),size:St("size").default(0),language:zt("language")}),bs=Kt("analyses",{id:St("id").primaryKey({autoIncrement:!0}),commitId:St("commit_id").notNull().references(()=>li.id,{onDelete:"cascade"}),provider:zt("provider").notNull(),explanation:zt("explanation").notNull(),createdAt:St("created_at",{mode:"timestamp"}).notNull()});_.s(["analyses",0,bs,"commits",0,li,"files",0,so,"repositories",0,En],60378);var Bo=_.i(60378);function Wo(T){return function(o,l={}){let C,Z,oe=new $i({casing:l.casing});if(l.logger===!0?C=new ge:l.logger!==!1&&(C=l.logger),l.schema){let or=function(Ir,tn){Object.keys(Ir).length===1&&"default"in Ir&&!ie(Ir.default,te)&&(Ir=Ir.default);let yn={},ut={},gr={};for(let[_r,Er]of Object.entries(Ir))if(ie(Er,te)){let ln=Ye(Er),mn=ut[ln];for(let Mn of(yn[ln]=_r,gr[_r]={tsName:_r,dbName:Er[te.Symbol.Name],schema:Er[te.Symbol.Schema],columns:Er[te.Symbol.Columns],relations:mn?.relations??{},primaryKey:mn?.primaryKey??[]},Object.values(Er[te.Symbol.Columns])))Mn.primary&&gr[_r].primaryKey.push(Mn);let Rn=Er[te.Symbol.ExtraConfigBuilder]?.(Er[te.Symbol.ExtraConfigColumns]);if(Rn)for(let Mn of Object.values(Rn))ie(Mn,w)&&gr[_r].primaryKey.push(...Mn.columns)}else if(ie(Er,Io)){let ln,mn=Ye(Er.table),Rn=yn[mn];for(let[Mn,$o]of Object.entries(Er.config(tn(Er.table))))if(Rn){let ro=gr[Rn];ro.relations[Mn]=$o,ln&&ro.primaryKey.push(...ln)}else mn in ut||(ut[mn]={relations:{},primaryKey:ln}),ut[mn].relations[Mn]=$o}return{tables:gr,tableNamesMap:yn}}(l.schema,Ws);Z={fullSchema:l.schema,schema:or.tables,tableNamesMap:or.tableNamesMap}}let Be=new Ui(o,oe,Z,{logger:C,cache:l.cache}),ot=new Mo("async",oe,Be,Z);return ot.$client=o,ot.$cache=l.cache,ot.$cache&&(ot.$cache.invalidate=l.cache?.onMutate),ot}(T,{schema:Bo})}function _s(){let{env:T}=(0,Ke.getRequestContext)();return Wo(T.grepbase_db)}_.s(["createDb",()=>Wo],17649),_.s(["getDb",()=>_s],40831)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_@opentelemetry_api_build_esm_a886cc58._.js",30623,24158,_=>{"use strict";function g(ie){return Symbol.for(ie)}var xe=new function ie(Fe){var ge=this;ge._currentContext=Fe?new Map(Fe):new Map,ge.getValue=function(Ee){return ge._currentContext.get(Ee)},ge.setValue=function(Ee,W){var ne=new ie(ge._currentContext);return ne._currentContext.set(Ee,W),ne},ge.deleteValue=function(Ee){var W=new ie(ge._currentContext);return W._currentContext.delete(Ee),W}};_.s(["ROOT_CONTEXT",()=>xe,"createContextKey",()=>g],24158);var n=function(ie,Fe){var ge=typeof Symbol=="function"&&ie[Symbol.iterator];if(!ge)return ie;var Ee,W,ne=ge.call(ie),B=[];try{for(;(Fe===void 0||Fe-- >0)&&!(Ee=ne.next()).done;)B.push(Ee.value)}catch(ce){W={error:ce}}finally{try{Ee&&!Ee.done&&(ge=ne.return)&&ge.call(ne)}finally{if(W)throw W.error}}return B},Ke=function(ie,Fe,ge){if(ge||arguments.length==2)for(var Ee,W=0,ne=Fe.length;W<ne;W++)!Ee&&W in Fe||(Ee||(Ee=Array.prototype.slice.call(Fe,0,W)),Ee[W]=Fe[W]);return ie.concat(Ee||Array.prototype.slice.call(Fe))},M=function(){function ie(){}return ie.prototype.active=function(){return xe},ie.prototype.with=function(Fe,ge,Ee){for(var W=[],ne=3;ne<arguments.length;ne++)W[ne-3]=arguments[ne];return ge.call.apply(ge,Ke([Ee],n(W),!1))},ie.prototype.bind=function(Fe,ge){return ge},ie.prototype.enable=function(){return this},ie.prototype.disable=function(){return this},ie}();_.s(["NoopContextManager",()=>M],30623)},98688,_=>{"use strict";var g=typeof mr=="object"?mr:typeof Mi=="object"?Mi:_.g,xe="1.9.0",n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,Ke=function(Ee){var W=new Set([Ee]),ne=new Set,B=Ee.match(n);if(!B)return function(){return!1};var ce={major:+B[1],minor:+B[2],patch:+B[3],prerelease:B[4]};if(ce.prerelease!=null)return function(ye){return ye===Ee};function Te(ye){return ne.add(ye),!1}return function(ye){if(W.has(ye))return!0;if(ne.has(ye))return!1;var ht=ye.match(n);if(!ht)return Te(ye);var Y={major:+ht[1],minor:+ht[2],patch:+ht[3],prerelease:ht[4]};return Y.prerelease!=null||ce.major!==Y.major?Te(ye):ce.major===0?ce.minor===Y.minor&&ce.patch<=Y.patch?(W.add(ye),!0):Te(ye):ce.minor<=Y.minor?(W.add(ye),!0):Te(ye)}}(xe),M=Symbol.for("opentelemetry.js.api."+xe.split(".")[0]);function ie(Ee,W,ne,B){B===void 0&&(B=!1);var ce,Te=g[M]=(ce=g[M])!=null?ce:{version:xe};if(!B&&Te[Ee]){var ye=Error("@opentelemetry/api: Attempted duplicate registration of API: "+Ee);return ne.error(ye.stack||ye.message),!1}if(Te.version!==xe){var ye=Error("@opentelemetry/api: Registration of version v"+Te.version+" for "+Ee+" does not match previously registered API v"+xe);return ne.error(ye.stack||ye.message),!1}return Te[Ee]=W,ne.debug("@opentelemetry/api: Registered a global for "+Ee+" v"+xe+"."),!0}function Fe(Ee){var W,ne,B=(W=g[M])==null?void 0:W.version;if(B&&Ke(B))return(ne=g[M])==null?void 0:ne[Ee]}function ge(Ee,W){W.debug("@opentelemetry/api: Unregistering a global for "+Ee+" v"+xe+".");var ne=g[M];ne&&delete ne[Ee]}_.s(["getGlobal",()=>Fe,"registerGlobal",()=>ie,"unregisterGlobal",()=>ge],98688)},94323,63689,91008,34529,89622,65839,9729,68677,29322,31232,_=>{"use strict";var g,xe,n,Ke,M,ie,Fe=_.i(98688),ge=_.i(30623),Ee=function(L,V){var K=typeof Symbol=="function"&&L[Symbol.iterator];if(!K)return L;var Le,at,Wt=K.call(L),wr=[];try{for(;(V===void 0||V-- >0)&&!(Le=Wt.next()).done;)wr.push(Le.value)}catch(J){at={error:J}}finally{try{Le&&!Le.done&&(K=Wt.return)&&K.call(Wt)}finally{if(at)throw at.error}}return wr},W=function(L,V,K){if(K||arguments.length==2)for(var Le,at=0,Wt=V.length;at<Wt;at++)!Le&&at in V||(Le||(Le=Array.prototype.slice.call(V,0,at)),Le[at]=V[at]);return L.concat(Le||Array.prototype.slice.call(V))},ne=function(){function L(V){this._namespace=V.namespace||"DiagComponentLogger"}return L.prototype.debug=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];return B("debug",this._namespace,V)},L.prototype.error=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];return B("error",this._namespace,V)},L.prototype.info=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];return B("info",this._namespace,V)},L.prototype.warn=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];return B("warn",this._namespace,V)},L.prototype.verbose=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];return B("verbose",this._namespace,V)},L}();function B(L,V,K){var Le=(0,Fe.getGlobal)("diag");if(Le)return K.unshift(V),Le[L].apply(Le,W([],Ee(K),!1))}(g=Ke||(Ke={}))[g.NONE=0]="NONE",g[g.ERROR=30]="ERROR",g[g.WARN=50]="WARN",g[g.INFO=60]="INFO",g[g.DEBUG=70]="DEBUG",g[g.VERBOSE=80]="VERBOSE",g[g.ALL=9999]="ALL",_.s(["DiagLogLevel",()=>Ke],63689);var ce=function(L,V){var K=typeof Symbol=="function"&&L[Symbol.iterator];if(!K)return L;var Le,at,Wt=K.call(L),wr=[];try{for(;(V===void 0||V-- >0)&&!(Le=Wt.next()).done;)wr.push(Le.value)}catch(J){at={error:J}}finally{try{Le&&!Le.done&&(K=Wt.return)&&K.call(Wt)}finally{if(at)throw at.error}}return wr},Te=function(L,V,K){if(K||arguments.length==2)for(var Le,at=0,Wt=V.length;at<Wt;at++)!Le&&at in V||(Le||(Le=Array.prototype.slice.call(V,0,at)),Le[at]=V[at]);return L.concat(Le||Array.prototype.slice.call(V))},ye=function(){function L(){function V(Le){return function(){for(var at=[],Wt=0;Wt<arguments.length;Wt++)at[Wt]=arguments[Wt];var wr=(0,Fe.getGlobal)("diag");if(wr)return wr[Le].apply(wr,Te([],ce(at),!1))}}var K=this;K.setLogger=function(Le,at){if(at===void 0&&(at={logLevel:Ke.INFO}),Le===K){var Wt,wr,J,Xr=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return K.error((Wt=Xr.stack)!=null?Wt:Xr.message),!1}typeof at=="number"&&(at={logLevel:at});var Yr=(0,Fe.getGlobal)("diag"),hn=function(Zn,lr){function st(Ut,nr){var fn=lr[Ut];return typeof fn=="function"&&Zn>=nr?fn.bind(lr):function(){}}return Zn<Ke.NONE?Zn=Ke.NONE:Zn>Ke.ALL&&(Zn=Ke.ALL),lr=lr||{},{error:st("error",Ke.ERROR),warn:st("warn",Ke.WARN),info:st("info",Ke.INFO),debug:st("debug",Ke.DEBUG),verbose:st("verbose",Ke.VERBOSE)}}((wr=at.logLevel)!=null?wr:Ke.INFO,Le);if(Yr&&!at.suppressOverrideMessage){var ti=(J=Error().stack)!=null?J:"<failed to generate stacktrace>";Yr.warn("Current logger will be overwritten from "+ti),hn.warn("Current logger will overwrite one already registered from "+ti)}return(0,Fe.registerGlobal)("diag",hn,K,!0)},K.disable=function(){(0,Fe.unregisterGlobal)("diag",K)},K.createComponentLogger=function(Le){return new ne(Le)},K.verbose=V("verbose"),K.debug=V("debug"),K.info=V("info"),K.warn=V("warn"),K.error=V("error")}return L.instance=function(){return this._instance||(this._instance=new L),this._instance},L}();_.s(["DiagAPI",()=>ye],91008);var ht=function(L,V){var K=typeof Symbol=="function"&&L[Symbol.iterator];if(!K)return L;var Le,at,Wt=K.call(L),wr=[];try{for(;(V===void 0||V-- >0)&&!(Le=Wt.next()).done;)wr.push(Le.value)}catch(J){at={error:J}}finally{try{Le&&!Le.done&&(K=Wt.return)&&K.call(Wt)}finally{if(at)throw at.error}}return wr},Y=function(L,V,K){if(K||arguments.length==2)for(var Le,at=0,Wt=V.length;at<Wt;at++)!Le&&at in V||(Le||(Le=Array.prototype.slice.call(V,0,at)),Le[at]=V[at]);return L.concat(Le||Array.prototype.slice.call(V))},Ge="context",te=new ge.NoopContextManager,Ye=function(){function L(){}return L.getInstance=function(){return this._instance||(this._instance=new L),this._instance},L.prototype.setGlobalContextManager=function(V){return(0,Fe.registerGlobal)(Ge,V,ye.instance())},L.prototype.active=function(){return this._getContextManager().active()},L.prototype.with=function(V,K,Le){for(var at,Wt=[],wr=3;wr<arguments.length;wr++)Wt[wr-3]=arguments[wr];return(at=this._getContextManager()).with.apply(at,Y([V,K,Le],ht(Wt),!1))},L.prototype.bind=function(V,K){return this._getContextManager().bind(V,K)},L.prototype._getContextManager=function(){return(0,Fe.getGlobal)(Ge)||te},L.prototype.disable=function(){this._getContextManager().disable(),(0,Fe.unregisterGlobal)(Ge,ye.instance())},L}();_.s(["ContextAPI",()=>Ye],34529);var We=_.i(24158);(xe=M||(M={}))[xe.NONE=0]="NONE",xe[xe.SAMPLED=1]="SAMPLED",_.s(["TraceFlags",()=>M],89622);var rt="0000000000000000",$t="00000000000000000000000000000000",Pt={traceId:$t,spanId:rt,traceFlags:M.NONE};_.s(["INVALID_SPANID",()=>rt,"INVALID_SPAN_CONTEXT",()=>Pt,"INVALID_TRACEID",()=>$t],65839);var er=function(){function L(V){V===void 0&&(V=Pt),this._spanContext=V}return L.prototype.spanContext=function(){return this._spanContext},L.prototype.setAttribute=function(V,K){return this},L.prototype.setAttributes=function(V){return this},L.prototype.addEvent=function(V,K){return this},L.prototype.addLink=function(V){return this},L.prototype.addLinks=function(V){return this},L.prototype.setStatus=function(V){return this},L.prototype.updateName=function(V){return this},L.prototype.end=function(V){},L.prototype.isRecording=function(){return!1},L.prototype.recordException=function(V,K){},L}(),Gt=(0,We.createContextKey)("OpenTelemetry Context Key SPAN");function Ve(L){return L.getValue(Gt)||void 0}function sr(){return Ve(Ye.getInstance().active())}function pe(L,V){return L.setValue(Gt,V)}function ve(L){return L.deleteValue(Gt)}function q(L,V){return pe(L,new er(V))}function vt(L){var V;return(V=Ve(L))==null?void 0:V.spanContext()}var h=/^([0-9a-f]{32})$/i,Yt=/^[0-9a-f]{16}$/i;function lt(L){return h.test(L)&&L!==$t}function ur(L){return Yt.test(L)&&L!==rt}function ct(L){return lt(L.traceId)&&ur(L.spanId)}function mt(L){return new er(L)}_.s(["isSpanContextValid",()=>ct,"isValidSpanId",()=>ur,"isValidTraceId",()=>lt,"wrapSpanContext",()=>mt],9729);var Nr=Ye.getInstance(),Vr=function(){function L(){}return L.prototype.startSpan=function(V,K,Le){if(Le===void 0&&(Le=Nr.active()),K?.root)return new er;var at,Wt=Le&&vt(Le);return typeof(at=Wt)=="object"&&typeof at.spanId=="string"&&typeof at.traceId=="string"&&typeof at.traceFlags=="number"&&ct(Wt)?new er(Wt):new er},L.prototype.startActiveSpan=function(V,K,Le,at){if(!(arguments.length<2)){arguments.length==2?J=K:arguments.length==3?(Wt=K,J=Le):(Wt=K,wr=Le,J=at);var Wt,wr,J,Xr=wr??Nr.active(),Yr=this.startSpan(V,Wt,Xr),hn=pe(Xr,Yr);return Nr.with(hn,J,void 0,Yr)}},L}(),Sn=new Vr,Kr=function(){function L(V,K,Le,at){this._provider=V,this.name=K,this.version=Le,this.options=at}return L.prototype.startSpan=function(V,K,Le){return this._getTracer().startSpan(V,K,Le)},L.prototype.startActiveSpan=function(V,K,Le,at){var Wt=this._getTracer();return Reflect.apply(Wt.startActiveSpan,Wt,arguments)},L.prototype._getTracer=function(){if(this._delegate)return this._delegate;var V=this._provider.getDelegateTracer(this.name,this.version,this.options);return V?(this._delegate=V,this._delegate):Sn},L}();_.s(["ProxyTracer",()=>Kr],68677);var Pr=new(function(){function L(){}return L.prototype.getTracer=function(V,K,Le){return new Vr},L}()),Dn=function(){function L(){}return L.prototype.getTracer=function(V,K,Le){var at;return(at=this.getDelegateTracer(V,K,Le))!=null?at:new Kr(this,V,K,Le)},L.prototype.getDelegate=function(){var V;return(V=this._delegate)!=null?V:Pr},L.prototype.setDelegate=function(V){this._delegate=V},L.prototype.getDelegateTracer=function(V,K,Le){var at;return(at=this._delegate)==null?void 0:at.getTracer(V,K,Le)},L}();_.s(["ProxyTracerProvider",()=>Dn],29322);var Nn="trace",Re=function(){function L(){this._proxyTracerProvider=new Dn,this.wrapSpanContext=mt,this.isSpanContextValid=ct,this.deleteSpan=ve,this.getSpan=Ve,this.getActiveSpan=sr,this.getSpanContext=vt,this.setSpan=pe,this.setSpanContext=q}return L.getInstance=function(){return this._instance||(this._instance=new L),this._instance},L.prototype.setGlobalTracerProvider=function(V){var K=(0,Fe.registerGlobal)(Nn,this._proxyTracerProvider,ye.instance());return K&&this._proxyTracerProvider.setDelegate(V),K},L.prototype.getTracerProvider=function(){return(0,Fe.getGlobal)(Nn)||this._proxyTracerProvider},L.prototype.getTracer=function(V,K){return this.getTracerProvider().getTracer(V,K)},L.prototype.disable=function(){(0,Fe.unregisterGlobal)(Nn,ye.instance()),this._proxyTracerProvider=new Dn},L}().getInstance();_.s(["trace",()=>Re],94323),(n=ie||(ie={}))[n.UNSET=0]="UNSET",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",_.s(["SpanStatusCode",()=>ie],31232)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_@ai-sdk_provider-utils_dist_index_mjs_995f32ad._.js",66125,8715,6508,39017,_=>{"use strict";let g;var xe,n,Ke,M,ie,Fe,ge,Ee,W,ne,B,ce,Te,ye,ht,Y,Ge,te,Ye,We,rt,$t,Pt,er,Gt,Ve,sr,pe,ve,q,vt,h,Yt,lt,ur,ct,mt,Nr,Vr,Sn="vercel.ai.error",Kr=Symbol.for(Sn),Pr=class zg extends(ie=Error,M=Kr,ie){constructor({name:r,message:e,cause:i}){super(e),this[M]=!0,this.name=r,this.cause=i}static isInstance(r){return zg.hasMarker(r,Sn)}static hasMarker(r,e){let i=Symbol.for(e);return r!=null&&typeof r=="object"&&i in r&&typeof r[i]=="boolean"&&r[i]===!0}},Dn="AI_APICallError",Nn=`vercel.ai.error.${Dn}`,Re=Symbol.for(Nn),L=class extends(ge=Pr,Fe=Re,ge){constructor({message:t,url:r,requestBodyValues:e,statusCode:i,responseHeaders:a,responseBody:p,cause:m,isRetryable:$=i!=null&&(i===408||i===409||i===429||i>=500),data:f}){super({name:Dn,message:t,cause:m}),this[Fe]=!0,this.url=r,this.requestBodyValues=e,this.statusCode=i,this.responseHeaders=a,this.responseBody=p,this.isRetryable=$,this.data=f}static isInstance(t){return Pr.hasMarker(t,Nn)}},V="AI_EmptyResponseBodyError",K=`vercel.ai.error.${V}`,Le=Symbol.for(K),at=class extends(W=Pr,Ee=Le,W){constructor({message:t="Empty response body"}={}){super({name:V,message:t}),this[Ee]=!0}static isInstance(t){return Pr.hasMarker(t,K)}};function Wt(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}var wr="AI_InvalidArgumentError",J=`vercel.ai.error.${wr}`,Xr=Symbol.for(J),Yr=class extends(B=Pr,ne=Xr,B){constructor({message:t,cause:r,argument:e}){super({name:wr,message:t,cause:r}),this[ne]=!0,this.argument=e}static isInstance(t){return Pr.hasMarker(t,J)}},hn="AI_InvalidPromptError",ti=`vercel.ai.error.${hn}`,Zn=Symbol.for(ti),lr=class extends(Te=Pr,ce=Zn,Te){constructor({prompt:t,message:r,cause:e}){super({name:hn,message:`Invalid prompt: ${r}`,cause:e}),this[ce]=!0,this.prompt=t}static isInstance(t){return Pr.hasMarker(t,ti)}},st="AI_InvalidResponseDataError",Ut=`vercel.ai.error.${st}`,nr=Symbol.for(Ut),fn=class extends(ht=Pr,ye=nr,ht){constructor({data:t,message:r=`Invalid response data: ${JSON.stringify(t)}.`}){super({name:st,message:r}),this[ye]=!0,this.data=t}static isInstance(t){return Pr.hasMarker(t,Ut)}},Zr="AI_JSONParseError",dr=`vercel.ai.error.${Zr}`,Ki=Symbol.for(dr),ri=class extends(Ge=Pr,Y=Ki,Ge){constructor({text:t,cause:r}){super({name:Zr,message:`JSON parsing failed: Text: ${t}.
Error message: ${Wt(r)}`,cause:r}),this[Y]=!0,this.text=t}static isInstance(t){return Pr.hasMarker(t,dr)}},Tn="AI_LoadAPIKeyError",Xn=`vercel.ai.error.${Tn}`,pn=Symbol.for(Xn),ze=class extends(Ye=Pr,te=pn,Ye){constructor({message:t}){super({name:Tn,message:t}),this[te]=!0}static isInstance(t){return Pr.hasMarker(t,Xn)}},ft="AI_LoadSettingError",pr=`vercel.ai.error.${ft}`,De=Symbol.for(pr),cn=class extends(rt=Pr,We=De,rt){constructor({message:t}){super({name:ft,message:t}),this[We]=!0}static isInstance(t){return Pr.hasMarker(t,pr)}},zi="AI_NoContentGeneratedError",rn=`vercel.ai.error.${zi}`,Di=Symbol.for(rn),ca=class extends(Pt=Pr,$t=Di,Pt){constructor({message:t="No content generated."}={}){super({name:zi,message:t}),this[$t]=!0}static isInstance(t){return Pr.hasMarker(t,rn)}},qa="AI_NoSuchModelError",An=`vercel.ai.error.${qa}`,ia=Symbol.for(An),Ha=class extends(Gt=Pr,er=ia,Gt){constructor({errorName:t=qa,modelId:r,modelType:e,message:i=`No such ${e}: ${r}`}){super({name:t,message:i}),this[er]=!0,this.modelId=r,this.modelType=e}static isInstance(t){return Pr.hasMarker(t,An)}},Yi="AI_TooManyEmbeddingValuesForCallError",nn=`vercel.ai.error.${Yi}`,Bn=Symbol.for(nn),da=class extends(sr=Pr,Ve=Bn,sr){constructor(t){super({name:Yi,message:`Too many values for a single embedding call. The ${t.provider} model "${t.modelId}" can only embed up to ${t.maxEmbeddingsPerCall} values per call, but ${t.values.length} values were provided.`}),this[Ve]=!0,this.provider=t.provider,this.modelId=t.modelId,this.maxEmbeddingsPerCall=t.maxEmbeddingsPerCall,this.values=t.values}static isInstance(t){return Pr.hasMarker(t,nn)}},Ja="AI_TypeValidationError",_o=`vercel.ai.error.${Ja}`,La=Symbol.for(_o),Wi=class Cp extends(ve=Pr,pe=La,ve){constructor({value:r,cause:e}){super({name:Ja,message:`Type validation failed: Value: ${JSON.stringify(r)}.
Error message: ${Wt(e)}`,cause:e}),this[pe]=!0,this.value=r}static isInstance(r){return Pr.hasMarker(r,_o)}static wrap({value:r,cause:e}){return Cp.isInstance(e)&&e.value===r?e:new Cp({value:r,cause:e})}},Xa="AI_UnsupportedFunctionalityError",Ya=`vercel.ai.error.${Xa}`,Ea=Symbol.for(Ya),po=class extends(vt=Pr,q=Ea,vt){constructor({functionality:t,message:r=`'${t}' functionality not supported.`}){super({name:Xa,message:r}),this[q]=!0,this.functionality=t}static isInstance(t){return Pr.hasMarker(t,Ya)}};function mo(t){return t===null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"||(Array.isArray(t)?t.every(mo):typeof t=="object"&&Object.entries(t).every(([r,e])=>typeof r=="string"&&(e===void 0||mo(e))))}function xt(t){return Array.isArray(t)&&t.every(mo)}function Ce(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([r,e])=>typeof r=="string"&&(e===void 0||mo(e)))}_.s(["AISDKError",()=>Pr,"APICallError",()=>L,"EmptyResponseBodyError",()=>at,"InvalidArgumentError",()=>Yr,"InvalidPromptError",()=>lr,"InvalidResponseDataError",()=>fn,"JSONParseError",()=>ri,"LoadAPIKeyError",()=>ze,"LoadSettingError",()=>cn,"NoContentGeneratedError",()=>ca,"NoSuchModelError",()=>Ha,"TooManyEmbeddingValuesForCallError",()=>da,"TypeValidationError",()=>Wi,"UnsupportedFunctionalityError",()=>po,"getErrorMessage",()=>Wt,"isJSONArray",()=>xt,"isJSONObject",()=>Ce],8715);let vr=Object.freeze({status:"aborted"});function G(t,r,e){function i($,f){if($._zod||Object.defineProperty($,"_zod",{value:{def:f,constr:m,traits:new Set},enumerable:!1}),$._zod.traits.has(t))return;$._zod.traits.add(t),r($,f);let j=m.prototype,Q=Object.keys(j);for(let we=0;we<Q.length;we++){let Tt=Q[we];Tt in $||($[Tt]=j[Tt].bind($))}}let a=e?.Parent??Object;class p extends a{}function m($){var f;let j=e?.Parent?new p:this;for(let Q of(i(j,$),(f=j._zod).deferred??(f.deferred=[]),j._zod.deferred))Q();return j}return Object.defineProperty(p,"name",{value:t}),Object.defineProperty(m,"init",{value:i}),Object.defineProperty(m,Symbol.hasInstance,{value:$=>!!e?.Parent&&$ instanceof e.Parent||$?._zod?.traits?.has(t)}),Object.defineProperty(m,"name",{value:t}),m}let Tr=Symbol("zod_brand");class en extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ln extends Error{constructor(r){super(`Encountered unidirectional transform during encode: ${r}`),this.name="ZodEncodeError"}}let In={};function Jr(t){return t&&Object.assign(In,t),In}function Hn(t){return t}function Gi(t){return t}function Li(t){}function ki(t){throw Error("Unexpected value in exhaustive check")}function di(t){}function Fi(t){let r=Object.values(t).filter(e=>typeof e=="number");return Object.entries(t).filter(([e,i])=>r.indexOf(+e)===-1).map(([e,i])=>i)}function Ot(t,r="|"){return t.map(e=>Rr(e)).join(r)}function pi(t,r){return typeof r=="bigint"?r.toString():r}function Un(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}}}}function Yn(t){return t==null}function gn(t){let r=+!!t.startsWith("^"),e=t.endsWith("$")?t.length-1:t.length;return t.slice(r,e)}function pa(t,r){let e=(t.toString().split(".")[1]||"").length,i=r.toString(),a=(i.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(i)){let m=i.match(/\d?e-(\d?)/);m?.[1]&&(a=Number.parseInt(m[1]))}let p=e>a?e:a;return Number.parseInt(t.toFixed(p).replace(".",""))%Number.parseInt(r.toFixed(p).replace(".",""))/10**p}_.s(["$ZodAsyncError",()=>en,"$ZodEncodeError",()=>Ln,"$brand",0,Tr,"$constructor",()=>G,"NEVER",0,vr,"config",()=>Jr,"globalConfig",0,In],44214);let ea=Symbol("evaluating");function xr(t,r,e){let i;Object.defineProperty(t,r,{get(){if(i!==ea)return i===void 0&&(i=ea,i=e()),i},set(a){Object.defineProperty(t,r,{value:a})},configurable:!0})}function Ti(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function Zi(t,r,e){Object.defineProperty(t,r,{value:e,writable:!0,enumerable:!0,configurable:!0})}function Cn(...t){let r={};for(let e of t)Object.assign(r,Object.getOwnPropertyDescriptors(e));return Object.defineProperties({},r)}function Qi(t){return Cn(t._zod.def)}function wi(t,r){return r?r.reduce((e,i)=>e?.[i],t):t}function aa(t){let r=Object.keys(t);return Promise.all(r.map(e=>t[e])).then(e=>{let i={};for(let a=0;a<r.length;a++)i[r[a]]=e[a];return i})}function Ta(t=10){let r="abcdefghijklmnopqrstuvwxyz",e="";for(let i=0;i<t;i++)e+=r[Math.floor(Math.random()*r.length)];return e}function ni(t){return JSON.stringify(t)}function Ca(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let Ci="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ri(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}let ho=Un(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch{return!1}});function va(t){if(Ri(t)===!1)return!1;let r=t.constructor;if(r===void 0||typeof r!="function")return!0;let e=r.prototype;return Ri(e)!==!1&&Object.prototype.hasOwnProperty.call(e,"isPrototypeOf")!==!1}function Jo(t){return va(t)?{...t}:Array.isArray(t)?[...t]:t}function ns(t){let r=0;for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&r++;return r}let yi=new Set(["string","number","symbol"]),xo=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Bi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wn(t,r,e){let i=new t._zod.constr(r??t._zod.def);return(!r||e?.parent)&&(i._zod.parent=t),i}function tr(t){if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Ii(t){let r;return new Proxy({},{get:(e,i,a)=>(r??(r=t()),Reflect.get(r,i,a)),set:(e,i,a,p)=>(r??(r=t()),Reflect.set(r,i,a,p)),has:(e,i)=>(r??(r=t()),Reflect.has(r,i)),deleteProperty:(e,i)=>(r??(r=t()),Reflect.deleteProperty(r,i)),ownKeys:e=>(r??(r=t()),Reflect.ownKeys(r)),getOwnPropertyDescriptor:(e,i)=>(r??(r=t()),Reflect.getOwnPropertyDescriptor(r,i)),defineProperty:(e,i,a)=>(r??(r=t()),Reflect.defineProperty(r,i,a))})}function Rr(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function eo(t){return Object.keys(t).filter(r=>t[r]._zod.optin==="optional"&&t[r]._zod.optout==="optional")}let qo={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},is={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function As(t,r){let e=t._zod.def,i=Cn(t._zod.def,{get shape(){let a={};for(let p in r){if(!(p in e.shape))throw Error(`Unrecognized key: "${p}"`);r[p]&&(a[p]=e.shape[p])}return Zi(this,"shape",a),a},checks:[]});return Wn(t,i)}function wa(t,r){let e=t._zod.def,i=Cn(t._zod.def,{get shape(){let a={...t._zod.def.shape};for(let p in r){if(!(p in e.shape))throw Error(`Unrecognized key: "${p}"`);r[p]&&delete a[p]}return Zi(this,"shape",a),a},checks:[]});return Wn(t,i)}function Ms(t,r){if(!va(r))throw Error("Invalid input to extend: expected a plain object");let e=t._zod.def.checks;if(e&&e.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=Cn(t._zod.def,{get shape(){let a={...t._zod.def.shape,...r};return Zi(this,"shape",a),a},checks:[]});return Wn(t,i)}function Ko(t,r){if(!va(r))throw Error("Invalid input to safeExtend: expected a plain object");let e={...t._zod.def,get shape(){let i={...t._zod.def.shape,...r};return Zi(this,"shape",i),i},checks:t._zod.def.checks};return Wn(t,e)}function fs(t,r){let e=Cn(t._zod.def,{get shape(){let i={...t._zod.def.shape,...r._zod.def.shape};return Zi(this,"shape",i),i},get catchall(){return r._zod.def.catchall},checks:[]});return Wn(t,e)}function Rs(t,r,e){let i=Cn(r._zod.def,{get shape(){let a=r._zod.def.shape,p={...a};if(e)for(let m in e){if(!(m in a))throw Error(`Unrecognized key: "${m}"`);e[m]&&(p[m]=t?new t({type:"optional",innerType:a[m]}):a[m])}else for(let m in a)p[m]=t?new t({type:"optional",innerType:a[m]}):a[m];return Zi(this,"shape",p),p},checks:[]});return Wn(r,i)}function fo(t,r,e){let i=Cn(r._zod.def,{get shape(){let a=r._zod.def.shape,p={...a};if(e)for(let m in e){if(!(m in p))throw Error(`Unrecognized key: "${m}"`);e[m]&&(p[m]=new t({type:"nonoptional",innerType:a[m]}))}else for(let m in a)p[m]=new t({type:"nonoptional",innerType:a[m]});return Zi(this,"shape",p),p},checks:[]});return Wn(r,i)}function ta(t,r=0){if(t.aborted===!0)return!0;for(let e=r;e<t.issues.length;e++)if(t.issues[e]?.continue!==!0)return!0;return!1}function Fa(t,r){return r.map(e=>(e.path??(e.path=[]),e.path.unshift(t),e))}function Pn(t){return typeof t=="string"?t:t?.message}function u(t,r,e){let i={...t,path:t.path??[]};return t.message||(i.message=Pn(t.inst?._zod.def?.error?.(t))??Pn(r?.error?.(t))??Pn(e.customError?.(t))??Pn(e.localeError?.(t))??"Invalid input"),delete i.inst,delete i.continue,r?.reportInput||delete i.input,i}function w(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function R(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function P(...t){let[r,e,i]=t;return typeof r=="string"?{message:r,code:"custom",input:e,inst:i}:{...r}}function A(t){return Object.entries(t).filter(([r,e])=>Number.isNaN(Number.parseInt(r,10))).map(r=>r[1])}function _e(t){let r=atob(t),e=new Uint8Array(r.length);for(let i=0;i<r.length;i++)e[i]=r.charCodeAt(i);return e}function Ue(t){let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}function gt(t){let r=t.replace(/-/g,"+").replace(/_/g,"/"),e="=".repeat((4-r.length%4)%4);return _e(r+e)}function Pe(t){return Ue(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function bt(t){let r=t.replace(/^0x/,"");if(r.length%2!=0)throw Error("Invalid hex string length");let e=new Uint8Array(r.length/2);for(let i=0;i<r.length;i+=2)e[i/2]=Number.parseInt(r.slice(i,i+2),16);return e}function fr(t){return Array.from(t).map(r=>r.toString(16).padStart(2,"0")).join("")}class $r{constructor(...r){}}_.s(["BIGINT_FORMAT_RANGES",0,is,"Class",()=>$r,"NUMBER_FORMAT_RANGES",0,qo,"aborted",()=>ta,"allowsEval",0,ho,"assert",()=>di,"assertEqual",()=>Hn,"assertIs",()=>Li,"assertNever",()=>ki,"assertNotEqual",()=>Gi,"assignProp",()=>Zi,"base64ToUint8Array",()=>_e,"base64urlToUint8Array",()=>gt,"cached",()=>Un,"captureStackTrace",0,Ci,"cleanEnum",()=>A,"cleanRegex",()=>gn,"clone",()=>Wn,"cloneDef",()=>Qi,"createTransparentProxy",()=>Ii,"defineLazy",()=>xr,"esc",()=>ni,"escapeRegex",()=>Bi,"extend",()=>Ms,"finalizeIssue",()=>u,"floatSafeRemainder",()=>pa,"getElementAtPath",()=>wi,"getEnumValues",()=>Fi,"getLengthableOrigin",()=>R,"getParsedType",0,t=>{let r=typeof t;switch(r){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw Error(`Unknown data type: ${r}`)}},"getSizableOrigin",()=>w,"hexToUint8Array",()=>bt,"isObject",()=>Ri,"isPlainObject",()=>va,"issue",()=>P,"joinValues",()=>Ot,"jsonStringifyReplacer",()=>pi,"merge",()=>fs,"mergeDefs",()=>Cn,"normalizeParams",()=>tr,"nullish",()=>Yn,"numKeys",()=>ns,"objectClone",()=>Ti,"omit",()=>wa,"optionalKeys",()=>eo,"partial",()=>Rs,"pick",()=>As,"prefixIssues",()=>Fa,"primitiveTypes",0,xo,"promiseAllObject",()=>aa,"propertyKeyTypes",0,yi,"randomString",()=>Ta,"required",()=>fo,"safeExtend",()=>Ko,"shallowClone",()=>Jo,"slugify",()=>Ca,"stringifyPrimitive",()=>Rr,"uint8ArrayToBase64",()=>Ue,"uint8ArrayToBase64url",()=>Pe,"uint8ArrayToHex",()=>fr,"unwrapMessage",()=>Pn],64684);let Qt=(t,r)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:r,enumerable:!1}),t.message=JSON.stringify(r,pi,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},an=G("$ZodError",Qt),jr=G("$ZodError",Qt,{Parent:Error});function on(t,r=e=>e.message){let e={},i=[];for(let a of t.issues)a.path.length>0?(e[a.path[0]]=e[a.path[0]]||[],e[a.path[0]].push(r(a))):i.push(r(a));return{formErrors:i,fieldErrors:e}}function Cr(t,r=e=>e.message){let e={_errors:[]},i=a=>{for(let p of a.issues)if(p.code==="invalid_union"&&p.errors.length)p.errors.map(m=>i({issues:m}));else if(p.code==="invalid_key")i({issues:p.issues});else if(p.code==="invalid_element")i({issues:p.issues});else if(p.path.length===0)e._errors.push(r(p));else{let m=e,$=0;for(;$<p.path.length;){let f=p.path[$];$===p.path.length-1?(m[f]=m[f]||{_errors:[]},m[f]._errors.push(r(p))):m[f]=m[f]||{_errors:[]},m=m[f],$++}}};return i(t),e}function Hr(t,r=e=>e.message){let e={errors:[]},i=(a,p=[])=>{var m,$;for(let f of a.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(j=>i({issues:j},f.path));else if(f.code==="invalid_key")i({issues:f.issues},f.path);else if(f.code==="invalid_element")i({issues:f.issues},f.path);else{let j=[...p,...f.path];if(j.length===0){e.errors.push(r(f));continue}let Q=e,we=0;for(;we<j.length;){let Tt=j[we],Ft=we===j.length-1;typeof Tt=="string"?(Q.properties??(Q.properties={}),(m=Q.properties)[Tt]??(m[Tt]={errors:[]}),Q=Q.properties[Tt]):(Q.items??(Q.items=[]),($=Q.items)[Tt]??($[Tt]={errors:[]}),Q=Q.items[Tt]),Ft&&Q.errors.push(r(f)),we++}}};return i(t),e}function Mr(t){let r=[];for(let e of t.map(i=>typeof i=="object"?i.key:i))typeof e=="number"?r.push(`[${e}]`):typeof e=="symbol"?r.push(`[${JSON.stringify(String(e))}]`):/[^\w$]/.test(e)?r.push(`[${JSON.stringify(e)}]`):(r.length&&r.push("."),r.push(e));return r.join("")}function zr(t){let r=[];for(let e of[...t.issues].sort((i,a)=>(i.path??[]).length-(a.path??[]).length))r.push(`\u2716 ${e.message}`),e.path?.length&&r.push(`  \u2192 at ${Mr(e.path)}`);return r.join(`
`)}_.s(["$ZodError",0,an,"$ZodRealError",0,jr,"flattenError",()=>on,"formatError",()=>Cr,"prettifyError",()=>zr,"toDotPath",()=>Mr,"treeifyError",()=>Hr],3056);let Ka=t=>(r,e,i,a)=>{let p=i?Object.assign(i,{async:!1}):{async:!1},m=r._zod.run({value:e,issues:[]},p);if(m instanceof Promise)throw new en;if(m.issues.length){let $=new(a?.Err??t)(m.issues.map(f=>u(f,p,Jr())));throw Ci($,a?.callee),$}return m.value},ba=Ka(jr),go=t=>async(r,e,i,a)=>{let p=i?Object.assign(i,{async:!0}):{async:!0},m=r._zod.run({value:e,issues:[]},p);if(m instanceof Promise&&(m=await m),m.issues.length){let $=new(a?.Err??t)(m.issues.map(f=>u(f,p,Jr())));throw Ci($,a?.callee),$}return m.value},Po=go(jr),wo=t=>(r,e,i)=>{let a=i?{...i,async:!1}:{async:!1},p=r._zod.run({value:e,issues:[]},a);if(p instanceof Promise)throw new en;return p.issues.length?{success:!1,error:new(t??an)(p.issues.map(m=>u(m,a,Jr())))}:{success:!0,data:p.value}},Lo=wo(jr),ko=t=>async(r,e,i)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},p=r._zod.run({value:e,issues:[]},a);return p instanceof Promise&&(p=await p),p.issues.length?{success:!1,error:new t(p.issues.map(m=>u(m,a,Jr())))}:{success:!0,data:p.value}},_a=ko(jr),Io=t=>(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ka(t)(r,e,a)},ra=Io(jr),ao=t=>(r,e,i)=>Ka(t)(r,e,i),Ws=ao(jr),jo=t=>async(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return go(t)(r,e,a)},Ds=jo(jr),Fo=t=>async(r,e,i)=>go(t)(r,e,i),ma=Fo(jr),oo=t=>(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return wo(t)(r,e,a)},Jn=oo(jr),Wa=t=>(r,e,i)=>wo(t)(r,e,i),Sa=Wa(jr),gs=t=>async(r,e,i)=>{let a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ko(t)(r,e,a)},Ao=gs(jr),Ra=t=>async(r,e,i)=>ko(t)(r,e,i),Zo=Ra(jr);_.s(["_decode",0,ao,"_decodeAsync",0,Fo,"_encode",0,Io,"_encodeAsync",0,jo,"_parse",0,Ka,"_parseAsync",0,go,"_safeDecode",0,Wa,"_safeDecodeAsync",0,Ra,"_safeEncode",0,oo,"_safeEncodeAsync",0,gs,"_safeParse",0,wo,"_safeParseAsync",0,ko,"decode",0,Ws,"decodeAsync",0,ma,"encode",0,ra,"encodeAsync",0,Ds,"parse",0,ba,"parseAsync",0,Po,"safeDecode",0,Sa,"safeDecodeAsync",0,Zo,"safeEncode",0,Jn,"safeEncodeAsync",0,Ao,"safeParse",0,Lo,"safeParseAsync",0,_a],63733);let ys=/^[cC][^\s-]{8,}$/,Za=/^[0-9a-z]+$/,Zs=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,as=/^[0-9a-vA-V]{20}$/,x=/^[A-Za-z0-9]{27}$/,F=/^[a-zA-Z0-9_-]{21}$/,re=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,he=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ie=t=>t?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,$e=Ie(4),ae=Ie(6),fe=Ie(7),Ze=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,me=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function tt(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let He=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Je=t=>{let r=Bi(t??":");return RegExp(`^(?:[0-9A-F]{2}${r}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${r}){5}[0-9a-f]{2}$`)},jt=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,wt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Qe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,It=/^[A-Za-z0-9_-]*$/,nt=/^\+(?:[0-9]){6,14}[0-9]$/,qt="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",cr=RegExp(`^${qt}$`);function ke(t){let r="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${r}`:t.precision===0?`${r}:[0-5]\\d`:`${r}:[0-5]\\d\\.\\d{${t.precision}}`:`${r}(?::[0-5]\\d(?:\\.\\d+)?)?`}function de(t){return RegExp(`^${ke(t)}$`)}function Se(t){let r=ke({precision:t.precision}),e=["Z"];t.local&&e.push(""),t.offset&&e.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${r}(?:${e.join("|")})`;return RegExp(`^${qt}T(?:${i})$`)}let Sr=t=>{let r=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${r}$`)},At=/^-?\d+n?$/,St=/^-?\d+$/,dt=/^-?\d+(?:\.\d+)?/,Ae=/^(?:true|false)$/i,Zt=/^null$/i,Jt=/^undefined$/i,Et=/^[^A-Z]*$/,Dt=/^[^a-z]*$/;function Ur(t,r){return RegExp(`^[A-Za-z0-9+/]{${t}}${r}$`)}function hr(t){return RegExp(`^[A-Za-z0-9_-]{${t}}$`)}let ir=Ur(22,"=="),Xe=hr(22),Lt=Ur(27,"="),yt=hr(27),oa=Ur(43,"="),qr=hr(43),zt=Ur(64,""),Ne=hr(64),rr=Ur(86,"=="),Kt=hr(86);_.s(["base64",0,Qe,"base64url",0,It,"bigint",0,At,"boolean",0,Ae,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,jt,"cidrv6",0,wt,"cuid",0,ys,"cuid2",0,Za,"date",0,cr,"datetime",()=>Se,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,re,"e164",0,nt,"email",0,Ze,"emoji",()=>tt,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,he,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,me,"integer",0,St,"ipv4",0,He,"ipv6",0,pt,"ksuid",0,x,"lowercase",0,Et,"mac",0,Je,"md5_base64",0,ir,"md5_base64url",0,Xe,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,F,"null",()=>Zt,"number",0,dt,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,Lt,"sha1_base64url",0,yt,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,oa,"sha256_base64url",0,qr,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,zt,"sha384_base64url",0,Ne,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,rr,"sha512_base64url",0,Kt,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,Sr,"time",()=>de,"ulid",0,Zs,"undefined",()=>Jt,"unicodeEmail",0,me,"uppercase",0,Dt,"uuid",0,Ie,"uuid4",0,$e,"uuid6",0,ae,"uuid7",0,fe,"xid",0,as],21268);let sn=G("$ZodCheck",(t,r)=>{var e;t._zod??(t._zod={}),t._zod.def=r,(e=t._zod).onattach??(e.onattach=[])}),Oa={number:"number",bigint:"bigint",object:"date"},Or=G("$ZodCheckLessThan",(t,r)=>{sn.init(t,r);let e=Oa[typeof r.value];t._zod.onattach.push(i=>{let a=i._zod.bag,p=(r.inclusive?a.maximum:a.exclusiveMaximum)??1/0;r.value<p&&(r.inclusive?a.maximum=r.value:a.exclusiveMaximum=r.value)}),t._zod.check=i=>{(r.inclusive?i.value<=r.value:i.value<r.value)||i.issues.push({origin:e,code:"too_big",maximum:r.value,input:i.value,inclusive:r.inclusive,inst:t,continue:!r.abort})}}),$i=G("$ZodCheckGreaterThan",(t,r)=>{sn.init(t,r);let e=Oa[typeof r.value];t._zod.onattach.push(i=>{let a=i._zod.bag,p=(r.inclusive?a.minimum:a.exclusiveMinimum)??-1/0;r.value>p&&(r.inclusive?a.minimum=r.value:a.exclusiveMinimum=r.value)}),t._zod.check=i=>{(r.inclusive?i.value>=r.value:i.value>r.value)||i.issues.push({origin:e,code:"too_small",minimum:r.value,input:i.value,inclusive:r.inclusive,inst:t,continue:!r.abort})}}),yo=G("$ZodCheckMultipleOf",(t,r)=>{sn.init(t,r),t._zod.onattach.push(e=>{var i;(i=e._zod.bag).multipleOf??(i.multipleOf=r.value)}),t._zod.check=e=>{if(typeof e.value!=typeof r.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof e.value=="bigint"?e.value%r.value===BigInt(0):pa(e.value,r.value)===0)||e.issues.push({origin:typeof e.value,code:"not_multiple_of",divisor:r.value,input:e.value,inst:t,continue:!r.abort})}}),Vn=G("$ZodCheckNumberFormat",(t,r)=>{sn.init(t,r),r.format=r.format||"float64";let e=r.format?.includes("int"),i=e?"int":"number",[a,p]=qo[r.format];t._zod.onattach.push(m=>{let $=m._zod.bag;$.format=r.format,$.minimum=a,$.maximum=p,e&&($.pattern=St)}),t._zod.check=m=>{let $=m.value;if(e){if(!Number.isInteger($))return void m.issues.push({expected:i,format:r.format,code:"invalid_type",continue:!1,input:$,inst:t});if(!Number.isSafeInteger($))return void($>0?m.issues.push({input:$,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!r.abort}):m.issues.push({input:$,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!r.abort}))}$<a&&m.issues.push({origin:"number",input:$,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!r.abort}),$>p&&m.issues.push({origin:"number",input:$,code:"too_big",maximum:p,inst:t})}}),Bs=G("$ZodCheckBigIntFormat",(t,r)=>{sn.init(t,r);let[e,i]=is[r.format];t._zod.onattach.push(a=>{let p=a._zod.bag;p.format=r.format,p.minimum=e,p.maximum=i}),t._zod.check=a=>{let p=a.value;p<e&&a.issues.push({origin:"bigint",input:p,code:"too_small",minimum:e,inclusive:!0,inst:t,continue:!r.abort}),p>i&&a.issues.push({origin:"bigint",input:p,code:"too_big",maximum:i,inst:t})}}),Vs=G("$ZodCheckMaxSize",(t,r)=>{var e;sn.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!Yn(a)&&a.size!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.maximum??1/0;r.maximum<a&&(i._zod.bag.maximum=r.maximum)}),t._zod.check=i=>{let a=i.value;a.size<=r.maximum||i.issues.push({origin:w(a),code:"too_big",maximum:r.maximum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),vs=G("$ZodCheckMinSize",(t,r)=>{var e;sn.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!Yn(a)&&a.size!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.minimum??-1/0;r.minimum>a&&(i._zod.bag.minimum=r.minimum)}),t._zod.check=i=>{let a=i.value;a.size>=r.minimum||i.issues.push({origin:w(a),code:"too_small",minimum:r.minimum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),k=G("$ZodCheckSizeEquals",(t,r)=>{var e;sn.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!Yn(a)&&a.size!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag;a.minimum=r.size,a.maximum=r.size,a.size=r.size}),t._zod.check=i=>{let a=i.value,p=a.size;if(p===r.size)return;let m=p>r.size;i.issues.push({origin:w(a),...m?{code:"too_big",maximum:r.size}:{code:"too_small",minimum:r.size},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!r.abort})}}),d=G("$ZodCheckMaxLength",(t,r)=>{var e;sn.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!Yn(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.maximum??1/0;r.maximum<a&&(i._zod.bag.maximum=r.maximum)}),t._zod.check=i=>{let a=i.value;if(a.length<=r.maximum)return;let p=R(a);i.issues.push({origin:p,code:"too_big",maximum:r.maximum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),y=G("$ZodCheckMinLength",(t,r)=>{var e;sn.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!Yn(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag.minimum??-1/0;r.minimum>a&&(i._zod.bag.minimum=r.minimum)}),t._zod.check=i=>{let a=i.value;if(a.length>=r.minimum)return;let p=R(a);i.issues.push({origin:p,code:"too_small",minimum:r.minimum,inclusive:!0,input:a,inst:t,continue:!r.abort})}}),O=G("$ZodCheckLengthEquals",(t,r)=>{var e;sn.init(t,r),(e=t._zod.def).when??(e.when=i=>{let a=i.value;return!Yn(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{let a=i._zod.bag;a.minimum=r.length,a.maximum=r.length,a.length=r.length}),t._zod.check=i=>{let a=i.value,p=a.length;if(p===r.length)return;let m=R(a),$=p>r.length;i.issues.push({origin:m,...$?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!r.abort})}}),U=G("$ZodCheckStringFormat",(t,r)=>{var e,i;sn.init(t,r),t._zod.onattach.push(a=>{let p=a._zod.bag;p.format=r.format,r.pattern&&(p.patterns??(p.patterns=new Set),p.patterns.add(r.pattern))}),r.pattern?(e=t._zod).check??(e.check=a=>{r.pattern.lastIndex=0,r.pattern.test(a.value)||a.issues.push({origin:"string",code:"invalid_format",format:r.format,input:a.value,...r.pattern?{pattern:r.pattern.toString()}:{},inst:t,continue:!r.abort})}):(i=t._zod).check??(i.check=()=>{})}),le=G("$ZodCheckRegex",(t,r)=>{U.init(t,r),t._zod.check=e=>{r.pattern.lastIndex=0,r.pattern.test(e.value)||e.issues.push({origin:"string",code:"invalid_format",format:"regex",input:e.value,pattern:r.pattern.toString(),inst:t,continue:!r.abort})}}),E=G("$ZodCheckLowerCase",(t,r)=>{r.pattern??(r.pattern=Et),U.init(t,r)}),X=G("$ZodCheckUpperCase",(t,r)=>{r.pattern??(r.pattern=Dt),U.init(t,r)}),be=G("$ZodCheckIncludes",(t,r)=>{sn.init(t,r);let e=Bi(r.includes),i=new RegExp(typeof r.position=="number"?`^.{${r.position}}${e}`:e);r.pattern=i,t._zod.onattach.push(a=>{let p=a._zod.bag;p.patterns??(p.patterns=new Set),p.patterns.add(i)}),t._zod.check=a=>{a.value.includes(r.includes,r.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:r.includes,input:a.value,inst:t,continue:!r.abort})}}),je=G("$ZodCheckStartsWith",(t,r)=>{sn.init(t,r);let e=RegExp(`^${Bi(r.prefix)}.*`);r.pattern??(r.pattern=e),t._zod.onattach.push(i=>{let a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(e)}),t._zod.check=i=>{i.value.startsWith(r.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:r.prefix,input:i.value,inst:t,continue:!r.abort})}}),it=G("$ZodCheckEndsWith",(t,r)=>{sn.init(t,r);let e=RegExp(`.*${Bi(r.suffix)}$`);r.pattern??(r.pattern=e),t._zod.onattach.push(i=>{let a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(e)}),t._zod.check=i=>{i.value.endsWith(r.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:r.suffix,input:i.value,inst:t,continue:!r.abort})}});function Rt(t,r,e){t.issues.length&&r.issues.push(...Fa(e,t.issues))}let et=G("$ZodCheckProperty",(t,r)=>{sn.init(t,r),t._zod.check=e=>{let i=r.schema._zod.run({value:e.value[r.property],issues:[]},{});if(i instanceof Promise)return i.then(a=>Rt(a,e,r.property));Rt(i,e,r.property)}}),ar=G("$ZodCheckMimeType",(t,r)=>{sn.init(t,r);let e=new Set(r.mime);t._zod.onattach.push(i=>{i._zod.bag.mime=r.mime}),t._zod.check=i=>{e.has(i.value.type)||i.issues.push({code:"invalid_value",values:r.mime,input:i.value.type,inst:t,continue:!r.abort})}}),Ht=G("$ZodCheckOverwrite",(t,r)=>{sn.init(t,r),t._zod.check=e=>{e.value=r.tx(e.value)}});_.s(["$ZodCheck",0,sn,"$ZodCheckBigIntFormat",0,Bs,"$ZodCheckEndsWith",0,it,"$ZodCheckGreaterThan",0,$i,"$ZodCheckIncludes",0,be,"$ZodCheckLengthEquals",0,O,"$ZodCheckLessThan",0,Or,"$ZodCheckLowerCase",0,E,"$ZodCheckMaxLength",0,d,"$ZodCheckMaxSize",0,Vs,"$ZodCheckMimeType",0,ar,"$ZodCheckMinLength",0,y,"$ZodCheckMinSize",0,vs,"$ZodCheckMultipleOf",0,yo,"$ZodCheckNumberFormat",0,Vn,"$ZodCheckOverwrite",0,Ht,"$ZodCheckProperty",0,et,"$ZodCheckRegex",0,le,"$ZodCheckSizeEquals",0,k,"$ZodCheckStartsWith",0,je,"$ZodCheckStringFormat",0,U,"$ZodCheckUpperCase",0,X],65549);class Xt{constructor(r=[]){this.content=[],this.indent=0,this&&(this.args=r)}indented(r){this.indent+=1,r(this),this.indent-=1}write(r){if(typeof r=="function"){r(this,{execution:"sync"}),r(this,{execution:"async"});return}let e=r.split(`
`).filter(a=>a),i=Math.min(...e.map(a=>a.length-a.trimStart().length));for(let a of e.map(p=>p.slice(i)).map(p=>" ".repeat(2*this.indent)+p))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(r=>`  ${r}`)].join(`
`))}}_.s(["Doc",()=>Xt],15210);let Nt={major:4,minor:2,patch:1};_.s(["version",0,Nt],36116);let Vt=G("$ZodType",(t,r)=>{var e;t??(t={}),t._zod.def=r,t._zod.bag=t._zod.bag||{},t._zod.version=Nt;let i=[...t._zod.def.checks??[]];for(let a of(t._zod.traits.has("$ZodCheck")&&i.unshift(t),i))for(let p of a._zod.onattach)p(t);if(i.length===0)(e=t._zod).deferred??(e.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let a=(m,$,f)=>{let j,Q=ta(m);for(let we of $){if(we._zod.def.when){if(!we._zod.def.when(m))continue}else if(Q)continue;let Tt=m.issues.length,Ft=we._zod.check(m);if(Ft instanceof Promise&&f?.async===!1)throw new en;if(j||Ft instanceof Promise)j=(j??Promise.resolve()).then(async()=>{await Ft,m.issues.length!==Tt&&(Q||(Q=ta(m,Tt)))});else{if(m.issues.length===Tt)continue;Q||(Q=ta(m,Tt))}}return j?j.then(()=>m):m},p=(m,$,f)=>{if(ta(m))return m.aborted=!0,m;let j=a($,i,f);if(j instanceof Promise){if(f.async===!1)throw new en;return j.then(Q=>t._zod.parse(Q,f))}return t._zod.parse(j,f)};t._zod.run=(m,$)=>{if($.skipChecks)return t._zod.parse(m,$);if($.direction==="backward"){let j=t._zod.parse({value:m.value,issues:[]},{...$,skipChecks:!0});return j instanceof Promise?j.then(Q=>p(Q,m,$)):p(j,m,$)}let f=t._zod.parse(m,$);if(f instanceof Promise){if($.async===!1)throw new en;return f.then(j=>a(j,i,$))}return a(f,i,$)}}t["~standard"]={validate:a=>{try{let p=Lo(t,a);return p.success?{value:p.data}:{issues:p.error?.issues}}catch{return _a(t,a).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),kt=G("$ZodString",(t,r)=>{Vt.init(t,r),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Sr(t._zod.bag),t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=String(e.value)}catch{}return typeof e.value=="string"||e.issues.push({expected:"string",code:"invalid_type",input:e.value,inst:t}),e}}),Mt=G("$ZodStringFormat",(t,r)=>{U.init(t,r),kt.init(t,r)}),un=G("$ZodGUID",(t,r)=>{r.pattern??(r.pattern=he),Mt.init(t,r)}),vi=G("$ZodUUID",(t,r)=>{if(r.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[r.version];if(e===void 0)throw Error(`Invalid UUID version: "${r.version}"`);r.pattern??(r.pattern=Ie(e))}else r.pattern??(r.pattern=Ie());Mt.init(t,r)}),Ei=G("$ZodEmail",(t,r)=>{r.pattern??(r.pattern=Ze),Mt.init(t,r)}),qn=G("$ZodURL",(t,r)=>{Mt.init(t,r),t._zod.check=e=>{try{let i=e.value.trim(),a=new URL(i);r.hostname&&(r.hostname.lastIndex=0,r.hostname.test(a.hostname)||e.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:r.hostname.source,input:e.value,inst:t,continue:!r.abort})),r.protocol&&(r.protocol.lastIndex=0,r.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||e.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:r.protocol.source,input:e.value,inst:t,continue:!r.abort})),r.normalize?e.value=a.href:e.value=i;return}catch{e.issues.push({code:"invalid_format",format:"url",input:e.value,inst:t,continue:!r.abort})}}}),na=G("$ZodEmoji",(t,r)=>{r.pattern??(r.pattern=tt()),Mt.init(t,r)}),Oi=G("$ZodNanoID",(t,r)=>{r.pattern??(r.pattern=F),Mt.init(t,r)}),mi=G("$ZodCUID",(t,r)=>{r.pattern??(r.pattern=ys),Mt.init(t,r)}),vo=G("$ZodCUID2",(t,r)=>{r.pattern??(r.pattern=Za),Mt.init(t,r)}),Ni=G("$ZodULID",(t,r)=>{r.pattern??(r.pattern=Zs),Mt.init(t,r)}),ha=G("$ZodXID",(t,r)=>{r.pattern??(r.pattern=as),Mt.init(t,r)}),to=G("$ZodKSUID",(t,r)=>{r.pattern??(r.pattern=x),Mt.init(t,r)}),ua=G("$ZodISODateTime",(t,r)=>{r.pattern??(r.pattern=Se(r)),Mt.init(t,r)}),Ga=G("$ZodISODate",(t,r)=>{r.pattern??(r.pattern=cr),Mt.init(t,r)}),Ui=G("$ZodISOTime",(t,r)=>{r.pattern??(r.pattern=de(r)),Mt.init(t,r)}),za=G("$ZodISODuration",(t,r)=>{r.pattern??(r.pattern=re),Mt.init(t,r)}),Na=G("$ZodIPv4",(t,r)=>{r.pattern??(r.pattern=He),Mt.init(t,r),t._zod.bag.format="ipv4"}),Pa=G("$ZodIPv6",(t,r)=>{r.pattern??(r.pattern=pt),Mt.init(t,r),t._zod.bag.format="ipv6",t._zod.check=e=>{try{new URL(`http://[${e.value}]`)}catch{e.issues.push({code:"invalid_format",format:"ipv6",input:e.value,inst:t,continue:!r.abort})}}}),Mo=G("$ZodMAC",(t,r)=>{r.pattern??(r.pattern=Je(r.delimiter)),Mt.init(t,r),t._zod.bag.format="mac"}),En=G("$ZodCIDRv4",(t,r)=>{r.pattern??(r.pattern=jt),Mt.init(t,r)}),li=G("$ZodCIDRv6",(t,r)=>{r.pattern??(r.pattern=wt),Mt.init(t,r),t._zod.check=e=>{let i=e.value.split("/");try{if(i.length!==2)throw Error();let[a,p]=i;if(!p)throw Error();let m=Number(p);if(`${m}`!==p||m<0||m>128)throw Error();new URL(`http://[${a}]`)}catch{e.issues.push({code:"invalid_format",format:"cidrv6",input:e.value,inst:t,continue:!r.abort})}}});function so(t){if(t==="")return!0;if(t.length%4!=0)return!1;try{return atob(t),!0}catch{return!1}}let bs=G("$ZodBase64",(t,r)=>{r.pattern??(r.pattern=Qe),Mt.init(t,r),t._zod.bag.contentEncoding="base64",t._zod.check=e=>{so(e.value)||e.issues.push({code:"invalid_format",format:"base64",input:e.value,inst:t,continue:!r.abort})}});function Bo(t){if(!It.test(t))return!1;let r=t.replace(/[-_]/g,e=>e==="-"?"+":"/");return so(r.padEnd(4*Math.ceil(r.length/4),"="))}let Wo=G("$ZodBase64URL",(t,r)=>{r.pattern??(r.pattern=It),Mt.init(t,r),t._zod.bag.contentEncoding="base64url",t._zod.check=e=>{Bo(e.value)||e.issues.push({code:"invalid_format",format:"base64url",input:e.value,inst:t,continue:!r.abort})}}),_s=G("$ZodE164",(t,r)=>{r.pattern??(r.pattern=nt),Mt.init(t,r)});function T(t,r=null){try{let e=t.split(".");if(e.length!==3)return!1;let[i]=e;if(!i)return!1;let a=JSON.parse(atob(i));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||r&&(!("alg"in a)||a.alg!==r))}catch{return!1}}let o=G("$ZodJWT",(t,r)=>{Mt.init(t,r),t._zod.check=e=>{T(e.value,r.alg)||e.issues.push({code:"invalid_format",format:"jwt",input:e.value,inst:t,continue:!r.abort})}}),l=G("$ZodCustomStringFormat",(t,r)=>{Mt.init(t,r),t._zod.check=e=>{r.fn(e.value)||e.issues.push({code:"invalid_format",format:r.format,input:e.value,inst:t,continue:!r.abort})}}),C=G("$ZodNumber",(t,r)=>{Vt.init(t,r),t._zod.pattern=t._zod.bag.pattern??dt,t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=Number(e.value)}catch{}let a=e.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return e;let p=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return e.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...p?{received:p}:{}}),e}}),Z=G("$ZodNumberFormat",(t,r)=>{Vn.init(t,r),C.init(t,r)}),oe=G("$ZodBoolean",(t,r)=>{Vt.init(t,r),t._zod.pattern=Ae,t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=!!e.value}catch{}let a=e.value;return typeof a=="boolean"||e.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:t}),e}}),Be=G("$ZodBigInt",(t,r)=>{Vt.init(t,r),t._zod.pattern=At,t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=BigInt(e.value)}catch{}return typeof e.value=="bigint"||e.issues.push({expected:"bigint",code:"invalid_type",input:e.value,inst:t}),e}}),ot=G("$ZodBigIntFormat",(t,r)=>{Bs.init(t,r),Be.init(t,r)}),or=G("$ZodSymbol",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;return typeof a=="symbol"||e.issues.push({expected:"symbol",code:"invalid_type",input:a,inst:t}),e}}),Ir=G("$ZodUndefined",(t,r)=>{Vt.init(t,r),t._zod.pattern=Jt,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(e,i)=>{let a=e.value;return a===void 0||e.issues.push({expected:"undefined",code:"invalid_type",input:a,inst:t}),e}}),tn=G("$ZodNull",(t,r)=>{Vt.init(t,r),t._zod.pattern=Zt,t._zod.values=new Set([null]),t._zod.parse=(e,i)=>{let a=e.value;return a===null||e.issues.push({expected:"null",code:"invalid_type",input:a,inst:t}),e}}),yn=G("$ZodAny",(t,r)=>{Vt.init(t,r),t._zod.parse=e=>e}),ut=G("$ZodUnknown",(t,r)=>{Vt.init(t,r),t._zod.parse=e=>e}),gr=G("$ZodNever",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>(e.issues.push({expected:"never",code:"invalid_type",input:e.value,inst:t}),e)}),_r=G("$ZodVoid",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;return a===void 0||e.issues.push({expected:"void",code:"invalid_type",input:a,inst:t}),e}}),Er=G("$ZodDate",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{if(r.coerce)try{e.value=new Date(e.value)}catch{}let a=e.value,p=a instanceof Date;return p&&!Number.isNaN(a.getTime())||e.issues.push({expected:"date",code:"invalid_type",input:a,...p?{received:"Invalid Date"}:{},inst:t}),e}});function ln(t,r,e){t.issues.length&&r.issues.push(...Fa(e,t.issues)),r.value[e]=t.value}let mn=G("$ZodArray",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!Array.isArray(a))return e.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),e;e.value=Array(a.length);let p=[];for(let m=0;m<a.length;m++){let $=a[m],f=r.element._zod.run({value:$,issues:[]},i);f instanceof Promise?p.push(f.then(j=>ln(j,e,m))):ln(f,e,m)}return p.length?Promise.all(p).then(()=>e):e}});function Rn(t,r,e,i){t.issues.length&&r.issues.push(...Fa(e,t.issues)),t.value===void 0?e in i&&(r.value[e]=void 0):r.value[e]=t.value}function Mn(t){let r=Object.keys(t.shape);for(let i of r)if(!t.shape?.[i]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${i}": expected a Zod schema`);let e=eo(t.shape);return{...t,keys:r,keySet:new Set(r),numKeys:r.length,optionalKeys:new Set(e)}}function $o(t,r,e,i,a,p){let m=[],$=a.keySet,f=a.catchall._zod,j=f.def.type;for(let Q in r){if($.has(Q))continue;if(j==="never"){m.push(Q);continue}let we=f.run({value:r[Q],issues:[]},i);we instanceof Promise?t.push(we.then(Tt=>Rn(Tt,e,Q,r))):Rn(we,e,Q,r)}return m.length&&e.issues.push({code:"unrecognized_keys",keys:m,input:r,inst:p}),t.length?Promise.all(t).then(()=>e):e}let ro=G("$ZodObject",(t,r)=>{let e;if(Vt.init(t,r),!Object.getOwnPropertyDescriptor(r,"shape")?.get){let m=r.shape;Object.defineProperty(r,"shape",{get:()=>{let $={...m};return Object.defineProperty(r,"shape",{value:$}),$}})}let a=Un(()=>Mn(r));xr(t._zod,"propValues",()=>{let m=r.shape,$={};for(let f in m){let j=m[f]._zod;if(j.values)for(let Q of($[f]??($[f]=new Set),j.values))$[f].add(Q)}return $});let p=r.catchall;t._zod.parse=(m,$)=>{e??(e=a.value);let f=m.value;if(!Ri(f))return m.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),m;m.value={};let j=[],Q=e.shape;for(let we of e.keys){let Tt=Q[we]._zod.run({value:f[we],issues:[]},$);Tt instanceof Promise?j.push(Tt.then(Ft=>Rn(Ft,m,we,f))):Rn(Tt,m,we,f)}return p?$o(j,f,m,$,a.value,t):j.length?Promise.all(j).then(()=>m):m}}),Vi=G("$ZodObjectJIT",(t,r)=>{let e,i;ro.init(t,r);let a=t._zod.parse,p=Un(()=>Mn(r)),m=!In.jitless,$=m&&ho.value,f=r.catchall;t._zod.parse=(j,Q)=>{i??(i=p.value);let we=j.value;return Ri(we)?m&&$&&Q?.async===!1&&Q.jitless!==!0?(e||(e=(Tt=>{let Ft=new Xt(["shape","payload","ctx"]),ei=p.value,Ct=$n=>{let xa=ni($n);return`shape[${xa}]._zod.run({ value: input[${xa}], issues: [] }, ctx)`};Ft.write("const input = payload.value;");let Qr=Object.create(null),gi=0;for(let $n of ei.keys)Qr[$n]=`key_${gi++}`;for(let $n of(Ft.write("const newResult = {};"),ei.keys)){let xa=Qr[$n],ya=ni($n);Ft.write(`const ${xa} = ${Ct($n)};`),Ft.write(`
        if (${xa}.issues.length) {
          payload.issues = payload.issues.concat(${xa}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ya}, ...iss.path] : [${ya}]
          })));
        }
        
        
        if (${xa}.value === undefined) {
          if (${ya} in input) {
            newResult[${ya}] = undefined;
          }
        } else {
          newResult[${ya}] = ${xa}.value;
        }
        
      `)}Ft.write("payload.value = newResult;"),Ft.write("return payload;");let kn=Ft.compile();return($n,xa)=>kn(Tt,$n,xa)})(r.shape)),j=e(j,Q),f?$o([],we,j,Q,i,t):j):a(j,Q):(j.issues.push({expected:"object",code:"invalid_type",input:we,inst:t}),j)}});function Hi(t,r,e,i){for(let p of t)if(p.issues.length===0)return r.value=p.value,r;let a=t.filter(p=>!ta(p));return a.length===1?(r.value=a[0].value,a[0]):(r.issues.push({code:"invalid_union",input:r.value,inst:e,errors:t.map(p=>p.issues.map(m=>u(m,i,Jr())))}),r)}let Eo=G("$ZodUnion",(t,r)=>{Vt.init(t,r),xr(t._zod,"optin",()=>r.options.some(a=>a._zod.optin==="optional")?"optional":void 0),xr(t._zod,"optout",()=>r.options.some(a=>a._zod.optout==="optional")?"optional":void 0),xr(t._zod,"values",()=>{if(r.options.every(a=>a._zod.values))return new Set(r.options.flatMap(a=>Array.from(a._zod.values)))}),xr(t._zod,"pattern",()=>{if(r.options.every(a=>a._zod.pattern)){let a=r.options.map(p=>p._zod.pattern);return RegExp(`^(${a.map(p=>gn(p.source)).join("|")})$`)}});let e=r.options.length===1,i=r.options[0]._zod.run;t._zod.parse=(a,p)=>{if(e)return i(a,p);let m=!1,$=[];for(let f of r.options){let j=f._zod.run({value:a.value,issues:[]},p);if(j instanceof Promise)$.push(j),m=!0;else{if(j.issues.length===0)return j;$.push(j)}}return m?Promise.all($).then(f=>Hi(f,a,t,p)):Hi($,a,t,p)}});function Os(t,r,e,i){let a=t.filter(p=>p.issues.length===0);return a.length===1?r.value=a[0].value:a.length===0?r.issues.push({code:"invalid_union",input:r.value,inst:e,errors:t.map(p=>p.issues.map(m=>u(m,i,Jr())))}):r.issues.push({code:"invalid_union",input:r.value,inst:e,errors:[],inclusive:!1}),r}let Hs=G("$ZodXor",(t,r)=>{Eo.init(t,r),r.inclusive=!1;let e=r.options.length===1,i=r.options[0]._zod.run;t._zod.parse=(a,p)=>{if(e)return i(a,p);let m=!1,$=[];for(let f of r.options){let j=f._zod.run({value:a.value,issues:[]},p);j instanceof Promise?($.push(j),m=!0):$.push(j)}return m?Promise.all($).then(f=>Os(f,a,t,p)):Os($,a,t,p)}}),Gs=G("$ZodDiscriminatedUnion",(t,r)=>{r.inclusive=!1,Eo.init(t,r);let e=t._zod.parse;xr(t._zod,"propValues",()=>{let a={};for(let p of r.options){let m=p._zod.propValues;if(!m||Object.keys(m).length===0)throw Error(`Invalid discriminated union option at index "${r.options.indexOf(p)}"`);for(let[$,f]of Object.entries(m))for(let j of(a[$]||(a[$]=new Set),f))a[$].add(j)}return a});let i=Un(()=>{let a=r.options,p=new Map;for(let m of a){let $=m._zod.propValues?.[r.discriminator];if(!$||$.size===0)throw Error(`Invalid discriminated union option at index "${r.options.indexOf(m)}"`);for(let f of $){if(p.has(f))throw Error(`Duplicate discriminator value "${String(f)}"`);p.set(f,m)}}return p});t._zod.parse=(a,p)=>{let m=a.value;if(!Ri(m))return a.issues.push({code:"invalid_type",expected:"object",input:m,inst:t}),a;let $=i.value.get(m?.[r.discriminator]);return $?$._zod.run(a,p):r.unionFallback?e(a,p):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:r.discriminator,input:m,path:[r.discriminator],inst:t}),a)}}),Qs=G("$ZodIntersection",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value,p=r.left._zod.run({value:a,issues:[]},i),m=r.right._zod.run({value:a,issues:[]},i);return p instanceof Promise||m instanceof Promise?Promise.all([p,m]).then(([$,f])=>os(e,$,f)):os(e,p,m)}});function os(t,r,e){if(r.issues.length&&t.issues.push(...r.issues),e.issues.length&&t.issues.push(...e.issues),ta(t))return t;let i=function a(p,m){if(p===m||p instanceof Date&&m instanceof Date&&+p==+m)return{valid:!0,data:p};if(va(p)&&va(m)){let $=Object.keys(m),f=Object.keys(p).filter(Q=>$.indexOf(Q)!==-1),j={...p,...m};for(let Q of f){let we=a(p[Q],m[Q]);if(!we.valid)return{valid:!1,mergeErrorPath:[Q,...we.mergeErrorPath]};j[Q]=we.data}return{valid:!0,data:j}}if(Array.isArray(p)&&Array.isArray(m)){if(p.length!==m.length)return{valid:!1,mergeErrorPath:[]};let $=[];for(let f=0;f<p.length;f++){let j=a(p[f],m[f]);if(!j.valid)return{valid:!1,mergeErrorPath:[f,...j.mergeErrorPath]};$.push(j.data)}return{valid:!0,data:$}}return{valid:!1,mergeErrorPath:[]}}(r.value,e.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}let s=G("$ZodTuple",(t,r)=>{Vt.init(t,r);let e=r.items;t._zod.parse=(i,a)=>{let p=i.value;if(!Array.isArray(p))return i.issues.push({input:p,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];let m=[],$=[...e].reverse().findIndex(Q=>Q._zod.optin!=="optional"),f=$===-1?0:e.length-$;if(!r.rest){let Q=p.length>e.length,we=p.length<f-1;if(Q||we)return i.issues.push({...Q?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},input:p,inst:t,origin:"array"}),i}let j=-1;for(let Q of e){if(++j>=p.length&&j>=f)continue;let we=Q._zod.run({value:p[j],issues:[]},a);we instanceof Promise?m.push(we.then(Tt=>c(Tt,i,j))):c(we,i,j)}if(r.rest)for(let Q of p.slice(e.length)){j++;let we=r.rest._zod.run({value:Q,issues:[]},a);we instanceof Promise?m.push(we.then(Tt=>c(Tt,i,j))):c(we,i,j)}return m.length?Promise.all(m).then(()=>i):i}});function c(t,r,e){t.issues.length&&r.issues.push(...Fa(e,t.issues)),r.value[e]=t.value}let v=G("$ZodRecord",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!va(a))return e.issues.push({expected:"record",code:"invalid_type",input:a,inst:t}),e;let p=[],m=r.keyType._zod.values;if(m){let $;e.value={};let f=new Set;for(let j of m)if(typeof j=="string"||typeof j=="number"||typeof j=="symbol"){f.add(typeof j=="number"?j.toString():j);let Q=r.valueType._zod.run({value:a[j],issues:[]},i);Q instanceof Promise?p.push(Q.then(we=>{we.issues.length&&e.issues.push(...Fa(j,we.issues)),e.value[j]=we.value})):(Q.issues.length&&e.issues.push(...Fa(j,Q.issues)),e.value[j]=Q.value)}for(let j in a)f.has(j)||($=$??[]).push(j);$&&$.length>0&&e.issues.push({code:"unrecognized_keys",input:a,inst:t,keys:$})}else for(let $ of(e.value={},Reflect.ownKeys(a))){if($==="__proto__")continue;let f=r.keyType._zod.run({value:$,issues:[]},i);if(f instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(f.issues.length){r.mode==="loose"?e.value[$]=a[$]:e.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(Q=>u(Q,i,Jr())),input:$,path:[$],inst:t});continue}let j=r.valueType._zod.run({value:a[$],issues:[]},i);j instanceof Promise?p.push(j.then(Q=>{Q.issues.length&&e.issues.push(...Fa($,Q.issues)),e.value[f.value]=Q.value})):(j.issues.length&&e.issues.push(...Fa($,j.issues)),e.value[f.value]=j.value)}return p.length?Promise.all(p).then(()=>e):e}}),b=G("$ZodMap",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!(a instanceof Map))return e.issues.push({expected:"map",code:"invalid_type",input:a,inst:t}),e;let p=[];for(let[m,$]of(e.value=new Map,a)){let f=r.keyType._zod.run({value:m,issues:[]},i),j=r.valueType._zod.run({value:$,issues:[]},i);f instanceof Promise||j instanceof Promise?p.push(Promise.all([f,j]).then(([Q,we])=>{S(Q,we,e,m,a,t,i)})):S(f,j,e,m,a,t,i)}return p.length?Promise.all(p).then(()=>e):e}});function S(t,r,e,i,a,p,m){t.issues.length&&(yi.has(typeof i)?e.issues.push(...Fa(i,t.issues)):e.issues.push({code:"invalid_key",origin:"map",input:a,inst:p,issues:t.issues.map($=>u($,m,Jr()))})),r.issues.length&&(yi.has(typeof i)?e.issues.push(...Fa(i,r.issues)):e.issues.push({origin:"map",code:"invalid_element",input:a,inst:p,key:i,issues:r.issues.map($=>u($,m,Jr()))})),e.value.set(t.value,r.value)}let z=G("$ZodSet",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;if(!(a instanceof Set))return e.issues.push({input:a,inst:t,expected:"set",code:"invalid_type"}),e;let p=[];for(let m of(e.value=new Set,a)){let $=r.valueType._zod.run({value:m,issues:[]},i);$ instanceof Promise?p.push($.then(f=>N(f,e))):N($,e)}return p.length?Promise.all(p).then(()=>e):e}});function N(t,r){t.issues.length&&r.issues.push(...t.issues),r.value.add(t.value)}let I=G("$ZodEnum",(t,r)=>{Vt.init(t,r);let e=Fi(r.entries),i=new Set(e);t._zod.values=i,t._zod.pattern=RegExp(`^(${e.filter(a=>yi.has(typeof a)).map(a=>typeof a=="string"?Bi(a):a.toString()).join("|")})$`),t._zod.parse=(a,p)=>{let m=a.value;return i.has(m)||a.issues.push({code:"invalid_value",values:e,input:m,inst:t}),a}}),H=G("$ZodLiteral",(t,r)=>{if(Vt.init(t,r),r.values.length===0)throw Error("Cannot create literal schema with no valid values");let e=new Set(r.values);t._zod.values=e,t._zod.pattern=RegExp(`^(${r.values.map(i=>typeof i=="string"?Bi(i):i?Bi(i.toString()):String(i)).join("|")})$`),t._zod.parse=(i,a)=>{let p=i.value;return e.has(p)||i.issues.push({code:"invalid_value",values:r.values,input:p,inst:t}),i}}),se=G("$ZodFile",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{let a=e.value;return a instanceof File||e.issues.push({expected:"file",code:"invalid_type",input:a,inst:t}),e}}),ee=G("$ZodTransform",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{if(i.direction==="backward")throw new Ln(t.constructor.name);let a=r.transform(e.value,e);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(p=>(e.value=p,e));if(a instanceof Promise)throw new en;return e.value=a,e}});function D(t,r){return t.issues.length&&r===void 0?{issues:[],value:void 0}:t}let ue=G("$ZodOptional",(t,r)=>{Vt.init(t,r),t._zod.optin="optional",t._zod.optout="optional",xr(t._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,void 0]):void 0),xr(t._zod,"pattern",()=>{let e=r.innerType._zod.pattern;return e?RegExp(`^(${gn(e.source)})?$`):void 0}),t._zod.parse=(e,i)=>{if(r.innerType._zod.optin==="optional"){let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(p=>D(p,e.value)):D(a,e.value)}return e.value===void 0?e:r.innerType._zod.run(e,i)}}),_t=G("$ZodNullable",(t,r)=>{Vt.init(t,r),xr(t._zod,"optin",()=>r.innerType._zod.optin),xr(t._zod,"optout",()=>r.innerType._zod.optout),xr(t._zod,"pattern",()=>{let e=r.innerType._zod.pattern;return e?RegExp(`^(${gn(e.source)}|null)$`):void 0}),xr(t._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,null]):void 0),t._zod.parse=(e,i)=>e.value===null?e:r.innerType._zod.run(e,i)}),Oe=G("$ZodDefault",(t,r)=>{Vt.init(t,r),t._zod.optin="optional",xr(t._zod,"values",()=>r.innerType._zod.values),t._zod.parse=(e,i)=>{if(i.direction==="backward")return r.innerType._zod.run(e,i);if(e.value===void 0)return e.value=r.defaultValue,e;let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(p=>qe(p,r)):qe(a,r)}});function qe(t,r){return t.value===void 0&&(t.value=r.defaultValue),t}let Bt=G("$ZodPrefault",(t,r)=>{Vt.init(t,r),t._zod.optin="optional",xr(t._zod,"values",()=>r.innerType._zod.values),t._zod.parse=(e,i)=>(i.direction==="backward"||e.value===void 0&&(e.value=r.defaultValue),r.innerType._zod.run(e,i))}),yr=G("$ZodNonOptional",(t,r)=>{Vt.init(t,r),xr(t._zod,"values",()=>{let e=r.innerType._zod.values;return e?new Set([...e].filter(i=>i!==void 0)):void 0}),t._zod.parse=(e,i)=>{let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(p=>Gr(p,t)):Gr(a,t)}});function Gr(t,r){return t.issues.length||t.value!==void 0||t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:r}),t}let Me=G("$ZodSuccess",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>{if(i.direction==="backward")throw new Ln("ZodSuccess");let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(p=>(e.value=p.issues.length===0,e)):(e.value=a.issues.length===0,e)}}),Dr=G("$ZodCatch",(t,r)=>{Vt.init(t,r),xr(t._zod,"optin",()=>r.innerType._zod.optin),xr(t._zod,"optout",()=>r.innerType._zod.optout),xr(t._zod,"values",()=>r.innerType._zod.values),t._zod.parse=(e,i)=>{if(i.direction==="backward")return r.innerType._zod.run(e,i);let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(p=>(e.value=p.value,p.issues.length&&(e.value=r.catchValue({...e,error:{issues:p.issues.map(m=>u(m,i,Jr()))},input:e.value}),e.issues=[]),e)):(e.value=a.value,a.issues.length&&(e.value=r.catchValue({...e,error:{issues:a.issues.map(p=>u(p,i,Jr()))},input:e.value}),e.issues=[]),e)}}),dn=G("$ZodNaN",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>(typeof e.value=="number"&&Number.isNaN(e.value)||e.issues.push({input:e.value,inst:t,expected:"nan",code:"invalid_type"}),e)}),Fn=G("$ZodPipe",(t,r)=>{Vt.init(t,r),xr(t._zod,"values",()=>r.in._zod.values),xr(t._zod,"optin",()=>r.in._zod.optin),xr(t._zod,"optout",()=>r.out._zod.optout),xr(t._zod,"propValues",()=>r.in._zod.propValues),t._zod.parse=(e,i)=>{if(i.direction==="backward"){let p=r.out._zod.run(e,i);return p instanceof Promise?p.then(m=>hi(m,r.in,i)):hi(p,r.in,i)}let a=r.in._zod.run(e,i);return a instanceof Promise?a.then(p=>hi(p,r.out,i)):hi(a,r.out,i)}});function hi(t,r,e){return t.issues.length?(t.aborted=!0,t):r._zod.run({value:t.value,issues:t.issues},e)}let ii=G("$ZodCodec",(t,r)=>{Vt.init(t,r),xr(t._zod,"values",()=>r.in._zod.values),xr(t._zod,"optin",()=>r.in._zod.optin),xr(t._zod,"optout",()=>r.out._zod.optout),xr(t._zod,"propValues",()=>r.in._zod.propValues),t._zod.parse=(e,i)=>{if((i.direction||"forward")==="forward"){let a=r.in._zod.run(e,i);return a instanceof Promise?a.then(p=>bi(p,r,i)):bi(a,r,i)}{let a=r.out._zod.run(e,i);return a instanceof Promise?a.then(p=>bi(p,r,i)):bi(a,r,i)}}});function bi(t,r,e){if(t.issues.length)return t.aborted=!0,t;if((e.direction||"forward")==="forward"){let i=r.transform(t.value,t);return i instanceof Promise?i.then(a=>_n(t,a,r.out,e)):_n(t,i,r.out,e)}{let i=r.reverseTransform(t.value,t);return i instanceof Promise?i.then(a=>_n(t,a,r.in,e)):_n(t,i,r.in,e)}}function _n(t,r,e,i){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:r,issues:t.issues},i)}let wn=G("$ZodReadonly",(t,r)=>{Vt.init(t,r),xr(t._zod,"propValues",()=>r.innerType._zod.propValues),xr(t._zod,"values",()=>r.innerType._zod.values),xr(t._zod,"optin",()=>r.innerType?._zod?.optin),xr(t._zod,"optout",()=>r.innerType?._zod?.optout),t._zod.parse=(e,i)=>{if(i.direction==="backward")return r.innerType._zod.run(e,i);let a=r.innerType._zod.run(e,i);return a instanceof Promise?a.then(fa):fa(a)}});function fa(t){return t.value=Object.freeze(t.value),t}let ai=G("$ZodTemplateLiteral",(t,r)=>{Vt.init(t,r);let e=[];for(let i of r.parts)if(typeof i=="object"&&i!==null){if(!i._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);let a=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!a)throw Error(`Invalid template literal part: ${i._zod.traits}`);let p=+!!a.startsWith("^"),m=a.endsWith("$")?a.length-1:a.length;e.push(a.slice(p,m))}else if(i===null||xo.has(typeof i))e.push(Bi(`${i}`));else throw Error(`Invalid template literal part: ${i}`);t._zod.pattern=RegExp(`^${e.join("")}$`),t._zod.parse=(i,a)=>(typeof i.value!="string"?i.issues.push({input:i.value,inst:t,expected:"template_literal",code:"invalid_type"}):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:t,code:"invalid_format",format:r.format??"template_literal",pattern:t._zod.pattern.source})),i)}),Pi=G("$ZodFunction",(t,r)=>(Vt.init(t,r),t._def=r,t._zod.def=r,t.implement=e=>{if(typeof e!="function")throw Error("implement() must be called with a function");return function(...i){let a=Reflect.apply(e,this,t._def.input?ba(t._def.input,i):i);return t._def.output?ba(t._def.output,a):a}},t.implementAsync=e=>{if(typeof e!="function")throw Error("implementAsync() must be called with a function");return async function(...i){let a=t._def.input?await Po(t._def.input,i):i,p=await Reflect.apply(e,this,a);return t._def.output?await Po(t._def.output,p):p}},t._zod.parse=(e,i)=>(typeof e.value!="function"?e.issues.push({code:"invalid_type",expected:"function",input:e.value,inst:t}):t._def.output&&t._def.output._zod.def.type==="promise"?e.value=t.implementAsync(e.value):e.value=t.implement(e.value),e),t.input=(...e)=>{let i=t.constructor;return new i(Array.isArray(e[0])?{type:"function",input:new s({type:"tuple",items:e[0],rest:e[1]}),output:t._def.output}:{type:"function",input:e[0],output:t._def.output})},t.output=e=>new t.constructor({type:"function",input:t._def.input,output:e}),t)),sa=G("$ZodPromise",(t,r)=>{Vt.init(t,r),t._zod.parse=(e,i)=>Promise.resolve(e.value).then(a=>r.innerType._zod.run({value:a,issues:[]},i))}),Ba=G("$ZodLazy",(t,r)=>{Vt.init(t,r),xr(t._zod,"innerType",()=>r.getter()),xr(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),xr(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),xr(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),xr(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(e,i)=>t._zod.innerType._zod.run(e,i)}),Va=G("$ZodCustom",(t,r)=>{sn.init(t,r),Vt.init(t,r),t._zod.parse=(e,i)=>e,t._zod.check=e=>{let i=e.value,a=r.fn(i);if(a instanceof Promise)return a.then(p=>ka(p,e,i,t));ka(a,e,i,t)}});function ka(t,r,e,i){if(!t){let a={code:"custom",input:e,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(a.params=i._zod.def.params),r.issues.push(P(a))}}function Go(t,r,e,i){let a=Math.abs(t),p=a%10,m=a%100;return m>=11&&m<=19?i:p===1?r:p>=2&&p<=4?e:i}function ss(){let t,r;return{localeError:(t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Invalid input: expected ${e.expected}, received ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Invalid input: expected ${Rr(e.values[0])}`:`Invalid option: expected one of ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Too big: expected ${e.origin??"value"} to have ${i}${e.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${e.origin??"value"} to be ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Too small: expected ${e.origin} to have ${i}${e.minimum.toString()} ${a.unit}`:`Too small: expected ${e.origin} to be ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Invalid string: must start with "${e.prefix}"`:e.format==="ends_with"?`Invalid string: must end with "${e.suffix}"`:e.format==="includes"?`Invalid string: must include "${e.includes}"`:e.format==="regex"?`Invalid string: must match pattern ${e.pattern}`:`Invalid ${r[e.format]??e.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}})}}function xs(){let t,r;return{localeError:(t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}},r={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},e=>{switch(e.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":if(Array.isArray(i))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(i===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${Rr(e.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${e.maximum.toString()} ${a.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin} ${i} ${e.minimum.toString()} ${a.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${e.origin} ${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${e.prefix}"`:e.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${e.suffix}"`:e.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${e.includes}"`:e.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${e.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${e.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${Ot(e.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${e.origin}`;case"invalid_union":default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${e.origin}`}})}}_.s(["$ZodAny",0,yn,"$ZodArray",0,mn,"$ZodBase64",0,bs,"$ZodBase64URL",0,Wo,"$ZodBigInt",0,Be,"$ZodBigIntFormat",0,ot,"$ZodBoolean",0,oe,"$ZodCIDRv4",0,En,"$ZodCIDRv6",0,li,"$ZodCUID",0,mi,"$ZodCUID2",0,vo,"$ZodCatch",0,Dr,"$ZodCodec",0,ii,"$ZodCustom",0,Va,"$ZodCustomStringFormat",0,l,"$ZodDate",0,Er,"$ZodDefault",0,Oe,"$ZodDiscriminatedUnion",0,Gs,"$ZodE164",0,_s,"$ZodEmail",0,Ei,"$ZodEmoji",0,na,"$ZodEnum",0,I,"$ZodFile",0,se,"$ZodFunction",0,Pi,"$ZodGUID",0,un,"$ZodIPv4",0,Na,"$ZodIPv6",0,Pa,"$ZodISODate",0,Ga,"$ZodISODateTime",0,ua,"$ZodISODuration",0,za,"$ZodISOTime",0,Ui,"$ZodIntersection",0,Qs,"$ZodJWT",0,o,"$ZodKSUID",0,to,"$ZodLazy",0,Ba,"$ZodLiteral",0,H,"$ZodMAC",0,Mo,"$ZodMap",0,b,"$ZodNaN",0,dn,"$ZodNanoID",0,Oi,"$ZodNever",0,gr,"$ZodNonOptional",0,yr,"$ZodNull",0,tn,"$ZodNullable",0,_t,"$ZodNumber",0,C,"$ZodNumberFormat",0,Z,"$ZodObject",0,ro,"$ZodObjectJIT",0,Vi,"$ZodOptional",0,ue,"$ZodPipe",0,Fn,"$ZodPrefault",0,Bt,"$ZodPromise",0,sa,"$ZodReadonly",0,wn,"$ZodRecord",0,v,"$ZodSet",0,z,"$ZodString",0,kt,"$ZodStringFormat",0,Mt,"$ZodSuccess",0,Me,"$ZodSymbol",0,or,"$ZodTemplateLiteral",0,ai,"$ZodTransform",0,ee,"$ZodTuple",0,s,"$ZodType",0,Vt,"$ZodULID",0,Ni,"$ZodURL",0,qn,"$ZodUUID",0,vi,"$ZodUndefined",0,Ir,"$ZodUnion",0,Eo,"$ZodUnknown",0,ut,"$ZodVoid",0,_r,"$ZodXID",0,ha,"$ZodXor",0,Hs,"isValidBase64",()=>so,"isValidBase64URL",()=>Bo,"isValidJWT",()=>T],43039);let ja=(t,r)=>{switch(t){case"number":return Number.isNaN(r)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return r===void 0?"ne\u017Einomas objektas":r===null?"nulin\u0117 reik\u0161m\u0117":Array.isArray(r)?"masyvas":Object.getPrototypeOf(r)!==Object.prototype&&r.constructor?r.constructor.name:"objektas";case"null":return"nulin\u0117 reik\u0161m\u0117"}return t},ls=t=>t.charAt(0).toUpperCase()+t.slice(1);function To(t){let r=Math.abs(t),e=r%10,i=r%100;return i>=11&&i<=19||e===0?"many":e===1?"one":"few"}function no(t,r,e,i){let a=Math.abs(t),p=a%10,m=a%100;return m>=11&&m<=19?i:p===1?r:p>=2&&p<=4?e:i}function ws(){let t,r;return{localeError:(t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}},r={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},e=>{switch(e.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${e.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${Rr(e.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${e.origin} \u0431\u0443\u0434\u0435 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${e.prefix}"`:e.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${e.suffix}"`:e.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${e.includes}"`:e.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${e.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${e.keys.length>1?"\u0456":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${e.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${e.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}})}}_.s([],40055);let us=Symbol("ZodOutput"),Ji=Symbol("ZodInput");class Qo{constructor(){this._map=new WeakMap,this._idmap=new Map}add(r,...e){let i=e[0];if(this._map.set(r,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,r)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(r){let e=this._map.get(r);return e&&typeof e=="object"&&"id"in e&&this._idmap.delete(e.id),this._map.delete(r),this}get(r){let e=r._zod.parent;if(e){let i={...this.get(e)??{}};delete i.id;let a={...i,...this._map.get(r)};return Object.keys(a).length?a:void 0}return this._map.get(r)}has(r){return this._map.has(r)}}function Do(){return new Qo}(h=mr).__zod_globalRegistry??(h.__zod_globalRegistry=Do());let ji=mr.__zod_globalRegistry;function Xo(t,r){return new t({type:"string",...tr(r)})}function lo(t,r){return new t({type:"string",coerce:!0,...tr(r)})}function Ss(t,r){return new t({type:"string",format:"email",check:"string_format",abort:!1,...tr(r)})}function On(t,r){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...tr(r)})}function vn(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...tr(r)})}function zn(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...tr(r)})}function Gn(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...tr(r)})}function bn(t,r){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...tr(r)})}function oi(t,r){return new t({type:"string",format:"url",check:"string_format",abort:!1,...tr(r)})}function Kn(t,r){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...tr(r)})}function kr(t,r){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...tr(r)})}function Ar(t,r){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...tr(r)})}function Qn(t,r){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...tr(r)})}function Si(t,r){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...tr(r)})}function Co(t,r){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...tr(r)})}function cs(t,r){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...tr(r)})}function Us(t,r){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...tr(r)})}function Aa(t,r){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...tr(r)})}function uo(t,r){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...tr(r)})}function Ma(t,r){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...tr(r)})}function qs(t,r){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...tr(r)})}function Xs(t,r){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...tr(r)})}function ui(t,r){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...tr(r)})}function ga(t,r){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...tr(r)})}function Vo(t,r){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...tr(r)})}_.s(["$ZodRegistry",()=>Qo,"$input",0,Ji,"$output",0,us,"globalRegistry",0,ji,"registry",()=>Do],16661);let co={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function ds(t,r){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...tr(r)})}function Uo(t,r){return new t({type:"string",format:"date",check:"string_format",...tr(r)})}function _i(t,r){return new t({type:"string",format:"time",check:"string_format",precision:null,...tr(r)})}function So(t,r){return new t({type:"string",format:"duration",check:"string_format",...tr(r)})}function ps(t,r){return new t({type:"number",checks:[],...tr(r)})}function El(t,r){return new t({type:"number",coerce:!0,checks:[],...tr(r)})}function Tl(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...tr(r)})}function bo(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...tr(r)})}function Yo(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...tr(r)})}function fl(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...tr(r)})}function xu(t,r){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...tr(r)})}function wu(t,r){return new t({type:"boolean",...tr(r)})}function gl(t,r){return new t({type:"boolean",coerce:!0,...tr(r)})}function yl(t,r){return new t({type:"bigint",...tr(r)})}function ql(t,r){return new t({type:"bigint",coerce:!0,...tr(r)})}function al(t,r){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...tr(r)})}function zs(t,r){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...tr(r)})}function Xl(t,r){return new t({type:"symbol",...tr(r)})}function Ns(t,r){return new t({type:"undefined",...tr(r)})}function Yl(t,r){return new t({type:"null",...tr(r)})}function xn(t){return new t({type:"any"})}function Ro(t){return new t({type:"unknown"})}function Ys(t,r){return new t({type:"never",...tr(r)})}function el(t,r){return new t({type:"void",...tr(r)})}function ol(t,r){return new t({type:"date",...tr(r)})}function Da(t,r){return new t({type:"date",coerce:!0,...tr(r)})}function Ls(t,r){return new t({type:"nan",...tr(r)})}function es(t,r){return new Or({check:"less_than",...tr(r),value:t,inclusive:!1})}function Xi(t,r){return new Or({check:"less_than",...tr(r),value:t,inclusive:!0})}function ms(t,r){return new $i({check:"greater_than",...tr(r),value:t,inclusive:!1})}function Oo(t,r){return new $i({check:"greater_than",...tr(r),value:t,inclusive:!0})}function ks(t){return ms(0,t)}function eu(t){return es(0,t)}function Cl(t){return Xi(0,t)}function Rl(t){return Oo(0,t)}function sl(t,r){return new yo({check:"multiple_of",...tr(r),value:t})}function vl(t,r){return new Vs({check:"max_size",...tr(r),maximum:t})}function ll(t,r){return new vs({check:"min_size",...tr(r),minimum:t})}function Ll(t,r){return new k({check:"size_equals",...tr(r),size:t})}function qi(t,r){return new d({check:"max_length",...tr(r),maximum:t})}function Ho(t,r){return new y({check:"min_length",...tr(r),minimum:t})}function bl(t,r){return new O({check:"length_equals",...tr(r),length:t})}function la(t,r){return new le({check:"string_format",format:"regex",...tr(r),pattern:t})}function tl(t){return new E({check:"string_format",format:"lowercase",...tr(t)})}function Ol(t){return new X({check:"string_format",format:"uppercase",...tr(t)})}function _l(t,r){return new be({check:"string_format",format:"includes",...tr(r),includes:t})}function Su(t,r){return new je({check:"string_format",format:"starts_with",...tr(r),prefix:t})}function zu(t,r){return new it({check:"string_format",format:"ends_with",...tr(r),suffix:t})}function ic(t,r,e){return new et({check:"property",property:t,schema:r,...tr(e)})}function ku(t,r){return new ar({check:"mime_type",mime:t,...tr(r)})}function ul(t){return new Ht({check:"overwrite",tx:t})}function Iu(t){return ul(r=>r.normalize(t))}function $u(){return ul(t=>t.trim())}function Eu(){return ul(t=>t.toLowerCase())}function Tu(){return ul(t=>t.toUpperCase())}function Cu(){return ul(t=>Ca(t))}function Jc(t,r,e){return new t({type:"array",element:r,...tr(e)})}function Rp(t,r,e){return new t({type:"union",options:r,...tr(e)})}function Op(t,r,e){return new t({type:"union",options:r,inclusive:!1,...tr(e)})}function Np(t,r,e,i){return new t({type:"union",options:e,discriminator:r,...tr(i)})}function Pp(t,r,e){return new t({type:"intersection",left:r,right:e})}function jp(t,r,e,i){let a=e instanceof Vt,p=a?i:e;return new t({type:"tuple",items:r,rest:a?e:null,...tr(p)})}function Ap(t,r,e,i){return new t({type:"record",keyType:r,valueType:e,...tr(i)})}function Mp(t,r,e,i){return new t({type:"map",keyType:r,valueType:e,...tr(i)})}function Dp(t,r,e){return new t({type:"set",valueType:r,...tr(e)})}function Up(t,r,e){return new t({type:"enum",entries:Array.isArray(r)?Object.fromEntries(r.map(i=>[i,i])):r,...tr(e)})}function qp(t,r,e){return new t({type:"enum",entries:r,...tr(e)})}function Lp(t,r,e){return new t({type:"literal",values:Array.isArray(r)?r:[r],...tr(e)})}function Kc(t,r){return new t({type:"file",...tr(r)})}function Fp(t,r){return new t({type:"transform",transform:r})}function Zp(t,r){return new t({type:"optional",innerType:r})}function Bp(t,r){return new t({type:"nullable",innerType:r})}function Vp(t,r,e){return new t({type:"default",innerType:r,get defaultValue(){return typeof e=="function"?e():Jo(e)}})}function Hp(t,r,e){return new t({type:"nonoptional",innerType:r,...tr(e)})}function Jp(t,r){return new t({type:"success",innerType:r})}function Kp(t,r,e){return new t({type:"catch",innerType:r,catchValue:typeof e=="function"?e:()=>e})}function Wp(t,r,e){return new t({type:"pipe",in:r,out:e})}function Gp(t,r){return new t({type:"readonly",innerType:r})}function Qp(t,r,e){return new t({type:"template_literal",parts:r,...tr(e)})}function Xp(t,r){return new t({type:"lazy",getter:r})}function Yp(t,r){return new t({type:"promise",innerType:r})}function Wc(t,r,e){let i=tr(e);return i.abort??(i.abort=!0),new t({type:"custom",check:"custom",fn:r,...i})}function Gc(t,r,e){return new t({type:"custom",check:"custom",fn:r,...tr(e)})}function ac(t){let r=Qc(e=>(e.addIssue=i=>{typeof i=="string"?e.issues.push(P(i,e.value,r._zod.def)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=e.value),i.inst??(i.inst=r),i.continue??(i.continue=!r._zod.def.abort),e.issues.push(P(i)))},t(e.value,e)));return r}function Qc(t,r){let e=new sn({check:"custom",...tr(r)});return e._zod.check=t,e}function Xc(t){let r=new sn({check:"describe"});return r._zod.onattach=[e=>{let i=ji.get(e)??{};ji.add(e,{...i,description:t})}],r._zod.check=()=>{},r}function Yc(t){let r=new sn({check:"meta"});return r._zod.onattach=[e=>{let i=ji.get(e)??{};ji.add(e,{...i,...t})}],r._zod.check=()=>{},r}function ed(t,r){let e=tr(r),i=e.truthy??["true","1","yes","on","y","enabled"],a=e.falsy??["false","0","no","off","n","disabled"];e.case!=="sensitive"&&(i=i.map(Q=>typeof Q=="string"?Q.toLowerCase():Q),a=a.map(Q=>typeof Q=="string"?Q.toLowerCase():Q));let p=new Set(i),m=new Set(a),$=t.Codec??ii,f=t.Boolean??oe,j=new $({type:"pipe",in:new(t.String??kt)({type:"string",error:e.error}),out:new f({type:"boolean",error:e.error}),transform:(Q,we)=>{let Tt=Q;return e.case!=="sensitive"&&(Tt=Tt.toLowerCase()),!!p.has(Tt)||!m.has(Tt)&&(we.issues.push({code:"invalid_value",expected:"stringbool",values:[...p,...m],input:we.value,inst:j,continue:!1}),{})},reverseTransform:(Q,we)=>Q===!0?i[0]||"true":a[0]||"false",error:e.error});return j}function tu(t,r,e,i={}){let a=tr(i),p={...tr(i),check:"string_format",type:"string",format:r,fn:typeof e=="function"?e:m=>e.test(m),...a};return e instanceof RegExp&&(p.pattern=e),new t(p)}function Fl(t){let r=t?.target??"draft-2020-12";return r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??ji,target:r,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Ia(t,r,e={path:[],schemaPath:[]}){var i;let a=t._zod.def,p=r.seen.get(t);if(p)return p.count++,e.schemaPath.includes(t)&&(p.cycle=e.path),p.schema;let m={schema:{},count:1,cycle:void 0,path:e.path};r.seen.set(t,m);let $=t._zod.toJSONSchema?.();if($)m.schema=$;else{let j={...e,schemaPath:[...e.schemaPath,t],path:e.path},Q=t._zod.parent;if(Q)m.ref=Q,Ia(Q,r,j),r.seen.get(Q).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(r,m.schema,j);else{let we=m.schema,Tt=r.processors[a.type];if(!Tt)throw Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);Tt(t,r,we,j)}}let f=r.metadataRegistry.get(t);return f&&Object.assign(m.schema,f),r.io==="input"&&function j(Q,we){let Tt=we??{seen:new Set};if(Tt.seen.has(Q))return!1;Tt.seen.add(Q);let Ft=Q._zod.def;if(Ft.type==="transform")return!0;if(Ft.type==="array")return j(Ft.element,Tt);if(Ft.type==="set")return j(Ft.valueType,Tt);if(Ft.type==="lazy")return j(Ft.getter(),Tt);if(Ft.type==="promise"||Ft.type==="optional"||Ft.type==="nonoptional"||Ft.type==="nullable"||Ft.type==="readonly"||Ft.type==="default"||Ft.type==="prefault")return j(Ft.innerType,Tt);if(Ft.type==="intersection")return j(Ft.left,Tt)||j(Ft.right,Tt);if(Ft.type==="record"||Ft.type==="map")return j(Ft.keyType,Tt)||j(Ft.valueType,Tt);if(Ft.type==="pipe")return j(Ft.in,Tt)||j(Ft.out,Tt);if(Ft.type==="object"){for(let ei in Ft.shape)if(j(Ft.shape[ei],Tt))return!0;return!1}if(Ft.type==="union"){for(let ei of Ft.options)if(j(ei,Tt))return!0;return!1}if(Ft.type==="tuple"){for(let ei of Ft.items)if(j(ei,Tt))return!0;if(Ft.rest&&j(Ft.rest,Tt))return!0}return!1}(t)&&(delete m.schema.examples,delete m.schema.default),r.io==="input"&&m.schema._prefault&&((i=m.schema).default??(i.default=m.schema._prefault)),delete m.schema._prefault,r.seen.get(t).schema}function Zl(t,r){let e=t.seen.get(r);if(!e)throw Error("Unprocessed schema. This is a bug in Zod.");let i=a=>{if(a[1].schema.$ref)return;let p=a[1],{ref:m,defId:$}=(j=>{let Q=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let Ft=t.external.registry.get(j[0])?.id,ei=t.external.uri??(Qr=>Qr);if(Ft)return{ref:ei(Ft)};let Ct=j[1].defId??j[1].schema.id??`schema${t.counter++}`;return j[1].defId=Ct,{defId:Ct,ref:`${ei("__shared")}#/${Q}/${Ct}`}}if(j[1]===e)return{ref:"#"};let we=`#/${Q}/`,Tt=j[1].schema.id??`__schema${t.counter++}`;return{defId:Tt,ref:we+Tt}})(a);p.def={...p.schema},$&&(p.defId=$);let f=p.schema;for(let j in f)delete f[j];f.$ref=m};if(t.cycles==="throw")for(let a of t.seen.entries()){let p=a[1];if(p.cycle)throw Error(`Cycle detected: #/${p.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let a of t.seen.entries()){let p=a[1];if(r===a[0]){i(a);continue}if(t.external){let m=t.external.registry.get(a[0])?.id;if(r!==a[0]&&m){i(a);continue}}if(t.metadataRegistry.get(a[0])?.id||p.cycle||p.count>1&&t.reused==="ref"){i(a);continue}}}function Bl(t,r){let e=t.seen.get(r);if(!e)throw Error("Unprocessed schema. This is a bug in Zod.");let i=m=>{let $=t.seen.get(m),f=$.def??$.schema,j={...f};if($.ref===null)return;let Q=$.ref;if($.ref=null,Q){i(Q);let we=t.seen.get(Q).schema;we.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(we)):(Object.assign(f,we),Object.assign(f,j))}$.isParent||t.override({zodSchema:m,jsonSchema:f,path:$.path??[]})};for(let m of[...t.seen.entries()].reverse())i(m[0]);let a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let m=t.external.registry.get(r)?.id;if(!m)throw Error("Schema is missing an `id` property");a.$id=t.external.uri(m)}Object.assign(a,e.def??e.schema);let p=t.external?.defs??{};for(let m of t.seen.entries()){let $=m[1];$.def&&$.defId&&(p[$.defId]=$.def)}t.external||Object.keys(p).length>0&&(t.target==="draft-2020-12"?a.$defs=p:a.definitions=p);try{let m=JSON.parse(JSON.stringify(a));return Object.defineProperty(m,"~standard",{value:{...r["~standard"],jsonSchema:{input:ru(r,"input"),output:ru(r,"output")}},enumerable:!1,writable:!1}),m}catch{throw Error("Error converting schema to JSON.")}}_.s(["TimePrecision",0,co,"_any",()=>xn,"_array",()=>Jc,"_base64",()=>Xs,"_base64url",()=>ui,"_bigint",()=>yl,"_boolean",()=>wu,"_catch",()=>Kp,"_check",()=>Qc,"_cidrv4",()=>Ma,"_cidrv6",()=>qs,"_coercedBigint",()=>ql,"_coercedBoolean",()=>gl,"_coercedDate",()=>Da,"_coercedNumber",()=>El,"_coercedString",()=>lo,"_cuid",()=>Ar,"_cuid2",()=>Qn,"_custom",()=>Wc,"_date",()=>ol,"_default",()=>Vp,"_discriminatedUnion",()=>Np,"_e164",()=>ga,"_email",()=>Ss,"_emoji",()=>Kn,"_endsWith",()=>zu,"_enum",()=>Up,"_file",()=>Kc,"_float32",()=>bo,"_float64",()=>Yo,"_gt",()=>ms,"_gte",()=>Oo,"_guid",()=>On,"_includes",()=>_l,"_int",()=>Tl,"_int32",()=>fl,"_int64",()=>al,"_intersection",()=>Pp,"_ipv4",()=>Us,"_ipv6",()=>Aa,"_isoDate",()=>Uo,"_isoDateTime",()=>ds,"_isoDuration",()=>So,"_isoTime",()=>_i,"_jwt",()=>Vo,"_ksuid",()=>cs,"_lazy",()=>Xp,"_length",()=>bl,"_literal",()=>Lp,"_lowercase",()=>tl,"_lt",()=>es,"_lte",()=>Xi,"_mac",()=>uo,"_map",()=>Mp,"_max",()=>Xi,"_maxLength",()=>qi,"_maxSize",()=>vl,"_mime",()=>ku,"_min",()=>Oo,"_minLength",()=>Ho,"_minSize",()=>ll,"_multipleOf",()=>sl,"_nan",()=>Ls,"_nanoid",()=>kr,"_nativeEnum",()=>qp,"_negative",()=>eu,"_never",()=>Ys,"_nonnegative",()=>Rl,"_nonoptional",()=>Hp,"_nonpositive",()=>Cl,"_normalize",()=>Iu,"_null",()=>Yl,"_nullable",()=>Bp,"_number",()=>ps,"_optional",()=>Zp,"_overwrite",()=>ul,"_pipe",()=>Wp,"_positive",()=>ks,"_promise",()=>Yp,"_property",()=>ic,"_readonly",()=>Gp,"_record",()=>Ap,"_refine",()=>Gc,"_regex",()=>la,"_set",()=>Dp,"_size",()=>Ll,"_slugify",()=>Cu,"_startsWith",()=>Su,"_string",()=>Xo,"_stringFormat",()=>tu,"_stringbool",()=>ed,"_success",()=>Jp,"_superRefine",()=>ac,"_symbol",()=>Xl,"_templateLiteral",()=>Qp,"_toLowerCase",()=>Eu,"_toUpperCase",()=>Tu,"_transform",()=>Fp,"_trim",()=>$u,"_tuple",()=>jp,"_uint32",()=>xu,"_uint64",()=>zs,"_ulid",()=>Si,"_undefined",()=>Ns,"_union",()=>Rp,"_unknown",()=>Ro,"_uppercase",()=>Ol,"_url",()=>oi,"_uuid",()=>vn,"_uuidv4",()=>zn,"_uuidv6",()=>Gn,"_uuidv7",()=>bn,"_void",()=>el,"_xid",()=>Co,"_xor",()=>Op,"describe",()=>Xc,"meta",()=>Yc],91721);let td=(t,r={})=>e=>{let i=Fl({...e,processors:r});return Ia(t,i),Zl(i,t),Bl(i,t)},ru=(t,r)=>e=>{let{libraryOptions:i,target:a}=e??{},p=Fl({...i??{},target:a,io:r,processors:{}});return Ia(t,p),Zl(p,t),Bl(p,t)};_.s(["createStandardJSONSchemaMethod",0,ru,"createToJSONSchemaMethod",0,td,"extractDefs",()=>Zl,"finalize",()=>Bl,"initializeContext",()=>Fl,"process",()=>Ia],58214);let $g={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},em=(t,r,e,i)=>{e.type="string";let{minimum:a,maximum:p,format:m,patterns:$,contentEncoding:f}=t._zod.bag;if(typeof a=="number"&&(e.minLength=a),typeof p=="number"&&(e.maxLength=p),m&&(e.format=$g[m]??m,e.format===""&&delete e.format),f&&(e.contentEncoding=f),$&&$.size>0){let j=[...$];j.length===1?e.pattern=j[0].source:j.length>1&&(e.allOf=[...j.map(Q=>({...r.target==="draft-07"||r.target==="draft-04"||r.target==="openapi-3.0"?{type:"string"}:{},pattern:Q.source}))])}},tm=(t,r,e,i)=>{let{minimum:a,maximum:p,format:m,multipleOf:$,exclusiveMaximum:f,exclusiveMinimum:j}=t._zod.bag;typeof m=="string"&&m.includes("int")?e.type="integer":e.type="number",typeof j=="number"&&(r.target==="draft-04"||r.target==="openapi-3.0"?(e.minimum=j,e.exclusiveMinimum=!0):e.exclusiveMinimum=j),typeof a=="number"&&(e.minimum=a,typeof j=="number"&&r.target!=="draft-04"&&(j>=a?delete e.minimum:delete e.exclusiveMinimum)),typeof f=="number"&&(r.target==="draft-04"||r.target==="openapi-3.0"?(e.maximum=f,e.exclusiveMaximum=!0):e.exclusiveMaximum=f),typeof p=="number"&&(e.maximum=p,typeof f=="number"&&r.target!=="draft-04"&&(f<=p?delete e.maximum:delete e.exclusiveMaximum)),typeof $=="number"&&(e.multipleOf=$)},rm=(t,r,e,i)=>{e.type="boolean"},nm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema")},im=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema")},am=(t,r,e,i)=>{r.target==="openapi-3.0"?(e.type="string",e.nullable=!0,e.enum=[null]):e.type="null"},om=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema")},sm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema")},lm=(t,r,e,i)=>{e.not={}},um=(t,r,e,i)=>{},cm=(t,r,e,i)=>{},dm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema")},pm=(t,r,e,i)=>{let a=Fi(t._zod.def.entries);a.every(p=>typeof p=="number")&&(e.type="number"),a.every(p=>typeof p=="string")&&(e.type="string"),e.enum=a},mm=(t,r,e,i)=>{let a=t._zod.def,p=[];for(let m of a.values)if(m===void 0){if(r.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof m=="bigint"){if(r.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");p.push(Number(m))}else p.push(m);if(p.length!==0)if(p.length===1){let m=p[0];e.type=m===null?"null":typeof m,r.target==="draft-04"||r.target==="openapi-3.0"?e.enum=[m]:e.const=m}else p.every(m=>typeof m=="number")&&(e.type="number"),p.every(m=>typeof m=="string")&&(e.type="string"),p.every(m=>typeof m=="boolean")&&(e.type="boolean"),p.every(m=>m===null)&&(e.type="null"),e.enum=p},hm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema")},fm=(t,r,e,i)=>{let a=t._zod.pattern;if(!a)throw Error("Pattern not found in template literal");e.type="string",e.pattern=a.source},gm=(t,r,e,i)=>{let a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:p,maximum:m,mime:$}=t._zod.bag;p!==void 0&&(a.minLength=p),m!==void 0&&(a.maxLength=m),$?$.length===1?(a.contentMediaType=$[0],Object.assign(e,a)):e.anyOf=$.map(f=>({...a,contentMediaType:f})):Object.assign(e,a)},ym=(t,r,e,i)=>{e.type="boolean"},vm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")},bm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema")},_m=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")},xm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema")},wm=(t,r,e,i)=>{if(r.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema")},Sm=(t,r,e,i)=>{let a=t._zod.def,{minimum:p,maximum:m}=t._zod.bag;typeof p=="number"&&(e.minItems=p),typeof m=="number"&&(e.maxItems=m),e.type="array",e.items=Ia(a.element,r,{...i,path:[...i.path,"items"]})},zm=(t,r,e,i)=>{let a=t._zod.def;e.type="object",e.properties={};let p=a.shape;for(let $ in p)e.properties[$]=Ia(p[$],r,{...i,path:[...i.path,"properties",$]});let m=new Set([...new Set(Object.keys(p))].filter($=>{let f=a.shape[$]._zod;return r.io==="input"?f.optin===void 0:f.optout===void 0}));m.size>0&&(e.required=Array.from(m)),a.catchall?._zod.def.type==="never"?e.additionalProperties=!1:a.catchall?a.catchall&&(e.additionalProperties=Ia(a.catchall,r,{...i,path:[...i.path,"additionalProperties"]})):r.io==="output"&&(e.additionalProperties=!1)},rd=(t,r,e,i)=>{let a=t._zod.def,p=a.inclusive===!1,m=a.options.map(($,f)=>Ia($,r,{...i,path:[...i.path,p?"oneOf":"anyOf",f]}));p?e.oneOf=m:e.anyOf=m},km=(t,r,e,i)=>{let a=t._zod.def,p=Ia(a.left,r,{...i,path:[...i.path,"allOf",0]}),m=Ia(a.right,r,{...i,path:[...i.path,"allOf",1]}),$=f=>"allOf"in f&&Object.keys(f).length===1;e.allOf=[...$(p)?p.allOf:[p],...$(m)?m.allOf:[m]]},Im=(t,r,e,i)=>{let a=t._zod.def;e.type="array";let p=r.target==="draft-2020-12"?"prefixItems":"items",m=r.target==="draft-2020-12"||r.target==="openapi-3.0"?"items":"additionalItems",$=a.items.map((we,Tt)=>Ia(we,r,{...i,path:[...i.path,p,Tt]})),f=a.rest?Ia(a.rest,r,{...i,path:[...i.path,m,...r.target==="openapi-3.0"?[a.items.length]:[]]}):null;r.target==="draft-2020-12"?(e.prefixItems=$,f&&(e.items=f)):r.target==="openapi-3.0"?(e.items={anyOf:$},f&&e.items.anyOf.push(f),e.minItems=$.length,f||(e.maxItems=$.length)):(e.items=$,f&&(e.additionalItems=f));let{minimum:j,maximum:Q}=t._zod.bag;typeof j=="number"&&(e.minItems=j),typeof Q=="number"&&(e.maxItems=Q)},$m=(t,r,e,i)=>{let a=t._zod.def;e.type="object",(r.target==="draft-07"||r.target==="draft-2020-12")&&(e.propertyNames=Ia(a.keyType,r,{...i,path:[...i.path,"propertyNames"]})),e.additionalProperties=Ia(a.valueType,r,{...i,path:[...i.path,"additionalProperties"]})},Em=(t,r,e,i)=>{let a=t._zod.def,p=Ia(a.innerType,r,i),m=r.seen.get(t);r.target==="openapi-3.0"?(m.ref=a.innerType,e.nullable=!0):e.anyOf=[p,{type:"null"}]},Tm=(t,r,e,i)=>{let a=t._zod.def;Ia(a.innerType,r,i),r.seen.get(t).ref=a.innerType},Cm=(t,r,e,i)=>{let a=t._zod.def;Ia(a.innerType,r,i),r.seen.get(t).ref=a.innerType,e.default=JSON.parse(JSON.stringify(a.defaultValue))},Rm=(t,r,e,i)=>{let a=t._zod.def;Ia(a.innerType,r,i),r.seen.get(t).ref=a.innerType,r.io==="input"&&(e._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},Om=(t,r,e,i)=>{let a,p=t._zod.def;Ia(p.innerType,r,i),r.seen.get(t).ref=p.innerType;try{a=p.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}e.default=a},Nm=(t,r,e,i)=>{let a=t._zod.def,p=r.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;Ia(p,r,i),r.seen.get(t).ref=p},Pm=(t,r,e,i)=>{let a=t._zod.def;Ia(a.innerType,r,i),r.seen.get(t).ref=a.innerType,e.readOnly=!0},jm=(t,r,e,i)=>{let a=t._zod.def;Ia(a.innerType,r,i),r.seen.get(t).ref=a.innerType},Am=(t,r,e,i)=>{let a=t._zod.def;Ia(a.innerType,r,i),r.seen.get(t).ref=a.innerType},Mm=(t,r,e,i)=>{let a=t._zod.innerType;Ia(a,r,i),r.seen.get(t).ref=a},nd={string:em,number:tm,boolean:rm,bigint:nm,symbol:im,null:am,undefined:om,void:sm,never:lm,any:um,unknown:cm,date:dm,enum:pm,literal:mm,nan:hm,template_literal:fm,file:gm,success:ym,custom:vm,function:bm,transform:_m,map:xm,set:wm,array:Sm,object:zm,union:rd,intersection:km,tuple:Im,record:$m,nullable:Em,nonoptional:Tm,default:Cm,prefault:Rm,catch:Om,pipe:Nm,readonly:Pm,promise:jm,optional:Am,lazy:Mm};function id(t,r){if("_idmap"in t){let i=Fl({...r,processors:nd}),a={};for(let m of t._idmap.entries()){let[$,f]=m;Ia(f,i)}let p={};for(let m of(i.external={registry:t,uri:r?.uri,defs:a},t._idmap.entries())){let[$,f]=m;Zl(i,f),p[$]=Bl(i,f)}return Object.keys(a).length>0&&(p.__shared={[i.target==="draft-2020-12"?"$defs":"definitions"]:a}),{schemas:p}}let e=Fl({...r,processors:nd});return Ia(t,e),Zl(e,t),Bl(e,t)}class Eg{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(r){this.ctx.counter=r}get seen(){return this.ctx.seen}constructor(r){let e=r?.target??"draft-2020-12";e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),this.ctx=Fl({processors:nd,target:e,...r?.metadata&&{metadata:r.metadata},...r?.unrepresentable&&{unrepresentable:r.unrepresentable},...r?.override&&{override:r.override},...r?.io&&{io:r.io}})}process(r,e={path:[],schemaPath:[]}){return Ia(r,this.ctx,e)}emit(r,e){e&&(e.cycles&&(this.ctx.cycles=e.cycles),e.reused&&(this.ctx.reused=e.reused),e.external&&(this.ctx.external=e.external)),Zl(this.ctx,r);let{"~standard":i,...a}=Bl(this.ctx,r);return a}}_.s([],28740),_.s([],61616),_.s(["ZodAny",()=>$d,"ZodArray",()=>Rd,"ZodBase64",()=>xc,"ZodBase64URL",()=>wc,"ZodBigInt",()=>Au,"ZodBigIntFormat",()=>Ic,"ZodBoolean",()=>ju,"ZodCIDRv4",()=>bc,"ZodCIDRv6",()=>_c,"ZodCUID",()=>pc,"ZodCUID2",()=>mc,"ZodCatch",()=>Qd,"ZodCodec",()=>jc,"ZodCustom",()=>Bu,"ZodCustomStringFormat",()=>nu,"ZodDate",()=>Ec,"ZodDefault",()=>Vd,"ZodDiscriminatedUnion",()=>Nd,"ZodE164",()=>Sc,"ZodEmail",()=>uc,"ZodEmoji",()=>cc,"ZodEnum",()=>iu,"ZodFile",()=>Fd,"ZodFunction",()=>op,"ZodGUID",()=>Ou,"ZodIPv4",()=>yc,"ZodIPv6",()=>vc,"ZodIntersection",()=>Pd,"ZodJWT",()=>zc,"ZodKSUID",()=>gc,"ZodLazy",()=>np,"ZodLiteral",()=>Ld,"ZodMAC",()=>_d,"ZodMap",()=>Ud,"ZodNaN",()=>Yd,"ZodNanoID",()=>dc,"ZodNever",()=>Td,"ZodNonOptional",()=>Nc,"ZodNull",()=>kd,"ZodNullable",()=>Bd,"ZodNumber",()=>Pu,"ZodNumberFormat",()=>Vl,"ZodObject",()=>Du,"ZodOptional",()=>Oc,"ZodPipe",()=>Pc,"ZodPrefault",()=>Jd,"ZodPromise",()=>ap,"ZodReadonly",()=>ep,"ZodRecord",()=>qu,"ZodSet",()=>qd,"ZodString",()=>Ru,"ZodStringFormat",()=>Ua,"ZodSuccess",()=>Gd,"ZodSymbol",()=>Sd,"ZodTemplateLiteral",()=>rp,"ZodTransform",()=>Zd,"ZodTuple",()=>Ad,"ZodType",()=>fi,"ZodULID",()=>hc,"ZodURL",()=>Nu,"ZodUUID",()=>cl,"ZodUndefined",()=>zd,"ZodUnion",()=>Uu,"ZodUnknown",()=>Ed,"ZodVoid",()=>Cd,"ZodXID",()=>fc,"ZodXor",()=>Od,"_ZodString",()=>sc,"_default",()=>Hd,"_function",()=>Ac,"any",()=>$h,"array",()=>Mu,"base64",()=>ch,"base64url",()=>dh,"bigint",()=>wh,"boolean",()=>wd,"catch",()=>Xd,"check",()=>Wh,"cidrv4",()=>lh,"cidrv6",()=>uh,"codec",()=>Hh,"cuid",()=>eh,"cuid2",()=>th,"custom",()=>Gh,"date",()=>Th,"describe",()=>Xh,"discriminatedUnion",()=>jh,"e164",()=>ph,"email",()=>Bm,"emoji",()=>Xm,"enum",()=>Cc,"file",()=>Fh,"float32",()=>vh,"float64",()=>bh,"function",()=>Ac,"guid",()=>Vm,"hash",()=>yh,"hex",()=>gh,"hostname",()=>fh,"httpUrl",()=>Qm,"instanceof",()=>ef,"int",()=>kc,"int32",()=>_h,"int64",()=>Sh,"intersection",()=>jd,"ipv4",()=>ah,"ipv6",()=>sh,"json",()=>rf,"jwt",()=>mh,"keyof",()=>Ch,"ksuid",()=>ih,"lazy",()=>ip,"literal",()=>Lh,"looseObject",()=>Nh,"looseRecord",()=>Mh,"mac",()=>oh,"map",()=>Dh,"meta",()=>Yh,"nan",()=>Vh,"nanoid",()=>Ym,"nativeEnum",()=>qh,"never",()=>$c,"nonoptional",()=>Wd,"null",()=>Id,"nullable",()=>Fu,"nullish",()=>Zh,"number",()=>xd,"object",()=>Rh,"optional",()=>Lu,"partialRecord",()=>Ah,"pipe",()=>Zu,"prefault",()=>Kd,"preprocess",()=>nf,"promise",()=>Kh,"readonly",()=>tp,"record",()=>Dd,"refine",()=>sp,"set",()=>Uh,"strictObject",()=>Oh,"string",()=>lc,"stringFormat",()=>hh,"stringbool",()=>tf,"success",()=>Bh,"superRefine",()=>Qh,"symbol",()=>kh,"templateLiteral",()=>Jh,"transform",()=>Rc,"tuple",()=>Md,"uint32",()=>xh,"uint64",()=>zh,"ulid",()=>rh,"undefined",()=>Ih,"union",()=>Tc,"unknown",()=>Hl,"url",()=>Gm,"uuid",()=>Hm,"uuidv4",()=>Jm,"uuidv6",()=>Km,"uuidv7",()=>Wm,"void",()=>Eh,"xid",()=>nh,"xor",()=>Ph],37082),_.i(43039),_.s(["$ZodAny",0,yn,"$ZodArray",0,mn,"$ZodBase64",0,bs,"$ZodBase64URL",0,Wo,"$ZodBigInt",0,Be,"$ZodBigIntFormat",0,ot,"$ZodBoolean",0,oe,"$ZodCIDRv4",0,En,"$ZodCIDRv6",0,li,"$ZodCUID",0,mi,"$ZodCUID2",0,vo,"$ZodCatch",0,Dr,"$ZodCodec",0,ii,"$ZodCustom",0,Va,"$ZodCustomStringFormat",0,l,"$ZodDate",0,Er,"$ZodDefault",0,Oe,"$ZodDiscriminatedUnion",0,Gs,"$ZodE164",0,_s,"$ZodEmail",0,Ei,"$ZodEmoji",0,na,"$ZodEnum",0,I,"$ZodFile",0,se,"$ZodFunction",0,Pi,"$ZodGUID",0,un,"$ZodIPv4",0,Na,"$ZodIPv6",0,Pa,"$ZodISODate",0,Ga,"$ZodISODateTime",0,ua,"$ZodISODuration",0,za,"$ZodISOTime",0,Ui,"$ZodIntersection",0,Qs,"$ZodJWT",0,o,"$ZodKSUID",0,to,"$ZodLazy",0,Ba,"$ZodLiteral",0,H,"$ZodMAC",0,Mo,"$ZodMap",0,b,"$ZodNaN",0,dn,"$ZodNanoID",0,Oi,"$ZodNever",0,gr,"$ZodNonOptional",0,yr,"$ZodNull",0,tn,"$ZodNullable",0,_t,"$ZodNumber",0,C,"$ZodNumberFormat",0,Z,"$ZodObject",0,ro,"$ZodObjectJIT",0,Vi,"$ZodOptional",0,ue,"$ZodPipe",0,Fn,"$ZodPrefault",0,Bt,"$ZodPromise",0,sa,"$ZodReadonly",0,wn,"$ZodRecord",0,v,"$ZodSet",0,z,"$ZodString",0,kt,"$ZodStringFormat",0,Mt,"$ZodSuccess",0,Me,"$ZodSymbol",0,or,"$ZodTemplateLiteral",0,ai,"$ZodTransform",0,ee,"$ZodTuple",0,s,"$ZodType",0,Vt,"$ZodULID",0,Ni,"$ZodURL",0,qn,"$ZodUUID",0,vi,"$ZodUndefined",0,Ir,"$ZodUnion",0,Eo,"$ZodUnknown",0,ut,"$ZodVoid",0,_r,"$ZodXID",0,ha,"$ZodXor",0,Hs,"clone",()=>Wn,"isValidBase64",()=>so,"isValidBase64URL",()=>Bo,"isValidJWT",()=>T],48757);var dl=_.i(21268),dl=dl,xi=_.i(64684),xi=xi;_.s([],80729),_.s(["ZodISODate",()=>od,"ZodISODateTime",()=>ad,"ZodISODuration",()=>ld,"ZodISOTime",()=>sd,"date",()=>Um,"datetime",()=>Dm,"duration",()=>Lm,"time",()=>qm],35713);let ad=G("ZodISODateTime",(t,r)=>{ua.init(t,r),Ua.init(t,r)});function Dm(t){return ds(ad,t)}let od=G("ZodISODate",(t,r)=>{Ga.init(t,r),Ua.init(t,r)});function Um(t){return Uo(od,t)}let sd=G("ZodISOTime",(t,r)=>{Ui.init(t,r),Ua.init(t,r)});function qm(t){return _i(sd,t)}let ld=G("ZodISODuration",(t,r)=>{za.init(t,r),Ua.init(t,r)});function Lm(t){return So(ld,t)}let Fm=(t,r)=>{an.init(t,r),t.name="ZodError",Object.defineProperties(t,{format:{value:e=>Cr(t,e)},flatten:{value:e=>on(t,e)},addIssue:{value:e=>{t.issues.push(e),t.message=JSON.stringify(t.issues,pi,2)}},addIssues:{value:e=>{t.issues.push(...e),t.message=JSON.stringify(t.issues,pi,2)}},isEmpty:{get:()=>t.issues.length===0}})},Zm=G("ZodError",Fm),Ps=G("ZodError",Fm,{Parent:Error});_.s(["ZodError",0,Zm,"ZodRealError",0,Ps],10419);let ud=Ka(Ps),cd=go(Ps),dd=wo(Ps),oc=ko(Ps),pd=Io(Ps),md=ao(Ps),hd=jo(Ps),fd=Fo(Ps),gd=oo(Ps),yd=Wa(Ps),vd=gs(Ps),bd=Ra(Ps);_.s(["decode",0,md,"decodeAsync",0,fd,"encode",0,pd,"encodeAsync",0,hd,"parse",0,ud,"parseAsync",0,cd,"safeDecode",0,yd,"safeDecodeAsync",0,bd,"safeEncode",0,gd,"safeEncodeAsync",0,vd,"safeParse",0,dd,"safeParseAsync",0,oc],27632);let fi=G("ZodType",(t,r)=>(Vt.init(t,r),Object.assign(t["~standard"],{jsonSchema:{input:ru(t,"input"),output:ru(t,"output")}}),t.toJSONSchema=td(t,{}),t.def=r,t.type=r.type,Object.defineProperty(t,"_def",{value:r}),t.check=(...e)=>t.clone(xi.mergeDefs(r,{checks:[...r.checks??[],...e.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),t.clone=(e,i)=>Wn(t,e,i),t.brand=()=>t,t.register=(e,i)=>(e.add(t,i),t),t.parse=(e,i)=>ud(t,e,i,{callee:t.parse}),t.safeParse=(e,i)=>dd(t,e,i),t.parseAsync=async(e,i)=>cd(t,e,i,{callee:t.parseAsync}),t.safeParseAsync=async(e,i)=>oc(t,e,i),t.spa=t.safeParseAsync,t.encode=(e,i)=>pd(t,e,i),t.decode=(e,i)=>md(t,e,i),t.encodeAsync=async(e,i)=>hd(t,e,i),t.decodeAsync=async(e,i)=>fd(t,e,i),t.safeEncode=(e,i)=>gd(t,e,i),t.safeDecode=(e,i)=>yd(t,e,i),t.safeEncodeAsync=async(e,i)=>vd(t,e,i),t.safeDecodeAsync=async(e,i)=>bd(t,e,i),t.refine=(e,i)=>t.check(sp(e,i)),t.superRefine=e=>t.check(ac(e)),t.overwrite=e=>t.check(ul(e)),t.optional=()=>Lu(t),t.nullable=()=>Fu(t),t.nullish=()=>Lu(Fu(t)),t.nonoptional=e=>Wd(t,e),t.array=()=>Mu(t),t.or=e=>Tc([t,e]),t.and=e=>jd(t,e),t.transform=e=>Zu(t,Rc(e)),t.default=e=>Hd(t,e),t.prefault=e=>Kd(t,e),t.catch=e=>Xd(t,e),t.pipe=e=>Zu(t,e),t.readonly=()=>tp(t),t.describe=e=>{let i=t.clone();return ji.add(i,{description:e}),i},Object.defineProperty(t,"description",{get:()=>ji.get(t)?.description,configurable:!0}),t.meta=(...e)=>{if(e.length===0)return ji.get(t);let i=t.clone();return ji.add(i,e[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),sc=G("_ZodString",(t,r)=>{kt.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(i,a,p)=>em(t,i,a,p);let e=t._zod.bag;t.format=e.format??null,t.minLength=e.minimum??null,t.maxLength=e.maximum??null,t.regex=(...i)=>t.check(la(...i)),t.includes=(...i)=>t.check(_l(...i)),t.startsWith=(...i)=>t.check(Su(...i)),t.endsWith=(...i)=>t.check(zu(...i)),t.min=(...i)=>t.check(Ho(...i)),t.max=(...i)=>t.check(qi(...i)),t.length=(...i)=>t.check(bl(...i)),t.nonempty=(...i)=>t.check(Ho(1,...i)),t.lowercase=i=>t.check(tl(i)),t.uppercase=i=>t.check(Ol(i)),t.trim=()=>t.check($u()),t.normalize=(...i)=>t.check(Iu(...i)),t.toLowerCase=()=>t.check(Eu()),t.toUpperCase=()=>t.check(Tu()),t.slugify=()=>t.check(Cu())}),Ru=G("ZodString",(t,r)=>{kt.init(t,r),sc.init(t,r),t.email=e=>t.check(Ss(uc,e)),t.url=e=>t.check(oi(Nu,e)),t.jwt=e=>t.check(Vo(zc,e)),t.emoji=e=>t.check(Kn(cc,e)),t.guid=e=>t.check(On(Ou,e)),t.uuid=e=>t.check(vn(cl,e)),t.uuidv4=e=>t.check(zn(cl,e)),t.uuidv6=e=>t.check(Gn(cl,e)),t.uuidv7=e=>t.check(bn(cl,e)),t.nanoid=e=>t.check(kr(dc,e)),t.guid=e=>t.check(On(Ou,e)),t.cuid=e=>t.check(Ar(pc,e)),t.cuid2=e=>t.check(Qn(mc,e)),t.ulid=e=>t.check(Si(hc,e)),t.base64=e=>t.check(Xs(xc,e)),t.base64url=e=>t.check(ui(wc,e)),t.xid=e=>t.check(Co(fc,e)),t.ksuid=e=>t.check(cs(gc,e)),t.ipv4=e=>t.check(Us(yc,e)),t.ipv6=e=>t.check(Aa(vc,e)),t.cidrv4=e=>t.check(Ma(bc,e)),t.cidrv6=e=>t.check(qs(_c,e)),t.e164=e=>t.check(ga(Sc,e)),t.datetime=e=>t.check(Dm(e)),t.date=e=>t.check(Um(e)),t.time=e=>t.check(qm(e)),t.duration=e=>t.check(Lm(e))});function lc(t){return Xo(Ru,t)}let Ua=G("ZodStringFormat",(t,r)=>{Mt.init(t,r),sc.init(t,r)}),uc=G("ZodEmail",(t,r)=>{Ei.init(t,r),Ua.init(t,r)});function Bm(t){return Ss(uc,t)}let Ou=G("ZodGUID",(t,r)=>{un.init(t,r),Ua.init(t,r)});function Vm(t){return On(Ou,t)}let cl=G("ZodUUID",(t,r)=>{vi.init(t,r),Ua.init(t,r)});function Hm(t){return vn(cl,t)}function Jm(t){return zn(cl,t)}function Km(t){return Gn(cl,t)}function Wm(t){return bn(cl,t)}let Nu=G("ZodURL",(t,r)=>{qn.init(t,r),Ua.init(t,r)});function Gm(t){return oi(Nu,t)}function Qm(t){return oi(Nu,{protocol:/^https?$/,hostname:dl.domain,...xi.normalizeParams(t)})}let cc=G("ZodEmoji",(t,r)=>{na.init(t,r),Ua.init(t,r)});function Xm(t){return Kn(cc,t)}let dc=G("ZodNanoID",(t,r)=>{Oi.init(t,r),Ua.init(t,r)});function Ym(t){return kr(dc,t)}let pc=G("ZodCUID",(t,r)=>{mi.init(t,r),Ua.init(t,r)});function eh(t){return Ar(pc,t)}let mc=G("ZodCUID2",(t,r)=>{vo.init(t,r),Ua.init(t,r)});function th(t){return Qn(mc,t)}let hc=G("ZodULID",(t,r)=>{Ni.init(t,r),Ua.init(t,r)});function rh(t){return Si(hc,t)}let fc=G("ZodXID",(t,r)=>{ha.init(t,r),Ua.init(t,r)});function nh(t){return Co(fc,t)}let gc=G("ZodKSUID",(t,r)=>{to.init(t,r),Ua.init(t,r)});function ih(t){return cs(gc,t)}let yc=G("ZodIPv4",(t,r)=>{Na.init(t,r),Ua.init(t,r)});function ah(t){return Us(yc,t)}let _d=G("ZodMAC",(t,r)=>{Mo.init(t,r),Ua.init(t,r)});function oh(t){return uo(_d,t)}let vc=G("ZodIPv6",(t,r)=>{Pa.init(t,r),Ua.init(t,r)});function sh(t){return Aa(vc,t)}let bc=G("ZodCIDRv4",(t,r)=>{En.init(t,r),Ua.init(t,r)});function lh(t){return Ma(bc,t)}let _c=G("ZodCIDRv6",(t,r)=>{li.init(t,r),Ua.init(t,r)});function uh(t){return qs(_c,t)}let xc=G("ZodBase64",(t,r)=>{bs.init(t,r),Ua.init(t,r)});function ch(t){return Xs(xc,t)}let wc=G("ZodBase64URL",(t,r)=>{Wo.init(t,r),Ua.init(t,r)});function dh(t){return ui(wc,t)}let Sc=G("ZodE164",(t,r)=>{_s.init(t,r),Ua.init(t,r)});function ph(t){return ga(Sc,t)}let zc=G("ZodJWT",(t,r)=>{o.init(t,r),Ua.init(t,r)});function mh(t){return Vo(zc,t)}let nu=G("ZodCustomStringFormat",(t,r)=>{l.init(t,r),Ua.init(t,r)});function hh(t,r,e={}){return tu(nu,t,r,e)}function fh(t){return tu(nu,"hostname",dl.hostname,t)}function gh(t){return tu(nu,"hex",dl.hex,t)}function yh(t,r){let e=r?.enc??"hex",i=`${t}_${e}`,a=dl[i];if(!a)throw Error(`Unrecognized hash format: ${i}`);return tu(nu,i,a,r)}let Pu=G("ZodNumber",(t,r)=>{C.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(i,a,p)=>tm(t,i,a,p),t.gt=(i,a)=>t.check(ms(i,a)),t.gte=(i,a)=>t.check(Oo(i,a)),t.min=(i,a)=>t.check(Oo(i,a)),t.lt=(i,a)=>t.check(es(i,a)),t.lte=(i,a)=>t.check(Xi(i,a)),t.max=(i,a)=>t.check(Xi(i,a)),t.int=i=>t.check(kc(i)),t.safe=i=>t.check(kc(i)),t.positive=i=>t.check(ms(0,i)),t.nonnegative=i=>t.check(Oo(0,i)),t.negative=i=>t.check(es(0,i)),t.nonpositive=i=>t.check(Xi(0,i)),t.multipleOf=(i,a)=>t.check(sl(i,a)),t.step=(i,a)=>t.check(sl(i,a)),t.finite=()=>t;let e=t._zod.bag;t.minValue=Math.max(e.minimum??-1/0,e.exclusiveMinimum??-1/0)??null,t.maxValue=Math.min(e.maximum??1/0,e.exclusiveMaximum??1/0)??null,t.isInt=(e.format??"").includes("int")||Number.isSafeInteger(e.multipleOf??.5),t.isFinite=!0,t.format=e.format??null});function xd(t){return ps(Pu,t)}let Vl=G("ZodNumberFormat",(t,r)=>{Z.init(t,r),Pu.init(t,r)});function kc(t){return Tl(Vl,t)}function vh(t){return bo(Vl,t)}function bh(t){return Yo(Vl,t)}function _h(t){return fl(Vl,t)}function xh(t){return xu(Vl,t)}let ju=G("ZodBoolean",(t,r)=>{oe.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>rm(t,e,i,a)});function wd(t){return wu(ju,t)}let Au=G("ZodBigInt",(t,r)=>{Be.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(i,a,p)=>nm(t,i,a,p),t.gte=(i,a)=>t.check(Oo(i,a)),t.min=(i,a)=>t.check(Oo(i,a)),t.gt=(i,a)=>t.check(ms(i,a)),t.gte=(i,a)=>t.check(Oo(i,a)),t.min=(i,a)=>t.check(Oo(i,a)),t.lt=(i,a)=>t.check(es(i,a)),t.lte=(i,a)=>t.check(Xi(i,a)),t.max=(i,a)=>t.check(Xi(i,a)),t.positive=i=>t.check(ms(BigInt(0),i)),t.negative=i=>t.check(es(BigInt(0),i)),t.nonpositive=i=>t.check(Xi(BigInt(0),i)),t.nonnegative=i=>t.check(Oo(BigInt(0),i)),t.multipleOf=(i,a)=>t.check(sl(i,a));let e=t._zod.bag;t.minValue=e.minimum??null,t.maxValue=e.maximum??null,t.format=e.format??null});function wh(t){return yl(Au,t)}let Ic=G("ZodBigIntFormat",(t,r)=>{ot.init(t,r),Au.init(t,r)});function Sh(t){return al(Ic,t)}function zh(t){return zs(Ic,t)}let Sd=G("ZodSymbol",(t,r)=>{or.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>im(t,e,i,a)});function kh(t){return Xl(Sd,t)}let zd=G("ZodUndefined",(t,r)=>{Ir.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>om(t,e,i,a)});function Ih(t){return Ns(zd,t)}let kd=G("ZodNull",(t,r)=>{tn.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>am(t,e,i,a)});function Id(t){return Yl(kd,t)}let $d=G("ZodAny",(t,r)=>{yn.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>um(t,e,i,a)});function $h(){return xn($d)}let Ed=G("ZodUnknown",(t,r)=>{ut.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>cm(t,e,i,a)});function Hl(){return Ro(Ed)}let Td=G("ZodNever",(t,r)=>{gr.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>lm(t,e,i,a)});function $c(t){return Ys(Td,t)}let Cd=G("ZodVoid",(t,r)=>{_r.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>sm(t,e,i,a)});function Eh(t){return el(Cd,t)}let Ec=G("ZodDate",(t,r)=>{Er.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(i,a,p)=>dm(t,i,a,p),t.min=(i,a)=>t.check(Oo(i,a)),t.max=(i,a)=>t.check(Xi(i,a));let e=t._zod.bag;t.minDate=e.minimum?new Date(e.minimum):null,t.maxDate=e.maximum?new Date(e.maximum):null});function Th(t){return ol(Ec,t)}let Rd=G("ZodArray",(t,r)=>{mn.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Sm(t,e,i,a),t.element=r.element,t.min=(e,i)=>t.check(Ho(e,i)),t.nonempty=e=>t.check(Ho(1,e)),t.max=(e,i)=>t.check(qi(e,i)),t.length=(e,i)=>t.check(bl(e,i)),t.unwrap=()=>t.element});function Mu(t,r){return Jc(Rd,t,r)}function Ch(t){return Cc(Object.keys(t._zod.def.shape))}let Du=G("ZodObject",(t,r)=>{Vi.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>zm(t,e,i,a),xi.defineLazy(t,"shape",()=>r.shape),t.keyof=()=>Cc(Object.keys(t._zod.def.shape)),t.catchall=e=>t.clone({...t._zod.def,catchall:e}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Hl()}),t.loose=()=>t.clone({...t._zod.def,catchall:Hl()}),t.strict=()=>t.clone({...t._zod.def,catchall:$c()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=e=>xi.extend(t,e),t.safeExtend=e=>xi.safeExtend(t,e),t.merge=e=>xi.merge(t,e),t.pick=e=>xi.pick(t,e),t.omit=e=>xi.omit(t,e),t.partial=(...e)=>xi.partial(Oc,t,e[0]),t.required=(...e)=>xi.required(Nc,t,e[0])});function Rh(t,r){return new Du({type:"object",shape:t??{},...xi.normalizeParams(r)})}function Oh(t,r){return new Du({type:"object",shape:t,catchall:$c(),...xi.normalizeParams(r)})}function Nh(t,r){return new Du({type:"object",shape:t,catchall:Hl(),...xi.normalizeParams(r)})}let Uu=G("ZodUnion",(t,r)=>{Eo.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>rd(t,e,i,a),t.options=r.options});function Tc(t,r){return new Uu({type:"union",options:t,...xi.normalizeParams(r)})}let Od=G("ZodXor",(t,r)=>{Uu.init(t,r),Hs.init(t,r),t._zod.processJSONSchema=(e,i,a)=>rd(t,e,i,a),t.options=r.options});function Ph(t,r){return new Od({type:"union",options:t,inclusive:!1,...xi.normalizeParams(r)})}let Nd=G("ZodDiscriminatedUnion",(t,r)=>{Uu.init(t,r),Gs.init(t,r)});function jh(t,r,e){return new Nd({type:"union",options:r,discriminator:t,...xi.normalizeParams(e)})}let Pd=G("ZodIntersection",(t,r)=>{Qs.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>km(t,e,i,a)});function jd(t,r){return new Pd({type:"intersection",left:t,right:r})}let Ad=G("ZodTuple",(t,r)=>{s.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Im(t,e,i,a),t.rest=e=>t.clone({...t._zod.def,rest:e})});function Md(t,r,e){let i=r instanceof Vt,a=i?e:r;return new Ad({type:"tuple",items:t,rest:i?r:null,...xi.normalizeParams(a)})}let qu=G("ZodRecord",(t,r)=>{v.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>$m(t,e,i,a),t.keyType=r.keyType,t.valueType=r.valueType});function Dd(t,r,e){return new qu({type:"record",keyType:t,valueType:r,...xi.normalizeParams(e)})}function Ah(t,r,e){let i=Wn(t);return i._zod.values=void 0,new qu({type:"record",keyType:i,valueType:r,...xi.normalizeParams(e)})}function Mh(t,r,e){return new qu({type:"record",keyType:t,valueType:r,mode:"loose",...xi.normalizeParams(e)})}let Ud=G("ZodMap",(t,r)=>{b.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>xm(t,e,i,a),t.keyType=r.keyType,t.valueType=r.valueType});function Dh(t,r,e){return new Ud({type:"map",keyType:t,valueType:r,...xi.normalizeParams(e)})}let qd=G("ZodSet",(t,r)=>{z.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>wm(t,e,i,a),t.min=(...e)=>t.check(ll(...e)),t.nonempty=e=>t.check(ll(1,e)),t.max=(...e)=>t.check(vl(...e)),t.size=(...e)=>t.check(Ll(...e))});function Uh(t,r){return new qd({type:"set",valueType:t,...xi.normalizeParams(r)})}let iu=G("ZodEnum",(t,r)=>{I.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(i,a,p)=>pm(t,i,a,p),t.enum=r.entries,t.options=Object.values(r.entries);let e=new Set(Object.keys(r.entries));t.extract=(i,a)=>{let p={};for(let m of i)if(e.has(m))p[m]=r.entries[m];else throw Error(`Key ${m} not found in enum`);return new iu({...r,checks:[],...xi.normalizeParams(a),entries:p})},t.exclude=(i,a)=>{let p={...r.entries};for(let m of i)if(e.has(m))delete p[m];else throw Error(`Key ${m} not found in enum`);return new iu({...r,checks:[],...xi.normalizeParams(a),entries:p})}});function Cc(t,r){return new iu({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...xi.normalizeParams(r)})}function qh(t,r){return new iu({type:"enum",entries:t,...xi.normalizeParams(r)})}let Ld=G("ZodLiteral",(t,r)=>{H.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>mm(t,e,i,a),t.values=new Set(r.values),Object.defineProperty(t,"value",{get(){if(r.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return r.values[0]}})});function Lh(t,r){return new Ld({type:"literal",values:Array.isArray(t)?t:[t],...xi.normalizeParams(r)})}let Fd=G("ZodFile",(t,r)=>{se.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>gm(t,e,i,a),t.min=(e,i)=>t.check(ll(e,i)),t.max=(e,i)=>t.check(vl(e,i)),t.mime=(e,i)=>t.check(ku(Array.isArray(e)?e:[e],i))});function Fh(t){return Kc(Fd,t)}let Zd=G("ZodTransform",(t,r)=>{ee.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>_m(t,e,i,a),t._zod.parse=(e,i)=>{if(i.direction==="backward")throw new Ln(t.constructor.name);e.addIssue=p=>{typeof p=="string"?e.issues.push(xi.issue(p,e.value,r)):(p.fatal&&(p.continue=!1),p.code??(p.code="custom"),p.input??(p.input=e.value),p.inst??(p.inst=t),e.issues.push(xi.issue(p)))};let a=r.transform(e.value,e);return a instanceof Promise?a.then(p=>(e.value=p,e)):(e.value=a,e)}});function Rc(t){return new Zd({type:"transform",transform:t})}let Oc=G("ZodOptional",(t,r)=>{ue.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Am(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Lu(t){return new Oc({type:"optional",innerType:t})}let Bd=G("ZodNullable",(t,r)=>{_t.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Em(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Fu(t){return new Bd({type:"nullable",innerType:t})}function Zh(t){return Lu(Fu(t))}let Vd=G("ZodDefault",(t,r)=>{Oe.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Cm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Hd(t,r){return new Vd({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():xi.shallowClone(r)}})}let Jd=G("ZodPrefault",(t,r)=>{Bt.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Rm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Kd(t,r){return new Jd({type:"prefault",innerType:t,get defaultValue(){return typeof r=="function"?r():xi.shallowClone(r)}})}let Nc=G("ZodNonOptional",(t,r)=>{yr.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Tm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Wd(t,r){return new Nc({type:"nonoptional",innerType:t,...xi.normalizeParams(r)})}let Gd=G("ZodSuccess",(t,r)=>{Me.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>ym(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Bh(t){return new Gd({type:"success",innerType:t})}let Qd=G("ZodCatch",(t,r)=>{Dr.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Om(t,e,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Xd(t,r){return new Qd({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}let Yd=G("ZodNaN",(t,r)=>{dn.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>hm(t,e,i,a)});function Vh(t){return Ls(Yd,t)}let Pc=G("ZodPipe",(t,r)=>{Fn.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Nm(t,e,i,a),t.in=r.in,t.out=r.out});function Zu(t,r){return new Pc({type:"pipe",in:t,out:r})}let jc=G("ZodCodec",(t,r)=>{Pc.init(t,r),ii.init(t,r)});function Hh(t,r,e){return new jc({type:"pipe",in:t,out:r,transform:e.decode,reverseTransform:e.encode})}let ep=G("ZodReadonly",(t,r)=>{wn.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Pm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function tp(t){return new ep({type:"readonly",innerType:t})}let rp=G("ZodTemplateLiteral",(t,r)=>{ai.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>fm(t,e,i,a)});function Jh(t,r){return new rp({type:"template_literal",parts:t,...xi.normalizeParams(r)})}let np=G("ZodLazy",(t,r)=>{Ba.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>Mm(t,e,i,a),t.unwrap=()=>t._zod.def.getter()});function ip(t){return new np({type:"lazy",getter:t})}let ap=G("ZodPromise",(t,r)=>{sa.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>jm(t,e,i,a),t.unwrap=()=>t._zod.def.innerType});function Kh(t){return new ap({type:"promise",innerType:t})}let op=G("ZodFunction",(t,r)=>{Pi.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>bm(t,e,i,a)});function Ac(t){return new op({type:"function",input:Array.isArray(t?.input)?Md(t?.input):t?.input??Mu(Hl()),output:t?.output??Hl()})}let Bu=G("ZodCustom",(t,r)=>{Va.init(t,r),fi.init(t,r),t._zod.processJSONSchema=(e,i,a)=>vm(t,e,i,a)});function Wh(t){let r=new sn({check:"custom"});return r._zod.check=t,r}function Gh(t,r){return Wc(Bu,t??(()=>!0),r)}function sp(t,r={}){return Gc(Bu,t,r)}function Qh(t){return ac(t)}let Xh=Xc,Yh=Yc;function ef(t,r={error:`Input not instance of ${t.name}`}){let e=new Bu({type:"custom",check:"custom",fn:i=>i instanceof t,abort:!0,...xi.normalizeParams(r)});return e._zod.bag.Class=t,e}let tf=(...t)=>ed({Codec:jc,Boolean:ju,String:Ru},...t);function rf(t){let r=ip(()=>Tc([lc(t),xd(),wd(),Id(),Mu(r),Dd(lc(),r)]));return r}function nf(t,r){return Zu(Rc(t),r)}let lp={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function up(t){Jr({customError:t})}function cp(){return Jr().customError}Yt||(Yt={}),_.s(["ZodFirstPartyTypeKind",()=>Yt,"ZodIssueCode",0,lp,"getErrorMap",()=>cp,"setErrorMap",()=>up],1583),_.i(80729),_.s(["endsWith",()=>zu,"gt",()=>ms,"gte",()=>Oo,"includes",()=>_l,"length",()=>bl,"lowercase",()=>tl,"lt",()=>es,"lte",()=>Xi,"maxLength",()=>qi,"maxSize",()=>vl,"mime",()=>ku,"minLength",()=>Ho,"minSize",()=>ll,"multipleOf",()=>sl,"negative",()=>eu,"nonnegative",()=>Rl,"nonpositive",()=>Cl,"normalize",()=>Iu,"overwrite",()=>ul,"positive",()=>ks,"property",()=>ic,"regex",()=>la,"size",()=>Ll,"slugify",()=>Cu,"startsWith",()=>Su,"toLowerCase",()=>Eu,"toUpperCase",()=>Tu,"trim",()=>$u,"uppercase",()=>Ol],9875);var Tg=_.i(9875),af=_.i(35713);let Br={..._.i(37082),...Tg,iso:af};function Cg(t,r){var e;let i;if(typeof t=="boolean")return t?Br.any():Br.never();let a={version:(e=r?.defaultTarget,(i=t.$schema)==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":i==="http://json-schema.org/draft-07/schema#"?"draft-7":i==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"),defs:t.$defs||t.definitions||{},refs:new Map,processing:new Set,rootSchema:t};return function p(m,$){if(typeof m=="boolean")return m?Br.any():Br.never();let f=function Q(we,Tt){let Ft;if(we.not!==void 0){if(typeof we.not=="object"&&Object.keys(we.not).length===0)return Br.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(we.unevaluatedItems!==void 0)throw Error("unevaluatedItems is not supported");if(we.unevaluatedProperties!==void 0)throw Error("unevaluatedProperties is not supported");if(we.if!==void 0||we.then!==void 0||we.else!==void 0)throw Error("Conditional schemas (if/then/else) are not supported");if(we.dependentSchemas!==void 0||we.dependentRequired!==void 0)throw Error("dependentSchemas and dependentRequired are not supported");if(we.$ref){let Ct=we.$ref;if(Tt.refs.has(Ct))return Tt.refs.get(Ct);if(Tt.processing.has(Ct))return Br.lazy(()=>{if(!Tt.refs.has(Ct))throw Error(`Circular reference not resolved: ${Ct}`);return Tt.refs.get(Ct)});Tt.processing.add(Ct);let Qr=p(function(gi,kn){if(!gi.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let $n=gi.slice(1).split("/").filter(Boolean);if($n.length===0)return kn.rootSchema;let xa=kn.version==="draft-2020-12"?"$defs":"definitions";if($n[0]===xa){let ya=$n[1];if(!ya||!kn.defs[ya])throw Error(`Reference not found: ${gi}`);return kn.defs[ya]}throw Error(`Reference not found: ${gi}`)}(Ct,Tt),Tt);return Tt.refs.set(Ct,Qr),Tt.processing.delete(Ct),Qr}if(we.enum!==void 0){let Ct=we.enum;if(Tt.version==="openapi-3.0"&&we.nullable===!0&&Ct.length===1&&Ct[0]===null)return Br.null();if(Ct.length===0)return Br.never();if(Ct.length===1)return Br.literal(Ct[0]);if(Ct.every(gi=>typeof gi=="string"))return Br.enum(Ct);let Qr=Ct.map(gi=>Br.literal(gi));return Qr.length<2?Qr[0]:Br.union([Qr[0],Qr[1],...Qr.slice(2)])}if(we.const!==void 0)return Br.literal(we.const);let ei=we.type;if(Array.isArray(ei)){let Ct=ei.map(Qr=>Q({...we,type:Qr},Tt));return Ct.length===0?Br.never():Ct.length===1?Ct[0]:Br.union(Ct)}if(!ei)return Br.any();switch(ei){case"string":{let Ct=Br.string();if(we.format){let Qr=we.format;Qr==="email"?Ct=Ct.check(Br.email()):Qr==="uri"||Qr==="uri-reference"?Ct=Ct.check(Br.url()):Qr==="uuid"||Qr==="guid"?Ct=Ct.check(Br.uuid()):Qr==="date-time"?Ct=Ct.check(Br.iso.datetime()):Qr==="date"?Ct=Ct.check(Br.iso.date()):Qr==="time"?Ct=Ct.check(Br.iso.time()):Qr==="duration"?Ct=Ct.check(Br.iso.duration()):Qr==="ipv4"?Ct=Ct.check(Br.ipv4()):Qr==="ipv6"?Ct=Ct.check(Br.ipv6()):Qr==="mac"?Ct=Ct.check(Br.mac()):Qr==="cidr"?Ct=Ct.check(Br.cidrv4()):Qr==="cidr-v6"?Ct=Ct.check(Br.cidrv6()):Qr==="base64"?Ct=Ct.check(Br.base64()):Qr==="base64url"?Ct=Ct.check(Br.base64url()):Qr==="e164"?Ct=Ct.check(Br.e164()):Qr==="jwt"?Ct=Ct.check(Br.jwt()):Qr==="emoji"?Ct=Ct.check(Br.emoji()):Qr==="nanoid"?Ct=Ct.check(Br.nanoid()):Qr==="cuid"?Ct=Ct.check(Br.cuid()):Qr==="cuid2"?Ct=Ct.check(Br.cuid2()):Qr==="ulid"?Ct=Ct.check(Br.ulid()):Qr==="xid"?Ct=Ct.check(Br.xid()):Qr==="ksuid"&&(Ct=Ct.check(Br.ksuid()))}typeof we.minLength=="number"&&(Ct=Ct.min(we.minLength)),typeof we.maxLength=="number"&&(Ct=Ct.max(we.maxLength)),we.pattern&&(Ct=Ct.regex(new RegExp(we.pattern))),Ft=Ct;break}case"number":case"integer":{let Ct=ei==="integer"?Br.number().int():Br.number();typeof we.minimum=="number"&&(Ct=Ct.min(we.minimum)),typeof we.maximum=="number"&&(Ct=Ct.max(we.maximum)),typeof we.exclusiveMinimum=="number"?Ct=Ct.gt(we.exclusiveMinimum):we.exclusiveMinimum===!0&&typeof we.minimum=="number"&&(Ct=Ct.gt(we.minimum)),typeof we.exclusiveMaximum=="number"?Ct=Ct.lt(we.exclusiveMaximum):we.exclusiveMaximum===!0&&typeof we.maximum=="number"&&(Ct=Ct.lt(we.maximum)),typeof we.multipleOf=="number"&&(Ct=Ct.multipleOf(we.multipleOf)),Ft=Ct;break}case"boolean":Ft=Br.boolean();break;case"null":Ft=Br.null();break;case"object":{let Ct={},Qr=we.properties||{},gi=new Set(we.required||[]);for(let[$n,xa]of Object.entries(Qr)){let ya=p(xa,Tt);Ct[$n]=gi.has($n)?ya:ya.optional()}if(we.propertyNames){let $n=p(we.propertyNames,Tt),xa=we.additionalProperties&&typeof we.additionalProperties=="object"?p(we.additionalProperties,Tt):Br.any();if(Object.keys(Ct).length===0){Ft=Br.record($n,xa);break}let ya=Br.object(Ct).passthrough(),Qa=Br.looseRecord($n,xa);Ft=Br.intersection(ya,Qa);break}if(we.patternProperties){let $n=we.patternProperties,xa=Object.keys($n),ya=[];for(let $s of xa){let Es=p($n[$s],Tt),Ts=Br.string().regex(new RegExp($s));ya.push(Br.looseRecord(Ts,Es))}let Qa=[];if(Object.keys(Ct).length>0&&Qa.push(Br.object(Ct).passthrough()),Qa.push(...ya),Qa.length===0)Ft=Br.object({}).passthrough();else if(Qa.length===1)Ft=Qa[0];else{let $s=Br.intersection(Qa[0],Qa[1]);for(let Es=2;Es<Qa.length;Es++)$s=Br.intersection($s,Qa[Es]);Ft=$s}break}let kn=Br.object(Ct);Ft=we.additionalProperties===!1?kn.strict():typeof we.additionalProperties=="object"?kn.catchall(p(we.additionalProperties,Tt)):kn.passthrough();break}case"array":{let Ct=we.prefixItems,Qr=we.items;if(Ct&&Array.isArray(Ct)){let gi=Ct.map($n=>p($n,Tt)),kn=Qr&&typeof Qr=="object"&&!Array.isArray(Qr)?p(Qr,Tt):void 0;Ft=kn?Br.tuple(gi).rest(kn):Br.tuple(gi),typeof we.minItems=="number"&&(Ft=Ft.check(Br.minLength(we.minItems))),typeof we.maxItems=="number"&&(Ft=Ft.check(Br.maxLength(we.maxItems)))}else if(Array.isArray(Qr)){let gi=Qr.map($n=>p($n,Tt)),kn=we.additionalItems&&typeof we.additionalItems=="object"?p(we.additionalItems,Tt):void 0;Ft=kn?Br.tuple(gi).rest(kn):Br.tuple(gi),typeof we.minItems=="number"&&(Ft=Ft.check(Br.minLength(we.minItems))),typeof we.maxItems=="number"&&(Ft=Ft.check(Br.maxLength(we.maxItems)))}else if(Qr!==void 0){let gi=p(Qr,Tt),kn=Br.array(gi);typeof we.minItems=="number"&&(kn=kn.min(we.minItems)),typeof we.maxItems=="number"&&(kn=kn.max(we.maxItems)),Ft=kn}else Ft=Br.array(Br.any());break}default:throw Error(`Unsupported type: ${ei}`)}return we.description&&(Ft=Ft.describe(we.description)),we.default!==void 0&&(Ft=Ft.default(we.default)),Ft}(m,$),j=m.type||m.enum!==void 0||m.const!==void 0;if(m.anyOf&&Array.isArray(m.anyOf)){let Q=m.anyOf.map(Tt=>p(Tt,$)),we=Br.union(Q);f=j?Br.intersection(f,we):we}if(m.oneOf&&Array.isArray(m.oneOf)){let Q=m.oneOf.map(Tt=>p(Tt,$)),we=Br.xor(Q);f=j?Br.intersection(f,we):we}if(m.allOf&&Array.isArray(m.allOf))if(m.allOf.length===0)f=j?f:Br.any();else{let Q=j?f:p(m.allOf[0],$),we=+!j;for(let Tt=we;Tt<m.allOf.length;Tt++)Q=Br.intersection(Q,p(m.allOf[Tt],$));f=Q}return m.nullable===!0&&$.version==="openapi-3.0"&&(f=Br.nullable(f)),m.readOnly===!0&&(f=Br.readonly(f)),f}(t,a)}function Rg(t){return lo(Ru,t)}function Og(t){return El(Pu,t)}function Ng(t){return gl(ju,t)}function Pg(t){return ql(Au,t)}function jg(t){return Da(Ec,t)}_.s(["bigint",()=>Pg,"boolean",()=>Ng,"date",()=>jg,"number",()=>Og,"string",()=>Rg],52591),Jr(ss()),_.s([],80099),_.i(80099),_.i(61616),_.i(44214),_.i(63733),_.i(3056),_.i(48757),_.i(65549),_.i(36116);var Ag=xi,Mg=dl;_.i(40055),_.s(["ar",0,function(){let t,r;return{localeError:(t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}},r={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},e=>{switch(e.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${e.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${Rr(e.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${e.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${e.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${e.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${e.minimum.toString()} ${a.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${e.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${e.prefix}"`:e.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${e.suffix}"`:e.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${e.includes}"`:e.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${e.pattern}`:`${r[e.format]??e.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`;case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${e.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${e.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${e.keys.length>1?"\u0629":""}: ${Ot(e.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${e.origin}`;case"invalid_union":default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${e.origin}`}})}},"az",0,function(){let t,r;return{localeError:(t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}},r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${e.expected}, daxil olan ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${Rr(e.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${e.origin??"d\u0259y\u0259r"} ${i}${e.maximum.toString()} ${a.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${e.origin??"d\u0259y\u0259r"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${e.origin} ${i}${e.minimum.toString()} ${a.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${e.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:e.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${e.suffix}" il\u0259 bitm\u0259lidir`:e.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${e.includes}" daxil olmal\u0131d\u0131r`:e.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${e.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${r[e.format]??e.format}`;case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${e.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${e.keys.length>1?"lar":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`${e.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${e.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}})}},"be",0,function(){let t,r;return{localeError:(t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}},r={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},e=>{switch(e.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${e.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u043B\u0456\u043A";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0456\u045E";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${Rr(e.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;if(a){let p=Go(Number(e.maximum),a.unit.one,a.unit.few,a.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${a.verb} ${i}${e.maximum.toString()} ${p}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;if(a){let p=Go(Number(e.minimum),a.unit.one,a.unit.few,a.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${a.verb} ${i}${e.minimum.toString()} ${p}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${e.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${e.prefix}"`:e.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${e.suffix}"`:e.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${e.includes}"`:e.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${e.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${r[e.format]??e.format}`;case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${e.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${e.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${e.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}})}},"bg",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}},r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},e=>{switch(e.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${e.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${Rr(e.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${i}${e.maximum.toString()} ${a.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${i}${e.minimum.toString()} ${a.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${e.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${i}${e.minimum.toString()}`}case"invalid_format":{if(e.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${e.prefix}"`;if(e.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${e.suffix}"`;if(e.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${e.includes}"`;if(e.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${e.pattern}`;let i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return e.format==="emoji"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),e.format==="datetime"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),e.format==="date"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),e.format==="time"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),e.format==="duration"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${i} ${r[e.format]??e.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${e.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${e.keys.length>1?"\u043E\u0432\u0435":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${e.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${e.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}})}},"ca",0,function(){let t,r;return{localeError:(t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},r={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},e=>{switch(e.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${e.expected}, s'ha rebut ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Valor inv\xE0lid: s'esperava ${Rr(e.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${Ot(e.values," o ")}`;case"too_big":{let i=e.inclusive?"com a m\xE0xim":"menys de",a=t[e.origin]??null;return a?`Massa gran: s'esperava que ${e.origin??"el valor"} contingu\xE9s ${i} ${e.maximum.toString()} ${a.unit??"elements"}`:`Massa gran: s'esperava que ${e.origin??"el valor"} fos ${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?"com a m\xEDnim":"m\xE9s de",a=t[e.origin]??null;return a?`Massa petit: s'esperava que ${e.origin} contingu\xE9s ${i} ${e.minimum.toString()} ${a.unit}`:`Massa petit: s'esperava que ${e.origin} fos ${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${e.prefix}"`:e.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${e.suffix}"`:e.format==="includes"?`Format inv\xE0lid: ha d'incloure "${e.includes}"`:e.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${e.pattern}`:`Format inv\xE0lid per a ${r[e.format]??e.format}`;case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${e.divisor}`;case"unrecognized_keys":return`Clau${e.keys.length>1?"s":""} no reconeguda${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${e.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${e.origin}`;default:return"Entrada inv\xE0lida"}})}},"cs",0,function(){let t,r;return{localeError:(t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}},r={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},e=>{switch(e.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${e.expected}, obdr\u017Eeno ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${Rr(e.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${e.origin??"hodnota"} mus\xED m\xEDt ${i}${e.maximum.toString()} ${a.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${e.origin??"hodnota"} mus\xED b\xFDt ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${e.origin??"hodnota"} mus\xED m\xEDt ${i}${e.minimum.toString()} ${a.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${e.origin??"hodnota"} mus\xED b\xFDt ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${e.prefix}"`:e.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${e.suffix}"`:e.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${e.includes}"`:e.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${e.pattern}`:`Neplatn\xFD form\xE1t ${r[e.format]??e.format}`;case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${e.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${Ot(e.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${e.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${e.origin}`;default:return"Neplatn\xFD vstup"}})}},"da",0,function(){let t,r,e;return{localeError:(t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},r={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"},e={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i=>{var a,p,m,$;switch(i.code){case"invalid_type":return`Ugyldigt input: forventede ${r[a=i.expected]??a}, fik ${r[p=(f=>{let j=typeof f;switch(j){case"number":return Number.isNaN(f)?"NaN":"tal";case"object":return Array.isArray(f)?"liste":f===null?"null":Object.getPrototypeOf(f)!==Object.prototype&&f.constructor?f.constructor.name:"objekt"}return j})(i.input)]??p}`;case"invalid_value":return i.values.length===1?`Ugyldig v\xE6rdi: forventede ${Rr(i.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${Ot(i.values,"|")}`;case"too_big":{let f=i.inclusive?"<=":"<",j=t[i.origin]??null,Q=r[m=i.origin]??m;return j?`For stor: forventede ${Q??"value"} ${j.verb} ${f} ${i.maximum.toString()} ${j.unit??"elementer"}`:`For stor: forventede ${Q??"value"} havde ${f} ${i.maximum.toString()}`}case"too_small":{let f=i.inclusive?">=":">",j=t[i.origin]??null,Q=r[$=i.origin]??$;return j?`For lille: forventede ${Q} ${j.verb} ${f} ${i.minimum.toString()} ${j.unit}`:`For lille: forventede ${Q} havde ${f} ${i.minimum.toString()}`}case"invalid_format":return i.format==="starts_with"?`Ugyldig streng: skal starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: skal ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: skal indeholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${e[i.format]??i.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${Ot(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${i.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let t,r;return{localeError:(t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},e=>{switch(e.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${e.expected}, erhalten ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ung\xFCltige Eingabe: erwartet ${Rr(e.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Zu gro\xDF: erwartet, dass ${e.origin??"Wert"} ${i}${e.maximum.toString()} ${a.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${e.origin??"Wert"} ${i}${e.maximum.toString()} ist`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Zu klein: erwartet, dass ${e.origin} ${i}${e.minimum.toString()} ${a.unit} hat`:`Zu klein: erwartet, dass ${e.origin} ${i}${e.minimum.toString()} ist`}case"invalid_format":return e.format==="starts_with"?`Ung\xFCltiger String: muss mit "${e.prefix}" beginnen`:e.format==="ends_with"?`Ung\xFCltiger String: muss mit "${e.suffix}" enden`:e.format==="includes"?`Ung\xFCltiger String: muss "${e.includes}" enthalten`:e.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${e.pattern} entsprechen`:`Ung\xFCltig: ${r[e.format]??e.format}`;case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${e.divisor} sein`;case"unrecognized_keys":return`${e.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${e.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${e.origin}`;default:return"Ung\xFCltige Eingabe"}})}},"en",0,ss,"eo",0,function(){let t,r;return{localeError:(t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},e=>{switch(e.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${e.expected}, ricevi\u011Dis ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombro";case"object":if(Array.isArray(i))return"tabelo";if(i===null)return"senvalora";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Nevalida enigo: atendi\u011Dis ${Rr(e.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Tro granda: atendi\u011Dis ke ${e.origin??"valoro"} havu ${i}${e.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${e.origin??"valoro"} havu ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Tro malgranda: atendi\u011Dis ke ${e.origin} havu ${i}${e.minimum.toString()} ${a.unit}`:`Tro malgranda: atendi\u011Dis ke ${e.origin} estu ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${e.prefix}"`:e.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${e.suffix}"`:e.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${e.includes}"`:e.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${e.pattern}`:`Nevalida ${r[e.format]??e.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${e.divisor}`;case"unrecognized_keys":return`Nekonata${e.keys.length>1?"j":""} \u015Dlosilo${e.keys.length>1?"j":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${e.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${e.origin}`}})}},"es",0,function(){return{localeError:(()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},r={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function e(a){return r[a]??a}let i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return a=>{switch(a.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${e(a.expected)}, recibido ${e((p=>{let m=typeof p;switch(m){case"number":return Number.isNaN(p)?"NaN":"number";case"object":return Array.isArray(p)?"array":p===null?"null":Object.getPrototypeOf(p)!==Object.prototype?p.constructor.name:"object"}return m})(a.input))}`;case"invalid_value":return a.values.length===1?`Entrada inv\xE1lida: se esperaba ${Rr(a.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${Ot(a.values,"|")}`;case"too_big":{let p=a.inclusive?"<=":"<",m=t[a.origin]??null,$=e(a.origin);return m?`Demasiado grande: se esperaba que ${$??"valor"} tuviera ${p}${a.maximum.toString()} ${m.unit??"elementos"}`:`Demasiado grande: se esperaba que ${$??"valor"} fuera ${p}${a.maximum.toString()}`}case"too_small":{let p=a.inclusive?">=":">",m=t[a.origin]??null,$=e(a.origin);return m?`Demasiado peque\xF1o: se esperaba que ${$} tuviera ${p}${a.minimum.toString()} ${m.unit}`:`Demasiado peque\xF1o: se esperaba que ${$} fuera ${p}${a.minimum.toString()}`}case"invalid_format":return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${i[a.format]??a.format}`;case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${a.divisor}`;case"unrecognized_keys":return`Llave${a.keys.length>1?"s":""} desconocida${a.keys.length>1?"s":""}: ${Ot(a.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${e(a.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${e(a.origin)}`;default:return"Entrada inv\xE1lida"}}})()}},"fa",0,function(){let t,r;return{localeError:(t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}},r={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},e=>{switch(e.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${e.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":if(Array.isArray(i))return"\u0622\u0631\u0627\u06CC\u0647";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return e.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${Rr(e.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${Ot(e.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${e.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${e.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} ${a.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":return e.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${e.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:e.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${e.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:e.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${e.includes}" \u0628\u0627\u0634\u062F`:e.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${e.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${r[e.format]??e.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${e.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${e.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${e.origin}`;case"invalid_union":default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${e.origin}`}})}},"fi",0,function(){let t,r;return{localeError:(t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}},r={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},e=>{switch(e.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${e.expected}, oli ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${Rr(e.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Liian suuri: ${a.subject} t\xE4ytyy olla ${i}${e.maximum.toString()} ${a.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Liian pieni: ${a.subject} t\xE4ytyy olla ${i}${e.minimum.toString()} ${a.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${e.prefix}"`:e.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${e.suffix}"`:e.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${e.includes}"`:e.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${e.pattern}`:`Virheellinen ${r[e.format]??e.format}`;case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${e.divisor} monikerta`;case"unrecognized_keys":return`${e.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Ot(e.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}})}},"fr",0,function(){let t,r;return{localeError:(t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}},r={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},e=>{switch(e.code){case"invalid_type":return`Entr\xE9e invalide : ${e.expected} attendu, ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} re\xE7u`;case"invalid_value":return e.values.length===1?`Entr\xE9e invalide : ${Rr(e.values[0])} attendu`:`Option invalide : une valeur parmi ${Ot(e.values,"|")} attendue`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Trop grand : ${e.origin??"valeur"} doit ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${e.origin??"valeur"} doit \xEAtre ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Trop petit : ${e.origin} doit ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Trop petit : ${e.origin} doit \xEAtre ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${e.prefix}"`:e.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${e.suffix}"`:e.format==="includes"?`Cha\xEEne invalide : doit inclure "${e.includes}"`:e.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${e.pattern}`:`${r[e.format]??e.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xE9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${Ot(e.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${e.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return"Entr\xE9e invalide"}})}},"frCA",0,function(){let t,r;return{localeError:(t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}},r={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},e=>{switch(e.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${e.expected}, re\xE7u ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Entr\xE9e invalide : attendu ${Rr(e.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"\u2264":"<",a=t[e.origin]??null;return a?`Trop grand : attendu que ${e.origin??"la valeur"} ait ${i}${e.maximum.toString()} ${a.unit}`:`Trop grand : attendu que ${e.origin??"la valeur"} soit ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?"\u2265":">",a=t[e.origin]??null;return a?`Trop petit : attendu que ${e.origin} ait ${i}${e.minimum.toString()} ${a.unit}`:`Trop petit : attendu que ${e.origin} soit ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${e.prefix}"`:e.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${e.suffix}"`:e.format==="includes"?`Cha\xEEne invalide : doit inclure "${e.includes}"`:e.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${e.pattern}`:`${r[e.format]??e.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xE9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${Ot(e.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${e.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return"Entr\xE9e invalide"}})}},"he",0,function(){let t,r,e,i,a,p,m,$;return{localeError:(t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},r={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},e=f=>f?t[f]:void 0,i=f=>{let j=e(f);return j?j.label:f??t.unknown.label},a=f=>`\u05D4${i(f)}`,p=f=>(e(f)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",m=f=>f?r[f]??null:null,$={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},f=>{switch(f.code){case"invalid_type":{let j=i(f.expected),Q=(Tt=>{let Ft=typeof Tt;switch(Ft){case"number":return Number.isNaN(Tt)?"NaN":"number";case"object":return Array.isArray(Tt)?"array":Tt===null?"null":Object.getPrototypeOf(Tt)!==Object.prototype&&Tt.constructor?Tt.constructor.name:"object";default:return Ft}})(f.input),we=t[Q]?.label??Q;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${j}, \u05D4\u05EA\u05E7\u05D1\u05DC ${we}`}case"invalid_value":{if(f.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${Rr(f.values[0])}`;let j=f.values.map(Tt=>Rr(Tt));if(f.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${j[0]} \u05D0\u05D5 ${j[1]}`;let Q=j[j.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${j.slice(0,-1).join(", ")} \u05D0\u05D5 ${Q}`}case"too_big":{let j=m(f.origin),Q=a(f.origin??"value");if(f.origin==="string")return`${j?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${f.maximum.toString()} ${j?.unit??""} ${f.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(f.origin==="number"){let Ft=f.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${f.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${f.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Ft}`}if(f.origin==="array"||f.origin==="set"){let Ft=f.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",ei=f.inclusive?`${f.maximum} ${j?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${f.maximum} ${j?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${Q} ${Ft} \u05DC\u05D4\u05DB\u05D9\u05DC ${ei}`.trim()}let we=f.inclusive?"<=":"<",Tt=p(f.origin??"value");return j?.unit?`${j.longLabel} \u05DE\u05D3\u05D9: ${Q} ${Tt} ${we}${f.maximum.toString()} ${j.unit}`:`${j?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${Q} ${Tt} ${we}${f.maximum.toString()}`}case"too_small":{let j=m(f.origin),Q=a(f.origin??"value");if(f.origin==="string")return`${j?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${f.minimum.toString()} ${j?.unit??""} ${f.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(f.origin==="number"){let Ft=f.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${f.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${f.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${Q} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Ft}`}if(f.origin==="array"||f.origin==="set"){let Ft=f.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(f.minimum===1&&f.inclusive){let Ct=(f.origin,"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${Q} ${Ft} \u05DC\u05D4\u05DB\u05D9\u05DC ${Ct}`}let ei=f.inclusive?`${f.minimum} ${j?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${f.minimum} ${j?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${Q} ${Ft} \u05DC\u05D4\u05DB\u05D9\u05DC ${ei}`.trim()}let we=f.inclusive?">=":">",Tt=p(f.origin??"value");return j?.unit?`${j.shortLabel} \u05DE\u05D3\u05D9: ${Q} ${Tt} ${we}${f.minimum.toString()} ${j.unit}`:`${j?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${Q} ${Tt} ${we}${f.minimum.toString()}`}case"invalid_format":{if(f.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${f.prefix}"`;if(f.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${f.suffix}"`;if(f.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${f.includes}"`;if(f.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${f.pattern}`;let j=$[f.format],Q=j?.label??f.format,we=j?.gender??"m";return`${Q} \u05DC\u05D0 ${we==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF"}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${f.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${f.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${f.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${Ot(f.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${a(f.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}})}},"hu",0,function(){let t,r;return{localeError:(t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},r={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},e=>{switch(e.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${e.expected}, a kapott \xE9rt\xE9k ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"sz\xE1m";case"object":if(Array.isArray(i))return"t\xF6mb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${Rr(e.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`T\xFAl nagy: ${e.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${i}${e.maximum.toString()} ${a.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${e.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${e.origin} m\xE9rete t\xFAl kicsi ${i}${e.minimum.toString()} ${a.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${e.origin} t\xFAl kicsi ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\xC9rv\xE9nytelen string: "${e.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:e.format==="ends_with"?`\xC9rv\xE9nytelen string: "${e.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:e.format==="includes"?`\xC9rv\xE9nytelen string: "${e.includes}" \xE9rt\xE9ket kell tartalmaznia`:e.format==="regex"?`\xC9rv\xE9nytelen string: ${e.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${r[e.format]??e.format}`;case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${e.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${e.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${e.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}})}},"id",0,function(){let t,r;return{localeError:(t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Input tidak valid: diharapkan ${e.expected}, diterima ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Input tidak valid: diharapkan ${Rr(e.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Terlalu besar: diharapkan ${e.origin??"value"} memiliki ${i}${e.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: diharapkan ${e.origin??"value"} menjadi ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Terlalu kecil: diharapkan ${e.origin} memiliki ${i}${e.minimum.toString()} ${a.unit}`:`Terlalu kecil: diharapkan ${e.origin} menjadi ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`String tidak valid: harus dimulai dengan "${e.prefix}"`:e.format==="ends_with"?`String tidak valid: harus berakhir dengan "${e.suffix}"`:e.format==="includes"?`String tidak valid: harus menyertakan "${e.includes}"`:e.format==="regex"?`String tidak valid: harus sesuai pola ${e.pattern}`:`${r[e.format]??e.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${e.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${e.origin}`}})}},"is",0,function(){let t,r;return{localeError:(t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}},r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},e=>{switch(e.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\xFAmer";case"object":if(Array.isArray(i))return"fylki";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \xFEar sem \xE1 a\xF0 vera ${e.expected}`;case"invalid_value":return e.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${Rr(e.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin??"gildi"} hafi ${i}${e.maximum.toString()} ${a.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin??"gildi"} s\xE9 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin} hafi ${i}${e.minimum.toString()} ${a.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${e.origin} s\xE9 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${e.prefix}"`:e.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${e.suffix}"`:e.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${e.includes}"`:e.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${e.pattern}`:`Rangt ${r[e.format]??e.format}`;case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${e.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${e.keys.length>1?"ir lyklar":"ur lykill"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${e.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${e.origin}`}})}},"it",0,function(){let t,r;return{localeError:(t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Input non valido: atteso ${e.expected}, ricevuto ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Input non valido: atteso ${Rr(e.values[0])}`:`Opzione non valida: atteso uno tra ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Troppo grande: ${e.origin??"valore"} deve avere ${i}${e.maximum.toString()} ${a.unit??"elementi"}`:`Troppo grande: ${e.origin??"valore"} deve essere ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Troppo piccolo: ${e.origin} deve avere ${i}${e.minimum.toString()} ${a.unit}`:`Troppo piccolo: ${e.origin} deve essere ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Stringa non valida: deve iniziare con "${e.prefix}"`:e.format==="ends_with"?`Stringa non valida: deve terminare con "${e.suffix}"`:e.format==="includes"?`Stringa non valida: deve includere "${e.includes}"`:e.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${e.pattern}`:`Invalid ${r[e.format]??e.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${e.divisor}`;case"unrecognized_keys":return`Chiav${e.keys.length>1?"i":"e"} non riconosciut${e.keys.length>1?"e":"a"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${e.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${e.origin}`}})}},"ja",0,function(){let t,r;return{localeError:(t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}},r={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},e=>{switch(e.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${e.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u6570\u5024";case"object":if(Array.isArray(i))return"\u914D\u5217";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return e.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${Rr(e.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${Ot(e.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let i=e.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",a=t[e.origin]??null;return a?`\u5927\u304D\u3059\u304E\u308B\u5024: ${e.origin??"\u5024"}\u306F${e.maximum.toString()}${a.unit??"\u8981\u7D20"}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${e.origin??"\u5024"}\u306F${e.maximum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let i=e.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",a=t[e.origin]??null;return a?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${e.origin}\u306F${e.minimum.toString()}${a.unit}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${e.origin}\u306F${e.minimum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":return e.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${e.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:e.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${e.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:e.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${e.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:e.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${e.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${r[e.format]??e.format}`;case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${e.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${e.keys.length>1?"\u7FA4":""}: ${Ot(e.keys,"\u3001")}`;case"invalid_key":return`${e.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${e.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}})}},"ka",0,function(){let t,r;return{localeError:(t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}},r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},e=>{switch(e.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":if(Array.isArray(i))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[a]??a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${Rr(e.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${Ot(e.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${e.origin} \u10D8\u10E7\u10DD\u10E1 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${e.prefix}"-\u10D8\u10D7`:e.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${e.suffix}"-\u10D8\u10D7`:e.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${e.includes}"-\u10E1`:e.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${e.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${e.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${e.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${e.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${e.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}})}},"kh",0,function(){return xs()},"km",0,xs,"ko",0,function(){let t,r;return{localeError:(t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}},r={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},e=>{switch(e.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${e.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return e.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${Rr(e.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${Ot(e.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let i=e.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",a=i==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",p=t[e.origin]??null,m=p?.unit??"\uC694\uC18C";return p?`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${e.maximum.toString()}${m} ${i}${a}`:`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${e.maximum.toString()} ${i}${a}`}case"too_small":{let i=e.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",a=i==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",p=t[e.origin]??null,m=p?.unit??"\uC694\uC18C";return p?`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${e.minimum.toString()}${m} ${i}${a}`:`${e.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${e.minimum.toString()} ${i}${a}`}case"invalid_format":return e.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${e.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:e.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${e.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:e.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${e.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:e.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${e.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${r[e.format]??e.format}`;case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${e.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${Ot(e.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${e.origin}`;case"invalid_union":default:return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${e.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function r(i,a,p,m){let $=t[i]??null;return $===null?$:{unit:$.unit[a],verb:$.verb[m][p?"inclusive":"notInclusive"]}}let e={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return i=>{switch(i.code){case"invalid_type":var a;return`Gautas tipas ${ja(typeof(a=i.input),a)}, o tik\u0117tasi - ${ja(i.expected)}`;case"invalid_value":return i.values.length===1?`Privalo b\u016Bti ${Rr(i.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${Ot(i.values,"|")} pasirinkim\u0173`;case"too_big":{let p=ja(i.origin),m=r(i.origin,To(Number(i.maximum)),i.inclusive??!1,"smaller");if(m?.verb)return`${ls(p??i.origin??"reik\u0161m\u0117")} ${m.verb} ${i.maximum.toString()} ${m.unit??"element\u0173"}`;let $=i.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${ls(p??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${$} ${i.maximum.toString()} ${m?.unit}`}case"too_small":{let p=ja(i.origin),m=r(i.origin,To(Number(i.minimum)),i.inclusive??!1,"bigger");if(m?.verb)return`${ls(p??i.origin??"reik\u0161m\u0117")} ${m.verb} ${i.minimum.toString()} ${m.unit??"element\u0173"}`;let $=i.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${ls(p??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${$} ${i.minimum.toString()} ${m?.unit}`}case"invalid_format":return i.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${i.prefix}"`:i.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${i.includes}"`:i.format==="regex"?`Eilut\u0117 privalo atitikti ${i.pattern}`:`Neteisingas ${e[i.format]??i.format}`;case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${i.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${i.keys.length>1?"i":"as"} rakt${i.keys.length>1?"ai":"as"}: ${Ot(i.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga \u012Fvestis";case"invalid_element":{let p=ja(i.origin);return`${ls(p??i.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}}}})()}},"mk",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}},r={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},e=>{switch(e.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0431\u0440\u043E\u0458";case"object":if(Array.isArray(i))return"\u043D\u0438\u0437\u0430";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Invalid input: expected ${Rr(e.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${i}${e.maximum.toString()} ${a.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin} \u0434\u0430 \u0438\u043C\u0430 ${i}${e.minimum.toString()} ${a.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${e.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${e.prefix}"`:e.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${e.suffix}"`:e.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${e.includes}"`:e.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${e.pattern}`:`Invalid ${r[e.format]??e.format}`;case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${e.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${e.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}})}},"ms",0,function(){let t,r;return{localeError:(t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Input tidak sah: dijangka ${e.expected}, diterima ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Input tidak sah: dijangka ${Rr(e.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Terlalu besar: dijangka ${e.origin??"nilai"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: dijangka ${e.origin??"nilai"} adalah ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Terlalu kecil: dijangka ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Terlalu kecil: dijangka ${e.origin} adalah ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`String tidak sah: mesti bermula dengan "${e.prefix}"`:e.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${e.suffix}"`:e.format==="includes"?`String tidak sah: mesti mengandungi "${e.includes}"`:e.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${e.pattern}`:`${r[e.format]??e.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Ot(e.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${e.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${e.origin}`}})}},"nl",0,function(){let t,r;return{localeError:(t={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}},r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},e=>{switch(e.code){case"invalid_type":return`Ongeldige invoer: verwacht ${e.expected}, ontving ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ongeldige invoer: verwacht ${Rr(e.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Te groot: verwacht dat ${e.origin??"waarde"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"elementen"}`:`Te groot: verwacht dat ${e.origin??"waarde"} ${i}${e.maximum.toString()} is`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Te klein: verwacht dat ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Te klein: verwacht dat ${e.origin} ${i}${e.minimum.toString()} is`}case"invalid_format":return e.format==="starts_with"?`Ongeldige tekst: moet met "${e.prefix}" beginnen`:e.format==="ends_with"?`Ongeldige tekst: moet op "${e.suffix}" eindigen`:e.format==="includes"?`Ongeldige tekst: moet "${e.includes}" bevatten`:e.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${e.pattern}`:`Ongeldig: ${r[e.format]??e.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${e.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${e.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${e.origin}`}})}},"no",0,function(){let t,r;return{localeError:(t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}},r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`Ugyldig input: forventet ${e.expected}, fikk ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ugyldig verdi: forventet ${Rr(e.values[0])}`:`Ugyldig valg: forventet en av ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`For stor(t): forventet ${e.origin??"value"} til \xE5 ha ${i}${e.maximum.toString()} ${a.unit??"elementer"}`:`For stor(t): forventet ${e.origin??"value"} til \xE5 ha ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`For lite(n): forventet ${e.origin} til \xE5 ha ${i}${e.minimum.toString()} ${a.unit}`:`For lite(n): forventet ${e.origin} til \xE5 ha ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${e.prefix}"`:e.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${e.suffix}"`:e.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${e.includes}"`:e.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${e.pattern}`:`Ugyldig ${r[e.format]??e.format}`;case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${e.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${e.origin}`}})}},"ota",0,function(){let t,r;return{localeError:(t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}},r={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},e=>{switch(e.code){case"invalid_type":return`F\xE2sit giren: umulan ${e.expected}, al\u0131nan ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`F\xE2sit giren: umulan ${Rr(e.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Fazla b\xFCy\xFCk: ${e.origin??"value"}, ${i}${e.maximum.toString()} ${a.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${e.origin??"value"}, ${i}${e.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Fazla k\xFC\xE7\xFCk: ${e.origin}, ${i}${e.minimum.toString()} ${a.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${e.origin}, ${i}${e.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":return e.format==="starts_with"?`F\xE2sit metin: "${e.prefix}" ile ba\u015Flamal\u0131.`:e.format==="ends_with"?`F\xE2sit metin: "${e.suffix}" ile bitmeli.`:e.format==="includes"?`F\xE2sit metin: "${e.includes}" ihtiv\xE2 etmeli.`:e.format==="regex"?`F\xE2sit metin: ${e.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${r[e.format]??e.format}`;case"not_multiple_of":return`F\xE2sit say\u0131: ${e.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${e.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}})}},"pl",0,function(){let t,r;return{localeError:(t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}},r={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},e=>{switch(e.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${e.expected}, otrzymano ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${Rr(e.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${e.maximum.toString()} ${a.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${e.minimum.toString()} ${a.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${e.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${e.prefix}"`:e.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${e.suffix}"`:e.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${e.includes}"`:e.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${e.pattern}`:`Nieprawid\u0142ow(y/a/e) ${r[e.format]??e.format}`;case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${e.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${e.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${e.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}})}},"ps",0,function(){let t,r;return{localeError:(t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}},r={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},e=>{switch(e.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${e.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":if(Array.isArray(i))return"\u0627\u0631\u06D0";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return e.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${Rr(e.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${Ot(e.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${e.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${e.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${e.maximum.toString()} \u0648\u064A`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} ${a.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${e.origin} \u0628\u0627\u06CC\u062F ${i}${e.minimum.toString()} \u0648\u064A`}case"invalid_format":return e.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${e.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:e.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${e.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:e.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${e.includes}" \u0648\u0644\u0631\u064A`:e.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${e.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${r[e.format]??e.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`;case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${e.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${e.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${e.origin} \u06A9\u06D0`;case"invalid_union":default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${e.origin} \u06A9\u06D0`}})}},"pt",0,function(){let t,r;return{localeError:(t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},r={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},e=>{switch(e.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${e.expected}, recebido ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\xFAmero";case"object":if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Entrada inv\xE1lida: esperado ${Rr(e.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Muito grande: esperado que ${e.origin??"valor"} tivesse ${i}${e.maximum.toString()} ${a.unit??"elementos"}`:`Muito grande: esperado que ${e.origin??"valor"} fosse ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Muito pequeno: esperado que ${e.origin} tivesse ${i}${e.minimum.toString()} ${a.unit}`:`Muito pequeno: esperado que ${e.origin} fosse ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${e.prefix}"`:e.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${e.suffix}"`:e.format==="includes"?`Texto inv\xE1lido: deve incluir "${e.includes}"`:e.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${e.pattern}`:`${r[e.format]??e.format} inv\xE1lido`;case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${e.divisor}`;case"unrecognized_keys":return`Chave${e.keys.length>1?"s":""} desconhecida${e.keys.length>1?"s":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${e.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${e.origin}`;default:return"Campo inv\xE1lido"}})}},"ru",0,function(){let t,r;return{localeError:(t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}},r={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},e=>{switch(e.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${e.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":if(Array.isArray(i))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${Rr(e.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;if(a){let p=no(Number(e.maximum),a.unit.one,a.unit.few,a.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${e.maximum.toString()} ${p}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;if(a){let p=no(Number(e.minimum),a.unit.one,a.unit.few,a.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${e.minimum.toString()} ${p}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${e.origin} \u0431\u0443\u0434\u0435\u0442 ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${e.prefix}"`:e.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${e.suffix}"`:e.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${e.includes}"`:e.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${e.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${e.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${e.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${e.keys.length>1?"\u0438":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${e.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${e.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}})}},"sl",0,function(){let t,r;return{localeError:(t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},r={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},e=>{switch(e.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${e.expected}, prejeto ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0161tevilo";case"object":if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${Rr(e.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Preveliko: pri\u010Dakovano, da bo ${e.origin??"vrednost"} imelo ${i}${e.maximum.toString()} ${a.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${e.origin??"vrednost"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Premajhno: pri\u010Dakovano, da bo ${e.origin} imelo ${i}${e.minimum.toString()} ${a.unit}`:`Premajhno: pri\u010Dakovano, da bo ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${e.prefix}"`:e.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${e.suffix}"`:e.format==="includes"?`Neveljaven niz: mora vsebovati "${e.includes}"`:e.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${e.pattern}`:`Neveljaven ${r[e.format]??e.format}`;case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${e.divisor}`;case"unrecognized_keys":return`Neprepoznan${e.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${e.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${e.origin}`}})}},"sv",0,function(){let t,r;return{localeError:(t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}},r={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},e=>{switch(e.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${e.expected}, fick ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${Rr(e.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`F\xF6r stor(t): f\xF6rv\xE4ntade ${e.origin??"v\xE4rdet"} att ha ${i}${e.maximum.toString()} ${a.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${e.origin??"v\xE4rdet"} att ha ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`F\xF6r lite(t): f\xF6rv\xE4ntade ${e.origin??"v\xE4rdet"} att ha ${i}${e.minimum.toString()} ${a.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${e.origin??"v\xE4rdet"} att ha ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${e.prefix}"`:e.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${e.suffix}"`:e.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${e.includes}"`:e.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${e.pattern}"`:`Ogiltig(t) ${r[e.format]??e.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${Ot(e.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${e.origin??"v\xE4rdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${e.origin??"v\xE4rdet"}`}})}},"ta",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}},r={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},e=>{switch(e.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":if(Array.isArray(i))return"\u0B85\u0BA3\u0BBF";if(i===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Rr(e.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Ot(e.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${e.maximum.toString()} ${a.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${e.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin} ${i}${e.minimum.toString()} ${a.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${e.origin} ${i}${e.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":return e.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${e.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:e.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${e.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:e.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${e.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:e.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${e.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${e.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${e.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`${e.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${e.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}})}},"th",0,function(){let t,r;return{localeError:(t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}},r={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},e=>{switch(e.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${e.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":if(Array.isArray(i))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(i===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${Rr(e.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",a=t[e.origin]??null;return a?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.maximum.toString()} ${a.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",a=t[e.origin]??null;return a?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.minimum.toString()} ${a.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${e.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${e.prefix}"`:e.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${e.suffix}"`:e.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${e.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:e.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${e.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${r[e.format]??e.format}`;case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${e.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${Ot(e.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${e.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${e.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}})}},"tr",0,function(){let t,r;return{localeError:(t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}},r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},e=>{switch(e.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${e.expected}, al\u0131nan ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${Rr(e.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\xC7ok b\xFCy\xFCk: beklenen ${e.origin??"de\u011Fer"} ${i}${e.maximum.toString()} ${a.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${e.origin??"de\u011Fer"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\xC7ok k\xFC\xE7\xFCk: beklenen ${e.origin} ${i}${e.minimum.toString()} ${a.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Ge\xE7ersiz metin: "${e.prefix}" ile ba\u015Flamal\u0131`:e.format==="ends_with"?`Ge\xE7ersiz metin: "${e.suffix}" ile bitmeli`:e.format==="includes"?`Ge\xE7ersiz metin: "${e.includes}" i\xE7ermeli`:e.format==="regex"?`Ge\xE7ersiz metin: ${e.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[e.format]??e.format}`;case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${e.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${e.keys.length>1?"lar":""}: ${Ot(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${e.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}})}},"ua",0,function(){return ws()},"uk",0,ws,"ur",0,function(){let t,r;return{localeError:(t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}},r={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},e=>{switch(e.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${e.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0646\u0645\u0628\u0631";case"object":if(Array.isArray(i))return"\u0622\u0631\u06D2";if(i===null)return"\u0646\u0644";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return e.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${Rr(e.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${Ot(e.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${e.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${i}${e.maximum.toString()} ${a.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${e.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${i}${e.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${e.origin} \u06A9\u06D2 ${i}${e.minimum.toString()} ${a.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${e.origin} \u06A9\u0627 ${i}${e.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":return e.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${e.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:e.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${e.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:e.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${e.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:e.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${e.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${e.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${e.keys.length>1?"\u0632":""}: ${Ot(e.keys,"\u060C ")}`;case"invalid_key":return`${e.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${e.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}})}},"vi",0,function(){let t,r;return{localeError:(t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}},r={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},e=>{switch(e.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${e.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"s\u1ED1";case"object":if(Array.isArray(i))return"m\u1EA3ng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${Rr(e.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${e.origin??"gi\xE1 tr\u1ECB"} ${a.verb} ${i}${e.maximum.toString()} ${a.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${e.origin??"gi\xE1 tr\u1ECB"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${e.origin} ${a.verb} ${i}${e.minimum.toString()} ${a.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${e.prefix}"`:e.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${e.suffix}"`:e.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${e.includes}"`:e.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${e.pattern}`:`${r[e.format]??e.format} kh\xF4ng h\u1EE3p l\u1EC7`;case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${e.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${Ot(e.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${e.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${e.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}})}},"yo",0,function(){let t,r;return{localeError:(t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}},r={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},e=>{switch(e.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${e.expected}, \xE0m\u1ECD\u0300 a r\xED ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":if(Array.isArray(i))return"akop\u1ECD";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${Rr(e.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${e.origin??"iye"} ${a.verb} ${i}${e.maximum} ${a.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${e.maximum}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${e.origin} ${a.verb} ${i}${e.minimum} ${a.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${e.minimum}`}case"invalid_format":return e.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${e.prefix}"`:e.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${e.suffix}"`:e.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${e.includes}"`:e.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${e.pattern}`:`A\u1E63\xEC\u1E63e: ${r[e.format]??e.format}`;case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${e.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${Ot(e.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${e.origin}`;case"invalid_union":default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${e.origin}`}})}},"zhCN",0,function(){let t,r;return{localeError:(t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}},r={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},e=>{switch(e.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${e.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":if(Array.isArray(i))return"\u6570\u7EC4";if(i===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${Rr(e.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${e.origin??"\u503C"} ${i}${e.maximum.toString()} ${a.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${e.origin??"\u503C"} ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${e.origin} ${i}${e.minimum.toString()} ${a.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${e.origin} ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${e.prefix}" \u5F00\u5934`:e.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${e.suffix}" \u7ED3\u5C3E`:e.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${e.includes}"`:e.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${e.pattern}`:`\u65E0\u6548${r[e.format]??e.format}`;case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${e.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${Ot(e.keys,", ")}`;case"invalid_key":return`${e.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${e.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}})}},"zhTW",0,function(){let t,r;return{localeError:(t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}},r={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},e=>{switch(e.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${e.expected}\uFF0C\u4F46\u6536\u5230 ${(i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}return a})(e.input)}`;case"invalid_value":return e.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${Rr(e.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${Ot(e.values,"|")}`;case"too_big":{let i=e.inclusive?"<=":"<",a=t[e.origin]??null;return a?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${e.origin??"\u503C"} \u61C9\u70BA ${i}${e.maximum.toString()} ${a.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${e.origin??"\u503C"} \u61C9\u70BA ${i}${e.maximum.toString()}`}case"too_small":{let i=e.inclusive?">=":">",a=t[e.origin]??null;return a?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${e.origin} \u61C9\u70BA ${i}${e.minimum.toString()} ${a.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${e.origin} \u61C9\u70BA ${i}${e.minimum.toString()}`}case"invalid_format":return e.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${e.prefix}" \u958B\u982D`:e.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${e.suffix}" \u7D50\u5C3E`:e.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${e.includes}"`:e.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${e.pattern}`:`\u7121\u6548\u7684 ${r[e.format]??e.format}`;case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${e.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${e.keys.length>1?"\u5011":""}\uFF1A${Ot(e.keys,"\u3001")}`;case"invalid_key":return`${e.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${e.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}})}}],37208);var of=_.i(37208);_.i(16661),_.i(15210),_.i(91721),_.i(58214);var Dg=_.i(28740);_.s(["$ZodAny",0,yn,"$ZodArray",0,mn,"$ZodAsyncError",()=>en,"$ZodBase64",0,bs,"$ZodBase64URL",0,Wo,"$ZodBigInt",0,Be,"$ZodBigIntFormat",0,ot,"$ZodBoolean",0,oe,"$ZodCIDRv4",0,En,"$ZodCIDRv6",0,li,"$ZodCUID",0,mi,"$ZodCUID2",0,vo,"$ZodCatch",0,Dr,"$ZodCheck",0,sn,"$ZodCheckBigIntFormat",0,Bs,"$ZodCheckEndsWith",0,it,"$ZodCheckGreaterThan",0,$i,"$ZodCheckIncludes",0,be,"$ZodCheckLengthEquals",0,O,"$ZodCheckLessThan",0,Or,"$ZodCheckLowerCase",0,E,"$ZodCheckMaxLength",0,d,"$ZodCheckMaxSize",0,Vs,"$ZodCheckMimeType",0,ar,"$ZodCheckMinLength",0,y,"$ZodCheckMinSize",0,vs,"$ZodCheckMultipleOf",0,yo,"$ZodCheckNumberFormat",0,Vn,"$ZodCheckOverwrite",0,Ht,"$ZodCheckProperty",0,et,"$ZodCheckRegex",0,le,"$ZodCheckSizeEquals",0,k,"$ZodCheckStartsWith",0,je,"$ZodCheckStringFormat",0,U,"$ZodCheckUpperCase",0,X,"$ZodCodec",0,ii,"$ZodCustom",0,Va,"$ZodCustomStringFormat",0,l,"$ZodDate",0,Er,"$ZodDefault",0,Oe,"$ZodDiscriminatedUnion",0,Gs,"$ZodE164",0,_s,"$ZodEmail",0,Ei,"$ZodEmoji",0,na,"$ZodEncodeError",()=>Ln,"$ZodEnum",0,I,"$ZodError",0,an,"$ZodFile",0,se,"$ZodFunction",0,Pi,"$ZodGUID",0,un,"$ZodIPv4",0,Na,"$ZodIPv6",0,Pa,"$ZodISODate",0,Ga,"$ZodISODateTime",0,ua,"$ZodISODuration",0,za,"$ZodISOTime",0,Ui,"$ZodIntersection",0,Qs,"$ZodJWT",0,o,"$ZodKSUID",0,to,"$ZodLazy",0,Ba,"$ZodLiteral",0,H,"$ZodMAC",0,Mo,"$ZodMap",0,b,"$ZodNaN",0,dn,"$ZodNanoID",0,Oi,"$ZodNever",0,gr,"$ZodNonOptional",0,yr,"$ZodNull",0,tn,"$ZodNullable",0,_t,"$ZodNumber",0,C,"$ZodNumberFormat",0,Z,"$ZodObject",0,ro,"$ZodObjectJIT",0,Vi,"$ZodOptional",0,ue,"$ZodPipe",0,Fn,"$ZodPrefault",0,Bt,"$ZodPromise",0,sa,"$ZodReadonly",0,wn,"$ZodRealError",0,jr,"$ZodRecord",0,v,"$ZodRegistry",()=>Qo,"$ZodSet",0,z,"$ZodString",0,kt,"$ZodStringFormat",0,Mt,"$ZodSuccess",0,Me,"$ZodSymbol",0,or,"$ZodTemplateLiteral",0,ai,"$ZodTransform",0,ee,"$ZodTuple",0,s,"$ZodType",0,Vt,"$ZodULID",0,Ni,"$ZodURL",0,qn,"$ZodUUID",0,vi,"$ZodUndefined",0,Ir,"$ZodUnion",0,Eo,"$ZodUnknown",0,ut,"$ZodVoid",0,_r,"$ZodXID",0,ha,"$ZodXor",0,Hs,"$brand",0,Tr,"$constructor",()=>G,"$input",0,Ji,"$output",0,us,"Doc",()=>Xt,"JSONSchema",0,Dg,"JSONSchemaGenerator",()=>Eg,"NEVER",0,vr,"TimePrecision",0,co,"_any",()=>xn,"_array",()=>Jc,"_base64",()=>Xs,"_base64url",()=>ui,"_bigint",()=>yl,"_boolean",()=>wu,"_catch",()=>Kp,"_check",()=>Qc,"_cidrv4",()=>Ma,"_cidrv6",()=>qs,"_coercedBigint",()=>ql,"_coercedBoolean",()=>gl,"_coercedDate",()=>Da,"_coercedNumber",()=>El,"_coercedString",()=>lo,"_cuid",()=>Ar,"_cuid2",()=>Qn,"_custom",()=>Wc,"_date",()=>ol,"_decode",0,ao,"_decodeAsync",0,Fo,"_default",()=>Vp,"_discriminatedUnion",()=>Np,"_e164",()=>ga,"_email",()=>Ss,"_emoji",()=>Kn,"_encode",0,Io,"_encodeAsync",0,jo,"_endsWith",()=>zu,"_enum",()=>Up,"_file",()=>Kc,"_float32",()=>bo,"_float64",()=>Yo,"_gt",()=>ms,"_gte",()=>Oo,"_guid",()=>On,"_includes",()=>_l,"_int",()=>Tl,"_int32",()=>fl,"_int64",()=>al,"_intersection",()=>Pp,"_ipv4",()=>Us,"_ipv6",()=>Aa,"_isoDate",()=>Uo,"_isoDateTime",()=>ds,"_isoDuration",()=>So,"_isoTime",()=>_i,"_jwt",()=>Vo,"_ksuid",()=>cs,"_lazy",()=>Xp,"_length",()=>bl,"_literal",()=>Lp,"_lowercase",()=>tl,"_lt",()=>es,"_lte",()=>Xi,"_mac",()=>uo,"_map",()=>Mp,"_max",()=>Xi,"_maxLength",()=>qi,"_maxSize",()=>vl,"_mime",()=>ku,"_min",()=>Oo,"_minLength",()=>Ho,"_minSize",()=>ll,"_multipleOf",()=>sl,"_nan",()=>Ls,"_nanoid",()=>kr,"_nativeEnum",()=>qp,"_negative",()=>eu,"_never",()=>Ys,"_nonnegative",()=>Rl,"_nonoptional",()=>Hp,"_nonpositive",()=>Cl,"_normalize",()=>Iu,"_null",()=>Yl,"_nullable",()=>Bp,"_number",()=>ps,"_optional",()=>Zp,"_overwrite",()=>ul,"_parse",0,Ka,"_parseAsync",0,go,"_pipe",()=>Wp,"_positive",()=>ks,"_promise",()=>Yp,"_property",()=>ic,"_readonly",()=>Gp,"_record",()=>Ap,"_refine",()=>Gc,"_regex",()=>la,"_safeDecode",0,Wa,"_safeDecodeAsync",0,Ra,"_safeEncode",0,oo,"_safeEncodeAsync",0,gs,"_safeParse",0,wo,"_safeParseAsync",0,ko,"_set",()=>Dp,"_size",()=>Ll,"_slugify",()=>Cu,"_startsWith",()=>Su,"_string",()=>Xo,"_stringFormat",()=>tu,"_stringbool",()=>ed,"_success",()=>Jp,"_superRefine",()=>ac,"_symbol",()=>Xl,"_templateLiteral",()=>Qp,"_toLowerCase",()=>Eu,"_toUpperCase",()=>Tu,"_transform",()=>Fp,"_trim",()=>$u,"_tuple",()=>jp,"_uint32",()=>xu,"_uint64",()=>zs,"_ulid",()=>Si,"_undefined",()=>Ns,"_union",()=>Rp,"_unknown",()=>Ro,"_uppercase",()=>Ol,"_url",()=>oi,"_uuid",()=>vn,"_uuidv4",()=>zn,"_uuidv6",()=>Gn,"_uuidv7",()=>bn,"_void",()=>el,"_xid",()=>Co,"_xor",()=>Op,"clone",()=>Wn,"config",()=>Jr,"createStandardJSONSchemaMethod",0,ru,"createToJSONSchemaMethod",0,td,"decode",0,Ws,"decodeAsync",0,ma,"describe",()=>Xc,"encode",0,ra,"encodeAsync",0,Ds,"extractDefs",()=>Zl,"finalize",()=>Bl,"flattenError",()=>on,"formatError",()=>Cr,"globalConfig",0,In,"globalRegistry",0,ji,"initializeContext",()=>Fl,"isValidBase64",()=>so,"isValidBase64URL",()=>Bo,"isValidJWT",()=>T,"locales",0,of,"meta",()=>Yc,"parse",0,ba,"parseAsync",0,Po,"prettifyError",()=>zr,"process",()=>Ia,"regexes",0,Mg,"registry",()=>Do,"safeDecode",0,Sa,"safeDecodeAsync",0,Zo,"safeEncode",0,Jn,"safeEncodeAsync",0,Ao,"safeParse",0,Lo,"safeParseAsync",0,_a,"toDotPath",()=>Mr,"toJSONSchema",()=>id,"treeifyError",()=>Hr,"util",0,Ag,"version",0,Nt],20168);var Ug=_.i(20168);_.i(10419),_.i(27632),_.i(1583),_.s(["$brand",0,Tr,"ZodFirstPartyTypeKind",()=>Yt,"ZodIssueCode",0,lp,"config",()=>Jr,"getErrorMap",()=>cp,"setErrorMap",()=>up],2102),_.i(2102);var dl=dl,xi=xi,qg=_.i(52591);_.s(["$brand",0,Tr,"$input",0,Ji,"$output",0,us,"NEVER",0,vr,"TimePrecision",0,co,"ZodAny",0,$d,"ZodArray",0,Rd,"ZodBase64",0,xc,"ZodBase64URL",0,wc,"ZodBigInt",0,Au,"ZodBigIntFormat",0,Ic,"ZodBoolean",0,ju,"ZodCIDRv4",0,bc,"ZodCIDRv6",0,_c,"ZodCUID",0,pc,"ZodCUID2",0,mc,"ZodCatch",0,Qd,"ZodCodec",0,jc,"ZodCustom",0,Bu,"ZodCustomStringFormat",0,nu,"ZodDate",0,Ec,"ZodDefault",0,Vd,"ZodDiscriminatedUnion",0,Nd,"ZodE164",0,Sc,"ZodEmail",0,uc,"ZodEmoji",0,cc,"ZodEnum",0,iu,"ZodError",0,Zm,"ZodFile",0,Fd,"ZodFirstPartyTypeKind",()=>Yt,"ZodFunction",0,op,"ZodGUID",0,Ou,"ZodIPv4",0,yc,"ZodIPv6",0,vc,"ZodISODate",0,od,"ZodISODateTime",0,ad,"ZodISODuration",0,ld,"ZodISOTime",0,sd,"ZodIntersection",0,Pd,"ZodIssueCode",0,lp,"ZodJWT",0,zc,"ZodKSUID",0,gc,"ZodLazy",0,np,"ZodLiteral",0,Ld,"ZodMAC",0,_d,"ZodMap",0,Ud,"ZodNaN",0,Yd,"ZodNanoID",0,dc,"ZodNever",0,Td,"ZodNonOptional",0,Nc,"ZodNull",0,kd,"ZodNullable",0,Bd,"ZodNumber",0,Pu,"ZodNumberFormat",0,Vl,"ZodObject",0,Du,"ZodOptional",0,Oc,"ZodPipe",0,Pc,"ZodPrefault",0,Jd,"ZodPromise",0,ap,"ZodReadonly",0,ep,"ZodRealError",0,Ps,"ZodRecord",0,qu,"ZodSet",0,qd,"ZodString",0,Ru,"ZodStringFormat",0,Ua,"ZodSuccess",0,Gd,"ZodSymbol",0,Sd,"ZodTemplateLiteral",0,rp,"ZodTransform",0,Zd,"ZodTuple",0,Ad,"ZodType",0,fi,"ZodULID",0,hc,"ZodURL",0,Nu,"ZodUUID",0,cl,"ZodUndefined",0,zd,"ZodUnion",0,Uu,"ZodUnknown",0,Ed,"ZodVoid",0,Cd,"ZodXID",0,fc,"ZodXor",0,Od,"_ZodString",0,sc,"_default",()=>Hd,"_function",()=>Ac,"any",()=>$h,"array",()=>Mu,"base64",()=>ch,"base64url",()=>dh,"bigint",()=>wh,"boolean",()=>wd,"catch",()=>Xd,"check",()=>Wh,"cidrv4",()=>lh,"cidrv6",()=>uh,"clone",()=>Wn,"codec",()=>Hh,"coerce",0,qg,"config",()=>Jr,"core",0,Ug,"cuid",()=>eh,"cuid2",()=>th,"custom",()=>Gh,"date",()=>Th,"decode",0,md,"decodeAsync",0,fd,"describe",0,Xh,"discriminatedUnion",()=>jh,"e164",()=>ph,"email",()=>Bm,"emoji",()=>Xm,"encode",0,pd,"encodeAsync",0,hd,"endsWith",()=>zu,"enum",()=>Cc,"file",()=>Fh,"flattenError",()=>on,"float32",()=>vh,"float64",()=>bh,"formatError",()=>Cr,"fromJSONSchema",()=>Cg,"function",()=>Ac,"getErrorMap",()=>cp,"globalRegistry",0,ji,"gt",()=>ms,"gte",()=>Oo,"guid",()=>Vm,"hash",()=>yh,"hex",()=>gh,"hostname",()=>fh,"httpUrl",()=>Qm,"includes",()=>_l,"instanceof",()=>ef,"int",()=>kc,"int32",()=>_h,"int64",()=>Sh,"intersection",()=>jd,"ipv4",()=>ah,"ipv6",()=>sh,"iso",0,af,"json",()=>rf,"jwt",()=>mh,"keyof",()=>Ch,"ksuid",()=>ih,"lazy",()=>ip,"length",()=>bl,"literal",()=>Lh,"locales",0,of,"looseObject",()=>Nh,"looseRecord",()=>Mh,"lowercase",()=>tl,"lt",()=>es,"lte",()=>Xi,"mac",()=>oh,"map",()=>Dh,"maxLength",()=>qi,"maxSize",()=>vl,"meta",0,Yh,"mime",()=>ku,"minLength",()=>Ho,"minSize",()=>ll,"multipleOf",()=>sl,"nan",()=>Vh,"nanoid",()=>Ym,"nativeEnum",()=>qh,"negative",()=>eu,"never",()=>$c,"nonnegative",()=>Rl,"nonoptional",()=>Wd,"nonpositive",()=>Cl,"normalize",()=>Iu,"null",()=>Id,"nullable",()=>Fu,"nullish",()=>Zh,"number",()=>xd,"object",()=>Rh,"optional",()=>Lu,"overwrite",()=>ul,"parse",0,ud,"parseAsync",0,cd,"partialRecord",()=>Ah,"pipe",()=>Zu,"positive",()=>ks,"prefault",()=>Kd,"preprocess",()=>nf,"prettifyError",()=>zr,"promise",()=>Kh,"property",()=>ic,"readonly",()=>tp,"record",()=>Dd,"refine",()=>sp,"regex",()=>la,"regexes",()=>dl,"registry",()=>Do,"safeDecode",0,yd,"safeDecodeAsync",0,bd,"safeEncode",0,gd,"safeEncodeAsync",0,vd,"safeParse",0,dd,"safeParseAsync",0,oc,"set",()=>Uh,"setErrorMap",()=>up,"size",()=>Ll,"slugify",()=>Cu,"startsWith",()=>Su,"strictObject",()=>Oh,"string",()=>lc,"stringFormat",()=>hh,"stringbool",0,tf,"success",()=>Bh,"superRefine",()=>Qh,"symbol",()=>kh,"templateLiteral",()=>Jh,"toJSONSchema",()=>id,"toLowerCase",()=>Eu,"toUpperCase",()=>Tu,"transform",()=>Rc,"treeifyError",()=>Hr,"trim",()=>$u,"tuple",()=>Md,"uint32",()=>xh,"uint64",()=>zh,"ulid",()=>rh,"undefined",()=>Ih,"union",()=>Tc,"unknown",()=>Hl,"uppercase",()=>Ol,"url",()=>Gm,"util",()=>xi,"uuid",()=>Hm,"uuidv4",()=>Jm,"uuidv6",()=>Km,"uuidv7",()=>Wm,"void",()=>Eh,"xid",()=>nh,"xor",()=>Ph],8891);var sf=_.i(8891);_.s(["default",0,sf],35079),_.s([],6508),(xe=lt||(lt={})).assertEqual=t=>{},xe.assertIs=function(t){},xe.assertNever=function(t){throw Error()},xe.arrayToEnum=t=>{let r={};for(let e of t)r[e]=e;return r},xe.getValidEnumValues=t=>{let r=xe.objectKeys(t).filter(i=>typeof t[t[i]]!="number"),e={};for(let i of r)e[i]=t[i];return xe.objectValues(e)},xe.objectValues=t=>xe.objectKeys(t).map(function(r){return t[r]}),xe.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{let r=[];for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},xe.find=(t,r)=>{for(let e of t)if(r(e))return e},xe.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&Number.isFinite(t)&&Math.floor(t)===t,xe.joinValues=function(t,r=" | "){return t.map(e=>typeof e=="string"?`'${e}'`:e).join(r)},xe.jsonStringifyReplacer=(t,r)=>typeof r=="bigint"?r.toString():r,(ur||(ur={})).mergeShapes=(t,r)=>({...t,...r});let Wr=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pl=t=>{switch(typeof t){case"undefined":return Wr.undefined;case"string":return Wr.string;case"number":return Number.isNaN(t)?Wr.nan:Wr.number;case"boolean":return Wr.boolean;case"function":return Wr.function;case"bigint":return Wr.bigint;case"symbol":return Wr.symbol;case"object":return Array.isArray(t)?Wr.array:t===null?Wr.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Wr.promise:typeof Map<"u"&&t instanceof Map?Wr.map:typeof Set<"u"&&t instanceof Set?Wr.set:typeof Date<"u"&&t instanceof Date?Wr.date:Wr.object;default:return Wr.unknown}};_.s(["ZodParsedType",0,Wr,"getParsedType",0,pl,"objectUtil",()=>ur,"util",()=>lt],4760);let br=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lf=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class js extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=r}format(r){let e=r||function(p){return p.message},i={_errors:[]},a=p=>{for(let m of p.issues)if(m.code==="invalid_union")m.unionErrors.map(a);else if(m.code==="invalid_return_type")a(m.returnTypeError);else if(m.code==="invalid_arguments")a(m.argumentsError);else if(m.path.length===0)i._errors.push(e(m));else{let $=i,f=0;for(;f<m.path.length;){let j=m.path[f];f===m.path.length-1?($[j]=$[j]||{_errors:[]},$[j]._errors.push(e(m))):$[j]=$[j]||{_errors:[]},$=$[j],f++}}};return a(this),i}static assert(r){if(!(r instanceof js))throw Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=e=>e.message){let e=Object.create(null),i=[];for(let a of this.issues)if(a.path.length>0){let p=a.path[0];e[p]=e[p]||[],e[p].push(r(a))}else i.push(r(a));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}js.create=t=>new js(t),_.s(["ZodError",()=>js,"ZodIssueCode",0,br,"quotelessJson",0,lf],13458);let Jl=(t,r)=>{let e;switch(t.code){case br.invalid_type:e=t.received===Wr.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case br.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,lt.jsonStringifyReplacer)}`;break;case br.unrecognized_keys:e=`Unrecognized key(s) in object: ${lt.joinValues(t.keys,", ")}`;break;case br.invalid_union:e="Invalid input";break;case br.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${lt.joinValues(t.options)}`;break;case br.invalid_enum_value:e=`Invalid enum value. Expected ${lt.joinValues(t.options)}, received '${t.received}'`;break;case br.invalid_arguments:e="Invalid function arguments";break;case br.invalid_return_type:e="Invalid function return type";break;case br.invalid_date:e="Invalid date";break;case br.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:lt.assertNever(t.validation):e=t.validation!=="regex"?`Invalid ${t.validation}`:"Invalid";break;case br.too_small:e=t.type==="array"?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"||t.type==="bigint"?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case br.too_big:e=t.type==="array"?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case br.custom:e="Invalid input";break;case br.invalid_intersection_types:e="Intersection results could not be merged";break;case br.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case br.not_finite:e="Number must be finite";break;default:e=r.defaultError,lt.assertNever(t)}return{message:e}},Vu=Jl;function dp(t){Vu=t}function pp(){return Vu}_.s(["getErrorMap",()=>pp,"setErrorMap",()=>dp],3536);let Hu=t=>{let{data:r,path:e,errorMaps:i,issueData:a}=t,p=[...e,...a.path||[]],m={...a,path:p};if(a.message!==void 0)return{...a,path:p,message:a.message};let $="";for(let f of i.filter(j=>!!j).slice().reverse())$=f(m,{data:r,defaultError:$}).message;return{...a,path:p,message:$}},uf=[];function Lr(t,r){let e=Vu,i=Hu({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e,e===Jl?void 0:Jl].filter(a=>!!a)});t.common.issues.push(i)}class ts{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){let i=[];for(let a of e){if(a.status==="aborted")return jn;a.status==="dirty"&&r.dirty(),i.push(a.value)}return{status:r.value,value:i}}static async mergeObjectAsync(r,e){let i=[];for(let a of e){let p=await a.key,m=await a.value;i.push({key:p,value:m})}return ts.mergeObjectSync(r,i)}static mergeObjectSync(r,e){let i={};for(let a of e){let{key:p,value:m}=a;if(p.status==="aborted"||m.status==="aborted")return jn;p.status==="dirty"&&r.dirty(),m.status==="dirty"&&r.dirty(),p.value!=="__proto__"&&(m.value!==void 0||a.alwaysSet)&&(i[p.value]=m.value)}return{status:r.value,value:i}}}let jn=Object.freeze({status:"aborted"}),Ju=t=>({status:"dirty",value:t}),hs=t=>({status:"valid",value:t}),Mc=t=>t.status==="aborted",Dc=t=>t.status==="dirty",Nl=t=>t.status==="valid",au=t=>typeof Promise<"u"&&t instanceof Promise;_.s(["DIRTY",0,Ju,"EMPTY_PATH",0,uf,"INVALID",0,jn,"OK",0,hs,"ParseStatus",()=>ts,"addIssueToContext",()=>Lr,"isAborted",0,Mc,"isAsync",0,au,"isDirty",0,Dc,"isValid",0,Nl,"makeIssue",0,Hu],63922),_.s([],89402),(n=ct||(ct={})).errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t?.message;class ml{constructor(r,e,i,a){this._cachedPath=[],this.parent=r,this.data=e,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let cf=(t,r)=>{if(Nl(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let e=new js(t.common.issues);return this._error=e,this._error}}};function ci(t){if(!t)return{};let{errorMap:r,invalid_type_error:e,required_error:i,description:a}=t;if(r&&(e||i))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(p,m)=>{let{message:$}=t;return p.code==="invalid_enum_value"?{message:$??m.defaultError}:m.data===void 0?{message:$??i??m.defaultError}:p.code!=="invalid_type"?{message:m.defaultError}:{message:$??e??m.defaultError}},description:a}}class si{get description(){return this._def.description}_getType(r){return pl(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:pl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new ts,ctx:{common:r.parent.common,data:r.data,parsedType:pl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let e=this._parse(r);if(au(e))throw Error("Synchronous parse encountered promise.");return e}_parseAsync(r){return Promise.resolve(this._parse(r))}parse(r,e){let i=this.safeParse(r,e);if(i.success)return i.data;throw i.error}safeParse(r,e){let i={common:{issues:[],async:e?.async??!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:pl(r)},a=this._parseSync({data:r,path:i.path,parent:i});return cf(i,a)}"~validate"(r){let e={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:pl(r)};if(!this["~standard"].async)try{let i=this._parseSync({data:r,path:[],parent:e});return Nl(i)?{value:i.value}:{issues:e.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),e.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:e}).then(i=>Nl(i)?{value:i.value}:{issues:e.common.issues})}async parseAsync(r,e){let i=await this.safeParseAsync(r,e);if(i.success)return i.data;throw i.error}async safeParseAsync(r,e){let i={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:pl(r)},a=this._parse({data:r,path:i.path,parent:i});return cf(i,await(au(a)?a:Promise.resolve(a)))}refine(r,e){return this._refinement((i,a)=>{let p=r(i),m=()=>a.addIssue({code:br.custom,...typeof e=="string"||e===void 0?{message:e}:typeof e=="function"?e(i):e});return typeof Promise<"u"&&p instanceof Promise?p.then($=>!!$||(m(),!1)):!!p||(m(),!1)})}refinement(r,e){return this._refinement((i,a)=>!!r(i)||(a.addIssue(typeof e=="function"?e(i,a):e),!1))}_refinement(r){return new Fs({schema:this,typeName:mt.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return nl.create(this,this._def)}nullable(){return kl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ks.create(this)}promise(){return Gl.create(this,this._def)}or(r){return uu.create([this,r],this._def)}and(r){return cu.create(this,r,this._def)}transform(r){return new Fs({...ci(this._def),schema:this,typeName:mt.ZodEffects,effect:{type:"transform",transform:r}})}default(r){return new hu({...ci(this._def),innerType:this,defaultValue:typeof r=="function"?r:()=>r,typeName:mt.ZodDefault})}brand(){return new Uc({typeName:mt.ZodBranded,type:this,...ci(this._def)})}catch(r){return new fu({...ci(this._def),innerType:this,catchValue:typeof r=="function"?r:()=>r,typeName:mt.ZodCatch})}describe(r){return new this.constructor({...this._def,description:r})}pipe(r){return gu.create(this,r)}readonly(){return yu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let Lg=/^c[^\s-]{8,}$/i,Fg=/^[0-9a-z]+$/,Zg=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Vg=/^[a-z0-9_-]{21}$/i,Hg=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jg=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Kg=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Qg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Xg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ey=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,df="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ty=RegExp(`^${df}$`);function pf(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);let e=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${e}`}function mp(t){let r=`${df}T${pf(t)}`,e=[];return e.push(t.local?"Z?":"Z"),t.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,RegExp(`^${r}$`)}class Js extends si{_parse(r){var e,i,a,p;let m;if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Wr.string){let f=this._getOrReturnCtx(r);return Lr(f,{code:br.invalid_type,expected:Wr.string,received:f.parsedType}),jn}let $=new ts;for(let f of this._def.checks)if(f.kind==="min")r.data.length<f.value&&(Lr(m=this._getOrReturnCtx(r,m),{code:br.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),$.dirty());else if(f.kind==="max")r.data.length>f.value&&(Lr(m=this._getOrReturnCtx(r,m),{code:br.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),$.dirty());else if(f.kind==="length"){let j=r.data.length>f.value,Q=r.data.length<f.value;(j||Q)&&(m=this._getOrReturnCtx(r,m),j?Lr(m,{code:br.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):Q&&Lr(m,{code:br.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),$.dirty())}else if(f.kind==="email")Kg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"email",code:br.invalid_string,message:f.message}),$.dirty());else if(f.kind==="emoji")g||(g=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),g.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"emoji",code:br.invalid_string,message:f.message}),$.dirty());else if(f.kind==="uuid")Bg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"uuid",code:br.invalid_string,message:f.message}),$.dirty());else if(f.kind==="nanoid")Vg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"nanoid",code:br.invalid_string,message:f.message}),$.dirty());else if(f.kind==="cuid")Lg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"cuid",code:br.invalid_string,message:f.message}),$.dirty());else if(f.kind==="cuid2")Fg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"cuid2",code:br.invalid_string,message:f.message}),$.dirty());else if(f.kind==="ulid")Zg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"ulid",code:br.invalid_string,message:f.message}),$.dirty());else if(f.kind==="url")try{new URL(r.data)}catch{Lr(m=this._getOrReturnCtx(r,m),{validation:"url",code:br.invalid_string,message:f.message}),$.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"regex",code:br.invalid_string,message:f.message}),$.dirty())):f.kind==="trim"?r.data=r.data.trim():f.kind==="includes"?r.data.includes(f.value,f.position)||(Lr(m=this._getOrReturnCtx(r,m),{code:br.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),$.dirty()):f.kind==="toLowerCase"?r.data=r.data.toLowerCase():f.kind==="toUpperCase"?r.data=r.data.toUpperCase():f.kind==="startsWith"?r.data.startsWith(f.value)||(Lr(m=this._getOrReturnCtx(r,m),{code:br.invalid_string,validation:{startsWith:f.value},message:f.message}),$.dirty()):f.kind==="endsWith"?r.data.endsWith(f.value)||(Lr(m=this._getOrReturnCtx(r,m),{code:br.invalid_string,validation:{endsWith:f.value},message:f.message}),$.dirty()):f.kind==="datetime"?mp(f).test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{code:br.invalid_string,validation:"datetime",message:f.message}),$.dirty()):f.kind==="date"?ty.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{code:br.invalid_string,validation:"date",message:f.message}),$.dirty()):f.kind==="time"?RegExp(`^${pf(f)}$`).test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{code:br.invalid_string,validation:"time",message:f.message}),$.dirty()):f.kind==="duration"?Jg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"duration",code:br.invalid_string,message:f.message}),$.dirty()):f.kind==="ip"?(e=r.data,!(((i=f.version)==="v4"||!i)&&Wg.test(e)||(i==="v6"||!i)&&Qg.test(e))&&(Lr(m=this._getOrReturnCtx(r,m),{validation:"ip",code:br.invalid_string,message:f.message}),$.dirty())):f.kind==="jwt"?!function(j,Q){if(!Hg.test(j))return!1;try{let[we]=j.split(".");if(!we)return!1;let Tt=we.replace(/-/g,"+").replace(/_/g,"/").padEnd(we.length+(4-we.length%4)%4,"="),Ft=JSON.parse(atob(Tt));return!(typeof Ft!="object"||Ft===null||"typ"in Ft&&Ft?.typ!=="JWT"||!Ft.alg||Q&&Ft.alg!==Q)}catch{return!1}}(r.data,f.alg)&&(Lr(m=this._getOrReturnCtx(r,m),{validation:"jwt",code:br.invalid_string,message:f.message}),$.dirty()):f.kind==="cidr"?(a=r.data,!(((p=f.version)==="v4"||!p)&&Gg.test(a)||(p==="v6"||!p)&&Xg.test(a))&&(Lr(m=this._getOrReturnCtx(r,m),{validation:"cidr",code:br.invalid_string,message:f.message}),$.dirty())):f.kind==="base64"?Yg.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"base64",code:br.invalid_string,message:f.message}),$.dirty()):f.kind==="base64url"?ey.test(r.data)||(Lr(m=this._getOrReturnCtx(r,m),{validation:"base64url",code:br.invalid_string,message:f.message}),$.dirty()):lt.assertNever(f);return{status:$.value,value:r.data}}_regex(r,e,i){return this.refinement(a=>r.test(a),{validation:e,code:br.invalid_string,...ct.errToObj(i)})}_addCheck(r){return new Js({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...ct.errToObj(r)})}url(r){return this._addCheck({kind:"url",...ct.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...ct.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...ct.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...ct.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...ct.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...ct.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...ct.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...ct.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...ct.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...ct.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...ct.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...ct.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:r?.precision===void 0?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...ct.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:r?.precision===void 0?null:r?.precision,...ct.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...ct.errToObj(r)})}regex(r,e){return this._addCheck({kind:"regex",regex:r,...ct.errToObj(e)})}includes(r,e){return this._addCheck({kind:"includes",value:r,position:e?.position,...ct.errToObj(e?.message)})}startsWith(r,e){return this._addCheck({kind:"startsWith",value:r,...ct.errToObj(e)})}endsWith(r,e){return this._addCheck({kind:"endsWith",value:r,...ct.errToObj(e)})}min(r,e){return this._addCheck({kind:"min",value:r,...ct.errToObj(e)})}max(r,e){return this._addCheck({kind:"max",value:r,...ct.errToObj(e)})}length(r,e){return this._addCheck({kind:"length",value:r,...ct.errToObj(e)})}nonempty(r){return this.min(1,ct.errToObj(r))}trim(){return new Js({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxLength(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}Js.create=t=>new Js({checks:[],typeName:mt.ZodString,coerce:t?.coerce??!1,...ci(t)});class xl extends si{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){let e;if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Wr.number){let a=this._getOrReturnCtx(r);return Lr(a,{code:br.invalid_type,expected:Wr.number,received:a.parsedType}),jn}let i=new ts;for(let a of this._def.checks)a.kind==="int"?lt.isInteger(r.data)||(Lr(e=this._getOrReturnCtx(r,e),{code:br.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?function(p,m){let $=(p.toString().split(".")[1]||"").length,f=(m.toString().split(".")[1]||"").length,j=$>f?$:f;return Number.parseInt(p.toFixed(j).replace(".",""))%Number.parseInt(m.toFixed(j).replace(".",""))/10**j}(r.data,a.value)!==0&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(r.data)||(Lr(e=this._getOrReturnCtx(r,e),{code:br.not_finite,message:a.message}),i.dirty()):lt.assertNever(a);return{status:i.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,ct.toString(e))}gt(r,e){return this.setLimit("min",r,!1,ct.toString(e))}lte(r,e){return this.setLimit("max",r,!0,ct.toString(e))}lt(r,e){return this.setLimit("max",r,!1,ct.toString(e))}setLimit(r,e,i,a){return new xl({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:i,message:ct.toString(a)}]})}_addCheck(r){return new xl({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:ct.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ct.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ct.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ct.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ct.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:ct.toString(e)})}finite(r){return this._addCheck({kind:"finite",message:ct.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ct.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ct.toString(r)})}get minValue(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&lt.isInteger(r.value))}get isFinite(){let r=null,e=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(e===null||i.value>e)&&(e=i.value):i.kind==="max"&&(r===null||i.value<r)&&(r=i.value)}return Number.isFinite(e)&&Number.isFinite(r)}}xl.create=t=>new xl({checks:[],typeName:mt.ZodNumber,coerce:t?.coerce||!1,...ci(t)});class wl extends si{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){let e;if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==Wr.bigint)return this._getInvalidInput(r);let i=new ts;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?r.data%a.value!==BigInt(0)&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):lt.assertNever(a);return{status:i.value,value:r.data}}_getInvalidInput(r){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.bigint,received:e.parsedType}),jn}gte(r,e){return this.setLimit("min",r,!0,ct.toString(e))}gt(r,e){return this.setLimit("min",r,!1,ct.toString(e))}lte(r,e){return this.setLimit("max",r,!0,ct.toString(e))}lt(r,e){return this.setLimit("max",r,!1,ct.toString(e))}setLimit(r,e,i,a){return new wl({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:i,message:ct.toString(a)}]})}_addCheck(r){return new wl({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ct.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ct.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ct.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ct.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:ct.toString(e)})}get minValue(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}wl.create=t=>new wl({checks:[],typeName:mt.ZodBigInt,coerce:t?.coerce??!1,...ci(t)});class ou extends si{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Wr.boolean){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.boolean,received:e.parsedType}),jn}return hs(r.data)}}ou.create=t=>new ou({typeName:mt.ZodBoolean,coerce:t?.coerce||!1,...ci(t)});class Pl extends si{_parse(r){let e;if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Wr.date){let a=this._getOrReturnCtx(r);return Lr(a,{code:br.invalid_type,expected:Wr.date,received:a.parsedType}),jn}if(Number.isNaN(r.data.getTime()))return Lr(this._getOrReturnCtx(r),{code:br.invalid_date}),jn;let i=new ts;for(let a of this._def.checks)a.kind==="min"?r.data.getTime()<a.value&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?r.data.getTime()>a.value&&(Lr(e=this._getOrReturnCtx(r,e),{code:br.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):lt.assertNever(a);return{status:i.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Pl({...this._def,checks:[...this._def.checks,r]})}min(r,e){return this._addCheck({kind:"min",value:r.getTime(),message:ct.toString(e)})}max(r,e){return this._addCheck({kind:"max",value:r.getTime(),message:ct.toString(e)})}get minDate(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r!=null?new Date(r):null}}Pl.create=t=>new Pl({checks:[],coerce:t?.coerce||!1,typeName:mt.ZodDate,...ci(t)});class Ku extends si{_parse(r){if(this._getType(r)!==Wr.symbol){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.symbol,received:e.parsedType}),jn}return hs(r.data)}}Ku.create=t=>new Ku({typeName:mt.ZodSymbol,...ci(t)});class su extends si{_parse(r){if(this._getType(r)!==Wr.undefined){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.undefined,received:e.parsedType}),jn}return hs(r.data)}}su.create=t=>new su({typeName:mt.ZodUndefined,...ci(t)});class lu extends si{_parse(r){if(this._getType(r)!==Wr.null){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.null,received:e.parsedType}),jn}return hs(r.data)}}lu.create=t=>new lu({typeName:mt.ZodNull,...ci(t)});class Kl extends si{constructor(){super(...arguments),this._any=!0}_parse(r){return hs(r.data)}}Kl.create=t=>new Kl({typeName:mt.ZodAny,...ci(t)});class jl extends si{constructor(){super(...arguments),this._unknown=!0}_parse(r){return hs(r.data)}}jl.create=t=>new jl({typeName:mt.ZodUnknown,...ci(t)});class hl extends si{_parse(r){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.never,received:e.parsedType}),jn}}hl.create=t=>new hl({typeName:mt.ZodNever,...ci(t)});class Wu extends si{_parse(r){if(this._getType(r)!==Wr.undefined){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.void,received:e.parsedType}),jn}return hs(r.data)}}Wu.create=t=>new Wu({typeName:mt.ZodVoid,...ci(t)});class Ks extends si{_parse(r){let{ctx:e,status:i}=this._processInputParams(r),a=this._def;if(e.parsedType!==Wr.array)return Lr(e,{code:br.invalid_type,expected:Wr.array,received:e.parsedType}),jn;if(a.exactLength!==null){let m=e.data.length>a.exactLength.value,$=e.data.length<a.exactLength.value;(m||$)&&(Lr(e,{code:m?br.too_big:br.too_small,minimum:$?a.exactLength.value:void 0,maximum:m?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&e.data.length<a.minLength.value&&(Lr(e,{code:br.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&e.data.length>a.maxLength.value&&(Lr(e,{code:br.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map((m,$)=>a.type._parseAsync(new ml(e,m,e.path,$)))).then(m=>ts.mergeArray(i,m));let p=[...e.data].map((m,$)=>a.type._parseSync(new ml(e,m,e.path,$)));return ts.mergeArray(i,p)}get element(){return this._def.type}min(r,e){return new Ks({...this._def,minLength:{value:r,message:ct.toString(e)}})}max(r,e){return new Ks({...this._def,maxLength:{value:r,message:ct.toString(e)}})}length(r,e){return new Ks({...this._def,exactLength:{value:r,message:ct.toString(e)}})}nonempty(r){return this.min(1,r)}}Ks.create=(t,r)=>new Ks({type:t,minLength:null,maxLength:null,exactLength:null,typeName:mt.ZodArray,...ci(r)});class io extends si{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let r=this._def.shape(),e=lt.objectKeys(r);return this._cached={shape:r,keys:e},this._cached}_parse(r){if(this._getType(r)!==Wr.object){let f=this._getOrReturnCtx(r);return Lr(f,{code:br.invalid_type,expected:Wr.object,received:f.parsedType}),jn}let{status:e,ctx:i}=this._processInputParams(r),{shape:a,keys:p}=this._getCached(),m=[];if(!(this._def.catchall instanceof hl&&this._def.unknownKeys==="strip"))for(let f in i.data)p.includes(f)||m.push(f);let $=[];for(let f of p){let j=a[f],Q=i.data[f];$.push({key:{status:"valid",value:f},value:j._parse(new ml(i,Q,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof hl){let f=this._def.unknownKeys;if(f==="passthrough")for(let j of m)$.push({key:{status:"valid",value:j},value:{status:"valid",value:i.data[j]}});else if(f==="strict")m.length>0&&(Lr(i,{code:br.unrecognized_keys,keys:m}),e.dirty());else if(f!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let f=this._def.catchall;for(let j of m){let Q=i.data[j];$.push({key:{status:"valid",value:j},value:f._parse(new ml(i,Q,i.path,j)),alwaysSet:j in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let f=[];for(let j of $){let Q=await j.key,we=await j.value;f.push({key:Q,value:we,alwaysSet:j.alwaysSet})}return f}).then(f=>ts.mergeObjectSync(e,f)):ts.mergeObjectSync(e,$)}get shape(){return this._def.shape()}strict(r){return ct.errToObj,new io({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(e,i)=>{let a=this._def.errorMap?.(e,i).message??i.defaultError;return e.code==="unrecognized_keys"?{message:ct.errToObj(r).message??a}:{message:a}}}:{}})}strip(){return new io({...this._def,unknownKeys:"strip"})}passthrough(){return new io({...this._def,unknownKeys:"passthrough"})}extend(r){return new io({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new io({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:mt.ZodObject})}setKey(r,e){return this.augment({[r]:e})}catchall(r){return new io({...this._def,catchall:r})}pick(r){let e={};for(let i of lt.objectKeys(r))r[i]&&this.shape[i]&&(e[i]=this.shape[i]);return new io({...this._def,shape:()=>e})}omit(r){let e={};for(let i of lt.objectKeys(this.shape))r[i]||(e[i]=this.shape[i]);return new io({...this._def,shape:()=>e})}deepPartial(){return function r(e){if(e instanceof io){let i={};for(let a in e.shape){let p=e.shape[a];i[a]=nl.create(r(p))}return new io({...e._def,shape:()=>i})}return e instanceof Ks?new Ks({...e._def,type:r(e.element)}):e instanceof nl?nl.create(r(e.unwrap())):e instanceof kl?kl.create(r(e.unwrap())):e instanceof rl?rl.create(e.items.map(i=>r(i))):e}(this)}partial(r){let e={};for(let i of lt.objectKeys(this.shape)){let a=this.shape[i];r&&!r[i]?e[i]=a:e[i]=a.optional()}return new io({...this._def,shape:()=>e})}required(r){let e={};for(let i of lt.objectKeys(this.shape))if(r&&!r[i])e[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof nl;)a=a._def.innerType;e[i]=a}return new io({...this._def,shape:()=>e})}keyof(){return mf(lt.objectKeys(this.shape))}}io.create=(t,r)=>new io({shape:()=>t,unknownKeys:"strip",catchall:hl.create(),typeName:mt.ZodObject,...ci(r)}),io.strictCreate=(t,r)=>new io({shape:()=>t,unknownKeys:"strict",catchall:hl.create(),typeName:mt.ZodObject,...ci(r)}),io.lazycreate=(t,r)=>new io({shape:t,unknownKeys:"strip",catchall:hl.create(),typeName:mt.ZodObject,...ci(r)});class uu extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i=this._def.options;if(e.common.async)return Promise.all(i.map(async a=>{let p={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:p}),ctx:p}})).then(function(a){for(let m of a)if(m.result.status==="valid")return m.result;for(let m of a)if(m.result.status==="dirty")return e.common.issues.push(...m.ctx.common.issues),m.result;let p=a.map(m=>new js(m.ctx.common.issues));return Lr(e,{code:br.invalid_union,unionErrors:p}),jn});{let a,p=[];for(let $ of i){let f={...e,common:{...e.common,issues:[]},parent:null},j=$._parseSync({data:e.data,path:e.path,parent:f});if(j.status==="valid")return j;j.status!=="dirty"||a||(a={result:j,ctx:f}),f.common.issues.length&&p.push(f.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;let m=p.map($=>new js($));return Lr(e,{code:br.invalid_union,unionErrors:m}),jn}}get options(){return this._def.options}}uu.create=(t,r)=>new uu({options:t,typeName:mt.ZodUnion,...ci(r)});let Sl=t=>t instanceof du?Sl(t.schema):t instanceof Fs?Sl(t.innerType()):t instanceof pu?[t.value]:t instanceof zl?t.options:t instanceof mu?lt.objectValues(t.enum):t instanceof hu?Sl(t._def.innerType):t instanceof su?[void 0]:t instanceof lu?[null]:t instanceof nl?[void 0,...Sl(t.unwrap())]:t instanceof kl?[null,...Sl(t.unwrap())]:t instanceof Uc||t instanceof yu?Sl(t.unwrap()):t instanceof fu?Sl(t._def.innerType):[];class Gu extends si{_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==Wr.object)return Lr(e,{code:br.invalid_type,expected:Wr.object,received:e.parsedType}),jn;let i=this.discriminator,a=e.data[i],p=this.optionsMap.get(a);return p?e.common.async?p._parseAsync({data:e.data,path:e.path,parent:e}):p._parseSync({data:e.data,path:e.path,parent:e}):(Lr(e,{code:br.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),jn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,i){let a=new Map;for(let p of e){let m=Sl(p.shape[r]);if(!m.length)throw Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let $ of m){if(a.has($))throw Error(`Discriminator property ${String(r)} has duplicate value ${String($)}`);a.set($,p)}}return new Gu({typeName:mt.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:a,...ci(i)})}}class cu extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r),a=(p,m)=>{if(Mc(p)||Mc(m))return jn;let $=function f(j,Q){let we=pl(j),Tt=pl(Q);if(j===Q)return{valid:!0,data:j};if(we===Wr.object&&Tt===Wr.object){let Ft=lt.objectKeys(Q),ei=lt.objectKeys(j).filter(Qr=>Ft.indexOf(Qr)!==-1),Ct={...j,...Q};for(let Qr of ei){let gi=f(j[Qr],Q[Qr]);if(!gi.valid)return{valid:!1};Ct[Qr]=gi.data}return{valid:!0,data:Ct}}if(we===Wr.array&&Tt===Wr.array){if(j.length!==Q.length)return{valid:!1};let Ft=[];for(let ei=0;ei<j.length;ei++){let Ct=f(j[ei],Q[ei]);if(!Ct.valid)return{valid:!1};Ft.push(Ct.data)}return{valid:!0,data:Ft}}return we===Wr.date&&Tt===Wr.date&&+j==+Q?{valid:!0,data:j}:{valid:!1}}(p.value,m.value);return $.valid?((Dc(p)||Dc(m))&&e.dirty(),{status:e.value,value:$.data}):(Lr(i,{code:br.invalid_intersection_types}),jn)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([p,m])=>a(p,m)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}cu.create=(t,r,e)=>new cu({left:t,right:r,typeName:mt.ZodIntersection,...ci(e)});class rl extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Wr.array)return Lr(i,{code:br.invalid_type,expected:Wr.array,received:i.parsedType}),jn;if(i.data.length<this._def.items.length)return Lr(i,{code:br.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jn;!this._def.rest&&i.data.length>this._def.items.length&&(Lr(i,{code:br.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());let a=[...i.data].map((p,m)=>{let $=this._def.items[m]||this._def.rest;return $?$._parse(new ml(i,p,i.path,m)):null}).filter(p=>!!p);return i.common.async?Promise.all(a).then(p=>ts.mergeArray(e,p)):ts.mergeArray(e,a)}get items(){return this._def.items}rest(r){return new rl({...this._def,rest:r})}}rl.create=(t,r)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new rl({items:t,typeName:mt.ZodTuple,rest:null,...ci(r)})};class Qu extends si{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Wr.object)return Lr(i,{code:br.invalid_type,expected:Wr.object,received:i.parsedType}),jn;let a=[],p=this._def.keyType,m=this._def.valueType;for(let $ in i.data)a.push({key:p._parse(new ml(i,$,i.path,$)),value:m._parse(new ml(i,i.data[$],i.path,$)),alwaysSet:$ in i.data});return i.common.async?ts.mergeObjectAsync(e,a):ts.mergeObjectSync(e,a)}get element(){return this._def.valueType}static create(r,e,i){return new Qu(e instanceof si?{keyType:r,valueType:e,typeName:mt.ZodRecord,...ci(i)}:{keyType:Js.create(),valueType:r,typeName:mt.ZodRecord,...ci(e)})}}class Xu extends si{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Wr.map)return Lr(i,{code:br.invalid_type,expected:Wr.map,received:i.parsedType}),jn;let a=this._def.keyType,p=this._def.valueType,m=[...i.data.entries()].map(([$,f],j)=>({key:a._parse(new ml(i,$,i.path,[j,"key"])),value:p._parse(new ml(i,f,i.path,[j,"value"]))}));if(i.common.async){let $=new Map;return Promise.resolve().then(async()=>{for(let f of m){let j=await f.key,Q=await f.value;if(j.status==="aborted"||Q.status==="aborted")return jn;(j.status==="dirty"||Q.status==="dirty")&&e.dirty(),$.set(j.value,Q.value)}return{status:e.value,value:$}})}{let $=new Map;for(let f of m){let j=f.key,Q=f.value;if(j.status==="aborted"||Q.status==="aborted")return jn;(j.status==="dirty"||Q.status==="dirty")&&e.dirty(),$.set(j.value,Q.value)}return{status:e.value,value:$}}}}Xu.create=(t,r,e)=>new Xu({valueType:r,keyType:t,typeName:mt.ZodMap,...ci(e)});class Al extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==Wr.set)return Lr(i,{code:br.invalid_type,expected:Wr.set,received:i.parsedType}),jn;let a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(Lr(i,{code:br.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),e.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(Lr(i,{code:br.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),e.dirty());let p=this._def.valueType;function m(f){let j=new Set;for(let Q of f){if(Q.status==="aborted")return jn;Q.status==="dirty"&&e.dirty(),j.add(Q.value)}return{status:e.value,value:j}}let $=[...i.data.values()].map((f,j)=>p._parse(new ml(i,f,i.path,j)));return i.common.async?Promise.all($).then(f=>m(f)):m($)}min(r,e){return new Al({...this._def,minSize:{value:r,message:ct.toString(e)}})}max(r,e){return new Al({...this._def,maxSize:{value:r,message:ct.toString(e)}})}size(r,e){return this.min(r,e).max(r,e)}nonempty(r){return this.min(1,r)}}Al.create=(t,r)=>new Al({valueType:t,minSize:null,maxSize:null,typeName:mt.ZodSet,...ci(r)});class Wl extends si{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==Wr.function)return Lr(e,{code:br.invalid_type,expected:Wr.function,received:e.parsedType}),jn;function i($,f){return Hu({data:$,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Vu,Jl].filter(j=>!!j),issueData:{code:br.invalid_arguments,argumentsError:f}})}function a($,f){return Hu({data:$,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Vu,Jl].filter(j=>!!j),issueData:{code:br.invalid_return_type,returnTypeError:f}})}let p={errorMap:e.common.contextualErrorMap},m=e.data;if(this._def.returns instanceof Gl){let $=this;return hs(async function(...f){let j=new js([]),Q=await $._def.args.parseAsync(f,p).catch(Tt=>{throw j.addIssue(i(f,Tt)),j}),we=await Reflect.apply(m,this,Q);return await $._def.returns._def.type.parseAsync(we,p).catch(Tt=>{throw j.addIssue(a(we,Tt)),j})})}{let $=this;return hs(function(...f){let j=$._def.args.safeParse(f,p);if(!j.success)throw new js([i(f,j.error)]);let Q=Reflect.apply(m,this,j.data),we=$._def.returns.safeParse(Q,p);if(!we.success)throw new js([a(Q,we.error)]);return we.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Wl({...this._def,args:rl.create(r).rest(jl.create())})}returns(r){return new Wl({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,i){return new Wl({args:r||rl.create([]).rest(jl.create()),returns:e||jl.create(),typeName:mt.ZodFunction,...ci(i)})}}class du extends si{get schema(){return this._def.getter()}_parse(r){let{ctx:e}=this._processInputParams(r);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}du.create=(t,r)=>new du({getter:t,typeName:mt.ZodLazy,...ci(r)});class pu extends si{_parse(r){if(r.data!==this._def.value){let e=this._getOrReturnCtx(r);return Lr(e,{received:e.data,code:br.invalid_literal,expected:this._def.value}),jn}return{status:"valid",value:r.data}}get value(){return this._def.value}}function mf(t,r){return new zl({values:t,typeName:mt.ZodEnum,...ci(r)})}pu.create=(t,r)=>new pu({value:t,typeName:mt.ZodLiteral,...ci(r)});class zl extends si{_parse(r){if(typeof r.data!="string"){let e=this._getOrReturnCtx(r),i=this._def.values;return Lr(e,{expected:lt.joinValues(i),received:e.parsedType,code:br.invalid_type}),jn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){let e=this._getOrReturnCtx(r),i=this._def.values;return Lr(e,{received:e.data,code:br.invalid_enum_value,options:i}),jn}return hs(r.data)}get options(){return this._def.values}get enum(){let r={};for(let e of this._def.values)r[e]=e;return r}get Values(){let r={};for(let e of this._def.values)r[e]=e;return r}get Enum(){let r={};for(let e of this._def.values)r[e]=e;return r}extract(r,e=this._def){return zl.create(r,{...this._def,...e})}exclude(r,e=this._def){return zl.create(this.options.filter(i=>!r.includes(i)),{...this._def,...e})}}zl.create=mf;class mu extends si{_parse(r){let e=lt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(r);if(i.parsedType!==Wr.string&&i.parsedType!==Wr.number){let a=lt.objectValues(e);return Lr(i,{expected:lt.joinValues(a),received:i.parsedType,code:br.invalid_type}),jn}if(this._cache||(this._cache=new Set(lt.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){let a=lt.objectValues(e);return Lr(i,{received:i.data,code:br.invalid_enum_value,options:a}),jn}return hs(r.data)}get enum(){return this._def.values}}mu.create=(t,r)=>new mu({values:t,typeName:mt.ZodNativeEnum,...ci(r)});class Gl extends si{unwrap(){return this._def.type}_parse(r){let{ctx:e}=this._processInputParams(r);return e.parsedType!==Wr.promise&&e.common.async===!1?(Lr(e,{code:br.invalid_type,expected:Wr.promise,received:e.parsedType}),jn):hs((e.parsedType===Wr.promise?e.data:Promise.resolve(e.data)).then(i=>this._def.type.parseAsync(i,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Gl.create=(t,r)=>new Gl({type:t,typeName:mt.ZodPromise,...ci(r)});class Fs extends si{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===mt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){let{status:e,ctx:i}=this._processInputParams(r),a=this._def.effect||null,p={addIssue:m=>{Lr(i,m),m.fatal?e.abort():e.dirty()},get path(){return i.path}};if(p.addIssue=p.addIssue.bind(p),a.type==="preprocess"){let m=a.transform(i.data,p);if(i.common.async)return Promise.resolve(m).then(async $=>{if(e.value==="aborted")return jn;let f=await this._def.schema._parseAsync({data:$,path:i.path,parent:i});return f.status==="aborted"?jn:f.status==="dirty"||e.value==="dirty"?Ju(f.value):f});{if(e.value==="aborted")return jn;let $=this._def.schema._parseSync({data:m,path:i.path,parent:i});return $.status==="aborted"?jn:$.status==="dirty"||e.value==="dirty"?Ju($.value):$}}if(a.type==="refinement"){let m=$=>{let f=a.refinement($,p);if(i.common.async)return Promise.resolve(f);if(f instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return $};if(i.common.async!==!1)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then($=>$.status==="aborted"?jn:($.status==="dirty"&&e.dirty(),m($.value).then(()=>({status:e.value,value:$.value}))));{let $=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return $.status==="aborted"?jn:($.status==="dirty"&&e.dirty(),m($.value),{status:e.value,value:$.value})}}if(a.type==="transform"){if(i.common.async!==!1)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>Nl(m)?Promise.resolve(a.transform(m.value,p)).then($=>({status:e.value,value:$})):jn);{let m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Nl(m))return jn;let $=a.transform(m.value,p);if($ instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:$}}}lt.assertNever(a)}}Fs.create=(t,r,e)=>new Fs({schema:t,typeName:mt.ZodEffects,effect:r,...ci(e)}),Fs.createWithPreprocess=(t,r,e)=>new Fs({schema:r,effect:{type:"preprocess",transform:t},typeName:mt.ZodEffects,...ci(e)});class nl extends si{_parse(r){return this._getType(r)===Wr.undefined?hs(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}nl.create=(t,r)=>new nl({innerType:t,typeName:mt.ZodOptional,...ci(r)});class kl extends si{_parse(r){return this._getType(r)===Wr.null?hs(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}kl.create=(t,r)=>new kl({innerType:t,typeName:mt.ZodNullable,...ci(r)});class hu extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i=e.data;return e.parsedType===Wr.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}hu.create=(t,r)=>new hu({innerType:t,typeName:mt.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...ci(r)});class fu extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i={...e,common:{...e.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return au(a)?a.then(p=>({status:"valid",value:p.status==="valid"?p.value:this._def.catchValue({get error(){return new js(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new js(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}fu.create=(t,r)=>new fu({innerType:t,typeName:mt.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...ci(r)});class Yu extends si{_parse(r){if(this._getType(r)!==Wr.nan){let e=this._getOrReturnCtx(r);return Lr(e,{code:br.invalid_type,expected:Wr.nan,received:e.parsedType}),jn}return{status:"valid",value:r.data}}}Yu.create=t=>new Yu({typeName:mt.ZodNaN,...ci(t)});let hf=Symbol("zod_brand");class Uc extends si{_parse(r){let{ctx:e}=this._processInputParams(r),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class gu extends si{_parse(r){let{status:e,ctx:i}=this._processInputParams(r);if(i.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?jn:a.status==="dirty"?(e.dirty(),Ju(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{let a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?jn:a.status==="dirty"?(e.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(r,e){return new gu({in:r,out:e,typeName:mt.ZodPipeline})}}class yu extends si{_parse(r){let e=this._def.innerType._parse(r),i=a=>(Nl(a)&&(a.value=Object.freeze(a.value)),a);return au(e)?e.then(a=>i(a)):i(e)}unwrap(){return this._def.innerType}}function ff(t,r){let e=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t;return typeof e=="string"?{message:e}:e}function hp(t,r={},e){return t?Kl.create().superRefine((i,a)=>{let p=t(i);if(p instanceof Promise)return p.then(m=>{if(!m){let $=ff(r,i),f=$.fatal??e??!0;a.addIssue({code:"custom",...$,fatal:f})}});if(!p){let m=ff(r,i),$=m.fatal??e??!0;a.addIssue({code:"custom",...m,fatal:$})}}):Kl.create()}yu.create=(t,r)=>new yu({innerType:t,typeName:mt.ZodReadonly,...ci(r)});let gf={object:io.lazycreate};(Ke=mt||(mt={})).ZodString="ZodString",Ke.ZodNumber="ZodNumber",Ke.ZodNaN="ZodNaN",Ke.ZodBigInt="ZodBigInt",Ke.ZodBoolean="ZodBoolean",Ke.ZodDate="ZodDate",Ke.ZodSymbol="ZodSymbol",Ke.ZodUndefined="ZodUndefined",Ke.ZodNull="ZodNull",Ke.ZodAny="ZodAny",Ke.ZodUnknown="ZodUnknown",Ke.ZodNever="ZodNever",Ke.ZodVoid="ZodVoid",Ke.ZodArray="ZodArray",Ke.ZodObject="ZodObject",Ke.ZodUnion="ZodUnion",Ke.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Ke.ZodIntersection="ZodIntersection",Ke.ZodTuple="ZodTuple",Ke.ZodRecord="ZodRecord",Ke.ZodMap="ZodMap",Ke.ZodSet="ZodSet",Ke.ZodFunction="ZodFunction",Ke.ZodLazy="ZodLazy",Ke.ZodLiteral="ZodLiteral",Ke.ZodEnum="ZodEnum",Ke.ZodEffects="ZodEffects",Ke.ZodNativeEnum="ZodNativeEnum",Ke.ZodOptional="ZodOptional",Ke.ZodNullable="ZodNullable",Ke.ZodDefault="ZodDefault",Ke.ZodCatch="ZodCatch",Ke.ZodPromise="ZodPromise",Ke.ZodBranded="ZodBranded",Ke.ZodPipeline="ZodPipeline",Ke.ZodReadonly="ZodReadonly";let yf=(t,r={message:`Input not instance of ${t.name}`})=>hp(e=>e instanceof t,r),fp=Js.create,gp=xl.create,vf=Yu.create,bf=wl.create,yp=ou.create,_f=Pl.create,xf=Ku.create,wf=su.create,Sf=lu.create,zf=Kl.create,kf=jl.create,If=hl.create,$f=Wu.create,Ef=Ks.create,Tf=io.create,Cf=io.strictCreate,Rf=uu.create,Of=Gu.create,Nf=cu.create,Pf=rl.create,jf=Qu.create,Af=Xu.create,Mf=Al.create,Df=Wl.create,Uf=du.create,qf=pu.create,Lf=zl.create,Ff=mu.create,Zf=Gl.create,qc=Fs.create,Bf=nl.create,Vf=kl.create,Hf=Fs.createWithPreprocess,Jf=gu.create,Kf=()=>fp().optional(),Wf=()=>gp().optional(),Gf=()=>yp().optional(),Qf={string:t=>Js.create({...t,coerce:!0}),number:t=>xl.create({...t,coerce:!0}),boolean:t=>ou.create({...t,coerce:!0}),bigint:t=>wl.create({...t,coerce:!0}),date:t=>Pl.create({...t,coerce:!0})};_.s(["BRAND",0,hf,"NEVER",0,jn,"Schema",()=>si,"ZodAny",()=>Kl,"ZodArray",()=>Ks,"ZodBigInt",()=>wl,"ZodBoolean",()=>ou,"ZodBranded",()=>Uc,"ZodCatch",()=>fu,"ZodDate",()=>Pl,"ZodDefault",()=>hu,"ZodDiscriminatedUnion",()=>Gu,"ZodEffects",()=>Fs,"ZodEnum",()=>zl,"ZodFirstPartyTypeKind",()=>mt,"ZodFunction",()=>Wl,"ZodIntersection",()=>cu,"ZodLazy",()=>du,"ZodLiteral",()=>pu,"ZodMap",()=>Xu,"ZodNaN",()=>Yu,"ZodNativeEnum",()=>mu,"ZodNever",()=>hl,"ZodNull",()=>lu,"ZodNullable",()=>kl,"ZodNumber",()=>xl,"ZodObject",()=>io,"ZodOptional",()=>nl,"ZodPipeline",()=>gu,"ZodPromise",()=>Gl,"ZodReadonly",()=>yu,"ZodRecord",()=>Qu,"ZodSchema",()=>si,"ZodSet",()=>Al,"ZodString",()=>Js,"ZodSymbol",()=>Ku,"ZodTransformer",()=>Fs,"ZodTuple",()=>rl,"ZodType",()=>si,"ZodUndefined",()=>su,"ZodUnion",()=>uu,"ZodUnknown",()=>jl,"ZodVoid",()=>Wu,"any",()=>zf,"array",()=>Ef,"bigint",()=>bf,"boolean",()=>yp,"coerce",0,Qf,"custom",()=>hp,"date",()=>_f,"datetimeRegex",()=>mp,"discriminatedUnion",()=>Of,"effect",()=>qc,"enum",()=>Lf,"function",()=>Df,"instanceof",()=>yf,"intersection",()=>Nf,"late",0,gf,"lazy",()=>Uf,"literal",()=>qf,"map",()=>Af,"nan",()=>vf,"nativeEnum",()=>Ff,"never",()=>If,"null",()=>Sf,"nullable",()=>Vf,"number",()=>gp,"object",()=>Tf,"oboolean",()=>Gf,"onumber",()=>Wf,"optional",()=>Bf,"ostring",()=>Kf,"pipeline",()=>Jf,"preprocess",()=>Hf,"promise",()=>Zf,"record",()=>jf,"set",()=>Mf,"strictObject",()=>Cf,"string",()=>fp,"symbol",()=>xf,"transformer",()=>qc,"tuple",()=>Pf,"undefined",()=>wf,"union",()=>Rf,"unknown",()=>kf,"void",()=>$f],69418),_.s([],3505),_.i(3505),_.i(3536),_.s(["defaultErrorMap",0,Jl,"getErrorMap",()=>pp,"setErrorMap",()=>dp],58844),_.i(58844),_.i(63922),_.i(89402),_.i(4760),_.i(69418),_.i(13458),_.s(["BRAND",0,hf,"DIRTY",0,Ju,"EMPTY_PATH",0,uf,"INVALID",0,jn,"NEVER",0,jn,"OK",0,hs,"ParseStatus",()=>ts,"Schema",()=>si,"ZodAny",()=>Kl,"ZodArray",()=>Ks,"ZodBigInt",()=>wl,"ZodBoolean",()=>ou,"ZodBranded",()=>Uc,"ZodCatch",()=>fu,"ZodDate",()=>Pl,"ZodDefault",()=>hu,"ZodDiscriminatedUnion",()=>Gu,"ZodEffects",()=>Fs,"ZodEnum",()=>zl,"ZodError",()=>js,"ZodFirstPartyTypeKind",()=>mt,"ZodFunction",()=>Wl,"ZodIntersection",()=>cu,"ZodIssueCode",0,br,"ZodLazy",()=>du,"ZodLiteral",()=>pu,"ZodMap",()=>Xu,"ZodNaN",()=>Yu,"ZodNativeEnum",()=>mu,"ZodNever",()=>hl,"ZodNull",()=>lu,"ZodNullable",()=>kl,"ZodNumber",()=>xl,"ZodObject",()=>io,"ZodOptional",()=>nl,"ZodParsedType",0,Wr,"ZodPipeline",()=>gu,"ZodPromise",()=>Gl,"ZodReadonly",()=>yu,"ZodRecord",()=>Qu,"ZodSchema",()=>si,"ZodSet",()=>Al,"ZodString",()=>Js,"ZodSymbol",()=>Ku,"ZodTransformer",()=>Fs,"ZodTuple",()=>rl,"ZodType",()=>si,"ZodUndefined",()=>su,"ZodUnion",()=>uu,"ZodUnknown",()=>jl,"ZodVoid",()=>Wu,"addIssueToContext",()=>Lr,"any",()=>zf,"array",()=>Ef,"bigint",()=>bf,"boolean",()=>yp,"coerce",0,Qf,"custom",()=>hp,"date",()=>_f,"datetimeRegex",()=>mp,"defaultErrorMap",0,Jl,"discriminatedUnion",()=>Of,"effect",()=>qc,"enum",()=>Lf,"function",()=>Df,"getErrorMap",()=>pp,"getParsedType",0,pl,"instanceof",()=>yf,"intersection",()=>Nf,"isAborted",0,Mc,"isAsync",0,au,"isDirty",0,Dc,"isValid",0,Nl,"late",0,gf,"lazy",()=>Uf,"literal",()=>qf,"makeIssue",0,Hu,"map",()=>Af,"nan",()=>vf,"nativeEnum",()=>Ff,"never",()=>If,"null",()=>Sf,"nullable",()=>Vf,"number",()=>gp,"object",()=>Tf,"objectUtil",()=>ur,"oboolean",()=>Gf,"onumber",()=>Wf,"optional",()=>Bf,"ostring",()=>Kf,"pipeline",()=>Jf,"preprocess",()=>Hf,"promise",()=>Zf,"quotelessJson",0,lf,"record",()=>jf,"set",()=>Mf,"setErrorMap",()=>dp,"strictObject",()=>Cf,"string",()=>fp,"symbol",()=>xf,"transformer",()=>qc,"tuple",()=>Pf,"undefined",()=>wf,"union",()=>Rf,"unknown",()=>kf,"util",()=>lt,"void",()=>$f],23033),_.i(23033);class Xf extends Error{constructor(r,e){super(r),this.name="ParseError",this.type=e.type,this.field=e.field,this.value=e.value,this.line=e.line}}function vp(t){}class ry extends TransformStream{constructor({onError:r,onRetry:e,onComment:i}={}){let a;super({start(p){a=function(m){if(typeof m=="function")throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:$=vp,onError:f=vp,onRetry:j=vp,onComment:Q}=m,we="",Tt=!0,Ft,ei="",Ct="";function Qr(kn){if(kn==="")return ei.length>0&&$({id:Ft,event:Ct||void 0,data:ei.endsWith(`
`)?ei.slice(0,-1):ei}),Ft=void 0,ei="",void(Ct="");if(kn.startsWith(":")){Q&&Q(kn.slice(kn.startsWith(": ")?2:1));return}let $n=kn.indexOf(":");if($n!==-1){let xa=kn.slice(0,$n),ya=kn[$n+1]===" "?2:1;gi(xa,kn.slice($n+ya),kn);return}gi(kn,"",kn)}function gi(kn,$n,xa){switch(kn){case"event":Ct=$n;break;case"data":ei=`${ei}${$n}
`;break;case"id":Ft=$n.includes("\0")?void 0:$n;break;case"retry":/^\d+$/.test($n)?j(parseInt($n,10)):f(new Xf(`Invalid \`retry\` value: "${$n}"`,{type:"invalid-retry",value:$n,line:xa}));break;default:f(new Xf(`Unknown field "${kn.length>20?`${kn.slice(0,20)}\u2026`:kn}"`,{type:"unknown-field",field:kn,value:$n,line:xa}))}}return{feed:function(kn){let $n=Tt?kn.replace(/^\xEF\xBB\xBF/,""):kn,[xa,ya]=function(Qa){let $s=[],Es="",Ts=0;for(;Ts<Qa.length;){let Ml=Qa.indexOf("\r",Ts),Ql=Qa.indexOf(`
`,Ts),Il=-1;if(Ml!==-1&&Ql!==-1?Il=Math.min(Ml,Ql):Ml!==-1?Il=Ml===Qa.length-1?-1:Ml:Ql!==-1&&(Il=Ql),Il===-1){Es=Qa.slice(Ts);break}{let Zc=Qa.slice(Ts,Il);$s.push(Zc),Qa[(Ts=Il+1)-1]==="\r"&&Qa[Ts]===`
`&&Ts++}}return[$s,Es]}(`${we}${$n}`);for(let Qa of xa)Qr(Qa);we=ya,Tt=!1},reset:function(kn={}){we&&kn.consume&&Qr(we),Tt=!0,Ft=void 0,ei="",Ct="",we=""}}}({onEvent:m=>{p.enqueue(m)},onError(m){r==="terminate"?p.error(m):typeof r=="function"&&r(m)},onRetry:e,onComment:i})},transform(p){a.feed(p)}})}}function ny(...t){return t.reduce((r,e)=>({...r,...e??{}}),{})}function iy({tools:t=[],providerToolNames:r}){let e={},i={};for(let a of t)if(a.type==="provider"&&a.id in r){let p=r[a.id];e[a.name]=p,i[p]=a.name}return{toProviderToolName:a=>{var p;return(p=e[a])!=null?p:a},toCustomToolName:a=>{var p;return(p=i[a])!=null?p:a}}}async function ay(t,r){if(t==null)return Promise.resolve();let e=r?.abortSignal;return new Promise((i,a)=>{if(e?.aborted)return void a(Yf());let p=setTimeout(()=>{m(),i()},t),m=()=>{clearTimeout(p),e?.removeEventListener("abort",$)},$=()=>{m(),a(Yf())};e?.addEventListener("abort",$)})}function Yf(){return new DOMException("Delay was aborted","AbortError")}var oy=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise||(this._promise=new Promise((t,r)=>{this.status.type==="resolved"?t(this.status.value):this.status.type==="rejected"&&r(this.status.error),this._resolve=t,this._reject=r})),this._promise}resolve(t){var r;this.status={type:"resolved",value:t},this._promise&&((r=this._resolve)==null||r.call(this,t))}reject(t){var r;this.status={type:"rejected",error:t},this._promise&&((r=this._reject)==null||r.call(this,t))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function vu(t){return Object.fromEntries([...t.headers])}var{btoa:sy,atob:ly}=mr;function uy(t){let r=ly(t.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(r,e=>e.codePointAt(0))}function eg(t){let r="";for(let e=0;e<t.length;e++)r+=String.fromCodePoint(t[e]);return sy(r)}function cy(t){return t instanceof Uint8Array?eg(t):t}function dy(t,r={}){let{useArrayBrackets:e=!0}=r,i=new FormData;for(let[a,p]of Object.entries(t))if(p!=null){if(Array.isArray(p)){if(p.length===1){i.append(a,p[0]);continue}let m=e?`${a}[]`:a;for(let $ of p)i.append(m,$);continue}i.append(a,p)}return i}var tg="AI_DownloadError",rg=`vercel.ai.error.${tg}`,py=Symbol.for(rg),Lc=class extends(Vr=Pr,Nr=py,Vr){constructor({url:t,statusCode:r,statusText:e,cause:i,message:a=i==null?`Failed to download ${t}: ${r} ${e}`:`Failed to download ${t}: ${i}`}){super({name:tg,message:a,cause:i}),this[Nr]=!0,this.url=t,this.statusCode=r,this.statusText=e}static isInstance(t){return Pr.hasMarker(t,rg)}};async function my(t){try{let r=await fetch(t);if(!r.ok)throw new Lc({url:t,statusCode:r.status,statusText:r.statusText});return await r.blob()}catch(r){throw Lc.isInstance(r)?r:new Lc({url:t,cause:r})}}var ng=({prefix:t,size:r=16,alphabet:e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:i="-"}={})=>{let a=()=>{let p=e.length,m=Array(r);for(let $=0;$<r;$++)m[$]=e[Math.random()*p|0];return m.join("")};if(t==null)return a;if(e.includes(i))throw new Yr({argument:"separator",message:`The separator "${i}" must not be part of the alphabet "${e}".`});return()=>`${t}${i}${a()}`},hy=ng();function fy(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}function bu(t){return(t instanceof Error||t instanceof DOMException)&&(t.name==="AbortError"||t.name==="ResponseAborted"||t.name==="TimeoutError")}var gy=["fetch failed","failed to fetch"];function ig({error:t,url:r,requestBodyValues:e}){if(bu(t))return t;if(t instanceof TypeError&&gy.includes(t.message.toLowerCase())){let i=t.cause;if(i!=null)return new L({message:`Cannot connect to API: ${i.message}`,cause:i,url:r,requestBodyValues:e,isRetryable:!0})}return t}function bp(t=mr){var r,e,i;return t.window?"runtime/browser":(r=t.navigator)!=null&&r.userAgent?`runtime/${t.navigator.userAgent.toLowerCase()}`:(i=(e=t.process)==null?void 0:e.versions)!=null&&i.node?`runtime/node.js/${t.process.version.substring(0)}`:t.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function ag(t){if(t==null)return{};let r={};if(t instanceof Headers)t.forEach((e,i)=>{r[i.toLowerCase()]=e});else for(let[e,i]of(Array.isArray(t)||(t=Object.entries(t)),t))i!=null&&(r[e.toLowerCase()]=i);return r}function _p(t,...r){let e=new Headers(ag(t)),i=e.get("user-agent")||"";return e.set("user-agent",[i,...r].filter(Boolean).join(" ")),Object.fromEntries(e.entries())}var og="4.0.1",yy=()=>mr.fetch,vy=async({url:t,headers:r={},successfulResponseHandler:e,failedResponseHandler:i,abortSignal:a,fetch:p=yy()})=>{try{let m=await p(t,{method:"GET",headers:_p(r,`ai-sdk/provider-utils/${og}`,bp()),signal:a}),$=vu(m);if(!m.ok){let f;try{f=await i({response:m,url:t,requestBodyValues:{}})}catch(j){throw bu(j)||L.isInstance(j)?j:new L({message:"Failed to process error response",cause:j,statusCode:m.status,url:t,responseHeaders:$,requestBodyValues:{}})}throw f.value}try{return await e({response:m,url:t,requestBodyValues:{}})}catch(f){throw f instanceof Error&&(bu(f)||L.isInstance(f))?f:new L({message:"Failed to process successful response",cause:f,statusCode:m.status,url:t,responseHeaders:$,requestBodyValues:{}})}}catch(m){throw ig({error:m,url:t,requestBodyValues:{}})}};function by(t){return t!=null}function _y({mediaType:t,url:r,supportedUrls:e}){return r=r.toLowerCase(),t=t.toLowerCase(),Object.entries(e).map(([i,a])=>{let p=i.toLowerCase();return p==="*"||p==="*/*"?{mediaTypePrefix:"",regexes:a}:{mediaTypePrefix:p.replace(/\*/,""),regexes:a}}).filter(({mediaTypePrefix:i})=>t.startsWith(i)).flatMap(({regexes:i})=>i).some(i=>i.test(r))}function xy({apiKey:t,environmentVariableName:r,apiKeyParameterName:e="apiKey",description:i}){if(typeof t=="string")return t;if(t!=null)throw new ze({message:`${i} API key must be a string.`});if(typeof process>"u")throw new ze({message:`${i} API key is missing. Pass it using the '${e}' parameter. Environment variables is not supported in this environment.`});if((t=process.env[r])==null)throw new ze({message:`${i} API key is missing. Pass it using the '${e}' parameter or the ${r} environment variable.`});if(typeof t!="string")throw new ze({message:`${i} API key must be a string. The value of the ${r} environment variable is not a string.`});return t}function wy({settingValue:t,environmentVariableName:r}){return typeof t=="string"?t:t!=null||typeof process>"u"?void 0:(t=process.env[r])!=null&&typeof t=="string"?t:void 0}function Sy(t){var r;let[e,i=""]=t.toLowerCase().split("/");return(r={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[i])!=null?r:i}var zy=/"__proto__"\s*:/,ky=/"constructor"\s*:/;function sg(t){let r=JSON.parse(t);return r===null||typeof r!="object"||zy.test(t)===!1&&ky.test(t)===!1?r:function(e){let i=[e];for(;i.length;){let a=i;for(let p of(i=[],a)){if(Object.prototype.hasOwnProperty.call(p,"__proto__")||Object.prototype.hasOwnProperty.call(p,"constructor")&&Object.prototype.hasOwnProperty.call(p.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let m in p){let $=p[m];$&&typeof $=="object"&&i.push($)}}}return e}(r)}function xp(t){let{stackTraceLimit:r}=Error;try{Error.stackTraceLimit=0}catch{return sg(t)}try{return sg(t)}finally{Error.stackTraceLimit=r}}var Iy=Symbol("Let zodToJsonSchema decide on which parser to use"),lg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function ug(t,r){return $a(t.type._def,r)}var wp=void 0,$y=/^[cC][^\s-]{8,}$/,Ey=/^[0-9a-z]+$/,Ty=/^[0-9A-HJKMNP-TV-Z]{26}$/,Cy=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,Ry=()=>(wp===void 0&&(wp=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),wp),Oy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ny=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Py=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ay=/^[a-zA-Z0-9_-]{21}$/,My=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function cg(t,r){let e={type:"string"};if(t.checks)for(let i of t.checks)switch(i.kind){case"min":e.minLength=typeof e.minLength=="number"?Math.max(e.minLength,i.value):i.value;break;case"max":e.maxLength=typeof e.maxLength=="number"?Math.min(e.maxLength,i.value):i.value;break;case"email":switch(r.emailStrategy){case"format:email":il(e,"email",i.message,r);break;case"format:idn-email":il(e,"idn-email",i.message,r);break;case"pattern:zod":Is(e,Cy,i.message,r)}break;case"url":il(e,"uri",i.message,r);break;case"uuid":il(e,"uuid",i.message,r);break;case"regex":Is(e,i.regex,i.message,r);break;case"cuid":Is(e,$y,i.message,r);break;case"cuid2":Is(e,Ey,i.message,r);break;case"startsWith":Is(e,RegExp(`^${Sp(i.value,r)}`),i.message,r);break;case"endsWith":Is(e,RegExp(`${Sp(i.value,r)}$`),i.message,r);break;case"datetime":il(e,"date-time",i.message,r);break;case"date":il(e,"date",i.message,r);break;case"time":il(e,"time",i.message,r);break;case"duration":il(e,"duration",i.message,r);break;case"length":e.minLength=typeof e.minLength=="number"?Math.max(e.minLength,i.value):i.value,e.maxLength=typeof e.maxLength=="number"?Math.min(e.maxLength,i.value):i.value;break;case"includes":Is(e,RegExp(Sp(i.value,r)),i.message,r);break;case"ip":i.version!=="v6"&&il(e,"ipv4",i.message,r),i.version!=="v4"&&il(e,"ipv6",i.message,r);break;case"base64url":Is(e,jy,i.message,r);break;case"jwt":Is(e,My,i.message,r);break;case"cidr":i.version!=="v6"&&Is(e,Oy,i.message,r),i.version!=="v4"&&Is(e,Ny,i.message,r);break;case"emoji":Is(e,Ry(),i.message,r);break;case"ulid":Is(e,Ty,i.message,r);break;case"base64":switch(r.base64Strategy){case"format:binary":il(e,"binary",i.message,r);break;case"contentEncoding:base64":e.contentEncoding="base64";break;case"pattern:zod":Is(e,Py,i.message,r)}break;case"nanoid":Is(e,Ay,i.message,r)}return e}function Sp(t,r){return r.patternStrategy==="escape"?function(e){let i="";for(let a=0;a<e.length;a++)Dy.has(e[a])||(i+="\\"),i+=e[a];return i}(t):t}var Dy=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function il(t,r,e,i){var a;t.format||((a=t.anyOf)==null?void 0:a.some(p=>p.format))?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format}),delete t.format),t.anyOf.push({format:r,...e&&i.errorMessages&&{errorMessage:{format:e}}})):t.format=r}function Is(t,r,e,i){var a;t.pattern||((a=t.allOf)==null?void 0:a.some(p=>p.pattern))?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern}),delete t.pattern),t.allOf.push({pattern:dg(r,i),...e&&i.errorMessages&&{errorMessage:{pattern:e}}})):t.pattern=dg(r,i)}function dg(t,r){var e;if(!r.applyRegexFlags||!t.flags)return t.source;let i={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},a=i.i?t.source.toLowerCase():t.source,p="",m=!1,$=!1,f=!1;for(let j=0;j<a.length;j++){if(m){p+=a[j],m=!1;continue}if(i.i){if($){if(a[j].match(/[a-z]/)){f?(p+=a[j],p+=`${a[j-2]}-${a[j]}`.toUpperCase(),f=!1):a[j+1]==="-"&&((e=a[j+2])==null?void 0:e.match(/[a-z]/))?(p+=a[j],f=!0):p+=`${a[j]}${a[j].toUpperCase()}`;continue}}else if(a[j].match(/[a-z]/)){p+=`[${a[j]}${a[j].toUpperCase()}]`;continue}}if(i.m){if(a[j]==="^"){p+=`(^|(?<=[\r
]))`;continue}else if(a[j]==="$"){p+=`($|(?=[\r
]))`;continue}}if(i.s&&a[j]==="."){p+=$?`${a[j]}\r
`:`[${a[j]}\r
]`;continue}p+=a[j],a[j]==="\\"?m=!0:$&&a[j]==="]"?$=!1:$||a[j]!=="["||($=!0)}try{new RegExp(p)}catch{return console.warn(`Could not convert regex pattern at ${r.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return p}function pg(t,r){var e,i,a,p,m,$;let f={type:"object",additionalProperties:(e=$a(t.valueType._def,{...r,currentPath:[...r.currentPath,"additionalProperties"]}))!=null?e:r.allowedAdditionalProperties};if(((i=t.keyType)==null?void 0:i._def.typeName)===mt.ZodString&&((a=t.keyType._def.checks)==null?void 0:a.length)){let{type:j,...Q}=cg(t.keyType._def,r);return{...f,propertyNames:Q}}if(((p=t.keyType)==null?void 0:p._def.typeName)===mt.ZodEnum)return{...f,propertyNames:{enum:t.keyType._def.values}};if(((m=t.keyType)==null?void 0:m._def.typeName)===mt.ZodBranded&&t.keyType._def.type._def.typeName===mt.ZodString&&(($=t.keyType._def.type._def.checks)==null?void 0:$.length)){let{type:j,...Q}=ug(t.keyType._def,r);return{...f,propertyNames:Q}}return f}var zp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function $a(t,r,e=!1){var i;let a=r.seen.get(t);if(r.override){let f=(i=r.override)==null?void 0:i.call(r,t,r,a,e);if(f!==Iy)return f}if(a&&!e){let f=Uy(a,r);if(f!==void 0)return f}let p={def:t,path:r.currentPath,jsonSchema:void 0};r.seen.set(t,p);let m=((f,j,Q)=>{var we,Tt,Ft,ei,Ct,Qr;switch(j){case mt.ZodString:return cg(f,Q);case mt.ZodNumber:let gi={type:"number"};if(!f.checks)return gi;for(let Fr of f.checks)switch(Fr.kind){case"int":gi.type="integer";break;case"min":Fr.inclusive?gi.minimum=Fr.value:gi.exclusiveMinimum=Fr.value;break;case"max":Fr.inclusive?gi.maximum=Fr.value:gi.exclusiveMaximum=Fr.value;break;case"multipleOf":gi.multipleOf=Fr.value}return gi;case mt.ZodObject:return function(Fr,Ai){let zo={type:"object",properties:{}},No=[],Dl=Fr.shape();for(let Cs in Dl){let rs=Dl[Cs];if(rs===void 0||rs._def===void 0)continue;let ov=function(sv){try{return sv.isOptional()}catch{return!0}}(rs),bg=$a(rs._def,{...Ai,currentPath:[...Ai.currentPath,"properties",Cs],propertyPath:[...Ai.currentPath,"properties",Cs]});bg!==void 0&&(zo.properties[Cs]=bg,ov||No.push(Cs))}No.length&&(zo.required=No);let Vc=function(Cs,rs){if(Cs.catchall._def.typeName!=="ZodNever")return $a(Cs.catchall._def,{...rs,currentPath:[...rs.currentPath,"additionalProperties"]});switch(Cs.unknownKeys){case"passthrough":return rs.allowedAdditionalProperties;case"strict":return rs.rejectedAdditionalProperties;case"strip":return rs.removeAdditionalStrategy==="strict"?rs.allowedAdditionalProperties:rs.rejectedAdditionalProperties}}(Fr,Ai);return Vc!==void 0&&(zo.additionalProperties=Vc),zo}(f,Q);case mt.ZodBigInt:let kn={type:"integer",format:"int64"};if(!f.checks)return kn;for(let Fr of f.checks)switch(Fr.kind){case"min":Fr.inclusive?kn.minimum=Fr.value:kn.exclusiveMinimum=Fr.value;break;case"max":Fr.inclusive?kn.maximum=Fr.value:kn.exclusiveMaximum=Fr.value;break;case"multipleOf":kn.multipleOf=Fr.value}return kn;case mt.ZodBoolean:return{type:"boolean"};case mt.ZodDate:return function Fr(Ai,zo,No){let Dl=No??zo.dateStrategy;if(Array.isArray(Dl))return{anyOf:Dl.map((Cs,rs)=>Fr(Ai,zo,Cs))};switch(Dl){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var Vc=Ai;let Cs={type:"integer",format:"unix-time"};for(let rs of Vc.checks)switch(rs.kind){case"min":Cs.minimum=rs.value;break;case"max":Cs.maximum=rs.value}return Cs}}(f,Q);case mt.ZodUndefined:return{not:{}};case mt.ZodNull:return{type:"null"};case mt.ZodArray:let $n;return $n={type:"array"},((Ft=f.type)==null?void 0:Ft._def)&&((Ct=(ei=f.type)==null?void 0:ei._def)==null?void 0:Ct.typeName)!==mt.ZodAny&&($n.items=$a(f.type._def,{...Q,currentPath:[...Q.currentPath,"items"]})),f.minLength&&($n.minItems=f.minLength.value),f.maxLength&&($n.maxItems=f.maxLength.value),f.exactLength&&($n.minItems=f.exactLength.value,$n.maxItems=f.exactLength.value),$n;case mt.ZodUnion:case mt.ZodDiscriminatedUnion:let xa,ya=f.options instanceof Map?Array.from(f.options.values()):f.options;if(ya.every(Fr=>Fr._def.typeName in zp&&(!Fr._def.checks||!Fr._def.checks.length))){let Fr=ya.reduce((Ai,zo)=>{let No=zp[zo._def.typeName];return No&&!Ai.includes(No)?[...Ai,No]:Ai},[]);return{type:Fr.length>1?Fr:Fr[0]}}if(ya.every(Fr=>Fr._def.typeName==="ZodLiteral"&&!Fr.description)){let Fr=ya.reduce((Ai,zo)=>{let No=typeof zo._def.value;switch(No){case"string":case"number":case"boolean":return[...Ai,No];case"bigint":return[...Ai,"integer"];case"object":if(zo._def.value===null)return[...Ai,"null"];default:return Ai}},[]);if(Fr.length===ya.length){let Ai=Fr.filter((zo,No,Dl)=>Dl.indexOf(zo)===No);return{type:Ai.length>1?Ai:Ai[0],enum:ya.reduce((zo,No)=>zo.includes(No._def.value)?zo:[...zo,No._def.value],[])}}}else if(ya.every(Fr=>Fr._def.typeName==="ZodEnum"))return{type:"string",enum:ya.reduce((Fr,Ai)=>[...Fr,...Ai._def.values.filter(zo=>!Fr.includes(zo))],[])};return we=f,Tt=Q,(xa=(we.options instanceof Map?Array.from(we.options.values()):we.options).map((Fr,Ai)=>$a(Fr._def,{...Tt,currentPath:[...Tt.currentPath,"anyOf",`${Ai}`]})).filter(Fr=>!!Fr&&(!Tt.strictUnions||typeof Fr=="object"&&Object.keys(Fr).length>0))).length?{anyOf:xa}:void 0;case mt.ZodIntersection:let Qa,$s;return Qa=[$a(f.left._def,{...Q,currentPath:[...Q.currentPath,"allOf","0"]}),$a(f.right._def,{...Q,currentPath:[...Q.currentPath,"allOf","1"]})].filter(Fr=>!!Fr),$s=[],Qa.forEach(Fr=>{if((!("type"in Fr)||Fr.type!=="string")&&"allOf"in Fr)$s.push(...Fr.allOf);else{let Ai=Fr;if("additionalProperties"in Fr&&Fr.additionalProperties===!1){let{additionalProperties:zo,...No}=Fr;Ai=No}$s.push(Ai)}}),$s.length?{allOf:$s}:void 0;case mt.ZodTuple:return f.rest?{type:"array",minItems:f.items.length,items:f.items.map((Fr,Ai)=>$a(Fr._def,{...Q,currentPath:[...Q.currentPath,"items",`${Ai}`]})).reduce((Fr,Ai)=>Ai===void 0?Fr:[...Fr,Ai],[]),additionalItems:$a(f.rest._def,{...Q,currentPath:[...Q.currentPath,"additionalItems"]})}:{type:"array",minItems:f.items.length,maxItems:f.items.length,items:f.items.map((Fr,Ai)=>$a(Fr._def,{...Q,currentPath:[...Q.currentPath,"items",`${Ai}`]})).reduce((Fr,Ai)=>Ai===void 0?Fr:[...Fr,Ai],[])};case mt.ZodRecord:return pg(f,Q);case mt.ZodLiteral:let Es;return(Es=typeof f.value)!="bigint"&&Es!=="number"&&Es!=="boolean"&&Es!=="string"?{type:Array.isArray(f.value)?"array":"object"}:{type:Es==="bigint"?"integer":Es,const:f.value};case mt.ZodEnum:return{type:"string",enum:Array.from(f.values)};case mt.ZodNativeEnum:let Ts,Ml,Ql;return Ts=f.values,{type:(Ql=Array.from(new Set((Ml=Object.keys(f.values).filter(Fr=>typeof Ts[Ts[Fr]]!="number").map(Fr=>Ts[Fr])).map(Fr=>typeof Fr)))).length===1?Ql[0]==="string"?"string":"number":["string","number"],enum:Ml};case mt.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(f.innerType._def.typeName)&&(!f.innerType._def.checks||!f.innerType._def.checks.length))return{type:[zp[f.innerType._def.typeName],"null"]};let Il=$a(f.innerType._def,{...Q,currentPath:[...Q.currentPath,"anyOf","0"]});return Il&&{anyOf:[Il,{type:"null"}]};case mt.ZodOptional:if(Q.currentPath.toString()===((Qr=Q.propertyPath)==null?void 0:Qr.toString()))return $a(f.innerType._def,Q);let Zc=$a(f.innerType._def,{...Q,currentPath:[...Q.currentPath,"anyOf","1"]});return Zc?{anyOf:[{not:{}},Zc]}:{};case mt.ZodMap:return Q.mapStrategy==="record"?pg(f,Q):{type:"array",maxItems:125,items:{type:"array",items:[$a(f.keyType._def,{...Q,currentPath:[...Q.currentPath,"items","items","0"]})||{},$a(f.valueType._def,{...Q,currentPath:[...Q.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case mt.ZodSet:let Bc;return Bc={type:"array",uniqueItems:!0,items:$a(f.valueType._def,{...Q,currentPath:[...Q.currentPath,"items"]})},f.minSize&&(Bc.minItems=f.minSize.value),f.maxSize&&(Bc.maxItems=f.maxSize.value),Bc;case mt.ZodLazy:return()=>f.getter()._def;case mt.ZodPromise:return $a(f.type._def,Q);case mt.ZodNaN:case mt.ZodNever:return{not:{}};case mt.ZodEffects:return Q.effectStrategy==="input"?$a(f.schema._def,Q):{};case mt.ZodAny:case mt.ZodUnknown:return{};case mt.ZodDefault:return{...$a(f.innerType._def,Q),default:f.defaultValue()};case mt.ZodBranded:return ug(f,Q);case mt.ZodReadonly:case mt.ZodCatch:return $a(f.innerType._def,Q);case mt.ZodPipeline:if(Q.pipeStrategy==="input")return $a(f.in._def,Q);if(Q.pipeStrategy==="output")return $a(f.out._def,Q);let vg=$a(f.in._def,{...Q,currentPath:[...Q.currentPath,"allOf","0"]}),av=$a(f.out._def,{...Q,currentPath:[...Q.currentPath,"allOf",vg?"1":"0"]});return{allOf:[vg,av].filter(Fr=>Fr!==void 0)};case mt.ZodFunction:case mt.ZodVoid:case mt.ZodSymbol:default:return}})(t,t.typeName,r),$=typeof m=="function"?$a(m(),r):m;if($&&qy(t,r,$),r.postProcess){let f=r.postProcess($,t,r);return p.jsonSchema=$,f}return p.jsonSchema=$,$}var Uy=(t,r)=>{switch(r.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:((e,i)=>{let a=0;for(;a<e.length&&a<i.length&&e[a]===i[a];a++);return[(e.length-a).toString(),...i.slice(a)].join("/")})(r.currentPath,t.path)};case"none":case"seen":return t.path.length<r.currentPath.length&&t.path.every((e,i)=>r.currentPath[i]===e)?(console.warn(`Recursive reference detected at ${r.currentPath.join("/")}! Defaulting to any`),{}):r.$refStrategy==="seen"?{}:void 0}},qy=(t,r,e)=>(t.description&&(e.description=t.description),e),kp=Symbol.for("vercel.ai.schema");function Ly(t){let r;return()=>(r==null&&(r=t()),r)}function ec(t,{validate:r}={}){return{[kp]:!0,_type:void 0,get jsonSchema(){return typeof t=="function"&&(t=t()),t},validate:r}}function mg(t){var r;return t==null?ec({properties:{},additionalProperties:!1}):typeof t=="object"&&t!==null&&kp in t&&t[kp]===!0&&"jsonSchema"in t&&"validate"in t?t:"~standard"in t?t["~standard"].vendor==="zod"?hg(t):(r=t,ec(()=>r["~standard"].jsonSchema.input({target:"draft-07"}),{validate:async e=>{let i=await r["~standard"].validate(e);return"value"in i?{success:!0,value:i.value}:{success:!1,error:new Wi({value:e,cause:i.issues})}}})):t()}function hg(t,r){var e,i;let a;if("_zod"in t){let p;return p=(e=r?.useReferences)!=null&&e,ec(()=>function m($){if($.type==="object"){$.additionalProperties=!1;let f=$.properties;if(f!=null)for(let j in f)f[j]=m(f[j])}return $.type==="array"&&$.items!=null&&(Array.isArray($.items)?$.items=$.items.map(f=>m(f)):$.items=m($.items)),$}(id(t,{target:"draft-7",io:"input",reused:p?"ref":"inline"})),{validate:async m=>{let $=await oc(t,m);return $.success?{success:!0,value:$.data}:{success:!1,error:$.error}}})}return a=(i=r?.useReferences)!=null&&i,ec(()=>((p,m)=>{var $;let f,j,Q=(j=(f=typeof m=="string"?{...lg,name:m}:{...lg,...m}).name!==void 0?[...f.basePath,f.definitionPath,f.name]:f.basePath,{...f,currentPath:j,propertyPath:void 0,seen:new Map(Object.entries(f.definitions).map(([Qr,gi])=>[gi._def,{def:gi._def,path:[...f.basePath,f.definitionPath,Qr],jsonSchema:void 0}]))}),we=typeof m=="object"&&m.definitions?Object.entries(m.definitions).reduce((Qr,[gi,kn])=>{var $n;return{...Qr,[gi]:($n=$a(kn._def,{...Q,currentPath:[...Q.basePath,Q.definitionPath,gi]},!0))!=null?$n:{}}},{}):void 0,Tt=typeof m=="string"?m:m?.nameStrategy==="title"||m==null?void 0:m.name,Ft=($=$a(p._def,Tt===void 0?Q:{...Q,currentPath:[...Q.basePath,Q.definitionPath,Tt]},!1))!=null?$:{},ei=typeof m=="object"&&m.name!==void 0&&m.nameStrategy==="title"?m.name:void 0;ei!==void 0&&(Ft.title=ei);let Ct=Tt===void 0?we?{...Ft,[Q.definitionPath]:we}:Ft:{$ref:[...Q.$refStrategy==="relative"?[]:Q.basePath,Q.definitionPath,Tt].join("/"),[Q.definitionPath]:{...we,[Tt]:Ft}};return Ct.$schema="http://json-schema.org/draft-07/schema#",Ct})(t,{$refStrategy:a?"root":"none"}),{validate:async p=>{let m=await t.safeParseAsync(p);return m.success?{success:!0,value:m.data}:{success:!1,error:m.error}}})}async function fg({value:t,schema:r}){let e=await Fc({value:t,schema:r});if(!e.success)throw Wi.wrap({value:t,cause:e.error});return e.value}async function Fc({value:t,schema:r}){let e=mg(r);try{if(e.validate==null)return{success:!0,value:t,rawValue:t};let i=await e.validate(t);return i.success?{success:!0,value:i.value,rawValue:t}:{success:!1,error:Wi.wrap({value:t,cause:i.error}),rawValue:t}}catch(i){return{success:!1,error:Wi.wrap({value:t,cause:i}),rawValue:t}}}async function Fy({text:t,schema:r}){try{let e=xp(t);return r==null?e:fg({value:e,schema:r})}catch(e){throw ri.isInstance(e)||Wi.isInstance(e)?e:new ri({text:t,cause:e})}}async function Ip({text:t,schema:r}){try{let e=xp(t);return r==null?{success:!0,value:e,rawValue:e}:await Fc({value:e,schema:r})}catch(e){return{success:!1,error:ri.isInstance(e)?e:new ri({text:t,cause:e}),rawValue:void 0}}}function Zy(t){try{return xp(t),!0}catch{return!1}}function gg({stream:t,schema:r}){return t.pipeThrough(new TextDecoderStream).pipeThrough(new ry).pipeThrough(new TransformStream({async transform({data:e},i){e!=="[DONE]"&&i.enqueue(await Ip({text:e,schema:r}))}}))}async function By({provider:t,providerOptions:r,schema:e}){if(r?.[t]==null)return;let i=await Fc({value:r[t],schema:e});if(!i.success)throw new Yr({argument:"providerOptions",message:`invalid ${t} provider options`,cause:i.error});return i.value}var Vy=()=>mr.fetch,Hy=async({url:t,headers:r,body:e,failedResponseHandler:i,successfulResponseHandler:a,abortSignal:p,fetch:m})=>yg({url:t,headers:{"Content-Type":"application/json",...r},body:{content:JSON.stringify(e),values:e},failedResponseHandler:i,successfulResponseHandler:a,abortSignal:p,fetch:m}),Jy=async({url:t,headers:r,formData:e,failedResponseHandler:i,successfulResponseHandler:a,abortSignal:p,fetch:m})=>yg({url:t,headers:r,body:{content:e,values:Object.fromEntries(e.entries())},failedResponseHandler:i,successfulResponseHandler:a,abortSignal:p,fetch:m}),yg=async({url:t,headers:r={},body:e,successfulResponseHandler:i,failedResponseHandler:a,abortSignal:p,fetch:m=Vy()})=>{try{let $=await m(t,{method:"POST",headers:_p(r,`ai-sdk/provider-utils/${og}`,bp()),body:e.content,signal:p}),f=vu($);if(!$.ok){let j;try{j=await a({response:$,url:t,requestBodyValues:e.values})}catch(Q){throw bu(Q)||L.isInstance(Q)?Q:new L({message:"Failed to process error response",cause:Q,statusCode:$.status,url:t,responseHeaders:f,requestBodyValues:e.values})}throw j.value}try{return await i({response:$,url:t,requestBodyValues:e.values})}catch(j){throw j instanceof Error&&(bu(j)||L.isInstance(j))?j:new L({message:"Failed to process successful response",cause:j,statusCode:$.status,url:t,responseHeaders:f,requestBodyValues:e.values})}}catch($){throw ig({error:$,url:t,requestBodyValues:e.values})}};function Ky(t){return t}function Wy(t){return{...t,type:"dynamic"}}function Gy({id:t,inputSchema:r}){return({execute:e,outputSchema:i,needsApproval:a,toModelOutput:p,onInputStart:m,onInputDelta:$,onInputAvailable:f,...j})=>({type:"provider",id:t,args:j,inputSchema:r,outputSchema:i,execute:e,needsApproval:a,toModelOutput:p,onInputStart:m,onInputDelta:$,onInputAvailable:f})}function Qy({id:t,inputSchema:r,outputSchema:e,supportsDeferredResults:i}){return({execute:a,needsApproval:p,toModelOutput:m,onInputStart:$,onInputDelta:f,onInputAvailable:j,...Q})=>({type:"provider",id:t,args:Q,inputSchema:r,outputSchema:e,execute:a,needsApproval:p,toModelOutput:m,onInputStart:$,onInputDelta:f,onInputAvailable:j,supportsDeferredResults:i})}async function Xy(t){return typeof t=="function"&&(t=t()),Promise.resolve(t)}var Yy=({errorSchema:t,errorToMessage:r,isRetryable:e})=>async({response:i,url:a,requestBodyValues:p})=>{let m=await i.text(),$=vu(i);if(m.trim()==="")return{responseHeaders:$,value:new L({message:i.statusText,url:a,requestBodyValues:p,statusCode:i.status,responseHeaders:$,responseBody:m,isRetryable:e?.(i)})};try{let f=await Fy({text:m,schema:t});return{responseHeaders:$,value:new L({message:r(f),url:a,requestBodyValues:p,statusCode:i.status,responseHeaders:$,responseBody:m,data:f,isRetryable:e?.(i,f)})}}catch{return{responseHeaders:$,value:new L({message:i.statusText,url:a,requestBodyValues:p,statusCode:i.status,responseHeaders:$,responseBody:m,isRetryable:e?.(i)})}}},ev=t=>async({response:r})=>{let e=vu(r);if(r.body==null)throw new at({});return{responseHeaders:e,value:gg({stream:r.body,schema:t})}},tv=t=>async({response:r,url:e,requestBodyValues:i})=>{let a=await r.text(),p=await Ip({text:a,schema:t}),m=vu(r);if(!p.success)throw new L({message:"Invalid JSON response",cause:p.error,statusCode:r.status,responseHeaders:m,responseBody:a,url:e,requestBodyValues:i});return{responseHeaders:m,value:p.value,rawValue:p.rawValue}},rv=()=>async({response:t,url:r,requestBodyValues:e})=>{let i=vu(t);if(!t.body)throw new L({message:"Response body is empty",url:r,requestBodyValues:e,statusCode:t.status,responseHeaders:i,responseBody:void 0});try{let a=await t.arrayBuffer();return{responseHeaders:i,value:new Uint8Array(a)}}catch(a){throw new L({message:"Failed to read response as array buffer",url:r,requestBodyValues:e,statusCode:t.status,responseHeaders:i,responseBody:void 0,cause:a})}};function nv(t){return t?.replace(/\/$/,"")}async function*iv({execute:t,input:r,options:e}){let i=t(r,e);if(i!=null&&typeof i[Symbol.asyncIterator]=="function"){let a;for await(let p of i)a=p,yield{type:"preliminary",output:p};yield{type:"final",output:a}}else yield{type:"final",output:await i}}_.s(["DelayedPromise",()=>oy,"DownloadError",()=>Lc,"asSchema",()=>mg,"combineHeaders",()=>ny,"convertBase64ToUint8Array",()=>uy,"convertToBase64",()=>cy,"convertToFormData",()=>dy,"convertUint8ArrayToBase64",()=>eg,"createBinaryResponseHandler",()=>rv,"createEventSourceResponseHandler",()=>ev,"createIdGenerator",()=>ng,"createJsonErrorResponseHandler",()=>Yy,"createJsonResponseHandler",()=>tv,"createProviderToolFactory",()=>Gy,"createProviderToolFactoryWithOutputSchema",()=>Qy,"createToolNameMapping",()=>iy,"delay",()=>ay,"downloadBlob",()=>my,"dynamicTool",()=>Wy,"executeTool",()=>iv,"generateId",()=>hy,"getErrorMessage",()=>fy,"getFromApi",()=>vy,"getRuntimeEnvironmentUserAgent",()=>bp,"isAbortError",()=>bu,"isNonNullable",()=>by,"isParsableJson",()=>Zy,"isUrlSupported",()=>_y,"jsonSchema",()=>ec,"lazySchema",()=>Ly,"loadApiKey",()=>xy,"loadOptionalSetting",()=>wy,"mediaTypeToExtension",()=>Sy,"normalizeHeaders",()=>ag,"parseJsonEventStream",()=>gg,"parseProviderOptions",()=>By,"postFormDataToApi",()=>Jy,"postJsonToApi",()=>Hy,"resolve",()=>Xy,"safeParseJSON",()=>Ip,"safeValidateTypes",()=>Fc,"tool",()=>Ky,"validateTypes",()=>fg,"withUserAgentSuffix",()=>_p,"withoutTrailingSlash",()=>nv,"zodSchema",()=>hg],66125),_.i(35079),_.s(["z",0,sf],39017)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/src_services_ai-providers_ts_f30e308f._.js",87633,_=>{"use strict";var g=_.i(66125),xe=_.i(8715);_.i(6508);var n=_.i(39017),Ke=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({error:n.z.object({code:n.z.number().nullable(),message:n.z.string(),status:n.z.string()})}))),M=(0,g.createJsonErrorResponseHandler)({errorSchema:Ke,errorToMessage:x=>x.error.message}),ie=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({outputDimensionality:n.z.number().optional(),taskType:n.z.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),Fe=class{constructor(x,F){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=x,this.config=F}get provider(){return this.config.provider}async doEmbed({values:x,headers:F,abortSignal:re,providerOptions:he}){let Ie=await(0,g.parseProviderOptions)({provider:"google",providerOptions:he,schema:ie});if(x.length>this.maxEmbeddingsPerCall)throw new xe.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:x});let $e=(0,g.combineHeaders)(await(0,g.resolve)(this.config.headers),F);if(x.length===1){let{responseHeaders:me,value:tt,rawValue:He}=await(0,g.postJsonToApi)({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:$e,body:{model:`models/${this.modelId}`,content:{parts:[{text:x[0]}]},outputDimensionality:Ie?.outputDimensionality,taskType:Ie?.taskType},failedResponseHandler:M,successfulResponseHandler:(0,g.createJsonResponseHandler)(Ee),abortSignal:re,fetch:this.config.fetch});return{warnings:[],embeddings:[tt.embedding.values],usage:void 0,response:{headers:me,body:He}}}let{responseHeaders:ae,value:fe,rawValue:Ze}=await(0,g.postJsonToApi)({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:$e,body:{requests:x.map(me=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:me}]},outputDimensionality:Ie?.outputDimensionality,taskType:Ie?.taskType}))},failedResponseHandler:M,successfulResponseHandler:(0,g.createJsonResponseHandler)(ge),abortSignal:re,fetch:this.config.fetch});return{warnings:[],embeddings:fe.embeddings.map(me=>me.values),usage:void 0,response:{headers:ae,body:Ze}}}},ge=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({embeddings:n.z.array(n.z.object({values:n.z.array(n.z.number())}))}))),Ee=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({embedding:n.z.object({values:n.z.array(n.z.number())})})));function W(x){var F,re,he,Ie;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let $e=(F=x.promptTokenCount)!=null?F:0,ae=(re=x.candidatesTokenCount)!=null?re:0,fe=(he=x.cachedContentTokenCount)!=null?he:0,Ze=(Ie=x.thoughtsTokenCount)!=null?Ie:0;return{inputTokens:{total:$e,noCache:$e-fe,cacheRead:fe,cacheWrite:void 0},outputTokens:{total:ae+Ze,text:ae,reasoning:Ze},raw:x}}function ne(x,F=!0){var re;if(x==null)return;if((re=x)!=null&&typeof re=="object"&&re.type==="object"&&(re.properties==null||Object.keys(re.properties).length===0)&&!re.additionalProperties)return F?void 0:typeof x=="object"&&x.description?{type:"object",description:x.description}:{type:"object"};if(typeof x=="boolean")return{type:"boolean",properties:{}};let{type:he,description:Ie,required:$e,properties:ae,items:fe,allOf:Ze,anyOf:me,oneOf:tt,format:He,const:pt,minLength:Je,enum:jt}=x,wt={};if(Ie&&(wt.description=Ie),$e&&(wt.required=$e),He&&(wt.format=He),pt!==void 0&&(wt.enum=[pt]),he)if(Array.isArray(he)){let Qe=he.includes("null"),It=he.filter(nt=>nt!=="null");It.length===0?wt.type="null":(wt.anyOf=It.map(nt=>({type:nt})),Qe&&(wt.nullable=!0))}else wt.type=he;if(jt!==void 0&&(wt.enum=jt),ae!=null&&(wt.properties=Object.entries(ae).reduce((Qe,[It,nt])=>(Qe[It]=ne(nt,!1),Qe),{})),fe&&(wt.items=Array.isArray(fe)?fe.map(Qe=>ne(Qe,!1)):ne(fe,!1)),Ze&&(wt.allOf=Ze.map(Qe=>ne(Qe,!1))),me)if(me.some(Qe=>typeof Qe=="object"&&Qe?.type==="null")){let Qe=me.filter(It=>typeof It!="object"||It?.type!=="null");if(Qe.length===1){let It=ne(Qe[0],!1);typeof It=="object"&&(wt.nullable=!0,Object.assign(wt,It))}else wt.anyOf=Qe.map(It=>ne(It,!1)),wt.nullable=!0}else wt.anyOf=me.map(Qe=>ne(Qe,!1));return tt&&(wt.oneOf=tt.map(Qe=>ne(Qe,!1))),Je!==void 0&&(wt.minLength=Je),wt}function B(x){return x.includes("/")?x:`models/${x}`}var ce=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({responseModalities:n.z.array(n.z.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:n.z.object({thinkingBudget:n.z.number().optional(),includeThoughts:n.z.boolean().optional(),thinkingLevel:n.z.enum(["minimal","low","medium","high"]).optional()}).optional(),cachedContent:n.z.string().optional(),structuredOutputs:n.z.boolean().optional(),safetySettings:n.z.array(n.z.object({category:n.z.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:n.z.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:n.z.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:n.z.boolean().optional(),labels:n.z.record(n.z.string(),n.z.string()).optional(),mediaResolution:n.z.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:n.z.object({aspectRatio:n.z.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:n.z.enum(["1K","2K","4K"]).optional()}).optional(),retrievalConfig:n.z.object({latLng:n.z.object({latitude:n.z.number(),longitude:n.z.number()}).optional()}).optional()})));function Te({finishReason:x,hasToolCalls:F}){switch(x){case"STOP":return F?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"MALFORMED_FUNCTION_CALL":return"error";default:return"other"}}var ye=class{constructor(x,F){var re;this.specificationVersion="v3",this.modelId=x,this.config=F,this.generateId=(re=F.generateId)!=null?re:g.generateId}get provider(){return this.config.provider}get supportedUrls(){var x,F,re;return(re=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?re:{}}async getArgs({prompt:x,maxOutputTokens:F,temperature:re,topP:he,topK:Ie,frequencyPenalty:$e,presencePenalty:ae,stopSequences:fe,responseFormat:Ze,seed:me,tools:tt,toolChoice:He,providerOptions:pt}){var Je;let jt=[],wt=this.config.provider.includes("vertex")?"vertex":"google",Qe=await(0,g.parseProviderOptions)({provider:wt,providerOptions:pt,schema:ce});Qe==null&&wt!=="google"&&(Qe=await(0,g.parseProviderOptions)({provider:"google",providerOptions:pt,schema:ce})),tt?.some(Se=>Se.type==="provider"&&Se.id==="google.vertex_rag_store")&&!this.config.provider.startsWith("google.vertex.")&&jt.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let It=this.modelId.toLowerCase().startsWith("gemma-"),{contents:nt,systemInstruction:qt}=function(Se,Sr){var At,St,dt;let Ae=[],Zt=[],Jt=!0,Et=(At=Sr?.isGemmaModel)!=null&&At,Dt=(St=Sr?.providerOptionsName)!=null?St:"google";for(let{role:Ur,content:hr}of Se)switch(Ur){case"system":if(!Jt)throw new xe.UnsupportedFunctionalityError({functionality:"system messages are only supported at the beginning of the conversation"});Ae.push({text:hr});break;case"user":{Jt=!1;let ir=[];for(let Xe of hr)switch(Xe.type){case"text":ir.push({text:Xe.text});break;case"file":{let Lt=Xe.mediaType==="image/*"?"image/jpeg":Xe.mediaType;ir.push(Xe.data instanceof URL?{fileData:{mimeType:Lt,fileUri:Xe.data.toString()}}:{inlineData:{mimeType:Lt,data:(0,g.convertToBase64)(Xe.data)}})}}Zt.push({role:"user",parts:ir});break}case"assistant":Jt=!1,Zt.push({role:"model",parts:hr.map(ir=>{var Xe;let Lt=(Xe=ir.providerOptions)==null?void 0:Xe[Dt],yt=Lt?.thoughtSignature!=null?String(Lt.thoughtSignature):void 0;switch(ir.type){case"text":return ir.text.length===0?void 0:{text:ir.text,thoughtSignature:yt};case"reasoning":return ir.text.length===0?void 0:{text:ir.text,thought:!0,thoughtSignature:yt};case"file":if(ir.data instanceof URL)throw new xe.UnsupportedFunctionalityError({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:ir.mediaType,data:(0,g.convertToBase64)(ir.data)},thoughtSignature:yt};case"tool-call":return{functionCall:{name:ir.toolName,args:ir.input},thoughtSignature:yt}}}).filter(ir=>ir!==void 0)});break;case"tool":{Jt=!1;let ir=[];for(let Xe of hr){if(Xe.type==="tool-approval-response")continue;let Lt=Xe.output;if(Lt.type==="content")for(let yt of Lt.value)switch(yt.type){case"text":ir.push({functionResponse:{name:Xe.toolName,response:{name:Xe.toolName,content:yt.text}}});break;case"image-data":ir.push({inlineData:{mimeType:yt.mediaType,data:yt.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:ir.push({text:JSON.stringify(yt)})}else ir.push({functionResponse:{name:Xe.toolName,response:{name:Xe.toolName,content:Lt.type==="execution-denied"?(dt=Lt.reason)!=null?dt:"Tool execution denied.":Lt.value}}})}Zt.push({role:"user",parts:ir})}}if(Et&&Ae.length>0&&Zt.length>0&&Zt[0].role==="user"){let Ur=Ae.map(hr=>hr.text).join(`

`);Zt[0].parts.unshift({text:Ur+`

`})}return{systemInstruction:Ae.length>0&&!Et?{parts:Ae}:void 0,contents:Zt}}(x,{isGemmaModel:It,providerOptionsName:wt}),{tools:cr,toolConfig:ke,toolWarnings:de}=function({tools:Se,toolChoice:Sr,modelId:At}){var St;Se=Se?.length?Se:void 0;let dt=[],Ae=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(Xe=>Xe===At),Zt=At.includes("gemini-2")||At.includes("gemini-3")||Ae,Jt=At.includes("gemini-1.5-flash")&&!At.includes("-8b"),Et=At.includes("gemini-2.5");if(Se==null)return{tools:void 0,toolConfig:void 0,toolWarnings:dt};let Dt=Se.some(Xe=>Xe.type==="function"),Ur=Se.some(Xe=>Xe.type==="provider");if(Dt&&Ur&&dt.push({type:"unsupported",feature:"combination of function and provider-defined tools"}),Ur){let Xe=[];return Se.filter(Lt=>Lt.type==="provider").forEach(Lt=>{switch(Lt.id){case"google.google_search":Zt?Xe.push({googleSearch:{}}):Jt?Xe.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:Lt.args.mode,dynamicThreshold:Lt.args.dynamicThreshold}}}):Xe.push({googleSearchRetrieval:{}});break;case"google.enterprise_web_search":Zt?Xe.push({enterpriseWebSearch:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"Enterprise Web Search requires Gemini 2.0 or newer."});break;case"google.url_context":Zt?Xe.push({urlContext:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":Zt?Xe.push({codeExecution:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":Et?Xe.push({fileSearch:{...Lt.args}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The file search tool is only supported with Gemini 2.5 models."});break;case"google.vertex_rag_store":Zt?Xe.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:Lt.args.ragCorpus},similarity_top_k:Lt.args.topK}}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;case"google.google_maps":Zt?Xe.push({googleMaps:{}}):dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`,details:"The Google Maps grounding tool is not supported with Gemini models other than Gemini 2 or newer."});break;default:dt.push({type:"unsupported",feature:`provider-defined tool ${Lt.id}`})}}),{tools:Xe.length>0?Xe:void 0,toolConfig:void 0,toolWarnings:dt}}let hr=[];for(let Xe of Se)Xe.type==="function"?hr.push({name:Xe.name,description:(St=Xe.description)!=null?St:"",parameters:ne(Xe.inputSchema)}):dt.push({type:"unsupported",feature:`function tool ${Xe.name}`});if(Sr==null)return{tools:[{functionDeclarations:hr}],toolConfig:void 0,toolWarnings:dt};let ir=Sr.type;switch(ir){case"auto":return{tools:[{functionDeclarations:hr}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:dt};case"none":return{tools:[{functionDeclarations:hr}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:dt};case"required":return{tools:[{functionDeclarations:hr}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:dt};case"tool":return{tools:[{functionDeclarations:hr}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[Sr.toolName]}},toolWarnings:dt};default:throw new xe.UnsupportedFunctionalityError({functionality:`tool choice type: ${ir}`})}}({tools:tt,toolChoice:He,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:F,temperature:re,topK:Ie,topP:he,frequencyPenalty:$e,presencePenalty:ae,stopSequences:fe,seed:me,responseMimeType:Ze?.type==="json"?"application/json":void 0,responseSchema:Ze?.type==="json"&&Ze.schema!=null&&((Je=Qe?.structuredOutputs)==null||Je)?ne(Ze.schema):void 0,...Qe?.audioTimestamp&&{audioTimestamp:Qe.audioTimestamp},responseModalities:Qe?.responseModalities,thinkingConfig:Qe?.thinkingConfig,...Qe?.mediaResolution&&{mediaResolution:Qe.mediaResolution},...Qe?.imageConfig&&{imageConfig:Qe.imageConfig}},contents:nt,systemInstruction:It?void 0:qt,safetySettings:Qe?.safetySettings,tools:cr,toolConfig:Qe?.retrievalConfig?{...ke,retrievalConfig:Qe.retrievalConfig}:ke,cachedContent:Qe?.cachedContent,labels:Qe?.labels},warnings:[...jt,...de],providerOptionsName:wt}}async doGenerate(x){var F,re,he,Ie,$e,ae,fe,Ze,me;let tt,{args:He,warnings:pt,providerOptionsName:Je}=await this.getArgs(x),jt=(0,g.combineHeaders)(await(0,g.resolve)(this.config.headers),x.headers),{responseHeaders:wt,value:Qe,rawValue:It}=await(0,g.postJsonToApi)({url:`${this.config.baseURL}/${B(this.modelId)}:generateContent`,headers:jt,body:He,failedResponseHandler:M,successfulResponseHandler:(0,g.createJsonResponseHandler)(rt),abortSignal:x.abortSignal,fetch:this.config.fetch}),nt=Qe.candidates[0],qt=[],cr=(re=(F=nt.content)==null?void 0:F.parts)!=null?re:[],ke=Qe.usageMetadata;for(let de of cr)if("executableCode"in de&&((he=de.executableCode)==null?void 0:he.code)){let Se=this.config.generateId();tt=Se,qt.push({type:"tool-call",toolCallId:Se,toolName:"code_execution",input:JSON.stringify(de.executableCode),providerExecuted:!0})}else"codeExecutionResult"in de&&de.codeExecutionResult?(qt.push({type:"tool-result",toolCallId:tt,toolName:"code_execution",result:{outcome:de.codeExecutionResult.outcome,output:de.codeExecutionResult.output}}),tt=void 0):"text"in de&&de.text!=null&&de.text.length>0?qt.push({type:de.thought===!0?"reasoning":"text",text:de.text,providerMetadata:de.thoughtSignature?{[Je]:{thoughtSignature:de.thoughtSignature}}:void 0}):"functionCall"in de?qt.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:de.functionCall.name,input:JSON.stringify(de.functionCall.args),providerMetadata:de.thoughtSignature?{[Je]:{thoughtSignature:de.thoughtSignature}}:void 0}):"inlineData"in de&&qt.push({type:"file",data:de.inlineData.data,mediaType:de.inlineData.mimeType,providerMetadata:de.thoughtSignature?{[Je]:{thoughtSignature:de.thoughtSignature}}:void 0});for(let de of(Ie=ht({groundingMetadata:nt.groundingMetadata,generateId:this.config.generateId}))!=null?Ie:[])qt.push(de);return{content:qt,finishReason:{unified:Te({finishReason:nt.finishReason,hasToolCalls:qt.some(de=>de.type==="tool-call")}),raw:($e=nt.finishReason)!=null?$e:void 0},usage:W(ke),warnings:pt,providerMetadata:{[Je]:{promptFeedback:(ae=Qe.promptFeedback)!=null?ae:null,groundingMetadata:(fe=nt.groundingMetadata)!=null?fe:null,urlContextMetadata:(Ze=nt.urlContextMetadata)!=null?Ze:null,safetyRatings:(me=nt.safetyRatings)!=null?me:null,usageMetadata:ke??null}},request:{body:He},response:{headers:wt,body:It}}}async doStream(x){let F,re,he,{args:Ie,warnings:$e,providerOptionsName:ae}=await this.getArgs(x),fe=(0,g.combineHeaders)(await(0,g.resolve)(this.config.headers),x.headers),{responseHeaders:Ze,value:me}=await(0,g.postJsonToApi)({url:`${this.config.baseURL}/${B(this.modelId)}:streamGenerateContent?alt=sse`,headers:fe,body:Ie,failedResponseHandler:M,successfulResponseHandler:(0,g.createEventSourceResponseHandler)($t),abortSignal:x.abortSignal,fetch:this.config.fetch}),tt={unified:"other",raw:void 0},He=this.config.generateId,pt=!1,Je=null,jt=null,wt=0,Qe=new Set;return{stream:me.pipeThrough(new TransformStream({start(It){It.enqueue({type:"stream-start",warnings:$e})},transform(It,nt){var qt,cr,ke,de,Se,Sr,At;if(x.includeRawChunks&&nt.enqueue({type:"raw",rawValue:It.rawValue}),!It.success)return void nt.enqueue({type:"error",error:It.error});let St=It.value,dt=St.usageMetadata;dt!=null&&(re=dt);let Ae=(qt=St.candidates)==null?void 0:qt[0];if(Ae==null)return;let Zt=Ae.content,Jt=ht({groundingMetadata:Ae.groundingMetadata,generateId:He});if(Jt!=null)for(let Et of Jt)Et.sourceType!=="url"||Qe.has(Et.url)||(Qe.add(Et.url),nt.enqueue(Et));if(Zt!=null){for(let Dt of(cr=Zt.parts)!=null?cr:[])if("executableCode"in Dt&&((ke=Dt.executableCode)==null?void 0:ke.code)){let Ur=He();F=Ur,nt.enqueue({type:"tool-call",toolCallId:Ur,toolName:"code_execution",input:JSON.stringify(Dt.executableCode),providerExecuted:!0}),pt=!0}else if("codeExecutionResult"in Dt&&Dt.codeExecutionResult){let Ur=F;Ur&&(nt.enqueue({type:"tool-result",toolCallId:Ur,toolName:"code_execution",result:{outcome:Dt.codeExecutionResult.outcome,output:Dt.codeExecutionResult.output}}),F=void 0)}else"text"in Dt&&Dt.text!=null&&Dt.text.length>0?Dt.thought===!0?(Je!==null&&(nt.enqueue({type:"text-end",id:Je}),Je=null),jt===null&&(jt=String(wt++),nt.enqueue({type:"reasoning-start",id:jt,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})),nt.enqueue({type:"reasoning-delta",id:jt,delta:Dt.text,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})):(jt!==null&&(nt.enqueue({type:"reasoning-end",id:jt}),jt=null),Je===null&&(Je=String(wt++),nt.enqueue({type:"text-start",id:Je,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})),nt.enqueue({type:"text-delta",id:Je,delta:Dt.text,providerMetadata:Dt.thoughtSignature?{[ae]:{thoughtSignature:Dt.thoughtSignature}}:void 0})):"inlineData"in Dt&&nt.enqueue({type:"file",mediaType:Dt.inlineData.mimeType,data:Dt.inlineData.data});let Et=function({parts:Dt,generateId:Ur,providerOptionsName:hr}){let ir=Dt?.filter(Xe=>"functionCall"in Xe);return ir==null||ir.length===0?void 0:ir.map(Xe=>({type:"tool-call",toolCallId:Ur(),toolName:Xe.functionCall.name,args:JSON.stringify(Xe.functionCall.args),providerMetadata:Xe.thoughtSignature?{[hr]:{thoughtSignature:Xe.thoughtSignature}}:void 0}))}({parts:Zt.parts,generateId:He,providerOptionsName:ae});if(Et!=null)for(let Dt of Et)nt.enqueue({type:"tool-input-start",id:Dt.toolCallId,toolName:Dt.toolName,providerMetadata:Dt.providerMetadata}),nt.enqueue({type:"tool-input-delta",id:Dt.toolCallId,delta:Dt.args,providerMetadata:Dt.providerMetadata}),nt.enqueue({type:"tool-input-end",id:Dt.toolCallId,providerMetadata:Dt.providerMetadata}),nt.enqueue({type:"tool-call",toolCallId:Dt.toolCallId,toolName:Dt.toolName,input:Dt.args,providerMetadata:Dt.providerMetadata}),pt=!0}Ae.finishReason!=null&&(tt={unified:Te({finishReason:Ae.finishReason,hasToolCalls:pt}),raw:Ae.finishReason},he={[ae]:{promptFeedback:(de=St.promptFeedback)!=null?de:null,groundingMetadata:(Se=Ae.groundingMetadata)!=null?Se:null,urlContextMetadata:(Sr=Ae.urlContextMetadata)!=null?Sr:null,safetyRatings:(At=Ae.safetyRatings)!=null?At:null}},dt!=null&&(he[ae].usageMetadata=dt))},flush(It){Je!==null&&It.enqueue({type:"text-end",id:Je}),jt!==null&&It.enqueue({type:"reasoning-end",id:jt}),It.enqueue({type:"finish",finishReason:tt,usage:W(re),providerMetadata:he})}})),response:{headers:Ze},request:{body:Ie}}}};function ht({groundingMetadata:x,generateId:F}){var re,he,Ie,$e,ae;if(!x?.groundingChunks)return;let fe=[];for(let Ze of x.groundingChunks)if(Ze.web!=null)fe.push({type:"source",sourceType:"url",id:F(),url:Ze.web.uri,title:(re=Ze.web.title)!=null?re:void 0});else if(Ze.retrievedContext!=null){let me=Ze.retrievedContext.uri,tt=Ze.retrievedContext.fileSearchStore;if(me&&(me.startsWith("http://")||me.startsWith("https://")))fe.push({type:"source",sourceType:"url",id:F(),url:me,title:(he=Ze.retrievedContext.title)!=null?he:void 0});else if(me){let He,pt=(Ie=Ze.retrievedContext.title)!=null?Ie:"Unknown Document",Je="application/octet-stream";me.endsWith(".pdf")?Je="application/pdf":me.endsWith(".txt")?Je="text/plain":me.endsWith(".docx")?Je="application/vnd.openxmlformats-officedocument.wordprocessingml.document":me.endsWith(".doc")?Je="application/msword":me.match(/\.(md|markdown)$/)&&(Je="text/markdown"),He=me.split("/").pop(),fe.push({type:"source",sourceType:"document",id:F(),mediaType:Je,title:pt,filename:He})}else if(tt){let He=($e=Ze.retrievedContext.title)!=null?$e:"Unknown Document";fe.push({type:"source",sourceType:"document",id:F(),mediaType:"application/octet-stream",title:He,filename:tt.split("/").pop()})}}else Ze.maps!=null&&Ze.maps.uri&&fe.push({type:"source",sourceType:"url",id:F(),url:Ze.maps.uri,title:(ae=Ze.maps.title)!=null?ae:void 0});return fe.length>0?fe:void 0}var Y=()=>n.z.object({webSearchQueries:n.z.array(n.z.string()).nullish(),retrievalQueries:n.z.array(n.z.string()).nullish(),searchEntryPoint:n.z.object({renderedContent:n.z.string()}).nullish(),groundingChunks:n.z.array(n.z.object({web:n.z.object({uri:n.z.string(),title:n.z.string().nullish()}).nullish(),retrievedContext:n.z.object({uri:n.z.string().nullish(),title:n.z.string().nullish(),text:n.z.string().nullish(),fileSearchStore:n.z.string().nullish()}).nullish(),maps:n.z.object({uri:n.z.string().nullish(),title:n.z.string().nullish(),text:n.z.string().nullish(),placeId:n.z.string().nullish()}).nullish()})).nullish(),groundingSupports:n.z.array(n.z.object({segment:n.z.object({startIndex:n.z.number().nullish(),endIndex:n.z.number().nullish(),text:n.z.string().nullish()}),segment_text:n.z.string().nullish(),groundingChunkIndices:n.z.array(n.z.number()).nullish(),supportChunkIndices:n.z.array(n.z.number()).nullish(),confidenceScores:n.z.array(n.z.number()).nullish(),confidenceScore:n.z.array(n.z.number()).nullish()})).nullish(),retrievalMetadata:n.z.union([n.z.object({webDynamicRetrievalScore:n.z.number()}),n.z.object({})]).nullish()}),Ge=()=>n.z.object({parts:n.z.array(n.z.union([n.z.object({functionCall:n.z.object({name:n.z.string(),args:n.z.unknown()}),thoughtSignature:n.z.string().nullish()}),n.z.object({inlineData:n.z.object({mimeType:n.z.string(),data:n.z.string()}),thoughtSignature:n.z.string().nullish()}),n.z.object({executableCode:n.z.object({language:n.z.string(),code:n.z.string()}).nullish(),codeExecutionResult:n.z.object({outcome:n.z.string(),output:n.z.string()}).nullish(),text:n.z.string().nullish(),thought:n.z.boolean().nullish(),thoughtSignature:n.z.string().nullish()})])).nullish()}),te=()=>n.z.object({category:n.z.string().nullish(),probability:n.z.string().nullish(),probabilityScore:n.z.number().nullish(),severity:n.z.string().nullish(),severityScore:n.z.number().nullish(),blocked:n.z.boolean().nullish()}),Ye=n.z.object({cachedContentTokenCount:n.z.number().nullish(),thoughtsTokenCount:n.z.number().nullish(),promptTokenCount:n.z.number().nullish(),candidatesTokenCount:n.z.number().nullish(),totalTokenCount:n.z.number().nullish(),trafficType:n.z.string().nullish()}),We=()=>n.z.object({urlMetadata:n.z.array(n.z.object({retrievedUrl:n.z.string(),urlRetrievalStatus:n.z.string()}))}),rt=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({candidates:n.z.array(n.z.object({content:Ge().nullish().or(n.z.object({}).strict()),finishReason:n.z.string().nullish(),safetyRatings:n.z.array(te()).nullish(),groundingMetadata:Y().nullish(),urlContextMetadata:We().nullish()})),usageMetadata:Ye.nullish(),promptFeedback:n.z.object({blockReason:n.z.string().nullish(),safetyRatings:n.z.array(te()).nullish()}).nullish()}))),$t=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({candidates:n.z.array(n.z.object({content:Ge().nullish(),finishReason:n.z.string().nullish(),safetyRatings:n.z.array(te()).nullish(),groundingMetadata:Y().nullish(),urlContextMetadata:We().nullish()})).nullish(),usageMetadata:Ye.nullish(),promptFeedback:n.z.object({blockReason:n.z.string().nullish(),safetyRatings:n.z.array(te()).nullish()}).nullish()}))),Pt=(0,g.createProviderToolFactoryWithOutputSchema)({id:"google.code_execution",inputSchema:n.z.object({language:n.z.string().describe("The programming language of the code."),code:n.z.string().describe("The code to be executed.")}),outputSchema:n.z.object({outcome:n.z.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:n.z.string().describe("The output from the code execution.")})}),er=(0,g.createProviderToolFactory)({id:"google.enterprise_web_search",inputSchema:(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({})))}),Gt=n.z.object({fileSearchStoreNames:n.z.array(n.z.string()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:n.z.number().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:n.z.string().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),Ve=(0,g.lazySchema)(()=>(0,g.zodSchema)(Gt)),sr=(0,g.createProviderToolFactory)({id:"google.file_search",inputSchema:Ve}),pe=(0,g.createProviderToolFactory)({id:"google.google_maps",inputSchema:(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({})))}),ve=(0,g.createProviderToolFactory)({id:"google.google_search",inputSchema:(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({mode:n.z.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:n.z.number().default(1)})))}),q={googleSearch:ve,enterpriseWebSearch:er,googleMaps:pe,urlContext:(0,g.createProviderToolFactory)({id:"google.url_context",inputSchema:(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({})))}),fileSearch:sr,codeExecution:Pt,vertexRagStore:(0,g.createProviderToolFactory)({id:"google.vertex_rag_store",inputSchema:n.z.object({ragCorpus:n.z.string(),topK:n.z.number().optional()})})},vt=class{constructor(x,F,re){this.modelId=x,this.settings=F,this.config=re,this.specificationVersion="v3"}get maxImagesPerCall(){var x;return(x=this.settings.maxImagesPerCall)!=null?x:4}get provider(){return this.config.provider}async doGenerate(x){var F,re,he;let{prompt:Ie,n:$e=1,size:ae,aspectRatio:fe="1:1",seed:Ze,providerOptions:me,headers:tt,abortSignal:He,files:pt,mask:Je}=x,jt=[];if(pt!=null&&pt.length>0)throw Error("Google Generative AI does not support image editing. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");if(Je!=null)throw Error("Google Generative AI does not support image editing with masks. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");ae!=null&&jt.push({type:"unsupported",feature:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),Ze!=null&&jt.push({type:"unsupported",feature:"seed",details:"This model does not support the `seed` option through this provider."});let wt=await(0,g.parseProviderOptions)({provider:"google",providerOptions:me,schema:Yt}),Qe=(he=(re=(F=this.config._internal)==null?void 0:F.currentDate)==null?void 0:re.call(F))!=null?he:new Date,It={sampleCount:$e};fe!=null&&(It.aspectRatio=fe),wt&&Object.assign(It,wt);let{responseHeaders:nt,value:qt}=await(0,g.postJsonToApi)({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:(0,g.combineHeaders)(await(0,g.resolve)(this.config.headers),tt),body:{instances:[{prompt:Ie}],parameters:It},failedResponseHandler:M,successfulResponseHandler:(0,g.createJsonResponseHandler)(h),abortSignal:He,fetch:this.config.fetch});return{images:qt.predictions.map(cr=>cr.bytesBase64Encoded),warnings:jt??[],providerMetadata:{google:{images:qt.predictions.map(cr=>({}))}},response:{timestamp:Qe,modelId:this.modelId,headers:nt}}}},h=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({predictions:n.z.array(n.z.object({bytesBase64Encoded:n.z.string()})).default([])}))),Yt=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({personGeneration:n.z.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:n.z.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function lt(x={}){var F,re;let he=(F=(0,g.withoutTrailingSlash)(x.baseURL))!=null?F:"https://generativelanguage.googleapis.com/v1beta",Ie=(re=x.name)!=null?re:"google.generative-ai",$e=()=>(0,g.withUserAgentSuffix)({"x-goog-api-key":(0,g.loadApiKey)({apiKey:x.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...x.headers},"ai-sdk/google/3.0.1"),ae=tt=>{var He;return new ye(tt,{provider:Ie,baseURL:he,headers:$e,generateId:(He=x.generateId)!=null?He:g.generateId,supportedUrls:()=>({"*":[RegExp(`^${he}/files/.*$`),RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),fetch:x.fetch})},fe=tt=>new Fe(tt,{provider:Ie,baseURL:he,headers:$e,fetch:x.fetch}),Ze=(tt,He={})=>new vt(tt,He,{provider:Ie,baseURL:he,headers:$e,fetch:x.fetch}),me=function(tt){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return ae(tt)};return me.specificationVersion="v3",me.languageModel=ae,me.chat=ae,me.generativeAI=ae,me.embedding=fe,me.embeddingModel=fe,me.textEmbedding=fe,me.textEmbeddingModel=fe,me.image=Ze,me.imageModel=Ze,me.tools=q,me}lt();var ur=n.z.object({error:n.z.object({message:n.z.string(),type:n.z.string().nullish(),param:n.z.any().nullish(),code:n.z.union([n.z.string(),n.z.number()]).nullish()})}),ct=(0,g.createJsonErrorResponseHandler)({errorSchema:ur,errorToMessage:x=>x.error.message});function mt(x){let F=x.startsWith("o3")||x.startsWith("o4-mini")||x.startsWith("gpt-5")&&!x.startsWith("gpt-5-chat"),re=x.startsWith("gpt-4")||x.startsWith("gpt-5-mini")||x.startsWith("gpt-5")&&!x.startsWith("gpt-5-nano")&&!x.startsWith("gpt-5-chat")||x.startsWith("o3")||x.startsWith("o4-mini"),he=x.startsWith("o1")||x.startsWith("o3")||x.startsWith("o4-mini")||x.startsWith("codex-mini")||x.startsWith("computer-use-preview")||x.startsWith("gpt-5")&&!x.startsWith("gpt-5-chat");return{supportsFlexProcessing:F,supportsPriorityProcessing:re,isReasoningModel:he,systemMessageMode:he?"developer":"system",supportsNonReasoningParameters:x.startsWith("gpt-5.1")||x.startsWith("gpt-5.2")}}function Nr(x){var F,re,he,Ie,$e,ae;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let fe=(F=x.prompt_tokens)!=null?F:0,Ze=(re=x.completion_tokens)!=null?re:0,me=(Ie=(he=x.prompt_tokens_details)==null?void 0:he.cached_tokens)!=null?Ie:0,tt=(ae=($e=x.completion_tokens_details)==null?void 0:$e.reasoning_tokens)!=null?ae:0;return{inputTokens:{total:fe,noCache:fe-me,cacheRead:me,cacheWrite:void 0},outputTokens:{total:Ze,text:Ze-tt,reasoning:tt},raw:x}}function Vr({id:x,model:F,created:re}){return{id:x??void 0,modelId:F??void 0,timestamp:re?new Date(1e3*re):void 0}}function Sn(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var Kr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({message:n.z.object({role:n.z.literal("assistant").nullish(),content:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({id:n.z.string().nullish(),type:n.z.literal("function"),function:n.z.object({name:n.z.string(),arguments:n.z.string()})})).nullish(),annotations:n.z.array(n.z.object({type:n.z.literal("url_citation"),url_citation:n.z.object({start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()})})).nullish()}),index:n.z.number(),logprobs:n.z.object({content:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish()}).nullish(),finish_reason:n.z.string().nullish()})),usage:n.z.object({prompt_tokens:n.z.number().nullish(),completion_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),prompt_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),completion_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish(),accepted_prediction_tokens:n.z.number().nullish(),rejected_prediction_tokens:n.z.number().nullish()}).nullish()}).nullish()}))),Pr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.union([n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({delta:n.z.object({role:n.z.enum(["assistant"]).nullish(),content:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({index:n.z.number(),id:n.z.string().nullish(),type:n.z.literal("function").nullish(),function:n.z.object({name:n.z.string().nullish(),arguments:n.z.string().nullish()})})).nullish(),annotations:n.z.array(n.z.object({type:n.z.literal("url_citation"),url_citation:n.z.object({start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()})})).nullish()}).nullish(),logprobs:n.z.object({content:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish()}).nullish(),finish_reason:n.z.string().nullish(),index:n.z.number()})),usage:n.z.object({prompt_tokens:n.z.number().nullish(),completion_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),prompt_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),completion_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish(),accepted_prediction_tokens:n.z.number().nullish(),rejected_prediction_tokens:n.z.number().nullish()}).nullish()}).nullish()}),ur]))),Dn=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({logitBias:n.z.record(n.z.coerce.number(),n.z.number()).optional(),logprobs:n.z.union([n.z.boolean(),n.z.number()]).optional(),parallelToolCalls:n.z.boolean().optional(),user:n.z.string().optional(),reasoningEffort:n.z.enum(["none","minimal","low","medium","high","xhigh"]).optional(),maxCompletionTokens:n.z.number().optional(),store:n.z.boolean().optional(),metadata:n.z.record(n.z.string().max(64),n.z.string().max(512)).optional(),prediction:n.z.record(n.z.string(),n.z.any()).optional(),serviceTier:n.z.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:n.z.boolean().optional(),textVerbosity:n.z.enum(["low","medium","high"]).optional(),promptCacheKey:n.z.string().optional(),promptCacheRetention:n.z.enum(["in_memory","24h"]).optional(),safetyIdentifier:n.z.string().optional(),systemMessageMode:n.z.enum(["system","developer","remove"]).optional(),forceReasoning:n.z.boolean().optional()}))),Nn=class{constructor(x,F){this.specificationVersion="v3",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=x,this.config=F}get provider(){return this.config.provider}async getArgs({prompt:x,maxOutputTokens:F,temperature:re,topP:he,topK:Ie,frequencyPenalty:$e,presencePenalty:ae,stopSequences:fe,responseFormat:Ze,seed:me,tools:tt,toolChoice:He,providerOptions:pt}){var Je,jt,wt,Qe,It;let nt=[],qt=(Je=await(0,g.parseProviderOptions)({provider:"openai",providerOptions:pt,schema:Dn}))!=null?Je:{},cr=mt(this.modelId),ke=(jt=qt.forceReasoning)!=null?jt:cr.isReasoningModel;Ie!=null&&nt.push({type:"unsupported",feature:"topK"});let{messages:de,warnings:Se}=function({prompt:Zt,systemMessageMode:Jt="system"}){var Et;let Dt=[],Ur=[];for(let{role:hr,content:ir}of Zt)switch(hr){case"system":switch(Jt){case"system":Dt.push({role:"system",content:ir});break;case"developer":Dt.push({role:"developer",content:ir});break;case"remove":Ur.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${Jt}`)}break;case"user":if(ir.length===1&&ir[0].type==="text"){Dt.push({role:"user",content:ir[0].text});break}Dt.push({role:"user",content:ir.map((Xe,Lt)=>{var yt,oa,qr;switch(Xe.type){case"text":return{type:"text",text:Xe.text};case"file":if(Xe.mediaType.startsWith("image/")){let zt=Xe.mediaType==="image/*"?"image/jpeg":Xe.mediaType;return{type:"image_url",image_url:{url:Xe.data instanceof URL?Xe.data.toString():`data:${zt};base64,${(0,g.convertToBase64)(Xe.data)}`,detail:(oa=(yt=Xe.providerOptions)==null?void 0:yt.openai)==null?void 0:oa.imageDetail}}}if(Xe.mediaType.startsWith("audio/")){if(Xe.data instanceof URL)throw new xe.UnsupportedFunctionalityError({functionality:"audio file parts with URLs"});switch(Xe.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:(0,g.convertToBase64)(Xe.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:(0,g.convertToBase64)(Xe.data),format:"mp3"}};default:throw new xe.UnsupportedFunctionalityError({functionality:`audio content parts with media type ${Xe.mediaType}`})}}if(Xe.mediaType==="application/pdf"){if(Xe.data instanceof URL)throw new xe.UnsupportedFunctionalityError({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof Xe.data=="string"&&Xe.data.startsWith("file-")?{file_id:Xe.data}:{filename:(qr=Xe.filename)!=null?qr:`part-${Lt}.pdf`,file_data:`data:application/pdf;base64,${(0,g.convertToBase64)(Xe.data)}`}}}else throw new xe.UnsupportedFunctionalityError({functionality:`file part media type ${Xe.mediaType}`})}})});break;case"assistant":{let Xe="",Lt=[];for(let yt of ir)switch(yt.type){case"text":Xe+=yt.text;break;case"tool-call":Lt.push({id:yt.toolCallId,type:"function",function:{name:yt.toolName,arguments:JSON.stringify(yt.input)}})}Dt.push({role:"assistant",content:Xe,tool_calls:Lt.length>0?Lt:void 0});break}case"tool":for(let Xe of ir){let Lt;if(Xe.type==="tool-approval-response")continue;let yt=Xe.output;switch(yt.type){case"text":case"error-text":Lt=yt.value;break;case"execution-denied":Lt=(Et=yt.reason)!=null?Et:"Tool execution denied.";break;case"content":case"json":case"error-json":Lt=JSON.stringify(yt.value)}Dt.push({role:"tool",tool_call_id:Xe.toolCallId,content:Lt})}break;default:throw Error(`Unsupported role: ${hr}`)}return{messages:Dt,warnings:Ur}}({prompt:x,systemMessageMode:(wt=qt.systemMessageMode)!=null?wt:ke?"developer":cr.systemMessageMode});nt.push(...Se);let Sr=(Qe=qt.strictJsonSchema)==null||Qe,At={model:this.modelId,logit_bias:qt.logitBias,logprobs:qt.logprobs===!0||typeof qt.logprobs=="number"||void 0,top_logprobs:typeof qt.logprobs=="number"?qt.logprobs:typeof qt.logprobs=="boolean"&&qt.logprobs?0:void 0,user:qt.user,parallel_tool_calls:qt.parallelToolCalls,max_tokens:F,temperature:re,top_p:he,frequency_penalty:$e,presence_penalty:ae,response_format:Ze?.type==="json"?Ze.schema!=null?{type:"json_schema",json_schema:{schema:Ze.schema,strict:Sr,name:(It=Ze.name)!=null?It:"response",description:Ze.description}}:{type:"json_object"}:void 0,stop:fe,seed:me,verbosity:qt.textVerbosity,max_completion_tokens:qt.maxCompletionTokens,store:qt.store,metadata:qt.metadata,prediction:qt.prediction,reasoning_effort:qt.reasoningEffort,service_tier:qt.serviceTier,prompt_cache_key:qt.promptCacheKey,prompt_cache_retention:qt.promptCacheRetention,safety_identifier:qt.safetyIdentifier,messages:de};ke?(qt.reasoningEffort==="none"&&cr.supportsNonReasoningParameters||(At.temperature!=null&&(At.temperature=void 0,nt.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for reasoning models"})),At.top_p!=null&&(At.top_p=void 0,nt.push({type:"unsupported",feature:"topP",details:"topP is not supported for reasoning models"})),At.logprobs!=null&&(At.logprobs=void 0,nt.push({type:"other",message:"logprobs is not supported for reasoning models"}))),At.frequency_penalty!=null&&(At.frequency_penalty=void 0,nt.push({type:"unsupported",feature:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),At.presence_penalty!=null&&(At.presence_penalty=void 0,nt.push({type:"unsupported",feature:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),At.logit_bias!=null&&(At.logit_bias=void 0,nt.push({type:"other",message:"logitBias is not supported for reasoning models"})),At.top_logprobs!=null&&(At.top_logprobs=void 0,nt.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),At.max_tokens!=null&&(At.max_completion_tokens==null&&(At.max_completion_tokens=At.max_tokens),At.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&At.temperature!=null&&(At.temperature=void 0,nt.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),qt.serviceTier!=="flex"||cr.supportsFlexProcessing||(nt.push({type:"unsupported",feature:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),At.service_tier=void 0),qt.serviceTier!=="priority"||cr.supportsPriorityProcessing||(nt.push({type:"unsupported",feature:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),At.service_tier=void 0);let{tools:St,toolChoice:dt,toolWarnings:Ae}=function({tools:Zt,toolChoice:Jt}){Zt=Zt?.length?Zt:void 0;let Et=[];if(Zt==null)return{tools:void 0,toolChoice:void 0,toolWarnings:Et};let Dt=[];for(let hr of Zt)hr.type==="function"?Dt.push({type:"function",function:{name:hr.name,description:hr.description,parameters:hr.inputSchema,...hr.strict!=null?{strict:hr.strict}:{}}}):Et.push({type:"unsupported",feature:`tool type: ${hr.type}`});if(Jt==null)return{tools:Dt,toolChoice:void 0,toolWarnings:Et};let Ur=Jt.type;switch(Ur){case"auto":case"none":case"required":return{tools:Dt,toolChoice:Ur,toolWarnings:Et};case"tool":return{tools:Dt,toolChoice:{type:"function",function:{name:Jt.toolName}},toolWarnings:Et};default:throw new xe.UnsupportedFunctionalityError({functionality:`tool choice type: ${Ur}`})}}({tools:tt,toolChoice:He});return{args:{...At,tools:St,tool_choice:dt},warnings:[...nt,...Ae]}}async doGenerate(x){var F,re,he,Ie,$e,ae,fe;let{args:Ze,warnings:me}=await this.getArgs(x),{responseHeaders:tt,value:He,rawValue:pt}=await(0,g.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:Ze,failedResponseHandler:ct,successfulResponseHandler:(0,g.createJsonResponseHandler)(Kr),abortSignal:x.abortSignal,fetch:this.config.fetch}),Je=He.choices[0],jt=[],wt=Je.message.content;for(let nt of(wt!=null&&wt.length>0&&jt.push({type:"text",text:wt}),(F=Je.message.tool_calls)!=null?F:[]))jt.push({type:"tool-call",toolCallId:(re=nt.id)!=null?re:(0,g.generateId)(),toolName:nt.function.name,input:nt.function.arguments});for(let nt of(he=Je.message.annotations)!=null?he:[])jt.push({type:"source",sourceType:"url",id:(0,g.generateId)(),url:nt.url_citation.url,title:nt.url_citation.title});let Qe=(Ie=He.usage)==null?void 0:Ie.completion_tokens_details;($e=He.usage)==null||$e.prompt_tokens_details;let It={openai:{}};return Qe?.accepted_prediction_tokens!=null&&(It.openai.acceptedPredictionTokens=Qe?.accepted_prediction_tokens),Qe?.rejected_prediction_tokens!=null&&(It.openai.rejectedPredictionTokens=Qe?.rejected_prediction_tokens),((ae=Je.logprobs)==null?void 0:ae.content)!=null&&(It.openai.logprobs=Je.logprobs.content),{content:jt,finishReason:{unified:Sn(Je.finish_reason),raw:(fe=Je.finish_reason)!=null?fe:void 0},usage:Nr(He.usage),request:{body:Ze},response:{...Vr(He),headers:tt,body:pt},warnings:me,providerMetadata:It}}async doStream(x){let F,{args:re,warnings:he}=await this.getArgs(x),Ie={...re,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:$e,value:ae}=await(0,g.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:Ie,failedResponseHandler:ct,successfulResponseHandler:(0,g.createEventSourceResponseHandler)(Pr),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe=[],Ze={unified:"other",raw:void 0},me=!1,tt=!1,He={openai:{}};return{stream:ae.pipeThrough(new TransformStream({start(pt){pt.enqueue({type:"stream-start",warnings:he})},transform(pt,Je){var jt,wt,Qe,It,nt,qt,cr,ke,de,Se,Sr,At,St,dt,Ae,Zt,Jt;if(x.includeRawChunks&&Je.enqueue({type:"raw",rawValue:pt.rawValue}),!pt.success){Ze={unified:"error",raw:void 0},Je.enqueue({type:"error",error:pt.error});return}let Et=pt.value;if("error"in Et){Ze={unified:"error",raw:void 0},Je.enqueue({type:"error",error:Et.error});return}!me&&Object.values(Vr(Et)).some(Boolean)&&(me=!0,Je.enqueue({type:"response-metadata",...Vr(Et)})),Et.usage!=null&&(F=Et.usage,((jt=Et.usage.completion_tokens_details)==null?void 0:jt.accepted_prediction_tokens)!=null&&(He.openai.acceptedPredictionTokens=(wt=Et.usage.completion_tokens_details)==null?void 0:wt.accepted_prediction_tokens),((Qe=Et.usage.completion_tokens_details)==null?void 0:Qe.rejected_prediction_tokens)!=null&&(He.openai.rejectedPredictionTokens=(It=Et.usage.completion_tokens_details)==null?void 0:It.rejected_prediction_tokens));let Dt=Et.choices[0];if(Dt?.finish_reason!=null&&(Ze={unified:Sn(Dt.finish_reason),raw:Dt.finish_reason}),((nt=Dt?.logprobs)==null?void 0:nt.content)!=null&&(He.openai.logprobs=Dt.logprobs.content),Dt?.delta==null)return;let Ur=Dt.delta;if(Ur.content!=null&&(tt||(Je.enqueue({type:"text-start",id:"0"}),tt=!0),Je.enqueue({type:"text-delta",id:"0",delta:Ur.content})),Ur.tool_calls!=null)for(let hr of Ur.tool_calls){let ir=hr.index;if(fe[ir]==null){if(hr.type!=="function")throw new xe.InvalidResponseDataError({data:hr,message:"Expected 'function' type."});if(hr.id==null)throw new xe.InvalidResponseDataError({data:hr,message:"Expected 'id' to be a string."});if(((qt=hr.function)==null?void 0:qt.name)==null)throw new xe.InvalidResponseDataError({data:hr,message:"Expected 'function.name' to be a string."});Je.enqueue({type:"tool-input-start",id:hr.id,toolName:hr.function.name}),fe[ir]={id:hr.id,type:"function",function:{name:hr.function.name,arguments:(cr=hr.function.arguments)!=null?cr:""},hasFinished:!1};let Lt=fe[ir];((ke=Lt.function)==null?void 0:ke.name)!=null&&((de=Lt.function)==null?void 0:de.arguments)!=null&&(Lt.function.arguments.length>0&&Je.enqueue({type:"tool-input-delta",id:Lt.id,delta:Lt.function.arguments}),(0,g.isParsableJson)(Lt.function.arguments)&&(Je.enqueue({type:"tool-input-end",id:Lt.id}),Je.enqueue({type:"tool-call",toolCallId:(Se=Lt.id)!=null?Se:(0,g.generateId)(),toolName:Lt.function.name,input:Lt.function.arguments}),Lt.hasFinished=!0));continue}let Xe=fe[ir];!Xe.hasFinished&&(((Sr=hr.function)==null?void 0:Sr.arguments)!=null&&(Xe.function.arguments+=(St=(At=hr.function)==null?void 0:At.arguments)!=null?St:""),Je.enqueue({type:"tool-input-delta",id:Xe.id,delta:(dt=hr.function.arguments)!=null?dt:""}),((Ae=Xe.function)==null?void 0:Ae.name)!=null&&((Zt=Xe.function)==null?void 0:Zt.arguments)!=null&&(0,g.isParsableJson)(Xe.function.arguments)&&(Je.enqueue({type:"tool-input-end",id:Xe.id}),Je.enqueue({type:"tool-call",toolCallId:(Jt=Xe.id)!=null?Jt:(0,g.generateId)(),toolName:Xe.function.name,input:Xe.function.arguments}),Xe.hasFinished=!0))}if(Ur.annotations!=null)for(let hr of Ur.annotations)Je.enqueue({type:"source",sourceType:"url",id:(0,g.generateId)(),url:hr.url_citation.url,title:hr.url_citation.title})},flush(pt){tt&&pt.enqueue({type:"text-end",id:"0"}),pt.enqueue({type:"finish",finishReason:Ze,usage:Nr(F),...He!=null?{providerMetadata:He}:{}})}})),request:{body:Ie},response:{headers:$e}}}};function Re(x){var F,re,he,Ie;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let $e=(F=x.prompt_tokens)!=null?F:0,ae=(re=x.completion_tokens)!=null?re:0;return{inputTokens:{total:(he=x.prompt_tokens)!=null?he:void 0,noCache:$e,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:(Ie=x.completion_tokens)!=null?Ie:void 0,text:ae,reasoning:void 0},raw:x}}function L({id:x,model:F,created:re}){return{id:x??void 0,modelId:F??void 0,timestamp:re!=null?new Date(1e3*re):void 0}}function V(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var K=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string(),logprobs:n.z.object({tokens:n.z.array(n.z.string()),token_logprobs:n.z.array(n.z.number()),top_logprobs:n.z.array(n.z.record(n.z.string(),n.z.number())).nullish()}).nullish()})),usage:n.z.object({prompt_tokens:n.z.number(),completion_tokens:n.z.number(),total_tokens:n.z.number()}).nullish()}))),Le=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.union([n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string().nullish(),index:n.z.number(),logprobs:n.z.object({tokens:n.z.array(n.z.string()),token_logprobs:n.z.array(n.z.number()),top_logprobs:n.z.array(n.z.record(n.z.string(),n.z.number())).nullish()}).nullish()})),usage:n.z.object({prompt_tokens:n.z.number(),completion_tokens:n.z.number(),total_tokens:n.z.number()}).nullish()}),ur]))),at=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({echo:n.z.boolean().optional(),logitBias:n.z.record(n.z.string(),n.z.number()).optional(),suffix:n.z.string().optional(),user:n.z.string().optional(),logprobs:n.z.union([n.z.boolean(),n.z.number()]).optional()}))),Wt=class{constructor(x,F){this.specificationVersion="v3",this.supportedUrls={},this.modelId=x,this.config=F}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:x,maxOutputTokens:F,temperature:re,topP:he,topK:Ie,frequencyPenalty:$e,presencePenalty:ae,stopSequences:fe,responseFormat:Ze,tools:me,toolChoice:tt,seed:He,providerOptions:pt}){let Je=[],jt={...await(0,g.parseProviderOptions)({provider:"openai",providerOptions:pt,schema:at}),...await(0,g.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:pt,schema:at})};Ie!=null&&Je.push({type:"unsupported",feature:"topK"}),me?.length&&Je.push({type:"unsupported",feature:"tools"}),tt!=null&&Je.push({type:"unsupported",feature:"toolChoice"}),Ze!=null&&Ze.type!=="text"&&Je.push({type:"unsupported",feature:"responseFormat",details:"JSON response format is not supported."});let{prompt:wt,stopSequences:Qe}=function({prompt:nt,user:qt="user",assistant:cr="assistant"}){let ke="";for(let{role:de,content:Se}of(nt[0].role==="system"&&(ke+=`${nt[0].content}

`,nt=nt.slice(1)),nt))switch(de){case"system":throw new xe.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:nt});case"user":{let Sr=Se.map(At=>{if(At.type==="text")return At.text}).filter(Boolean).join("");ke+=`${qt}:
${Sr}

`;break}case"assistant":{let Sr=Se.map(At=>{switch(At.type){case"text":return At.text;case"tool-call":throw new xe.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");ke+=`${cr}:
${Sr}

`;break}case"tool":throw new xe.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${de}`)}return{prompt:ke+=`${cr}:
`,stopSequences:[`
${qt}:`]}}({prompt:x}),It=[...Qe??[],...fe??[]];return{args:{model:this.modelId,echo:jt.echo,logit_bias:jt.logitBias,logprobs:jt?.logprobs===!0?0:jt?.logprobs===!1||jt==null?void 0:jt.logprobs,suffix:jt.suffix,user:jt.user,max_tokens:F,temperature:re,top_p:he,frequency_penalty:$e,presence_penalty:ae,seed:He,prompt:wt,stop:It.length>0?It:void 0},warnings:Je}}async doGenerate(x){var F;let{args:re,warnings:he}=await this.getArgs(x),{responseHeaders:Ie,value:$e,rawValue:ae}=await(0,g.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:re,failedResponseHandler:ct,successfulResponseHandler:(0,g.createJsonResponseHandler)(K),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe=$e.choices[0],Ze={openai:{}};return fe.logprobs!=null&&(Ze.openai.logprobs=fe.logprobs),{content:[{type:"text",text:fe.text}],usage:Re($e.usage),finishReason:{unified:V(fe.finish_reason),raw:(F=fe.finish_reason)!=null?F:void 0},request:{body:re},response:{...L($e),headers:Ie,body:ae},providerMetadata:Ze,warnings:he}}async doStream(x){let F,{args:re,warnings:he}=await this.getArgs(x),Ie={...re,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:$e,value:ae}=await(0,g.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:Ie,failedResponseHandler:ct,successfulResponseHandler:(0,g.createEventSourceResponseHandler)(Le),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe={unified:"other",raw:void 0},Ze={openai:{}},me=!0;return{stream:ae.pipeThrough(new TransformStream({start(tt){tt.enqueue({type:"stream-start",warnings:he})},transform(tt,He){if(x.includeRawChunks&&He.enqueue({type:"raw",rawValue:tt.rawValue}),!tt.success){fe={unified:"error",raw:void 0},He.enqueue({type:"error",error:tt.error});return}let pt=tt.value;if("error"in pt){fe={unified:"error",raw:void 0},He.enqueue({type:"error",error:pt.error});return}me&&(me=!1,He.enqueue({type:"response-metadata",...L(pt)}),He.enqueue({type:"text-start",id:"0"})),pt.usage!=null&&(F=pt.usage);let Je=pt.choices[0];Je?.finish_reason!=null&&(fe={unified:V(Je.finish_reason),raw:Je.finish_reason}),Je?.logprobs!=null&&(Ze.openai.logprobs=Je.logprobs),Je?.text!=null&&Je.text.length>0&&He.enqueue({type:"text-delta",id:"0",delta:Je.text})},flush(tt){me||tt.enqueue({type:"text-end",id:"0"}),tt.enqueue({type:"finish",finishReason:fe,providerMetadata:Ze,usage:Re(F)})}})),request:{body:Ie},response:{headers:$e}}}},wr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({dimensions:n.z.number().optional(),user:n.z.string().optional()}))),J=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({data:n.z.array(n.z.object({embedding:n.z.array(n.z.number())})),usage:n.z.object({prompt_tokens:n.z.number()}).nullish()}))),Xr=class{constructor(x,F){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=x,this.config=F}get provider(){return this.config.provider}async doEmbed({values:x,headers:F,abortSignal:re,providerOptions:he}){var Ie;if(x.length>this.maxEmbeddingsPerCall)throw new xe.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:x});let $e=(Ie=await(0,g.parseProviderOptions)({provider:"openai",providerOptions:he,schema:wr}))!=null?Ie:{},{responseHeaders:ae,value:fe,rawValue:Ze}=await(0,g.postJsonToApi)({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),F),body:{model:this.modelId,input:x,encoding_format:"float",dimensions:$e.dimensions,user:$e.user},failedResponseHandler:ct,successfulResponseHandler:(0,g.createJsonResponseHandler)(J),abortSignal:re,fetch:this.config.fetch});return{warnings:[],embeddings:fe.data.map(me=>me.embedding),usage:fe.usage?{tokens:fe.usage.prompt_tokens}:void 0,response:{headers:ae,body:Ze}}}},Yr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({created:n.z.number().nullish(),data:n.z.array(n.z.object({b64_json:n.z.string(),revised_prompt:n.z.string().nullish()})),background:n.z.string().nullish(),output_format:n.z.string().nullish(),size:n.z.string().nullish(),quality:n.z.string().nullish(),usage:n.z.object({input_tokens:n.z.number().nullish(),output_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),input_tokens_details:n.z.object({image_tokens:n.z.number().nullish(),text_tokens:n.z.number().nullish()}).nullish()}).nullish()}))),hn={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10,"gpt-image-1.5":10},ti=new Set(["gpt-image-1","gpt-image-1-mini","gpt-image-1.5"]),Zn=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3"}get maxImagesPerCall(){var x;return(x=hn[this.modelId])!=null?x:1}get provider(){return this.config.provider}async doGenerate({prompt:x,files:F,mask:re,n:he,size:Ie,aspectRatio:$e,seed:ae,providerOptions:fe,headers:Ze,abortSignal:me}){var tt,He,pt,Je,jt,wt,Qe,It,nt,qt,cr;let ke=[];$e!=null&&ke.push({type:"unsupported",feature:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),ae!=null&&ke.push({type:"unsupported",feature:"seed"});let de=(pt=(He=(tt=this.config._internal)==null?void 0:tt.currentDate)==null?void 0:He.call(tt))!=null?pt:new Date;if(F!=null){let{value:At,responseHeaders:St}=await(0,g.postFormDataToApi)({url:this.config.url({path:"/images/edits",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),Ze),formData:(0,g.convertToFormData)({model:this.modelId,prompt:x,image:await Promise.all(F.map(dt=>dt.type==="file"?new Blob([dt.data instanceof Uint8Array?new Blob([dt.data],{type:dt.mediaType}):new Blob([(0,g.convertBase64ToUint8Array)(dt.data)],{type:dt.mediaType})],{type:dt.mediaType}):(0,g.downloadBlob)(dt.url))),mask:re!=null?await lr(re):void 0,n:he,size:Ie,...(Je=fe.openai)!=null?Je:{}}),failedResponseHandler:ct,successfulResponseHandler:(0,g.createJsonResponseHandler)(Yr),abortSignal:me,fetch:this.config.fetch});return{images:At.data.map(dt=>dt.b64_json),warnings:ke,usage:At.usage!=null?{inputTokens:(jt=At.usage.input_tokens)!=null?jt:void 0,outputTokens:(wt=At.usage.output_tokens)!=null?wt:void 0,totalTokens:(Qe=At.usage.total_tokens)!=null?Qe:void 0}:void 0,response:{timestamp:de,modelId:this.modelId,headers:St},providerMetadata:{openai:{images:At.data.map(dt=>{var Ae,Zt,Jt,Et,Dt;return{...dt.revised_prompt?{revisedPrompt:dt.revised_prompt}:{},created:(Ae=At.created)!=null?Ae:void 0,size:(Zt=At.size)!=null?Zt:void 0,quality:(Jt=At.quality)!=null?Jt:void 0,background:(Et=At.background)!=null?Et:void 0,outputFormat:(Dt=At.output_format)!=null?Dt:void 0}})}}}}let{value:Se,responseHeaders:Sr}=await(0,g.postJsonToApi)({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),Ze),body:{model:this.modelId,prompt:x,n:he,size:Ie,...(It=fe.openai)!=null?It:{},...ti.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:ct,successfulResponseHandler:(0,g.createJsonResponseHandler)(Yr),abortSignal:me,fetch:this.config.fetch});return{images:Se.data.map(At=>At.b64_json),warnings:ke,usage:Se.usage!=null?{inputTokens:(nt=Se.usage.input_tokens)!=null?nt:void 0,outputTokens:(qt=Se.usage.output_tokens)!=null?qt:void 0,totalTokens:(cr=Se.usage.total_tokens)!=null?cr:void 0}:void 0,response:{timestamp:de,modelId:this.modelId,headers:Sr},providerMetadata:{openai:{images:Se.data.map(At=>{var St,dt,Ae,Zt,Jt;return{...At.revised_prompt?{revisedPrompt:At.revised_prompt}:{},created:(St=Se.created)!=null?St:void 0,size:(dt=Se.size)!=null?dt:void 0,quality:(Ae=Se.quality)!=null?Ae:void 0,background:(Zt=Se.background)!=null?Zt:void 0,outputFormat:(Jt=Se.output_format)!=null?Jt:void 0}})}}}}};async function lr(x){return x?x.type==="url"?(0,g.downloadBlob)(x.url):new Blob([x.data instanceof Uint8Array?x.data:(0,g.convertBase64ToUint8Array)(x.data)],{type:x.mediaType}):void 0}var st=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({callId:n.z.string(),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}))),Ut=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({status:n.z.enum(["completed","failed"]),output:n.z.string().optional()})));(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({})));var nr=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.apply_patch",inputSchema:st,outputSchema:Ut}),fn=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({code:n.z.string().nullish(),containerId:n.z.string()}))),Zr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullish()}))),dr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({container:n.z.union([n.z.string(),n.z.object({fileIds:n.z.array(n.z.string()).optional()})]).optional()}))),Ki=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.code_interpreter",inputSchema:fn,outputSchema:Zr}),ri=n.z.object({key:n.z.string(),type:n.z.enum(["eq","ne","gt","gte","lt","lte","in","nin"]),value:n.z.union([n.z.string(),n.z.number(),n.z.boolean(),n.z.array(n.z.string())])}),Tn=n.z.object({type:n.z.enum(["and","or"]),filters:n.z.array(n.z.union([ri,n.z.lazy(()=>Tn)]))}),Xn=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({vectorStoreIds:n.z.array(n.z.string()),maxNumResults:n.z.number().optional(),ranking:n.z.object({ranker:n.z.string().optional(),scoreThreshold:n.z.number().optional()}).optional(),filters:n.z.union([ri,Tn]).optional()}))),pn=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({queries:n.z.array(n.z.string()),results:n.z.array(n.z.object({attributes:n.z.record(n.z.string(),n.z.unknown()),fileId:n.z.string(),filename:n.z.string(),score:n.z.number(),text:n.z.string()})).nullable()}))),ze=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.file_search",inputSchema:n.z.object({}),outputSchema:pn}),ft=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({background:n.z.enum(["auto","opaque","transparent"]).optional(),inputFidelity:n.z.enum(["low","high"]).optional(),inputImageMask:n.z.object({fileId:n.z.string().optional(),imageUrl:n.z.string().optional()}).optional(),model:n.z.string().optional(),moderation:n.z.enum(["auto"]).optional(),outputCompression:n.z.number().int().min(0).max(100).optional(),outputFormat:n.z.enum(["png","jpeg","webp"]).optional(),partialImages:n.z.number().int().min(0).max(3).optional(),quality:n.z.enum(["auto","low","medium","high"]).optional(),size:n.z.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),pr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({}))),De=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({result:n.z.string()}))),cn=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.image_generation",inputSchema:pr,outputSchema:De}),zi=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({action:n.z.object({type:n.z.literal("exec"),command:n.z.array(n.z.string()),timeoutMs:n.z.number().optional(),user:n.z.string().optional(),workingDirectory:n.z.string().optional(),env:n.z.record(n.z.string(),n.z.string()).optional()})}))),rn=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({output:n.z.string()}))),Di=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.local_shell",inputSchema:zi,outputSchema:rn}),ca=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({action:n.z.object({commands:n.z.array(n.z.string()),timeoutMs:n.z.number().optional(),maxOutputLength:n.z.number().optional()})}))),qa=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({output:n.z.array(n.z.object({stdout:n.z.string(),stderr:n.z.string(),outcome:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("timeout")}),n.z.object({type:n.z.literal("exit"),exitCode:n.z.number()})])}))}))),An=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.shell",inputSchema:ca,outputSchema:qa}),ia=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({externalWebAccess:n.z.boolean().optional(),filters:n.z.object({allowedDomains:n.z.array(n.z.string()).optional()}).optional(),searchContextSize:n.z.enum(["low","medium","high"]).optional(),userLocation:n.z.object({type:n.z.literal("approximate"),country:n.z.string().optional(),city:n.z.string().optional(),region:n.z.string().optional(),timezone:n.z.string().optional()}).optional()}))),Ha=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({}))),Yi=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().optional()}),n.z.object({type:n.z.literal("openPage"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("findInPage"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})]),sources:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url"),url:n.z.string()}),n.z.object({type:n.z.literal("api"),name:n.z.string()})])).optional()}))),nn=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.web_search",inputSchema:Ha,outputSchema:Yi}),Bn=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({searchContextSize:n.z.enum(["low","medium","high"]).optional(),userLocation:n.z.object({type:n.z.literal("approximate"),country:n.z.string().optional(),city:n.z.string().optional(),region:n.z.string().optional(),timezone:n.z.string().optional()}).optional()}))),da=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({}))),Ja=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().optional()}),n.z.object({type:n.z.literal("openPage"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("findInPage"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})])}))),_o=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.web_search_preview",inputSchema:da,outputSchema:Ja}),La=n.z.lazy(()=>n.z.union([n.z.string(),n.z.number(),n.z.boolean(),n.z.null(),n.z.array(La),n.z.record(n.z.string(),La)])),Wi=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({serverLabel:n.z.string(),allowedTools:n.z.union([n.z.array(n.z.string()),n.z.object({readOnly:n.z.boolean().optional(),toolNames:n.z.array(n.z.string()).optional()})]).optional(),authorization:n.z.string().optional(),connectorId:n.z.string().optional(),headers:n.z.record(n.z.string(),n.z.string()).optional(),requireApproval:n.z.union([n.z.enum(["always","never"]),n.z.object({never:n.z.object({toolNames:n.z.array(n.z.string()).optional()}).optional()})]).optional(),serverDescription:n.z.string().optional(),serverUrl:n.z.string().optional()}).refine(x=>x.serverUrl!=null||x.connectorId!=null,"One of serverUrl or connectorId must be provided."))),Xa=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({}))),Ya=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({type:n.z.literal("call"),serverLabel:n.z.string(),name:n.z.string(),arguments:n.z.string(),output:n.z.string().nullish(),error:n.z.union([n.z.string(),La]).optional()}))),Ea=(0,g.createProviderToolFactoryWithOutputSchema)({id:"openai.mcp",inputSchema:Xa,outputSchema:Ya}),po={applyPatch:nr,codeInterpreter:(x={})=>Ki(x),fileSearch:ze,imageGeneration:(x={})=>cn(x),localShell:Di,shell:An,webSearchPreview:_o,webSearch:(x={})=>nn(x),mcp:x=>Ea(x)};function mo(x){var F,re,he,Ie;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let $e=x.input_tokens,ae=x.output_tokens,fe=(re=(F=x.input_tokens_details)==null?void 0:F.cached_tokens)!=null?re:0,Ze=(Ie=(he=x.output_tokens_details)==null?void 0:he.reasoning_tokens)!=null?Ie:0;return{inputTokens:{total:$e,noCache:$e-fe,cacheRead:fe,cacheWrite:void 0},outputTokens:{total:ae,text:ae-Ze,reasoning:Ze},raw:x}}function xt(x,F){return!!F&&F.some(re=>x.startsWith(re))}async function Ce({prompt:x,toolNameMapping:F,systemMessageMode:re,fileIdPrefixes:he,store:Ie,hasLocalShellTool:$e=!1,hasShellTool:ae=!1,hasApplyPatchTool:fe=!1}){var Ze,me,tt,He,pt,Je,jt,wt,Qe,It,nt,qt,cr;let ke=[],de=[],Se=new Set;for(let{role:Sr,content:At}of x)switch(Sr){case"system":switch(re){case"system":ke.push({role:"system",content:At});break;case"developer":ke.push({role:"developer",content:At});break;case"remove":de.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${re}`)}break;case"user":ke.push({role:"user",content:At.map((St,dt)=>{var Ae,Zt,Jt;switch(St.type){case"text":return{type:"input_text",text:St.text};case"file":if(St.mediaType.startsWith("image/")){let Et=St.mediaType==="image/*"?"image/jpeg":St.mediaType;return{type:"input_image",...St.data instanceof URL?{image_url:St.data.toString()}:typeof St.data=="string"&&xt(St.data,he)?{file_id:St.data}:{image_url:`data:${Et};base64,${(0,g.convertToBase64)(St.data)}`},detail:(Zt=(Ae=St.providerOptions)==null?void 0:Ae.openai)==null?void 0:Zt.imageDetail}}if(St.mediaType==="application/pdf")return St.data instanceof URL?{type:"input_file",file_url:St.data.toString()}:{type:"input_file",...typeof St.data=="string"&&xt(St.data,he)?{file_id:St.data}:{filename:(Jt=St.filename)!=null?Jt:`part-${dt}.pdf`,file_data:`data:application/pdf;base64,${(0,g.convertToBase64)(St.data)}`}};throw new xe.UnsupportedFunctionalityError({functionality:`file part media type ${St.mediaType}`})}})});break;case"assistant":{let St={};for(let dt of At)switch(dt.type){case"text":{let Ae=(me=(Ze=dt.providerOptions)==null?void 0:Ze.openai)==null?void 0:me.itemId;if(Ie&&Ae!=null){ke.push({type:"item_reference",id:Ae});break}ke.push({role:"assistant",content:[{type:"output_text",text:dt.text}],id:Ae});break}case"tool-call":{let Ae=(jt=(He=(tt=dt.providerOptions)==null?void 0:tt.openai)==null?void 0:He.itemId)!=null?jt:(Je=(pt=dt.providerMetadata)==null?void 0:pt.openai)==null?void 0:Je.itemId;if(dt.providerExecuted){Ie&&Ae!=null&&ke.push({type:"item_reference",id:Ae});break}if(Ie&&Ae!=null){ke.push({type:"item_reference",id:Ae});break}let Zt=F.toProviderToolName(dt.toolName);if($e&&Zt==="local_shell"){let Jt=await(0,g.validateTypes)({value:dt.input,schema:zi});ke.push({type:"local_shell_call",call_id:dt.toolCallId,id:Ae,action:{type:"exec",command:Jt.action.command,timeout_ms:Jt.action.timeoutMs,user:Jt.action.user,working_directory:Jt.action.workingDirectory,env:Jt.action.env}});break}if(ae&&Zt==="shell"){let Jt=await(0,g.validateTypes)({value:dt.input,schema:ca});ke.push({type:"shell_call",call_id:dt.toolCallId,id:Ae,status:"completed",action:{commands:Jt.action.commands,timeout_ms:Jt.action.timeoutMs,max_output_length:Jt.action.maxOutputLength}});break}ke.push({type:"function_call",call_id:dt.toolCallId,name:Zt,arguments:JSON.stringify(dt.input),id:Ae});break}case"tool-result":if(dt.output.type==="execution-denied"||dt.output.type==="json"&&typeof dt.output.value=="object"&&dt.output.value!=null&&"type"in dt.output.value&&dt.output.value.type==="execution-denied")break;if(Ie){let Ae=(It=(Qe=(wt=dt.providerMetadata)==null?void 0:wt.openai)==null?void 0:Qe.itemId)!=null?It:dt.toolCallId;ke.push({type:"item_reference",id:Ae})}else de.push({type:"other",message:`Results for OpenAI tool ${dt.toolName} are not sent to the API when store is false`});break;case"reasoning":{let Ae=await(0,g.parseProviderOptions)({provider:"openai",providerOptions:dt.providerOptions,schema:vr}),Zt=Ae?.itemId;if(Zt!=null){let Jt=St[Zt];if(Ie)Jt===void 0&&(ke.push({type:"item_reference",id:Zt}),St[Zt]={type:"reasoning",id:Zt,summary:[]});else{let Et=[];dt.text.length>0?Et.push({type:"summary_text",text:dt.text}):Jt!==void 0&&de.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(dt)}.`}),Jt===void 0?(St[Zt]={type:"reasoning",id:Zt,encrypted_content:Ae?.reasoningEncryptedContent,summary:Et},ke.push(St[Zt])):(Jt.summary.push(...Et),Ae?.reasoningEncryptedContent!=null&&(Jt.encrypted_content=Ae.reasoningEncryptedContent))}}else de.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(dt)}.`})}}break}case"tool":for(let St of At){let dt;if(St.type==="tool-approval-response"){if(Se.has(St.approvalId))continue;Se.add(St.approvalId),Ie&&ke.push({type:"item_reference",id:St.approvalId}),ke.push({type:"mcp_approval_response",approval_request_id:St.approvalId,approve:St.approved});continue}let Ae=St.output;if(Ae.type==="execution-denied"&&((qt=(nt=Ae.providerOptions)==null?void 0:nt.openai)==null?void 0:qt.approvalId))continue;let Zt=F.toProviderToolName(St.toolName);if($e&&Zt==="local_shell"&&Ae.type==="json"){let Jt=await(0,g.validateTypes)({value:Ae.value,schema:rn});ke.push({type:"local_shell_call_output",call_id:St.toolCallId,output:Jt.output});continue}if(ae&&Zt==="shell"&&Ae.type==="json"){let Jt=await(0,g.validateTypes)({value:Ae.value,schema:qa});ke.push({type:"shell_call_output",call_id:St.toolCallId,output:Jt.output.map(Et=>({stdout:Et.stdout,stderr:Et.stderr,outcome:Et.outcome.type==="timeout"?{type:"timeout"}:{type:"exit",exit_code:Et.outcome.exitCode}}))});continue}if(fe&&St.toolName==="apply_patch"&&Ae.type==="json"){let Jt=await(0,g.validateTypes)({value:Ae.value,schema:Ut});ke.push({type:"apply_patch_call_output",call_id:St.toolCallId,status:Jt.status,output:Jt.output});continue}switch(Ae.type){case"text":case"error-text":dt=Ae.value;break;case"execution-denied":dt=(cr=Ae.reason)!=null?cr:"Tool execution denied.";break;case"json":case"error-json":dt=JSON.stringify(Ae.value);break;case"content":dt=Ae.value.map(Jt=>{var Et;switch(Jt.type){case"text":return{type:"input_text",text:Jt.text};case"image-data":return{type:"input_image",image_url:`data:${Jt.mediaType};base64,${Jt.data}`};case"file-data":return{type:"input_file",filename:(Et=Jt.filename)!=null?Et:"data",file_data:`data:${Jt.mediaType};base64,${Jt.data}`};default:return void de.push({type:"other",message:`unsupported tool content part type: ${Jt.type}`})}}).filter(g.isNonNullable)}ke.push({type:"function_call_output",call_id:St.toolCallId,output:dt})}break;default:throw Error(`Unsupported role: ${Sr}`)}return{input:ke,warnings:de}}var vr=n.z.object({itemId:n.z.string().nullish(),reasoningEncryptedContent:n.z.string().nullish()});function G({finishReason:x,hasFunctionCall:F}){switch(x){case void 0:case null:return F?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return F?"tool-calls":"other"}}var Tr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.union([n.z.object({type:n.z.literal("response.output_text.delta"),item_id:n.z.string(),delta:n.z.string(),logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish()}),n.z.object({type:n.z.enum(["response.completed","response.incomplete"]),response:n.z.object({incomplete_details:n.z.object({reason:n.z.string()}).nullish(),usage:n.z.object({input_tokens:n.z.number(),input_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),output_tokens:n.z.number(),output_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish()}).nullish()}),service_tier:n.z.string().nullish()})}),n.z.object({type:n.z.literal("response.created"),response:n.z.object({id:n.z.string(),created_at:n.z.number(),model:n.z.string(),service_tier:n.z.string().nullish()})}),n.z.object({type:n.z.literal("response.output_item.added"),output_index:n.z.number(),item:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message"),id:n.z.string()}),n.z.object({type:n.z.literal("reasoning"),id:n.z.string(),encrypted_content:n.z.string().nullish()}),n.z.object({type:n.z.literal("function_call"),id:n.z.string(),call_id:n.z.string(),name:n.z.string(),arguments:n.z.string()}),n.z.object({type:n.z.literal("web_search_call"),id:n.z.string(),status:n.z.string()}),n.z.object({type:n.z.literal("computer_call"),id:n.z.string(),status:n.z.string()}),n.z.object({type:n.z.literal("file_search_call"),id:n.z.string()}),n.z.object({type:n.z.literal("image_generation_call"),id:n.z.string()}),n.z.object({type:n.z.literal("code_interpreter_call"),id:n.z.string(),container_id:n.z.string(),code:n.z.string().nullable(),outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullable(),status:n.z.string()}),n.z.object({type:n.z.literal("mcp_call"),id:n.z.string(),status:n.z.string(),approval_request_id:n.z.string().nullish()}),n.z.object({type:n.z.literal("mcp_list_tools"),id:n.z.string()}),n.z.object({type:n.z.literal("mcp_approval_request"),id:n.z.string()}),n.z.object({type:n.z.literal("apply_patch_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed"]),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}),n.z.object({type:n.z.literal("shell_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed","incomplete"]),action:n.z.object({commands:n.z.array(n.z.string())})})])}),n.z.object({type:n.z.literal("response.output_item.done"),output_index:n.z.number(),item:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message"),id:n.z.string()}),n.z.object({type:n.z.literal("reasoning"),id:n.z.string(),encrypted_content:n.z.string().nullish()}),n.z.object({type:n.z.literal("function_call"),id:n.z.string(),call_id:n.z.string(),name:n.z.string(),arguments:n.z.string(),status:n.z.literal("completed")}),n.z.object({type:n.z.literal("code_interpreter_call"),id:n.z.string(),code:n.z.string().nullable(),container_id:n.z.string(),outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullable()}),n.z.object({type:n.z.literal("image_generation_call"),id:n.z.string(),result:n.z.string()}),n.z.object({type:n.z.literal("web_search_call"),id:n.z.string(),status:n.z.string(),action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().nullish(),sources:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url"),url:n.z.string()}),n.z.object({type:n.z.literal("api"),name:n.z.string()})])).nullish()}),n.z.object({type:n.z.literal("open_page"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("find_in_page"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})])}),n.z.object({type:n.z.literal("file_search_call"),id:n.z.string(),queries:n.z.array(n.z.string()),results:n.z.array(n.z.object({attributes:n.z.record(n.z.string(),n.z.union([n.z.string(),n.z.number(),n.z.boolean()])),file_id:n.z.string(),filename:n.z.string(),score:n.z.number(),text:n.z.string()})).nullish()}),n.z.object({type:n.z.literal("local_shell_call"),id:n.z.string(),call_id:n.z.string(),action:n.z.object({type:n.z.literal("exec"),command:n.z.array(n.z.string()),timeout_ms:n.z.number().optional(),user:n.z.string().optional(),working_directory:n.z.string().optional(),env:n.z.record(n.z.string(),n.z.string()).optional()})}),n.z.object({type:n.z.literal("computer_call"),id:n.z.string(),status:n.z.literal("completed")}),n.z.object({type:n.z.literal("mcp_call"),id:n.z.string(),status:n.z.string(),arguments:n.z.string(),name:n.z.string(),server_label:n.z.string(),output:n.z.string().nullish(),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).nullish(),approval_request_id:n.z.string().nullish()}),n.z.object({type:n.z.literal("mcp_list_tools"),id:n.z.string(),server_label:n.z.string(),tools:n.z.array(n.z.object({name:n.z.string(),description:n.z.string().optional(),input_schema:n.z.any(),annotations:n.z.record(n.z.string(),n.z.unknown()).optional()})),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).optional()}),n.z.object({type:n.z.literal("mcp_approval_request"),id:n.z.string(),server_label:n.z.string(),name:n.z.string(),arguments:n.z.string(),approval_request_id:n.z.string().optional()}),n.z.object({type:n.z.literal("apply_patch_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed"]),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}),n.z.object({type:n.z.literal("shell_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed","incomplete"]),action:n.z.object({commands:n.z.array(n.z.string())})})])}),n.z.object({type:n.z.literal("response.function_call_arguments.delta"),item_id:n.z.string(),output_index:n.z.number(),delta:n.z.string()}),n.z.object({type:n.z.literal("response.image_generation_call.partial_image"),item_id:n.z.string(),output_index:n.z.number(),partial_image_b64:n.z.string()}),n.z.object({type:n.z.literal("response.code_interpreter_call_code.delta"),item_id:n.z.string(),output_index:n.z.number(),delta:n.z.string()}),n.z.object({type:n.z.literal("response.code_interpreter_call_code.done"),item_id:n.z.string(),output_index:n.z.number(),code:n.z.string()}),n.z.object({type:n.z.literal("response.output_text.annotation.added"),annotation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url_citation"),start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()}),n.z.object({type:n.z.literal("file_citation"),file_id:n.z.string(),filename:n.z.string().nullish(),index:n.z.number().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),quote:n.z.string().nullish()}),n.z.object({type:n.z.literal("container_file_citation"),container_id:n.z.string(),file_id:n.z.string(),filename:n.z.string().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),index:n.z.number().nullish()}),n.z.object({type:n.z.literal("file_path"),file_id:n.z.string(),index:n.z.number().nullish()})])}),n.z.object({type:n.z.literal("response.reasoning_summary_part.added"),item_id:n.z.string(),summary_index:n.z.number()}),n.z.object({type:n.z.literal("response.reasoning_summary_text.delta"),item_id:n.z.string(),summary_index:n.z.number(),delta:n.z.string()}),n.z.object({type:n.z.literal("response.reasoning_summary_part.done"),item_id:n.z.string(),summary_index:n.z.number()}),n.z.object({type:n.z.literal("response.apply_patch_call_operation_diff.delta"),item_id:n.z.string(),output_index:n.z.number(),delta:n.z.string(),obfuscation:n.z.string().nullish()}),n.z.object({type:n.z.literal("response.apply_patch_call_operation_diff.done"),item_id:n.z.string(),output_index:n.z.number(),diff:n.z.string()}),n.z.object({type:n.z.literal("error"),sequence_number:n.z.number(),error:n.z.object({type:n.z.string(),code:n.z.string(),message:n.z.string(),param:n.z.string().nullish()})}),n.z.object({type:n.z.string()}).loose().transform(x=>({type:"unknown_chunk",message:x.type}))]))),en=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({id:n.z.string().optional(),created_at:n.z.number().optional(),error:n.z.object({message:n.z.string(),type:n.z.string(),param:n.z.string().nullish(),code:n.z.string()}).nullish(),model:n.z.string().optional(),output:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message"),role:n.z.literal("assistant"),id:n.z.string(),content:n.z.array(n.z.object({type:n.z.literal("output_text"),text:n.z.string(),logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number(),top_logprobs:n.z.array(n.z.object({token:n.z.string(),logprob:n.z.number()}))})).nullish(),annotations:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url_citation"),start_index:n.z.number(),end_index:n.z.number(),url:n.z.string(),title:n.z.string()}),n.z.object({type:n.z.literal("file_citation"),file_id:n.z.string(),filename:n.z.string().nullish(),index:n.z.number().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),quote:n.z.string().nullish()}),n.z.object({type:n.z.literal("container_file_citation"),container_id:n.z.string(),file_id:n.z.string(),filename:n.z.string().nullish(),start_index:n.z.number().nullish(),end_index:n.z.number().nullish(),index:n.z.number().nullish()}),n.z.object({type:n.z.literal("file_path"),file_id:n.z.string(),index:n.z.number().nullish()})]))}))}),n.z.object({type:n.z.literal("web_search_call"),id:n.z.string(),status:n.z.string(),action:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("search"),query:n.z.string().nullish(),sources:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("url"),url:n.z.string()}),n.z.object({type:n.z.literal("api"),name:n.z.string()})])).nullish()}),n.z.object({type:n.z.literal("open_page"),url:n.z.string().nullish()}),n.z.object({type:n.z.literal("find_in_page"),url:n.z.string().nullish(),pattern:n.z.string().nullish()})])}),n.z.object({type:n.z.literal("file_search_call"),id:n.z.string(),queries:n.z.array(n.z.string()),results:n.z.array(n.z.object({attributes:n.z.record(n.z.string(),n.z.union([n.z.string(),n.z.number(),n.z.boolean()])),file_id:n.z.string(),filename:n.z.string(),score:n.z.number(),text:n.z.string()})).nullish()}),n.z.object({type:n.z.literal("code_interpreter_call"),id:n.z.string(),code:n.z.string().nullable(),container_id:n.z.string(),outputs:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("logs"),logs:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullable()}),n.z.object({type:n.z.literal("image_generation_call"),id:n.z.string(),result:n.z.string()}),n.z.object({type:n.z.literal("local_shell_call"),id:n.z.string(),call_id:n.z.string(),action:n.z.object({type:n.z.literal("exec"),command:n.z.array(n.z.string()),timeout_ms:n.z.number().optional(),user:n.z.string().optional(),working_directory:n.z.string().optional(),env:n.z.record(n.z.string(),n.z.string()).optional()})}),n.z.object({type:n.z.literal("function_call"),call_id:n.z.string(),name:n.z.string(),arguments:n.z.string(),id:n.z.string()}),n.z.object({type:n.z.literal("computer_call"),id:n.z.string(),status:n.z.string().optional()}),n.z.object({type:n.z.literal("reasoning"),id:n.z.string(),encrypted_content:n.z.string().nullish(),summary:n.z.array(n.z.object({type:n.z.literal("summary_text"),text:n.z.string()}))}),n.z.object({type:n.z.literal("mcp_call"),id:n.z.string(),status:n.z.string(),arguments:n.z.string(),name:n.z.string(),server_label:n.z.string(),output:n.z.string().nullish(),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).nullish(),approval_request_id:n.z.string().nullish()}),n.z.object({type:n.z.literal("mcp_list_tools"),id:n.z.string(),server_label:n.z.string(),tools:n.z.array(n.z.object({name:n.z.string(),description:n.z.string().optional(),input_schema:n.z.any(),annotations:n.z.record(n.z.string(),n.z.unknown()).optional()})),error:n.z.union([n.z.string(),n.z.object({type:n.z.string().optional(),code:n.z.union([n.z.number(),n.z.string()]).optional(),message:n.z.string().optional()}).loose()]).optional()}),n.z.object({type:n.z.literal("mcp_approval_request"),id:n.z.string(),server_label:n.z.string(),name:n.z.string(),arguments:n.z.string(),approval_request_id:n.z.string().optional()}),n.z.object({type:n.z.literal("apply_patch_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed"]),operation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("create_file"),path:n.z.string(),diff:n.z.string()}),n.z.object({type:n.z.literal("delete_file"),path:n.z.string()}),n.z.object({type:n.z.literal("update_file"),path:n.z.string(),diff:n.z.string()})])}),n.z.object({type:n.z.literal("shell_call"),id:n.z.string(),call_id:n.z.string(),status:n.z.enum(["in_progress","completed","incomplete"]),action:n.z.object({commands:n.z.array(n.z.string())})})])).optional(),service_tier:n.z.string().nullish(),incomplete_details:n.z.object({reason:n.z.string()}).nullish(),usage:n.z.object({input_tokens:n.z.number(),input_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),output_tokens:n.z.number(),output_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish()}).nullish()}).optional()}))),Ln=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({conversation:n.z.string().nullish(),include:n.z.array(n.z.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:n.z.string().nullish(),logprobs:n.z.union([n.z.boolean(),n.z.number().min(1).max(20)]).optional(),maxToolCalls:n.z.number().nullish(),metadata:n.z.any().nullish(),parallelToolCalls:n.z.boolean().nullish(),previousResponseId:n.z.string().nullish(),promptCacheKey:n.z.string().nullish(),promptCacheRetention:n.z.enum(["in_memory","24h"]).nullish(),reasoningEffort:n.z.string().nullish(),reasoningSummary:n.z.string().nullish(),safetyIdentifier:n.z.string().nullish(),serviceTier:n.z.enum(["auto","flex","priority","default"]).nullish(),store:n.z.boolean().nullish(),strictJsonSchema:n.z.boolean().nullish(),textVerbosity:n.z.enum(["low","medium","high"]).nullish(),truncation:n.z.enum(["auto","disabled"]).nullish(),user:n.z.string().nullish(),systemMessageMode:n.z.enum(["system","developer","remove"]).optional(),forceReasoning:n.z.boolean().optional()})));async function In({tools:x,toolChoice:F}){x=x?.length?x:void 0;let re=[];if(x==null)return{tools:void 0,toolChoice:void 0,toolWarnings:re};let he=[];for(let $e of x)switch($e.type){case"function":he.push({type:"function",name:$e.name,description:$e.description,parameters:$e.inputSchema,...$e.strict!=null?{strict:$e.strict}:{}});break;case"provider":switch($e.id){case"openai.file_search":{let ae=await(0,g.validateTypes)({value:$e.args,schema:Xn});he.push({type:"file_search",vector_store_ids:ae.vectorStoreIds,max_num_results:ae.maxNumResults,ranking_options:ae.ranking?{ranker:ae.ranking.ranker,score_threshold:ae.ranking.scoreThreshold}:void 0,filters:ae.filters});break}case"openai.local_shell":he.push({type:"local_shell"});break;case"openai.shell":he.push({type:"shell"});break;case"openai.apply_patch":he.push({type:"apply_patch"});break;case"openai.web_search_preview":{let ae=await(0,g.validateTypes)({value:$e.args,schema:Bn});he.push({type:"web_search_preview",search_context_size:ae.searchContextSize,user_location:ae.userLocation});break}case"openai.web_search":{let ae=await(0,g.validateTypes)({value:$e.args,schema:ia});he.push({type:"web_search",filters:ae.filters!=null?{allowed_domains:ae.filters.allowedDomains}:void 0,external_web_access:ae.externalWebAccess,search_context_size:ae.searchContextSize,user_location:ae.userLocation});break}case"openai.code_interpreter":{let ae=await(0,g.validateTypes)({value:$e.args,schema:dr});he.push({type:"code_interpreter",container:ae.container==null?{type:"auto",file_ids:void 0}:typeof ae.container=="string"?ae.container:{type:"auto",file_ids:ae.container.fileIds}});break}case"openai.image_generation":{let ae=await(0,g.validateTypes)({value:$e.args,schema:ft});he.push({type:"image_generation",background:ae.background,input_fidelity:ae.inputFidelity,input_image_mask:ae.inputImageMask?{file_id:ae.inputImageMask.fileId,image_url:ae.inputImageMask.imageUrl}:void 0,model:ae.model,moderation:ae.moderation,partial_images:ae.partialImages,quality:ae.quality,output_compression:ae.outputCompression,output_format:ae.outputFormat,size:ae.size});break}case"openai.mcp":{let ae=await(0,g.validateTypes)({value:$e.args,schema:Wi}),fe=tt=>({tool_names:tt.toolNames}),Ze=ae.requireApproval,me=Ze==null?void 0:typeof Ze=="string"?Ze:Ze.never!=null?{never:fe(Ze.never)}:void 0;he.push({type:"mcp",server_label:ae.serverLabel,allowed_tools:Array.isArray(ae.allowedTools)?ae.allowedTools:ae.allowedTools?{read_only:ae.allowedTools.readOnly,tool_names:ae.allowedTools.toolNames}:void 0,authorization:ae.authorization,connector_id:ae.connectorId,headers:ae.headers,require_approval:me??"never",server_description:ae.serverDescription,server_url:ae.serverUrl})}}break;default:re.push({type:"unsupported",feature:`function tool ${$e}`})}if(F==null)return{tools:he,toolChoice:void 0,toolWarnings:re};let Ie=F.type;switch(Ie){case"auto":case"none":case"required":return{tools:he,toolChoice:Ie,toolWarnings:re};case"tool":return{tools:he,toolChoice:F.toolName==="code_interpreter"||F.toolName==="file_search"||F.toolName==="image_generation"||F.toolName==="web_search_preview"||F.toolName==="web_search"||F.toolName==="mcp"||F.toolName==="apply_patch"?{type:F.toolName}:{type:"function",name:F.toolName},toolWarnings:re};default:throw new xe.UnsupportedFunctionalityError({functionality:`tool choice type: ${Ie}`})}}function Jr(x){var F,re;let he={};for(let Ie of x)if(Ie.role==="assistant")for(let $e of Ie.content){if($e.type!=="tool-call")continue;let ae=(re=(F=$e.providerOptions)==null?void 0:F.openai)==null?void 0:re.approvalRequestId;ae!=null&&(he[ae]=$e.toolCallId)}return he}var Hn=class{constructor(x,F){this.specificationVersion="v3",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=x,this.config=F}get provider(){return this.config.provider}async getArgs({maxOutputTokens:x,temperature:F,stopSequences:re,topP:he,topK:Ie,presencePenalty:$e,frequencyPenalty:ae,seed:fe,prompt:Ze,providerOptions:me,tools:tt,toolChoice:He,responseFormat:pt}){var Je,jt,wt,Qe,It,nt;let qt=[],cr=mt(this.modelId);Ie!=null&&qt.push({type:"unsupported",feature:"topK"}),fe!=null&&qt.push({type:"unsupported",feature:"seed"}),$e!=null&&qt.push({type:"unsupported",feature:"presencePenalty"}),ae!=null&&qt.push({type:"unsupported",feature:"frequencyPenalty"}),re!=null&&qt.push({type:"unsupported",feature:"stopSequences"});let ke=await(0,g.parseProviderOptions)({provider:"openai",providerOptions:me,schema:Ln}),de=(Je=ke?.forceReasoning)!=null?Je:cr.isReasoningModel;ke?.conversation&&ke?.previousResponseId&&qt.push({type:"unsupported",feature:"conversation",details:"conversation and previousResponseId cannot be used together"});let Se=(0,g.createToolNameMapping)({tools:tt,providerToolNames:{"openai.code_interpreter":"code_interpreter","openai.file_search":"file_search","openai.image_generation":"image_generation","openai.local_shell":"local_shell","openai.shell":"shell","openai.web_search":"web_search","openai.web_search_preview":"web_search_preview","openai.mcp":"mcp","openai.apply_patch":"apply_patch"}}),{input:Sr,warnings:At}=await Ce({prompt:Ze,toolNameMapping:Se,systemMessageMode:(jt=ke?.systemMessageMode)!=null?jt:de?"developer":cr.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:(wt=ke?.store)==null||wt,hasLocalShellTool:Zt("openai.local_shell"),hasShellTool:Zt("openai.shell"),hasApplyPatchTool:Zt("openai.apply_patch")});qt.push(...At);let St=(Qe=ke?.strictJsonSchema)==null||Qe,dt=ke?.include;function Ae(Lt){dt==null?dt=[Lt]:dt.includes(Lt)||(dt=[...dt,Lt])}function Zt(Lt){return tt?.find(yt=>yt.type==="provider"&&yt.id===Lt)!=null}let Jt=typeof ke?.logprobs=="number"?ke?.logprobs:ke?.logprobs===!0?20:void 0;Jt&&Ae("message.output_text.logprobs");let Et=(It=tt?.find(Lt=>Lt.type==="provider"&&(Lt.id==="openai.web_search"||Lt.id==="openai.web_search_preview")))==null?void 0:It.name;Et&&Ae("web_search_call.action.sources"),Zt("openai.code_interpreter")&&Ae("code_interpreter_call.outputs");let Dt=ke?.store;Dt===!1&&de&&Ae("reasoning.encrypted_content");let Ur={model:this.modelId,input:Sr,temperature:F,top_p:he,max_output_tokens:x,...(pt?.type==="json"||ke?.textVerbosity)&&{text:{...pt?.type==="json"&&{format:pt.schema!=null?{type:"json_schema",strict:St,name:(nt=pt.name)!=null?nt:"response",description:pt.description,schema:pt.schema}:{type:"json_object"}},...ke?.textVerbosity&&{verbosity:ke.textVerbosity}}},conversation:ke?.conversation,max_tool_calls:ke?.maxToolCalls,metadata:ke?.metadata,parallel_tool_calls:ke?.parallelToolCalls,previous_response_id:ke?.previousResponseId,store:Dt,user:ke?.user,instructions:ke?.instructions,service_tier:ke?.serviceTier,include:dt,prompt_cache_key:ke?.promptCacheKey,prompt_cache_retention:ke?.promptCacheRetention,safety_identifier:ke?.safetyIdentifier,top_logprobs:Jt,truncation:ke?.truncation,...de&&(ke?.reasoningEffort!=null||ke?.reasoningSummary!=null)&&{reasoning:{...ke?.reasoningEffort!=null&&{effort:ke.reasoningEffort},...ke?.reasoningSummary!=null&&{summary:ke.reasoningSummary}}}};de?ke?.reasoningEffort==="none"&&cr.supportsNonReasoningParameters||(Ur.temperature!=null&&(Ur.temperature=void 0,qt.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for reasoning models"})),Ur.top_p!=null&&(Ur.top_p=void 0,qt.push({type:"unsupported",feature:"topP",details:"topP is not supported for reasoning models"}))):(ke?.reasoningEffort!=null&&qt.push({type:"unsupported",feature:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),ke?.reasoningSummary!=null&&qt.push({type:"unsupported",feature:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),ke?.serviceTier!=="flex"||cr.supportsFlexProcessing||(qt.push({type:"unsupported",feature:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete Ur.service_tier),ke?.serviceTier!=="priority"||cr.supportsPriorityProcessing||(qt.push({type:"unsupported",feature:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete Ur.service_tier);let{tools:hr,toolChoice:ir,toolWarnings:Xe}=await In({tools:tt,toolChoice:He});return{webSearchToolName:Et,args:{...Ur,tools:hr,tool_choice:ir},warnings:[...qt,...Xe],store:Dt,toolNameMapping:Se}}async doGenerate(x){var F,re,he,Ie,$e,ae,fe,Ze,me,tt,He,pt,Je,jt,wt,Qe,It,nt,qt,cr,ke,de,Se,Sr,At,St,dt,Ae,Zt,Jt,Et;let{args:Dt,warnings:Ur,webSearchToolName:hr,toolNameMapping:ir}=await this.getArgs(x),Xe=this.config.url({path:"/responses",modelId:this.modelId}),Lt=this.config.provider.replace(".responses",""),yt=Jr(x.prompt),{responseHeaders:oa,value:qr,rawValue:zt}=await(0,g.postJsonToApi)({url:Xe,headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:Dt,failedResponseHandler:ct,successfulResponseHandler:(0,g.createJsonResponseHandler)(en),abortSignal:x.abortSignal,fetch:this.config.fetch});if(qr.error)throw new xe.APICallError({message:qr.error.message,url:Xe,requestBodyValues:Dt,statusCode:400,responseHeaders:oa,responseBody:zt,isRetryable:!1});let Ne=[],rr=[],Kt=!1;for(let Or of qr.output)switch(Or.type){case"reasoning":for(let $i of(Or.summary.length===0&&Or.summary.push({type:"summary_text",text:""}),Or.summary))Ne.push({type:"reasoning",text:$i.text,providerMetadata:{[Lt]:{itemId:Or.id,reasoningEncryptedContent:(F=Or.encrypted_content)!=null?F:null}}});break;case"image_generation_call":Ne.push({type:"tool-call",toolCallId:Or.id,toolName:ir.toCustomToolName("image_generation"),input:"{}",providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Or.id,toolName:ir.toCustomToolName("image_generation"),result:{result:Or.result}});break;case"local_shell_call":Ne.push({type:"tool-call",toolCallId:Or.call_id,toolName:ir.toCustomToolName("local_shell"),input:JSON.stringify({action:Or.action}),providerMetadata:{[Lt]:{itemId:Or.id}}});break;case"shell_call":Ne.push({type:"tool-call",toolCallId:Or.call_id,toolName:ir.toCustomToolName("shell"),input:JSON.stringify({action:{commands:Or.action.commands}}),providerMetadata:{[Lt]:{itemId:Or.id}}});break;case"message":for(let $i of Or.content){((he=(re=x.providerOptions)==null?void 0:re.openai)==null?void 0:he.logprobs)&&$i.logprobs&&rr.push($i.logprobs);let yo={itemId:Or.id,...$i.annotations.length>0&&{annotations:$i.annotations}};for(let Vn of(Ne.push({type:"text",text:$i.text,providerMetadata:{[Lt]:yo}}),$i.annotations))Vn.type==="url_citation"?Ne.push({type:"source",sourceType:"url",id:(ae=($e=(Ie=this.config).generateId)==null?void 0:$e.call(Ie))!=null?ae:(0,g.generateId)(),url:Vn.url,title:Vn.title}):Vn.type==="file_citation"?Ne.push({type:"source",sourceType:"document",id:(me=(Ze=(fe=this.config).generateId)==null?void 0:Ze.call(fe))!=null?me:(0,g.generateId)(),mediaType:"text/plain",title:(He=(tt=Vn.quote)!=null?tt:Vn.filename)!=null?He:"Document",filename:(pt=Vn.filename)!=null?pt:Vn.file_id,...Vn.file_id?{providerMetadata:{[Lt]:{fileId:Vn.file_id}}}:{}}):Vn.type==="container_file_citation"?Ne.push({type:"source",sourceType:"document",id:(wt=(jt=(Je=this.config).generateId)==null?void 0:jt.call(Je))!=null?wt:(0,g.generateId)(),mediaType:"text/plain",title:(It=(Qe=Vn.filename)!=null?Qe:Vn.file_id)!=null?It:"Document",filename:(nt=Vn.filename)!=null?nt:Vn.file_id,providerMetadata:{[Lt]:{fileId:Vn.file_id,containerId:Vn.container_id,...Vn.index!=null?{index:Vn.index}:{}}}}):Vn.type==="file_path"&&Ne.push({type:"source",sourceType:"document",id:(ke=(cr=(qt=this.config).generateId)==null?void 0:cr.call(qt))!=null?ke:(0,g.generateId)(),mediaType:"application/octet-stream",title:Vn.file_id,filename:Vn.file_id,providerMetadata:{[Lt]:{fileId:Vn.file_id,...Vn.index!=null?{index:Vn.index}:{}}}})}break;case"function_call":Kt=!0,Ne.push({type:"tool-call",toolCallId:Or.call_id,toolName:Or.name,input:Or.arguments,providerMetadata:{[Lt]:{itemId:Or.id}}});break;case"web_search_call":Ne.push({type:"tool-call",toolCallId:Or.id,toolName:ir.toCustomToolName(hr??"web_search"),input:JSON.stringify({}),providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Or.id,toolName:ir.toCustomToolName(hr??"web_search"),result:Li(Or.action)});break;case"mcp_call":{let $i=Or.approval_request_id!=null&&(de=yt[Or.approval_request_id])!=null?de:Or.id,yo=`mcp.${Or.name}`;Ne.push({type:"tool-call",toolCallId:$i,toolName:yo,input:Or.arguments,providerExecuted:!0,dynamic:!0}),Ne.push({type:"tool-result",toolCallId:$i,toolName:yo,result:{type:"call",serverLabel:Or.server_label,name:Or.name,arguments:Or.arguments,...Or.output!=null?{output:Or.output}:{},...Or.error!=null?{error:Or.error}:{}},providerMetadata:{[Lt]:{itemId:Or.id}}});break}case"mcp_list_tools":break;case"mcp_approval_request":{let $i=(Se=Or.approval_request_id)!=null?Se:Or.id,yo=(St=(At=(Sr=this.config).generateId)==null?void 0:At.call(Sr))!=null?St:(0,g.generateId)(),Vn=`mcp.${Or.name}`;Ne.push({type:"tool-call",toolCallId:yo,toolName:Vn,input:Or.arguments,providerExecuted:!0,dynamic:!0}),Ne.push({type:"tool-approval-request",approvalId:$i,toolCallId:yo});break}case"computer_call":Ne.push({type:"tool-call",toolCallId:Or.id,toolName:ir.toCustomToolName("computer_use"),input:"",providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Or.id,toolName:ir.toCustomToolName("computer_use"),result:{type:"computer_use_tool_result",status:Or.status||"completed"}});break;case"file_search_call":Ne.push({type:"tool-call",toolCallId:Or.id,toolName:ir.toCustomToolName("file_search"),input:"{}",providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Or.id,toolName:ir.toCustomToolName("file_search"),result:{queries:Or.queries,results:(Ae=(dt=Or.results)==null?void 0:dt.map($i=>({attributes:$i.attributes,fileId:$i.file_id,filename:$i.filename,score:$i.score,text:$i.text})))!=null?Ae:null}});break;case"code_interpreter_call":Ne.push({type:"tool-call",toolCallId:Or.id,toolName:ir.toCustomToolName("code_interpreter"),input:JSON.stringify({code:Or.code,containerId:Or.container_id}),providerExecuted:!0}),Ne.push({type:"tool-result",toolCallId:Or.id,toolName:ir.toCustomToolName("code_interpreter"),result:{outputs:Or.outputs}});break;case"apply_patch_call":Ne.push({type:"tool-call",toolCallId:Or.call_id,toolName:ir.toCustomToolName("apply_patch"),input:JSON.stringify({callId:Or.call_id,operation:Or.operation}),providerMetadata:{[Lt]:{itemId:Or.id}}})}let sn={[Lt]:{responseId:qr.id}};rr.length>0&&(sn[Lt].logprobs=rr),typeof qr.service_tier=="string"&&(sn[Lt].serviceTier=qr.service_tier);let Oa=qr.usage;return{content:Ne,finishReason:{unified:G({finishReason:(Zt=qr.incomplete_details)==null?void 0:Zt.reason,hasFunctionCall:Kt}),raw:(Et=(Jt=qr.incomplete_details)==null?void 0:Jt.reason)!=null?Et:void 0},usage:mo(Oa),request:{body:Dt},response:{id:qr.id,timestamp:new Date(1e3*qr.created_at),modelId:qr.model,headers:oa,body:zt},providerMetadata:sn,warnings:Ur}}async doStream(x){let F,re,{args:he,warnings:Ie,webSearchToolName:$e,toolNameMapping:ae,store:fe}=await this.getArgs(x),{responseHeaders:Ze,value:me}=await(0,g.postJsonToApi)({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:{...he,stream:!0},failedResponseHandler:ct,successfulResponseHandler:(0,g.createEventSourceResponseHandler)(Tr),abortSignal:x.abortSignal,fetch:this.config.fetch}),tt=this,He=this.config.provider.replace(".responses",""),pt=Jr(x.prompt),Je=new Map,jt={unified:"other",raw:void 0},wt=[],Qe=null,It={},nt=[],qt=!1,cr={};return{stream:me.pipeThrough(new TransformStream({start(ke){ke.enqueue({type:"stream-start",warnings:Ie})},transform(ke,de){var Se,Sr,At,St,dt,Ae,Zt,Jt,Et,Dt,Ur,hr,ir,Xe,Lt,yt,oa,qr,zt,Ne,rr,Kt,sn,Oa,Or,$i,yo,Vn,Bs,Vs,vs,k,d,y,O,U,le;if(x.includeRawChunks&&de.enqueue({type:"raw",rawValue:ke.rawValue}),!ke.success){jt={unified:"error",raw:void 0},de.enqueue({type:"error",error:ke.error});return}let E=ke.value;if(Gi(E)){if(E.item.type==="function_call")It[E.output_index]={toolName:E.item.name,toolCallId:E.item.call_id},de.enqueue({type:"tool-input-start",id:E.item.call_id,toolName:E.item.name});else if(E.item.type==="web_search_call")It[E.output_index]={toolName:ae.toCustomToolName($e??"web_search"),toolCallId:E.item.id},de.enqueue({type:"tool-input-start",id:E.item.id,toolName:ae.toCustomToolName($e??"web_search"),providerExecuted:!0}),de.enqueue({type:"tool-input-end",id:E.item.id}),de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName($e??"web_search"),input:JSON.stringify({}),providerExecuted:!0});else if(E.item.type==="computer_call")It[E.output_index]={toolName:ae.toCustomToolName("computer_use"),toolCallId:E.item.id},de.enqueue({type:"tool-input-start",id:E.item.id,toolName:ae.toCustomToolName("computer_use"),providerExecuted:!0});else if(E.item.type==="code_interpreter_call")It[E.output_index]={toolName:ae.toCustomToolName("code_interpreter"),toolCallId:E.item.id,codeInterpreter:{containerId:E.item.container_id}},de.enqueue({type:"tool-input-start",id:E.item.id,toolName:ae.toCustomToolName("code_interpreter"),providerExecuted:!0}),de.enqueue({type:"tool-input-delta",id:E.item.id,delta:`{"containerId":"${E.item.container_id}","code":"`});else if(E.item.type==="file_search_call")de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName("file_search"),input:"{}",providerExecuted:!0});else if(E.item.type==="image_generation_call")de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName("image_generation"),input:"{}",providerExecuted:!0});else if(!(E.item.type==="mcp_call"||E.item.type==="mcp_list_tools"||E.item.type==="mcp_approval_request"))if(E.item.type==="apply_patch_call"){let{call_id:X,operation:be}=E.item;if(It[E.output_index]={toolName:ae.toCustomToolName("apply_patch"),toolCallId:X,applyPatch:{hasDiff:be.type==="delete_file",endEmitted:be.type==="delete_file"}},de.enqueue({type:"tool-input-start",id:X,toolName:ae.toCustomToolName("apply_patch")}),be.type==="delete_file"){let je=JSON.stringify({callId:X,operation:be});de.enqueue({type:"tool-input-delta",id:X,delta:je}),de.enqueue({type:"tool-input-end",id:X})}else de.enqueue({type:"tool-input-delta",id:X,delta:`{"callId":"${ki(X)}","operation":{"type":"${ki(be.type)}","path":"${ki(be.path)}","diff":"`})}else E.item.type==="shell_call"?It[E.output_index]={toolName:ae.toCustomToolName("shell"),toolCallId:E.item.call_id}:E.item.type==="message"?(nt.splice(0,nt.length),de.enqueue({type:"text-start",id:E.item.id,providerMetadata:{[He]:{itemId:E.item.id}}})):Gi(E)&&E.item.type==="reasoning"&&(cr[E.item.id]={encryptedContent:E.item.encrypted_content,summaryParts:{0:"active"}},de.enqueue({type:"reasoning-start",id:`${E.item.id}:0`,providerMetadata:{[He]:{itemId:E.item.id,reasoningEncryptedContent:(Se=E.item.encrypted_content)!=null?Se:null}}}))}else if(E.type==="response.output_item.done"){if(E.item.type==="message")de.enqueue({type:"text-end",id:E.item.id,providerMetadata:{[He]:{itemId:E.item.id,...nt.length>0&&{annotations:nt}}}});else if(E.item.type==="function_call")It[E.output_index]=void 0,qt=!0,de.enqueue({type:"tool-input-end",id:E.item.call_id}),de.enqueue({type:"tool-call",toolCallId:E.item.call_id,toolName:E.item.name,input:E.item.arguments,providerMetadata:{[He]:{itemId:E.item.id}}});else if(E.item.type==="web_search_call")It[E.output_index]=void 0,de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName($e??"web_search"),result:Li(E.item.action)});else if(E.item.type==="computer_call")It[E.output_index]=void 0,de.enqueue({type:"tool-input-end",id:E.item.id}),de.enqueue({type:"tool-call",toolCallId:E.item.id,toolName:ae.toCustomToolName("computer_use"),input:"",providerExecuted:!0}),de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("computer_use"),result:{type:"computer_use_tool_result",status:E.item.status||"completed"}});else if(E.item.type==="file_search_call")It[E.output_index]=void 0,de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("file_search"),result:{queries:E.item.queries,results:(At=(Sr=E.item.results)==null?void 0:Sr.map(X=>({attributes:X.attributes,fileId:X.file_id,filename:X.filename,score:X.score,text:X.text})))!=null?At:null}});else if(E.item.type==="code_interpreter_call")It[E.output_index]=void 0,de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("code_interpreter"),result:{outputs:E.item.outputs}});else if(E.item.type==="image_generation_call")de.enqueue({type:"tool-result",toolCallId:E.item.id,toolName:ae.toCustomToolName("image_generation"),result:{result:E.item.result}});else if(E.item.type==="mcp_call"){It[E.output_index]=void 0;let X=(St=E.item.approval_request_id)!=null?St:void 0,be=X!=null&&(Ae=(dt=Je.get(X))!=null?dt:pt[X])!=null?Ae:E.item.id,je=`mcp.${E.item.name}`;de.enqueue({type:"tool-call",toolCallId:be,toolName:je,input:E.item.arguments,providerExecuted:!0,dynamic:!0}),de.enqueue({type:"tool-result",toolCallId:be,toolName:je,result:{type:"call",serverLabel:E.item.server_label,name:E.item.name,arguments:E.item.arguments,...E.item.output!=null?{output:E.item.output}:{},...E.item.error!=null?{error:E.item.error}:{}},providerMetadata:{[He]:{itemId:E.item.id}}})}else if(E.item.type==="mcp_list_tools")It[E.output_index]=void 0;else if(E.item.type==="apply_patch_call"){let X=It[E.output_index];X?.applyPatch&&!X.applyPatch.endEmitted&&E.item.operation.type!=="delete_file"&&(X.applyPatch.hasDiff||de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:ki(E.item.operation.diff)}),de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:'"}}'}),de.enqueue({type:"tool-input-end",id:X.toolCallId}),X.applyPatch.endEmitted=!0),X&&E.item.status==="completed"&&de.enqueue({type:"tool-call",toolCallId:X.toolCallId,toolName:ae.toCustomToolName("apply_patch"),input:JSON.stringify({callId:E.item.call_id,operation:E.item.operation}),providerMetadata:{[He]:{itemId:E.item.id}}}),It[E.output_index]=void 0}else if(E.item.type==="mcp_approval_request"){It[E.output_index]=void 0;let X=(Et=(Jt=(Zt=tt.config).generateId)==null?void 0:Jt.call(Zt))!=null?Et:(0,g.generateId)(),be=(Dt=E.item.approval_request_id)!=null?Dt:E.item.id;Je.set(be,X);let je=`mcp.${E.item.name}`;de.enqueue({type:"tool-call",toolCallId:X,toolName:je,input:E.item.arguments,providerExecuted:!0,dynamic:!0}),de.enqueue({type:"tool-approval-request",approvalId:be,toolCallId:X})}else if(E.item.type==="local_shell_call")It[E.output_index]=void 0,de.enqueue({type:"tool-call",toolCallId:E.item.call_id,toolName:ae.toCustomToolName("local_shell"),input:JSON.stringify({action:{type:"exec",command:E.item.action.command,timeoutMs:E.item.action.timeout_ms,user:E.item.action.user,workingDirectory:E.item.action.working_directory,env:E.item.action.env}}),providerMetadata:{[He]:{itemId:E.item.id}}});else if(E.item.type==="shell_call")It[E.output_index]=void 0,de.enqueue({type:"tool-call",toolCallId:E.item.call_id,toolName:ae.toCustomToolName("shell"),input:JSON.stringify({action:{commands:E.item.action.commands}}),providerMetadata:{[He]:{itemId:E.item.id}}});else if(E.item.type==="reasoning"){for(let X of Object.entries(cr[E.item.id].summaryParts).filter(([be,je])=>je==="active"||je==="can-conclude").map(([be])=>be))de.enqueue({type:"reasoning-end",id:`${E.item.id}:${X}`,providerMetadata:{[He]:{itemId:E.item.id,reasoningEncryptedContent:(Ur=E.item.encrypted_content)!=null?Ur:null}}});delete cr[E.item.id]}}else if(E.type==="response.function_call_arguments.delta"){let X=It[E.output_index];X!=null&&de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:E.delta})}else if(E.type==="response.apply_patch_call_operation_diff.delta"){let X=It[E.output_index];X?.applyPatch&&(de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:ki(E.delta)}),X.applyPatch.hasDiff=!0)}else if(E.type==="response.apply_patch_call_operation_diff.done"){let X=It[E.output_index];X?.applyPatch&&!X.applyPatch.endEmitted&&(X.applyPatch.hasDiff||(de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:ki(E.diff)}),X.applyPatch.hasDiff=!0),de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:'"}}'}),de.enqueue({type:"tool-input-end",id:X.toolCallId}),X.applyPatch.endEmitted=!0)}else if(E.type==="response.image_generation_call.partial_image")de.enqueue({type:"tool-result",toolCallId:E.item_id,toolName:ae.toCustomToolName("image_generation"),result:{result:E.partial_image_b64},preliminary:!0});else if(E.type==="response.code_interpreter_call_code.delta"){let X=It[E.output_index];X!=null&&de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:ki(E.delta)})}else if(E.type==="response.code_interpreter_call_code.done"){let X=It[E.output_index];X!=null&&(de.enqueue({type:"tool-input-delta",id:X.toolCallId,delta:'"}'}),de.enqueue({type:"tool-input-end",id:X.toolCallId}),de.enqueue({type:"tool-call",toolCallId:X.toolCallId,toolName:ae.toCustomToolName("code_interpreter"),input:JSON.stringify({code:E.code,containerId:X.codeInterpreter.containerId}),providerExecuted:!0}))}else if(E.type==="response.created")Qe=E.response.id,de.enqueue({type:"response-metadata",id:E.response.id,timestamp:new Date(1e3*E.response.created_at),modelId:E.response.model});else if(E.type==="response.output_text.delta")de.enqueue({type:"text-delta",id:E.item_id,delta:E.delta}),((ir=(hr=x.providerOptions)==null?void 0:hr.openai)==null?void 0:ir.logprobs)&&E.logprobs&&wt.push(E.logprobs);else if(E.type==="response.reasoning_summary_part.added"){if(E.summary_index>0){let X=cr[E.item_id];for(let be of(X.summaryParts[E.summary_index]="active",Object.keys(X.summaryParts)))X.summaryParts[be]==="can-conclude"&&(de.enqueue({type:"reasoning-end",id:`${E.item_id}:${be}`,providerMetadata:{[He]:{itemId:E.item_id}}}),X.summaryParts[be]="concluded");de.enqueue({type:"reasoning-start",id:`${E.item_id}:${E.summary_index}`,providerMetadata:{[He]:{itemId:E.item_id,reasoningEncryptedContent:(Lt=(Xe=cr[E.item_id])==null?void 0:Xe.encryptedContent)!=null?Lt:null}}})}}else E.type==="response.reasoning_summary_text.delta"?de.enqueue({type:"reasoning-delta",id:`${E.item_id}:${E.summary_index}`,delta:E.delta,providerMetadata:{[He]:{itemId:E.item_id}}}):E.type==="response.reasoning_summary_part.done"?fe?(de.enqueue({type:"reasoning-end",id:`${E.item_id}:${E.summary_index}`,providerMetadata:{[He]:{itemId:E.item_id}}}),cr[E.item_id].summaryParts[E.summary_index]="concluded"):cr[E.item_id].summaryParts[E.summary_index]="can-conclude":(le=E).type==="response.completed"||le.type==="response.incomplete"?(jt={unified:G({finishReason:(yt=E.response.incomplete_details)==null?void 0:yt.reason,hasFunctionCall:qt}),raw:(qr=(oa=E.response.incomplete_details)==null?void 0:oa.reason)!=null?qr:void 0},re=E.response.usage,typeof E.response.service_tier=="string"&&(F=E.response.service_tier)):E.type==="response.output_text.annotation.added"?(nt.push(E.annotation),E.annotation.type==="url_citation"?de.enqueue({type:"source",sourceType:"url",id:(rr=(Ne=(zt=tt.config).generateId)==null?void 0:Ne.call(zt))!=null?rr:(0,g.generateId)(),url:E.annotation.url,title:E.annotation.title}):E.annotation.type==="file_citation"?de.enqueue({type:"source",sourceType:"document",id:(Oa=(sn=(Kt=tt.config).generateId)==null?void 0:sn.call(Kt))!=null?Oa:(0,g.generateId)(),mediaType:"text/plain",title:($i=(Or=E.annotation.quote)!=null?Or:E.annotation.filename)!=null?$i:"Document",filename:(yo=E.annotation.filename)!=null?yo:E.annotation.file_id,...E.annotation.file_id?{providerMetadata:{[He]:{fileId:E.annotation.file_id}}}:{}}):E.annotation.type==="container_file_citation"?de.enqueue({type:"source",sourceType:"document",id:(Vs=(Bs=(Vn=tt.config).generateId)==null?void 0:Bs.call(Vn))!=null?Vs:(0,g.generateId)(),mediaType:"text/plain",title:(k=(vs=E.annotation.filename)!=null?vs:E.annotation.file_id)!=null?k:"Document",filename:(d=E.annotation.filename)!=null?d:E.annotation.file_id,providerMetadata:{[He]:{fileId:E.annotation.file_id,containerId:E.annotation.container_id,...E.annotation.index!=null?{index:E.annotation.index}:{}}}}):E.annotation.type==="file_path"&&de.enqueue({type:"source",sourceType:"document",id:(U=(O=(y=tt.config).generateId)==null?void 0:O.call(y))!=null?U:(0,g.generateId)(),mediaType:"application/octet-stream",title:E.annotation.file_id,filename:E.annotation.file_id,providerMetadata:{[He]:{fileId:E.annotation.file_id,...E.annotation.index!=null?{index:E.annotation.index}:{}}}})):E.type==="error"&&de.enqueue({type:"error",error:E})},flush(ke){let de={[He]:{responseId:Qe}};wt.length>0&&(de[He].logprobs=wt),F!==void 0&&(de[He].serviceTier=F),ke.enqueue({type:"finish",finishReason:jt,usage:mo(re),providerMetadata:de})}})),request:{body:he},response:{headers:Ze}}}};function Gi(x){return x.type==="response.output_item.added"}function Li(x){var F;switch(x.type){case"search":return{action:{type:"search",query:(F=x.query)!=null?F:void 0},...x.sources!=null&&{sources:x.sources}};case"open_page":return{action:{type:"openPage",url:x.url}};case"find_in_page":return{action:{type:"findInPage",url:x.url,pattern:x.pattern}}}}function ki(x){return JSON.stringify(x).slice(1,-1)}var di=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({instructions:n.z.string().nullish(),speed:n.z.number().min(.25).max(4).default(1).nullish()}))),Fi=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3"}get provider(){return this.config.provider}async getArgs({text:x,voice:F="alloy",outputFormat:re="mp3",speed:he,instructions:Ie,language:$e,providerOptions:ae}){let fe=[],Ze=await(0,g.parseProviderOptions)({provider:"openai",providerOptions:ae,schema:di}),me={model:this.modelId,input:x,voice:F,response_format:"mp3",speed:he,instructions:Ie};if(re&&(["mp3","opus","aac","flac","wav","pcm"].includes(re)?me.response_format=re:fe.push({type:"unsupported",feature:"outputFormat",details:`Unsupported output format: ${re}. Using mp3 instead.`})),Ze){let tt={};for(let He in tt){let pt=tt[He];pt!==void 0&&(me[He]=pt)}}return $e&&fe.push({type:"unsupported",feature:"language",details:`OpenAI speech models do not support language selection. Language parameter "${$e}" was ignored.`}),{requestBody:me,warnings:fe}}async doGenerate(x){var F,re,he;let Ie=(he=(re=(F=this.config._internal)==null?void 0:F.currentDate)==null?void 0:re.call(F))!=null?he:new Date,{requestBody:$e,warnings:ae}=await this.getArgs(x),{value:fe,responseHeaders:Ze,rawValue:me}=await(0,g.postJsonToApi)({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:$e,failedResponseHandler:ct,successfulResponseHandler:(0,g.createBinaryResponseHandler)(),abortSignal:x.abortSignal,fetch:this.config.fetch});return{audio:fe,warnings:ae,request:{body:JSON.stringify($e)},response:{timestamp:Ie,modelId:this.modelId,headers:Ze,body:me}}}},Ot=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({text:n.z.string(),language:n.z.string().nullish(),duration:n.z.number().nullish(),words:n.z.array(n.z.object({word:n.z.string(),start:n.z.number(),end:n.z.number()})).nullish(),segments:n.z.array(n.z.object({id:n.z.number(),seek:n.z.number(),start:n.z.number(),end:n.z.number(),text:n.z.string(),tokens:n.z.array(n.z.number()),temperature:n.z.number(),avg_logprob:n.z.number(),compression_ratio:n.z.number(),no_speech_prob:n.z.number()})).nullish()}))),pi=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({include:n.z.array(n.z.string()).optional(),language:n.z.string().optional(),prompt:n.z.string().optional(),temperature:n.z.number().min(0).max(1).default(0).optional(),timestampGranularities:n.z.array(n.z.enum(["word","segment"])).default(["segment"]).optional()}))),Un={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},Yn=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3"}get provider(){return this.config.provider}async getArgs({audio:x,mediaType:F,providerOptions:re}){let he=await(0,g.parseProviderOptions)({provider:"openai",providerOptions:re,schema:pi}),Ie=new FormData,$e=x instanceof Uint8Array?new Blob([x]):new Blob([(0,g.convertBase64ToUint8Array)(x)]);Ie.append("model",this.modelId);let ae=(0,g.mediaTypeToExtension)(F);if(Ie.append("file",new File([$e],"audio",{type:F}),`audio.${ae}`),he){for(let[fe,Ze]of Object.entries({include:he.include,language:he.language,prompt:he.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:he.temperature,timestamp_granularities:he.timestampGranularities}))if(Ze!=null)if(Array.isArray(Ze))for(let me of Ze)Ie.append(`${fe}[]`,String(me));else Ie.append(fe,String(Ze))}return{formData:Ie,warnings:[]}}async doGenerate(x){var F,re,he,Ie,$e,ae,fe,Ze;let me=(he=(re=(F=this.config._internal)==null?void 0:F.currentDate)==null?void 0:re.call(F))!=null?he:new Date,{formData:tt,warnings:He}=await this.getArgs(x),{value:pt,responseHeaders:Je,rawValue:jt}=await(0,g.postFormDataToApi)({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),formData:tt,failedResponseHandler:ct,successfulResponseHandler:(0,g.createJsonResponseHandler)(Ot),abortSignal:x.abortSignal,fetch:this.config.fetch}),wt=pt.language!=null&&pt.language in Un?Un[pt.language]:void 0;return{text:pt.text,segments:(fe=(ae=(Ie=pt.segments)==null?void 0:Ie.map(Qe=>({text:Qe.text,startSecond:Qe.start,endSecond:Qe.end})))!=null?ae:($e=pt.words)==null?void 0:$e.map(Qe=>({text:Qe.word,startSecond:Qe.start,endSecond:Qe.end})))!=null?fe:[],language:wt,durationInSeconds:(Ze=pt.duration)!=null?Ze:void 0,warnings:He,response:{timestamp:me,modelId:this.modelId,headers:Je,body:jt}}}};function gn(x={}){var F,re;let he=(F=(0,g.withoutTrailingSlash)((0,g.loadOptionalSetting)({settingValue:x.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))!=null?F:"https://api.openai.com/v1",Ie=(re=x.name)!=null?re:"openai",$e=()=>(0,g.withUserAgentSuffix)({Authorization:`Bearer ${(0,g.loadApiKey)({apiKey:x.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":x.organization,"OpenAI-Project":x.project,...x.headers},"ai-sdk/openai/3.0.1"),ae=Je=>new Xr(Je,{provider:`${Ie}.embedding`,url:({path:jt})=>`${he}${jt}`,headers:$e,fetch:x.fetch}),fe=Je=>new Zn(Je,{provider:`${Ie}.image`,url:({path:jt})=>`${he}${jt}`,headers:$e,fetch:x.fetch}),Ze=Je=>new Yn(Je,{provider:`${Ie}.transcription`,url:({path:jt})=>`${he}${jt}`,headers:$e,fetch:x.fetch}),me=Je=>new Fi(Je,{provider:`${Ie}.speech`,url:({path:jt})=>`${he}${jt}`,headers:$e,fetch:x.fetch}),tt=Je=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return He(Je)},He=Je=>new Hn(Je,{provider:`${Ie}.responses`,url:({path:jt})=>`${he}${jt}`,headers:$e,fetch:x.fetch,fileIdPrefixes:["file-"]}),pt=function(Je){return tt(Je)};return pt.specificationVersion="v3",pt.languageModel=tt,pt.chat=Je=>new Nn(Je,{provider:`${Ie}.chat`,url:({path:jt})=>`${he}${jt}`,headers:$e,fetch:x.fetch}),pt.completion=Je=>new Wt(Je,{provider:`${Ie}.completion`,url:({path:jt})=>`${he}${jt}`,headers:$e,fetch:x.fetch}),pt.responses=He,pt.embedding=ae,pt.embeddingModel=ae,pt.textEmbedding=ae,pt.textEmbeddingModel=ae,pt.image=fe,pt.imageModel=fe,pt.transcription=Ze,pt.transcriptionModel=Ze,pt.speech=me,pt.speechModel=me,pt.tools=po,pt}gn();var pa=_.i(51615),ea=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({type:n.z.literal("error"),error:n.z.object({type:n.z.string(),message:n.z.string()})}))),xr=(0,g.createJsonErrorResponseHandler)({errorSchema:ea,errorToMessage:x=>x.error.message}),Ti=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({type:n.z.literal("message"),id:n.z.string().nullish(),model:n.z.string().nullish(),content:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text"),text:n.z.string(),citations:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("web_search_result_location"),cited_text:n.z.string(),url:n.z.string(),title:n.z.string(),encrypted_index:n.z.string()}),n.z.object({type:n.z.literal("page_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_page_number:n.z.number(),end_page_number:n.z.number()}),n.z.object({type:n.z.literal("char_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_char_index:n.z.number(),end_char_index:n.z.number()})])).optional()}),n.z.object({type:n.z.literal("thinking"),thinking:n.z.string(),signature:n.z.string()}),n.z.object({type:n.z.literal("redacted_thinking"),data:n.z.string()}),n.z.object({type:n.z.literal("tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),caller:n.z.union([n.z.object({type:n.z.literal("code_execution_20250825"),tool_id:n.z.string()}),n.z.object({type:n.z.literal("direct")})]).optional()}),n.z.object({type:n.z.literal("server_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.record(n.z.string(),n.z.unknown()).nullish()}),n.z.object({type:n.z.literal("mcp_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),server_name:n.z.string()}),n.z.object({type:n.z.literal("mcp_tool_result"),tool_use_id:n.z.string(),is_error:n.z.boolean(),content:n.z.array(n.z.union([n.z.string(),n.z.object({type:n.z.literal("text"),text:n.z.string()})]))}),n.z.object({type:n.z.literal("web_fetch_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("web_fetch_result"),url:n.z.string(),retrieved_at:n.z.string(),content:n.z.object({type:n.z.literal("document"),title:n.z.string().nullable(),citations:n.z.object({enabled:n.z.boolean()}).optional(),source:n.z.union([n.z.object({type:n.z.literal("base64"),media_type:n.z.literal("application/pdf"),data:n.z.string()}),n.z.object({type:n.z.literal("text"),media_type:n.z.literal("text/plain"),data:n.z.string()})])})}),n.z.object({type:n.z.literal("web_fetch_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("web_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.array(n.z.object({type:n.z.literal("web_search_result"),url:n.z.string(),title:n.z.string(),encrypted_content:n.z.string(),page_age:n.z.string().nullish()})),n.z.object({type:n.z.literal("web_search_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}),n.z.object({type:n.z.literal("code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("bash_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("bash_code_execution_result"),content:n.z.array(n.z.object({type:n.z.literal("bash_code_execution_output"),file_id:n.z.string()})),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number()}),n.z.object({type:n.z.literal("bash_code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("text_editor_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text_editor_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_view_result"),content:n.z.string(),file_type:n.z.string(),num_lines:n.z.number().nullable(),start_line:n.z.number().nullable(),total_lines:n.z.number().nullable()}),n.z.object({type:n.z.literal("text_editor_code_execution_create_result"),is_file_update:n.z.boolean()}),n.z.object({type:n.z.literal("text_editor_code_execution_str_replace_result"),lines:n.z.array(n.z.string()).nullable(),new_lines:n.z.number().nullable(),new_start:n.z.number().nullable(),old_lines:n.z.number().nullable(),old_start:n.z.number().nullable()})])}),n.z.object({type:n.z.literal("tool_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("tool_search_tool_search_result"),tool_references:n.z.array(n.z.object({type:n.z.literal("tool_reference"),tool_name:n.z.string()}))}),n.z.object({type:n.z.literal("tool_search_tool_result_error"),error_code:n.z.string()})])})])),stop_reason:n.z.string().nullish(),stop_sequence:n.z.string().nullish(),usage:n.z.looseObject({input_tokens:n.z.number(),output_tokens:n.z.number(),cache_creation_input_tokens:n.z.number().nullish(),cache_read_input_tokens:n.z.number().nullish()}),container:n.z.object({expires_at:n.z.string(),id:n.z.string(),skills:n.z.array(n.z.object({type:n.z.union([n.z.literal("anthropic"),n.z.literal("custom")]),skill_id:n.z.string(),version:n.z.string()})).nullish()}).nullish(),context_management:n.z.object({applied_edits:n.z.array(n.z.union([n.z.object({type:n.z.literal("clear_tool_uses_20250919"),cleared_tool_uses:n.z.number(),cleared_input_tokens:n.z.number()}),n.z.object({type:n.z.literal("clear_thinking_20251015"),cleared_thinking_turns:n.z.number(),cleared_input_tokens:n.z.number()})]))}).nullish()}))),Zi=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("message_start"),message:n.z.object({id:n.z.string().nullish(),model:n.z.string().nullish(),role:n.z.string().nullish(),usage:n.z.looseObject({input_tokens:n.z.number(),cache_creation_input_tokens:n.z.number().nullish(),cache_read_input_tokens:n.z.number().nullish()}),content:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),caller:n.z.union([n.z.object({type:n.z.literal("code_execution_20250825"),tool_id:n.z.string()}),n.z.object({type:n.z.literal("direct")})]).optional()})])).nullish(),stop_reason:n.z.string().nullish(),container:n.z.object({expires_at:n.z.string(),id:n.z.string()}).nullish()})}),n.z.object({type:n.z.literal("content_block_start"),index:n.z.number(),content_block:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text"),text:n.z.string()}),n.z.object({type:n.z.literal("thinking"),thinking:n.z.string()}),n.z.object({type:n.z.literal("tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.record(n.z.string(),n.z.unknown()).optional(),caller:n.z.union([n.z.object({type:n.z.literal("code_execution_20250825"),tool_id:n.z.string()}),n.z.object({type:n.z.literal("direct")})]).optional()}),n.z.object({type:n.z.literal("redacted_thinking"),data:n.z.string()}),n.z.object({type:n.z.literal("server_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.record(n.z.string(),n.z.unknown()).nullish()}),n.z.object({type:n.z.literal("mcp_tool_use"),id:n.z.string(),name:n.z.string(),input:n.z.unknown(),server_name:n.z.string()}),n.z.object({type:n.z.literal("mcp_tool_result"),tool_use_id:n.z.string(),is_error:n.z.boolean(),content:n.z.array(n.z.union([n.z.string(),n.z.object({type:n.z.literal("text"),text:n.z.string()})]))}),n.z.object({type:n.z.literal("web_fetch_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("web_fetch_result"),url:n.z.string(),retrieved_at:n.z.string(),content:n.z.object({type:n.z.literal("document"),title:n.z.string().nullable(),citations:n.z.object({enabled:n.z.boolean()}).optional(),source:n.z.union([n.z.object({type:n.z.literal("base64"),media_type:n.z.literal("application/pdf"),data:n.z.string()}),n.z.object({type:n.z.literal("text"),media_type:n.z.literal("text/plain"),data:n.z.string()})])})}),n.z.object({type:n.z.literal("web_fetch_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("web_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.array(n.z.object({type:n.z.literal("web_search_result"),url:n.z.string(),title:n.z.string(),encrypted_content:n.z.string(),page_age:n.z.string().nullish()})),n.z.object({type:n.z.literal("web_search_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}),n.z.object({type:n.z.literal("code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("bash_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("bash_code_execution_result"),content:n.z.array(n.z.object({type:n.z.literal("bash_code_execution_output"),file_id:n.z.string()})),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number()}),n.z.object({type:n.z.literal("bash_code_execution_tool_result_error"),error_code:n.z.string()})])}),n.z.object({type:n.z.literal("text_editor_code_execution_tool_result"),tool_use_id:n.z.string(),content:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text_editor_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_view_result"),content:n.z.string(),file_type:n.z.string(),num_lines:n.z.number().nullable(),start_line:n.z.number().nullable(),total_lines:n.z.number().nullable()}),n.z.object({type:n.z.literal("text_editor_code_execution_create_result"),is_file_update:n.z.boolean()}),n.z.object({type:n.z.literal("text_editor_code_execution_str_replace_result"),lines:n.z.array(n.z.string()).nullable(),new_lines:n.z.number().nullable(),new_start:n.z.number().nullable(),old_lines:n.z.number().nullable(),old_start:n.z.number().nullable()})])}),n.z.object({type:n.z.literal("tool_search_tool_result"),tool_use_id:n.z.string(),content:n.z.union([n.z.object({type:n.z.literal("tool_search_tool_search_result"),tool_references:n.z.array(n.z.object({type:n.z.literal("tool_reference"),tool_name:n.z.string()}))}),n.z.object({type:n.z.literal("tool_search_tool_result_error"),error_code:n.z.string()})])})])}),n.z.object({type:n.z.literal("content_block_delta"),index:n.z.number(),delta:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("input_json_delta"),partial_json:n.z.string()}),n.z.object({type:n.z.literal("text_delta"),text:n.z.string()}),n.z.object({type:n.z.literal("thinking_delta"),thinking:n.z.string()}),n.z.object({type:n.z.literal("signature_delta"),signature:n.z.string()}),n.z.object({type:n.z.literal("citations_delta"),citation:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("web_search_result_location"),cited_text:n.z.string(),url:n.z.string(),title:n.z.string(),encrypted_index:n.z.string()}),n.z.object({type:n.z.literal("page_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_page_number:n.z.number(),end_page_number:n.z.number()}),n.z.object({type:n.z.literal("char_location"),cited_text:n.z.string(),document_index:n.z.number(),document_title:n.z.string().nullable(),start_char_index:n.z.number(),end_char_index:n.z.number()})])})])}),n.z.object({type:n.z.literal("content_block_stop"),index:n.z.number()}),n.z.object({type:n.z.literal("error"),error:n.z.object({type:n.z.string(),message:n.z.string()})}),n.z.object({type:n.z.literal("message_delta"),delta:n.z.object({stop_reason:n.z.string().nullish(),stop_sequence:n.z.string().nullish(),container:n.z.object({expires_at:n.z.string(),id:n.z.string(),skills:n.z.array(n.z.object({type:n.z.union([n.z.literal("anthropic"),n.z.literal("custom")]),skill_id:n.z.string(),version:n.z.string()})).nullish()}).nullish(),context_management:n.z.object({applied_edits:n.z.array(n.z.union([n.z.object({type:n.z.literal("clear_tool_uses_20250919"),cleared_tool_uses:n.z.number(),cleared_input_tokens:n.z.number()}),n.z.object({type:n.z.literal("clear_thinking_20251015"),cleared_thinking_turns:n.z.number(),cleared_input_tokens:n.z.number()})]))}).nullish()}),usage:n.z.looseObject({output_tokens:n.z.number(),cache_creation_input_tokens:n.z.number().nullish()})}),n.z.object({type:n.z.literal("message_stop")}),n.z.object({type:n.z.literal("ping")})]))),Cn=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({signature:n.z.string().optional(),redactedData:n.z.string().optional()}))),Qi=n.z.object({citations:n.z.object({enabled:n.z.boolean()}).optional(),title:n.z.string().optional(),context:n.z.string().optional()}),wi=n.z.object({sendReasoning:n.z.boolean().optional(),structuredOutputMode:n.z.enum(["outputFormat","jsonTool","auto"]).optional(),thinking:n.z.object({type:n.z.union([n.z.literal("enabled"),n.z.literal("disabled")]),budgetTokens:n.z.number().optional()}).optional(),disableParallelToolUse:n.z.boolean().optional(),cacheControl:n.z.object({type:n.z.literal("ephemeral"),ttl:n.z.union([n.z.literal("5m"),n.z.literal("1h")]).optional()}).optional(),mcpServers:n.z.array(n.z.object({type:n.z.literal("url"),name:n.z.string(),url:n.z.string(),authorizationToken:n.z.string().nullish(),toolConfiguration:n.z.object({enabled:n.z.boolean().nullish(),allowedTools:n.z.array(n.z.string()).nullish()}).nullish()})).optional(),container:n.z.object({id:n.z.string().optional(),skills:n.z.array(n.z.object({type:n.z.union([n.z.literal("anthropic"),n.z.literal("custom")]),skillId:n.z.string(),version:n.z.string().optional()})).optional()}).optional(),toolStreaming:n.z.boolean().optional(),effort:n.z.enum(["low","medium","high"]).optional(),contextManagement:n.z.object({edits:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("clear_tool_uses_20250919"),trigger:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("input_tokens"),value:n.z.number()}),n.z.object({type:n.z.literal("tool_uses"),value:n.z.number()})]).optional(),keep:n.z.object({type:n.z.literal("tool_uses"),value:n.z.number()}).optional(),clearAtLeast:n.z.object({type:n.z.literal("input_tokens"),value:n.z.number()}).optional(),clearToolInputs:n.z.boolean().optional(),excludeTools:n.z.array(n.z.string()).optional()}),n.z.object({type:n.z.literal("clear_thinking_20251015"),keep:n.z.union([n.z.literal("all"),n.z.object({type:n.z.literal("thinking_turns"),value:n.z.number()})]).optional()})]))}).optional()}),aa=class{constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(x,F){var re;let he,Ie=(re=(he=x?.anthropic)==null?void 0:he.cacheControl)!=null?re:he?.cache_control;if(Ie)return F.canCache?(this.breakpointCount++,this.breakpointCount>4?void this.warnings.push({type:"unsupported",feature:"cacheControl breakpoint limit",details:`Maximum 4 cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`}):Ie):void this.warnings.push({type:"unsupported",feature:"cache_control on non-cacheable context",details:`cache_control cannot be set on ${F.type}. It will be ignored.`})}getWarnings(){return this.warnings}},Ta=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({maxCharacters:n.z.number().optional()}))),ni=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),Ca=(0,g.createProviderToolFactory)({id:"anthropic.text_editor_20250728",inputSchema:ni}),Ci=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({maxUses:n.z.number().optional(),allowedDomains:n.z.array(n.z.string()).optional(),blockedDomains:n.z.array(n.z.string()).optional(),userLocation:n.z.object({type:n.z.literal("approximate"),city:n.z.string().optional(),region:n.z.string().optional(),country:n.z.string().optional(),timezone:n.z.string().optional()}).optional()}))),Ri=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.array(n.z.object({url:n.z.string(),title:n.z.string().nullable(),pageAge:n.z.string().nullable(),encryptedContent:n.z.string(),type:n.z.literal("web_search_result")})))),ho=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({query:n.z.string()}))),va=(0,g.createProviderToolFactoryWithOutputSchema)({id:"anthropic.web_search_20250305",inputSchema:ho,outputSchema:Ri}),Jo=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({maxUses:n.z.number().optional(),allowedDomains:n.z.array(n.z.string()).optional(),blockedDomains:n.z.array(n.z.string()).optional(),citations:n.z.object({enabled:n.z.boolean()}).optional(),maxContentTokens:n.z.number().optional()}))),ns=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({type:n.z.literal("web_fetch_result"),url:n.z.string(),content:n.z.object({type:n.z.literal("document"),title:n.z.string().nullable(),citations:n.z.object({enabled:n.z.boolean()}).optional(),source:n.z.union([n.z.object({type:n.z.literal("base64"),mediaType:n.z.literal("application/pdf"),data:n.z.string()}),n.z.object({type:n.z.literal("text"),mediaType:n.z.literal("text/plain"),data:n.z.string()})])}),retrievedAt:n.z.string().nullable()}))),yi=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({url:n.z.string()}))),xo=(0,g.createProviderToolFactoryWithOutputSchema)({id:"anthropic.web_fetch_20250910",inputSchema:yi,outputSchema:ns});async function Bi({tools:x,toolChoice:F,disableParallelToolUse:re,cacheControlValidator:he,supportsStructuredOutput:Ie}){var $e;x=x?.length?x:void 0;let ae=[],fe=new Set,Ze=he||new aa;if(x==null)return{tools:void 0,toolChoice:void 0,toolWarnings:ae,betas:fe};let me=[];for(let He of x)switch(He.type){case"function":{let pt=Ze.getCacheControl(He.providerOptions,{type:"tool definition",canCache:!0}),Je=($e=He.providerOptions)==null?void 0:$e.anthropic,jt=Je?.deferLoading,wt=Je?.allowedCallers;me.push({name:He.name,description:He.description,input_schema:He.inputSchema,cache_control:pt,...Ie===!0&&He.strict!=null?{strict:He.strict}:{},...jt!=null?{defer_loading:jt}:{},...wt!=null?{allowed_callers:wt}:{},...He.inputExamples!=null?{input_examples:He.inputExamples.map(Qe=>Qe.input)}:{}}),Ie===!0&&fe.add("structured-outputs-2025-11-13"),(He.inputExamples!=null||wt!=null)&&fe.add("advanced-tool-use-2025-11-20");break}case"provider":switch(He.id){case"anthropic.code_execution_20250522":fe.add("code-execution-2025-05-22"),me.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break;case"anthropic.code_execution_20250825":fe.add("code-execution-2025-08-25"),me.push({type:"code_execution_20250825",name:"code_execution"});break;case"anthropic.computer_20250124":fe.add("computer-use-2025-01-24"),me.push({name:"computer",type:"computer_20250124",display_width_px:He.args.displayWidthPx,display_height_px:He.args.displayHeightPx,display_number:He.args.displayNumber,cache_control:void 0});break;case"anthropic.computer_20241022":fe.add("computer-use-2024-10-22"),me.push({name:"computer",type:"computer_20241022",display_width_px:He.args.displayWidthPx,display_height_px:He.args.displayHeightPx,display_number:He.args.displayNumber,cache_control:void 0});break;case"anthropic.text_editor_20250124":fe.add("computer-use-2025-01-24"),me.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break;case"anthropic.text_editor_20241022":fe.add("computer-use-2024-10-22"),me.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break;case"anthropic.text_editor_20250429":fe.add("computer-use-2025-01-24"),me.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break;case"anthropic.text_editor_20250728":{let pt=await(0,g.validateTypes)({value:He.args,schema:Ta});me.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:pt.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":fe.add("computer-use-2025-01-24"),me.push({name:"bash",type:"bash_20250124",cache_control:void 0});break;case"anthropic.bash_20241022":fe.add("computer-use-2024-10-22"),me.push({name:"bash",type:"bash_20241022",cache_control:void 0});break;case"anthropic.memory_20250818":fe.add("context-management-2025-06-27"),me.push({name:"memory",type:"memory_20250818"});break;case"anthropic.web_fetch_20250910":{fe.add("web-fetch-2025-09-10");let pt=await(0,g.validateTypes)({value:He.args,schema:Jo});me.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:pt.maxUses,allowed_domains:pt.allowedDomains,blocked_domains:pt.blockedDomains,citations:pt.citations,max_content_tokens:pt.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let pt=await(0,g.validateTypes)({value:He.args,schema:Ci});me.push({type:"web_search_20250305",name:"web_search",max_uses:pt.maxUses,allowed_domains:pt.allowedDomains,blocked_domains:pt.blockedDomains,user_location:pt.userLocation,cache_control:void 0});break}case"anthropic.tool_search_regex_20251119":fe.add("advanced-tool-use-2025-11-20"),me.push({type:"tool_search_tool_regex_20251119",name:"tool_search_tool_regex"});break;case"anthropic.tool_search_bm25_20251119":fe.add("advanced-tool-use-2025-11-20"),me.push({type:"tool_search_tool_bm25_20251119",name:"tool_search_tool_bm25"});break;default:ae.push({type:"unsupported",feature:`provider-defined tool ${He.id}`})}break;default:ae.push({type:"unsupported",feature:`tool ${He}`})}if(F==null)return{tools:me,toolChoice:re?{type:"auto",disable_parallel_tool_use:re}:void 0,toolWarnings:ae,betas:fe};let tt=F.type;switch(tt){case"auto":return{tools:me,toolChoice:{type:"auto",disable_parallel_tool_use:re},toolWarnings:ae,betas:fe};case"required":return{tools:me,toolChoice:{type:"any",disable_parallel_tool_use:re},toolWarnings:ae,betas:fe};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:ae,betas:fe};case"tool":return{tools:me,toolChoice:{type:"tool",name:F.toolName,disable_parallel_tool_use:re},toolWarnings:ae,betas:fe};default:throw new xe.UnsupportedFunctionalityError({functionality:`tool choice type: ${tt}`})}}function Wn(x){var F,re;let he=x.input_tokens,Ie=x.output_tokens,$e=(F=x.cache_creation_input_tokens)!=null?F:0,ae=(re=x.cache_read_input_tokens)!=null?re:0;return{inputTokens:{total:he+$e+ae,noCache:he,cacheRead:ae,cacheWrite:$e},outputTokens:{total:Ie,text:void 0,reasoning:void 0},raw:x}}var tr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}))),Ii=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({code:n.z.string()}))),Rr=(0,g.createProviderToolFactoryWithOutputSchema)({id:"anthropic.code_execution_20250522",inputSchema:Ii,outputSchema:tr}),eo=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("code_execution_result"),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number(),content:n.z.array(n.z.object({type:n.z.literal("code_execution_output"),file_id:n.z.string()})).optional().default([])}),n.z.object({type:n.z.literal("bash_code_execution_result"),content:n.z.array(n.z.object({type:n.z.literal("bash_code_execution_output"),file_id:n.z.string()})),stdout:n.z.string(),stderr:n.z.string(),return_code:n.z.number()}),n.z.object({type:n.z.literal("bash_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_tool_result_error"),error_code:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution_view_result"),content:n.z.string(),file_type:n.z.string(),num_lines:n.z.number().nullable(),start_line:n.z.number().nullable(),total_lines:n.z.number().nullable()}),n.z.object({type:n.z.literal("text_editor_code_execution_create_result"),is_file_update:n.z.boolean()}),n.z.object({type:n.z.literal("text_editor_code_execution_str_replace_result"),lines:n.z.array(n.z.string()).nullable(),new_lines:n.z.number().nullable(),new_start:n.z.number().nullable(),old_lines:n.z.number().nullable(),old_start:n.z.number().nullable()})]))),qo=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("programmatic-tool-call"),code:n.z.string()}),n.z.object({type:n.z.literal("bash_code_execution"),command:n.z.string()}),n.z.discriminatedUnion("command",[n.z.object({type:n.z.literal("text_editor_code_execution"),command:n.z.literal("view"),path:n.z.string()}),n.z.object({type:n.z.literal("text_editor_code_execution"),command:n.z.literal("create"),path:n.z.string(),file_text:n.z.string().nullish()}),n.z.object({type:n.z.literal("text_editor_code_execution"),command:n.z.literal("str_replace"),path:n.z.string(),old_str:n.z.string(),new_str:n.z.string()})])]))),is=(0,g.createProviderToolFactoryWithOutputSchema)({id:"anthropic.code_execution_20250825",inputSchema:qo,outputSchema:eo,supportsDeferredResults:!0}),As=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.array(n.z.object({type:n.z.literal("tool_reference"),toolName:n.z.string()})))),wa=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({pattern:n.z.string(),limit:n.z.number().optional()}))),Ms=(0,g.createProviderToolFactoryWithOutputSchema)({id:"anthropic.tool_search_regex_20251119",inputSchema:wa,outputSchema:As});async function Ko({prompt:x,sendReasoning:F,warnings:re,cacheControlValidator:he,toolNameMapping:Ie}){var $e,ae,fe,Ze,me,tt,He,pt,Je,jt,wt,Qe,It,nt,qt;let cr,ke=new Set,de=function(dt){let Ae,Zt=[];for(let Jt of dt){let{role:Et}=Jt;switch(Et){case"system":Ae?.type!=="system"&&(Ae={type:"system",messages:[]},Zt.push(Ae)),Ae.messages.push(Jt);break;case"assistant":Ae?.type!=="assistant"&&(Ae={type:"assistant",messages:[]},Zt.push(Ae)),Ae.messages.push(Jt);break;case"user":case"tool":Ae?.type!=="user"&&(Ae={type:"user",messages:[]},Zt.push(Ae)),Ae.messages.push(Jt);break;default:throw Error(`Unsupported role: ${Et}`)}}return Zt}(x),Se=he||new aa,Sr=[];async function At(dt){var Ae,Zt;let Jt=await(0,g.parseProviderOptions)({provider:"anthropic",providerOptions:dt,schema:Qi});return(Zt=(Ae=Jt?.citations)==null?void 0:Ae.enabled)!=null&&Zt}async function St(dt){let Ae=await(0,g.parseProviderOptions)({provider:"anthropic",providerOptions:dt,schema:Qi});return{title:Ae?.title,context:Ae?.context}}for(let dt=0;dt<de.length;dt++){let Ae=de[dt],Zt=dt===de.length-1,Jt=Ae.type;switch(Jt){case"system":if(cr!=null)throw new xe.UnsupportedFunctionalityError({functionality:"Multiple system messages that are separated by user/assistant messages"});cr=Ae.messages.map(({content:Et,providerOptions:Dt})=>({type:"text",text:Et,cache_control:Se.getCacheControl(Dt,{type:"system message",canCache:!0})}));break;case"user":{let Et=[];for(let Dt of Ae.messages){let{role:Ur,content:hr}=Dt;switch(Ur){case"user":for(let ir=0;ir<hr.length;ir++){let Xe=hr[ir],Lt=ir===hr.length-1,yt=($e=Se.getCacheControl(Xe.providerOptions,{type:"user message part",canCache:!0}))!=null?$e:Lt?Se.getCacheControl(Dt.providerOptions,{type:"user message",canCache:!0}):void 0;switch(Xe.type){case"text":Et.push({type:"text",text:Xe.text,cache_control:yt});break;case"file":if(Xe.mediaType.startsWith("image/"))Et.push({type:"image",source:Xe.data instanceof URL?{type:"url",url:Xe.data.toString()}:{type:"base64",media_type:Xe.mediaType==="image/*"?"image/jpeg":Xe.mediaType,data:(0,g.convertToBase64)(Xe.data)},cache_control:yt});else if(Xe.mediaType==="application/pdf"){ke.add("pdfs-2024-09-25");let oa=await At(Xe.providerOptions),qr=await St(Xe.providerOptions);Et.push({type:"document",source:Xe.data instanceof URL?{type:"url",url:Xe.data.toString()}:{type:"base64",media_type:"application/pdf",data:(0,g.convertToBase64)(Xe.data)},title:(ae=qr.title)!=null?ae:Xe.filename,...qr.context&&{context:qr.context},...oa&&{citations:{enabled:!0}},cache_control:yt})}else if(Xe.mediaType==="text/plain"){let oa=await At(Xe.providerOptions),qr=await St(Xe.providerOptions);Et.push({type:"document",source:Xe.data instanceof URL?{type:"url",url:Xe.data.toString()}:{type:"text",media_type:"text/plain",data:function(zt){if(typeof zt=="string")return pa.Buffer.from(zt,"base64").toString("utf-8");if(zt instanceof Uint8Array)return new TextDecoder().decode(zt);throw zt instanceof URL?new xe.UnsupportedFunctionalityError({functionality:"URL-based text documents are not supported for citations"}):new xe.UnsupportedFunctionalityError({functionality:`unsupported data type for text documents: ${typeof zt}`})}(Xe.data)},title:(fe=qr.title)!=null?fe:Xe.filename,...qr.context&&{context:qr.context},...oa&&{citations:{enabled:!0}},cache_control:yt})}else throw new xe.UnsupportedFunctionalityError({functionality:`media type: ${Xe.mediaType}`})}}break;case"tool":for(let ir=0;ir<hr.length;ir++){let Xe,Lt=hr[ir];if(Lt.type==="tool-approval-response")continue;let yt=ir===hr.length-1,oa=(Ze=Se.getCacheControl(Lt.providerOptions,{type:"tool result part",canCache:!0}))!=null?Ze:yt?Se.getCacheControl(Dt.providerOptions,{type:"tool result message",canCache:!0}):void 0,qr=Lt.output;switch(qr.type){case"content":Xe=qr.value.map(zt=>{switch(zt.type){case"text":return{type:"text",text:zt.text};case"image-data":return{type:"image",source:{type:"base64",media_type:zt.mediaType,data:zt.data}};case"image-url":return{type:"image",source:{type:"url",url:zt.url}};case"file-url":return{type:"document",source:{type:"url",url:zt.url}};case"file-data":if(zt.mediaType==="application/pdf")return ke.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:zt.mediaType,data:zt.data}};re.push({type:"other",message:`unsupported tool content part type: ${zt.type} with media type: ${zt.mediaType}`});return;default:return void re.push({type:"other",message:`unsupported tool content part type: ${zt.type}`})}}).filter(g.isNonNullable);break;case"text":case"error-text":Xe=qr.value;break;case"execution-denied":Xe=(me=qr.reason)!=null?me:"Tool execution denied.";break;default:Xe=JSON.stringify(qr.value)}Et.push({type:"tool_result",tool_use_id:Lt.toolCallId,content:Xe,is_error:qr.type==="error-text"||qr.type==="error-json"||void 0,cache_control:oa})}break;default:throw Error(`Unsupported role: ${Ur}`)}}Sr.push({role:"user",content:Et});break}case"assistant":{let Et=[],Dt=new Set;for(let Ur=0;Ur<Ae.messages.length;Ur++){let hr=Ae.messages[Ur],ir=Ur===Ae.messages.length-1,{content:Xe}=hr;for(let Lt=0;Lt<Xe.length;Lt++){let yt=Xe[Lt],oa=Lt===Xe.length-1,qr=(tt=Se.getCacheControl(yt.providerOptions,{type:"assistant message part",canCache:!0}))!=null?tt:oa?Se.getCacheControl(hr.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(yt.type){case"text":Et.push({type:"text",text:Zt&&ir&&oa?yt.text.trim():yt.text,cache_control:qr});break;case"reasoning":if(F){let zt=await(0,g.parseProviderOptions)({provider:"anthropic",providerOptions:yt.providerOptions,schema:Cn});zt!=null?zt.signature!=null?(Se.getCacheControl(yt.providerOptions,{type:"thinking block",canCache:!1}),Et.push({type:"thinking",thinking:yt.text,signature:zt.signature})):zt.redactedData!=null?(Se.getCacheControl(yt.providerOptions,{type:"redacted thinking block",canCache:!1}),Et.push({type:"redacted_thinking",data:zt.redactedData})):re.push({type:"other",message:"unsupported reasoning metadata"}):re.push({type:"other",message:"unsupported reasoning metadata"})}else re.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":{if(yt.providerExecuted){let rr=Ie.toProviderToolName(yt.toolName);if(((pt=(He=yt.providerOptions)==null?void 0:He.anthropic)==null?void 0:pt.type)==="mcp-tool-use"){Dt.add(yt.toolCallId);let Kt=(jt=(Je=yt.providerOptions)==null?void 0:Je.anthropic)==null?void 0:jt.serverName;if(Kt==null||typeof Kt!="string"){re.push({type:"other",message:"mcp tool use server name is required and must be a string"});break}Et.push({type:"mcp_tool_use",id:yt.toolCallId,name:yt.toolName,input:yt.input,server_name:Kt,cache_control:qr})}else if(rr==="code_execution"&&yt.input!=null&&typeof yt.input=="object"&&"type"in yt.input&&typeof yt.input.type=="string"&&(yt.input.type==="bash_code_execution"||yt.input.type==="text_editor_code_execution"))Et.push({type:"server_tool_use",id:yt.toolCallId,name:yt.input.type,input:yt.input,cache_control:qr});else if(rr==="code_execution"&&yt.input!=null&&typeof yt.input=="object"&&"type"in yt.input&&yt.input.type==="programmatic-tool-call"){let{type:Kt,...sn}=yt.input;Et.push({type:"server_tool_use",id:yt.toolCallId,name:"code_execution",input:sn,cache_control:qr})}else rr==="code_execution"||rr==="web_fetch"||rr==="web_search"||rr==="tool_search_tool_regex"||rr==="tool_search_tool_bm25"?Et.push({type:"server_tool_use",id:yt.toolCallId,name:rr,input:yt.input,cache_control:qr}):re.push({type:"other",message:`provider executed tool call for tool ${yt.toolName} is not supported`});break}let zt=(wt=yt.providerOptions)==null?void 0:wt.anthropic,Ne=zt?.caller?zt.caller.type==="code_execution_20250825"&&zt.caller.toolId?{type:"code_execution_20250825",tool_id:zt.caller.toolId}:zt.caller.type==="direct"?{type:"direct"}:void 0:void 0;Et.push({type:"tool_use",id:yt.toolCallId,name:yt.toolName,input:yt.input,...Ne&&{caller:Ne},cache_control:qr});break}case"tool-result":{let zt=Ie.toProviderToolName(yt.toolName);if(Dt.has(yt.toolCallId)){let Ne=yt.output;if(Ne.type!=="json"&&Ne.type!=="error-json"){re.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}Et.push({type:"mcp_tool_result",tool_use_id:yt.toolCallId,is_error:Ne.type==="error-json",content:Ne.value,cache_control:qr})}else if(zt==="code_execution"){let Ne=yt.output;if(Ne.type==="error-text"||Ne.type==="error-json"){let rr={};try{typeof Ne.value=="string"?rr=JSON.parse(Ne.value):typeof Ne.value=="object"&&Ne.value!==null&&(rr=Ne.value)}catch{}rr.type==="code_execution_tool_result_error"?Et.push({type:"code_execution_tool_result",tool_use_id:yt.toolCallId,content:{type:"code_execution_tool_result_error",error_code:(Qe=rr.errorCode)!=null?Qe:"unknown"},cache_control:qr}):Et.push({type:"bash_code_execution_tool_result",tool_use_id:yt.toolCallId,cache_control:qr,content:{type:"bash_code_execution_tool_result_error",error_code:(It=rr.errorCode)!=null?It:"unknown"}});break}if(Ne.type!=="json"){re.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}if(Ne.value==null||typeof Ne.value!="object"||!("type"in Ne.value)||typeof Ne.value.type!="string"){re.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${yt.toolName}`});break}if(Ne.value.type==="code_execution_result"){let rr=await(0,g.validateTypes)({value:Ne.value,schema:tr});Et.push({type:"code_execution_tool_result",tool_use_id:yt.toolCallId,content:{type:rr.type,stdout:rr.stdout,stderr:rr.stderr,return_code:rr.return_code,content:(nt=rr.content)!=null?nt:[]},cache_control:qr})}else{let rr=await(0,g.validateTypes)({value:Ne.value,schema:eo});rr.type==="code_execution_result"?Et.push({type:"code_execution_tool_result",tool_use_id:yt.toolCallId,content:{type:rr.type,stdout:rr.stdout,stderr:rr.stderr,return_code:rr.return_code,content:(qt=rr.content)!=null?qt:[]},cache_control:qr}):rr.type==="bash_code_execution_result"||rr.type==="bash_code_execution_tool_result_error"?Et.push({type:"bash_code_execution_tool_result",tool_use_id:yt.toolCallId,cache_control:qr,content:rr}):Et.push({type:"text_editor_code_execution_tool_result",tool_use_id:yt.toolCallId,cache_control:qr,content:rr})}break}if(zt==="web_fetch"){let Ne=yt.output;if(Ne.type==="error-json"){let Kt=JSON.parse(Ne.value);Et.push({type:"web_fetch_tool_result",tool_use_id:yt.toolCallId,content:{type:"web_fetch_tool_result_error",error_code:Kt.errorCode},cache_control:qr});break}if(Ne.type!=="json"){re.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}let rr=await(0,g.validateTypes)({value:Ne.value,schema:ns});Et.push({type:"web_fetch_tool_result",tool_use_id:yt.toolCallId,content:{type:"web_fetch_result",url:rr.url,retrieved_at:rr.retrievedAt,content:{type:"document",title:rr.content.title,citations:rr.content.citations,source:{type:rr.content.source.type,media_type:rr.content.source.mediaType,data:rr.content.source.data}}},cache_control:qr});break}if(zt==="web_search"){let Ne=yt.output;if(Ne.type!=="json"){re.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}let rr=await(0,g.validateTypes)({value:Ne.value,schema:Ri});Et.push({type:"web_search_tool_result",tool_use_id:yt.toolCallId,content:rr.map(Kt=>({url:Kt.url,title:Kt.title,page_age:Kt.pageAge,encrypted_content:Kt.encryptedContent,type:Kt.type})),cache_control:qr});break}if(zt==="tool_search_tool_regex"||zt==="tool_search_tool_bm25"){let Ne=yt.output;if(Ne.type!=="json"){re.push({type:"other",message:`provider executed tool result output type ${Ne.type} for tool ${yt.toolName} is not supported`});break}let rr=(await(0,g.validateTypes)({value:Ne.value,schema:As})).map(Kt=>({type:"tool_reference",tool_name:Kt.toolName}));Et.push({type:"tool_search_tool_result",tool_use_id:yt.toolCallId,content:{type:"tool_search_tool_search_result",tool_references:rr},cache_control:qr});break}re.push({type:"other",message:`provider executed tool result for tool ${yt.toolName} is not supported`})}}}}Sr.push({role:"assistant",content:Et});break}default:throw Error(`content type: ${Jt}`)}}return{prompt:{system:cr,messages:Sr},betas:ke}}function fs({finishReason:x,isJsonResponseFromTool:F}){switch(x){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return F?"stop":"tool-calls";case"max_tokens":case"model_context_window_exceeded":return"length";default:return"other"}}function Rs(x,F,re){var he;if(x.type!=="page_location"&&x.type!=="char_location")return;let Ie=F[x.document_index];if(Ie)return{type:"source",sourceType:"document",id:re(),mediaType:Ie.mediaType,title:(he=x.document_title)!=null?he:Ie.title,filename:Ie.filename,providerMetadata:{anthropic:x.type==="page_location"?{citedText:x.cited_text,startPageNumber:x.start_page_number,endPageNumber:x.end_page_number}:{citedText:x.cited_text,startCharIndex:x.start_char_index,endCharIndex:x.end_char_index}}}}var fo=class{constructor(x,F){var re;this.specificationVersion="v3",this.modelId=x,this.config=F,this.generateId=(re=F.generateId)!=null?re:g.generateId}supportsUrl(x){return x.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var x,F,re;return(re=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?re:{}}async getArgs({userSuppliedBetas:x,prompt:F,maxOutputTokens:re,temperature:he,topP:Ie,topK:$e,frequencyPenalty:ae,presencePenalty:fe,stopSequences:Ze,responseFormat:me,seed:tt,tools:He,toolChoice:pt,providerOptions:Je,stream:jt}){var wt,Qe,It,nt,qt,cr;let ke=[];ae!=null&&ke.push({type:"unsupported",feature:"frequencyPenalty"}),fe!=null&&ke.push({type:"unsupported",feature:"presencePenalty"}),tt!=null&&ke.push({type:"unsupported",feature:"seed"}),he!=null&&he>1?(ke.push({type:"unsupported",feature:"temperature",details:`${he} exceeds anthropic maximum of 1.0. clamped to 1.0`}),he=1):he!=null&&he<0&&(ke.push({type:"unsupported",feature:"temperature",details:`${he} is below anthropic minimum of 0. clamped to 0`}),he=0),me?.type==="json"&&me.schema==null&&ke.push({type:"unsupported",feature:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."});let de=await(0,g.parseProviderOptions)({provider:"anthropic",providerOptions:Je,schema:wi}),{maxOutputTokens:Se,supportsStructuredOutput:Sr,isKnownModel:At}=function(Kt){return Kt.includes("claude-sonnet-4-5")||Kt.includes("claude-opus-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0}:Kt.includes("claude-opus-4-1")?{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0}:Kt.includes("claude-sonnet-4-")||Kt.includes("claude-3-7-sonnet")||Kt.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0}:Kt.includes("claude-opus-4-")?{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0}:Kt.includes("claude-3-5-haiku")?{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0}:Kt.includes("claude-3-haiku")?{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0}:{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}(this.modelId),St=((wt=this.config.supportsNativeStructuredOutput)==null||wt)&&Sr,dt=(Qe=de?.structuredOutputMode)!=null?Qe:"auto",Ae=dt==="outputFormat"||dt==="auto"&&St,Zt=me?.type!=="json"||me.schema==null||Ae?void 0:{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:me.schema},Jt=de?.contextManagement,Et=new aa,Dt=(0,g.createToolNameMapping)({tools:He,providerToolNames:{"anthropic.code_execution_20250522":"code_execution","anthropic.code_execution_20250825":"code_execution","anthropic.computer_20241022":"computer","anthropic.computer_20250124":"computer","anthropic.text_editor_20241022":"str_replace_editor","anthropic.text_editor_20250124":"str_replace_editor","anthropic.text_editor_20250429":"str_replace_based_edit_tool","anthropic.text_editor_20250728":"str_replace_based_edit_tool","anthropic.bash_20241022":"bash","anthropic.bash_20250124":"bash","anthropic.memory_20250818":"memory","anthropic.web_search_20250305":"web_search","anthropic.web_fetch_20250910":"web_fetch","anthropic.tool_search_regex_20251119":"tool_search_tool_regex","anthropic.tool_search_bm25_20251119":"tool_search_tool_bm25"}}),{prompt:Ur,betas:hr}=await Ko({prompt:F,sendReasoning:(It=de?.sendReasoning)==null||It,warnings:ke,cacheControlValidator:Et,toolNameMapping:Dt}),ir=((nt=de?.thinking)==null?void 0:nt.type)==="enabled",Xe=(qt=de?.thinking)==null?void 0:qt.budgetTokens,Lt=re??Se,yt={model:this.modelId,max_tokens:Lt,temperature:he,top_k:$e,top_p:Ie,stop_sequences:Ze,...ir&&{thinking:{type:"enabled",budget_tokens:Xe}},...de?.effort&&{output_config:{effort:de.effort}},...Ae&&me?.type==="json"&&me.schema!=null&&{output_format:{type:"json_schema",schema:me.schema}},...de?.mcpServers&&de.mcpServers.length>0&&{mcp_servers:de.mcpServers.map(Kt=>({type:Kt.type,name:Kt.name,url:Kt.url,authorization_token:Kt.authorizationToken,tool_configuration:Kt.toolConfiguration?{allowed_tools:Kt.toolConfiguration.allowedTools,enabled:Kt.toolConfiguration.enabled}:void 0}))},...de?.container&&{container:de.container.skills&&de.container.skills.length>0?{id:de.container.id,skills:de.container.skills.map(Kt=>({type:Kt.type,skill_id:Kt.skillId,version:Kt.version}))}:de.container.id},system:Ur.system,messages:Ur.messages,...Jt&&{context_management:{edits:Jt.edits.map(Kt=>{let sn=Kt.type;switch(sn){case"clear_tool_uses_20250919":return{type:Kt.type,...Kt.trigger!==void 0&&{trigger:Kt.trigger},...Kt.keep!==void 0&&{keep:Kt.keep},...Kt.clearAtLeast!==void 0&&{clear_at_least:Kt.clearAtLeast},...Kt.clearToolInputs!==void 0&&{clear_tool_inputs:Kt.clearToolInputs},...Kt.excludeTools!==void 0&&{exclude_tools:Kt.excludeTools}};case"clear_thinking_20251015":return{type:Kt.type,...Kt.keep!==void 0&&{keep:Kt.keep}};default:ke.push({type:"other",message:`Unknown context management strategy: ${sn}`});return}}).filter(Kt=>Kt!==void 0)}}};ir&&(Xe==null&&(ke.push({type:"compatibility",feature:"extended thinking",details:"thinking budget is required when thinking is enabled. using default budget of 1024 tokens."}),yt.thinking={type:"enabled",budget_tokens:1024},Xe=1024),yt.temperature!=null&&(yt.temperature=void 0,ke.push({type:"unsupported",feature:"temperature",details:"temperature is not supported when thinking is enabled"})),$e!=null&&(yt.top_k=void 0,ke.push({type:"unsupported",feature:"topK",details:"topK is not supported when thinking is enabled"})),Ie!=null&&(yt.top_p=void 0,ke.push({type:"unsupported",feature:"topP",details:"topP is not supported when thinking is enabled"})),yt.max_tokens=Lt+(Xe??0)),At&&yt.max_tokens>Se&&(re!=null&&ke.push({type:"unsupported",feature:"maxOutputTokens",details:`${yt.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${Se} max output tokens. The max output tokens have been limited to ${Se}.`}),yt.max_tokens=Se),de?.mcpServers&&de.mcpServers.length>0&&hr.add("mcp-client-2025-04-04"),Jt&&hr.add("context-management-2025-06-27"),de?.container&&de.container.skills&&de.container.skills.length>0&&(hr.add("code-execution-2025-08-25"),hr.add("skills-2025-10-02"),hr.add("files-api-2025-04-14"),He?.some(Kt=>Kt.type==="provider"&&Kt.id==="anthropic.code_execution_20250825")||ke.push({type:"other",message:"code execution tool is required when using skills"})),de?.effort&&hr.add("effort-2025-11-24"),jt&&((cr=de?.toolStreaming)==null||cr)&&hr.add("fine-grained-tool-streaming-2025-05-14"),Ae&&me?.type==="json"&&me.schema!=null&&hr.add("structured-outputs-2025-11-13");let{tools:oa,toolChoice:qr,toolWarnings:zt,betas:Ne}=await Bi(Zt!=null?{tools:[...He??[],Zt],toolChoice:{type:"required"},disableParallelToolUse:!0,cacheControlValidator:Et,supportsStructuredOutput:St}:{tools:He??[],toolChoice:pt,disableParallelToolUse:de?.disableParallelToolUse,cacheControlValidator:Et,supportsStructuredOutput:St}),rr=Et.getWarnings();return{args:{...yt,tools:oa,tool_choice:qr,stream:jt===!0||void 0},warnings:[...ke,...zt,...rr],betas:new Set([...hr,...Ne,...x]),usesJsonResponseTool:Zt!=null,toolNameMapping:Dt}}async getHeaders({betas:x,headers:F}){return(0,g.combineHeaders)(await(0,g.resolve)(this.config.headers),F,x.size>0?{"anthropic-beta":Array.from(x).join(",")}:{})}async getBetasFromHeaders(x){var F,re;let he=(F=(await(0,g.resolve)(this.config.headers))["anthropic-beta"])!=null?F:"",Ie=(re=x?.["anthropic-beta"])!=null?re:"";return new Set([...he.toLowerCase().split(","),...Ie.toLowerCase().split(",")].map($e=>$e.trim()).filter($e=>$e!==""))}buildRequestUrl(x){var F,re,he;return(he=(re=(F=this.config).buildRequestUrl)==null?void 0:re.call(F,this.config.baseURL,x))!=null?he:`${this.config.baseURL}/messages`}transformRequestBody(x){var F,re,he;return(he=(re=(F=this.config).transformRequestBody)==null?void 0:re.call(F,x))!=null?he:x}extractCitationDocuments(x){return x.filter(F=>F.role==="user").flatMap(F=>F.content).filter(F=>{var re,he;if(F.type!=="file"||F.mediaType!=="application/pdf"&&F.mediaType!=="text/plain")return!1;let Ie=(re=F.providerOptions)==null?void 0:re.anthropic,$e=Ie?.citations;return(he=$e?.enabled)!=null&&he}).map(F=>{var re;return{title:(re=F.filename)!=null?re:"Untitled Document",filename:F.filename,mediaType:F.mediaType}})}async doGenerate(x){var F,re,he,Ie,$e,ae,fe,Ze,me,tt;let{args:He,warnings:pt,betas:Je,usesJsonResponseTool:jt,toolNameMapping:wt}=await this.getArgs({...x,stream:!1,userSuppliedBetas:await this.getBetasFromHeaders(x.headers)}),Qe=this.extractCitationDocuments(x.prompt),{responseHeaders:It,value:nt,rawValue:qt}=await(0,g.postJsonToApi)({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:Je,headers:x.headers}),body:this.transformRequestBody(He),failedResponseHandler:xr,successfulResponseHandler:(0,g.createJsonResponseHandler)(Ti),abortSignal:x.abortSignal,fetch:this.config.fetch}),cr=[],ke={},de=!1;for(let Se of nt.content)switch(Se.type){case"text":if(!jt&&(cr.push({type:"text",text:Se.text}),Se.citations))for(let Sr of Se.citations){let At=Rs(Sr,Qe,this.generateId);At&&cr.push(At)}break;case"thinking":cr.push({type:"reasoning",text:Se.thinking,providerMetadata:{anthropic:{signature:Se.signature}}});break;case"redacted_thinking":cr.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:Se.data}}});break;case"tool_use":if(jt&&Se.name==="json")de=!0,cr.push({type:"text",text:JSON.stringify(Se.input)});else{let Sr=Se.caller,At=Sr?{type:Sr.type,toolId:"tool_id"in Sr?Sr.tool_id:void 0}:void 0;cr.push({type:"tool-call",toolCallId:Se.id,toolName:Se.name,input:JSON.stringify(Se.input),...At&&{providerMetadata:{anthropic:{caller:At}}}})}break;case"server_tool_use":if(Se.name==="text_editor_code_execution"||Se.name==="bash_code_execution")cr.push({type:"tool-call",toolCallId:Se.id,toolName:wt.toCustomToolName("code_execution"),input:JSON.stringify({type:Se.name,...Se.input}),providerExecuted:!0});else if(Se.name==="web_search"||Se.name==="code_execution"||Se.name==="web_fetch"){let Sr=Se.name==="code_execution"&&Se.input!=null&&typeof Se.input=="object"&&"code"in Se.input&&!("type"in Se.input)?{type:"programmatic-tool-call",...Se.input}:Se.input;cr.push({type:"tool-call",toolCallId:Se.id,toolName:wt.toCustomToolName(Se.name),input:JSON.stringify(Sr),providerExecuted:!0})}else(Se.name==="tool_search_tool_regex"||Se.name==="tool_search_tool_bm25")&&cr.push({type:"tool-call",toolCallId:Se.id,toolName:wt.toCustomToolName(Se.name),input:JSON.stringify(Se.input),providerExecuted:!0});break;case"mcp_tool_use":ke[Se.id]={type:"tool-call",toolCallId:Se.id,toolName:Se.name,input:JSON.stringify(Se.input),providerExecuted:!0,dynamic:!0,providerMetadata:{anthropic:{type:"mcp-tool-use",serverName:Se.server_name}}},cr.push(ke[Se.id]);break;case"mcp_tool_result":cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:ke[Se.tool_use_id].toolName,isError:Se.is_error,result:Se.content,dynamic:!0,providerMetadata:ke[Se.tool_use_id].providerMetadata});break;case"web_fetch_tool_result":Se.content.type==="web_fetch_result"?cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("web_fetch"),result:{type:"web_fetch_result",url:Se.content.url,retrievedAt:Se.content.retrieved_at,content:{type:Se.content.content.type,title:Se.content.content.title,citations:Se.content.content.citations,source:{type:Se.content.content.source.type,mediaType:Se.content.content.source.media_type,data:Se.content.content.source.data}}}}):Se.content.type==="web_fetch_tool_result_error"&&cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("web_fetch"),isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:Se.content.error_code}});break;case"web_search_tool_result":if(Array.isArray(Se.content))for(let Sr of(cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("web_search"),result:Se.content.map(At=>{var St;return{url:At.url,title:At.title,pageAge:(St=At.page_age)!=null?St:null,encryptedContent:At.encrypted_content,type:At.type}})}),Se.content))cr.push({type:"source",sourceType:"url",id:this.generateId(),url:Sr.url,title:Sr.title,providerMetadata:{anthropic:{pageAge:(F=Sr.page_age)!=null?F:null}}});else cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("web_search"),isError:!0,result:{type:"web_search_tool_result_error",errorCode:Se.content.error_code}});break;case"code_execution_tool_result":Se.content.type==="code_execution_result"?cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("code_execution"),result:{type:Se.content.type,stdout:Se.content.stdout,stderr:Se.content.stderr,return_code:Se.content.return_code,content:(re=Se.content.content)!=null?re:[]}}):Se.content.type==="code_execution_tool_result_error"&&cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("code_execution"),isError:!0,result:{type:"code_execution_tool_result_error",errorCode:Se.content.error_code}});break;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("code_execution"),result:Se.content});break;case"tool_search_tool_result":Se.content.type==="tool_search_tool_search_result"?cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("tool_search"),result:Se.content.tool_references.map(Sr=>({type:Sr.type,toolName:Sr.tool_name}))}):cr.push({type:"tool-result",toolCallId:Se.tool_use_id,toolName:wt.toCustomToolName("tool_search"),isError:!0,result:{type:"tool_search_tool_result_error",errorCode:Se.content.error_code}})}return{content:cr,finishReason:{unified:fs({finishReason:nt.stop_reason,isJsonResponseFromTool:de}),raw:(he=nt.stop_reason)!=null?he:void 0},usage:Wn(nt.usage),request:{body:He},response:{id:(Ie=nt.id)!=null?Ie:void 0,modelId:($e=nt.model)!=null?$e:void 0,headers:It,body:qt},warnings:pt,providerMetadata:{anthropic:{usage:nt.usage,cacheCreationInputTokens:(ae=nt.usage.cache_creation_input_tokens)!=null?ae:null,stopSequence:(fe=nt.stop_sequence)!=null?fe:null,container:nt.container?{expiresAt:nt.container.expires_at,id:nt.container.id,skills:(me=(Ze=nt.container.skills)==null?void 0:Ze.map(Se=>({type:Se.type,skillId:Se.skill_id,version:Se.version})))!=null?me:null}:null,contextManagement:(tt=ta(nt.context_management))!=null?tt:null}}}}async doStream(x){var F,re;let he,Ie,{args:$e,warnings:ae,betas:fe,usesJsonResponseTool:Ze,toolNameMapping:me}=await this.getArgs({...x,stream:!0,userSuppliedBetas:await this.getBetasFromHeaders(x.headers)}),tt=this.extractCitationDocuments(x.prompt),He=this.buildRequestUrl(!0),{responseHeaders:pt,value:Je}=await(0,g.postJsonToApi)({url:He,headers:await this.getHeaders({betas:fe,headers:x.headers}),body:this.transformRequestBody($e),failedResponseHandler:xr,successfulResponseHandler:(0,g.createEventSourceResponseHandler)(Zi),abortSignal:x.abortSignal,fetch:this.config.fetch}),jt={unified:"other",raw:void 0},wt={input_tokens:0,output_tokens:0,cache_creation_input_tokens:0,cache_read_input_tokens:0},Qe={},It={},nt=null,qt=null,cr=null,ke=null,de=!1,Se=this.generateId,[Sr,At]=Je.pipeThrough(new TransformStream({start(dt){dt.enqueue({type:"stream-start",warnings:ae})},transform(dt,Ae){var Zt,Jt,Et,Dt,Ur,hr,ir,Xe,Lt,yt,oa,qr;if(x.includeRawChunks&&Ae.enqueue({type:"raw",rawValue:dt.rawValue}),!dt.success)return void Ae.enqueue({type:"error",error:dt.error});let zt=dt.value;switch(zt.type){case"ping":return;case"content_block_start":{let Ne=zt.content_block,rr=Ne.type;switch(Ie=rr,rr){case"text":if(Ze)return;Qe[zt.index]={type:"text"},Ae.enqueue({type:"text-start",id:String(zt.index)});return;case"thinking":Qe[zt.index]={type:"reasoning"},Ae.enqueue({type:"reasoning-start",id:String(zt.index)});return;case"redacted_thinking":Qe[zt.index]={type:"reasoning"},Ae.enqueue({type:"reasoning-start",id:String(zt.index),providerMetadata:{anthropic:{redactedData:Ne.data}}});return;case"tool_use":if(Ze&&Ne.name==="json")de=!0,Qe[zt.index]={type:"text"},Ae.enqueue({type:"text-start",id:String(zt.index)});else{let Kt=Ne.caller,sn=Kt?{type:Kt.type,toolId:"tool_id"in Kt?Kt.tool_id:void 0}:void 0,Oa=Ne.input&&Object.keys(Ne.input).length>0?JSON.stringify(Ne.input):"";Qe[zt.index]={type:"tool-call",toolCallId:Ne.id,toolName:Ne.name,input:Oa,firstDelta:Oa.length===0,...sn&&{caller:sn}},Ae.enqueue({type:"tool-input-start",id:Ne.id,toolName:Ne.name})}return;case"server_tool_use":if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(Ne.name)){let Kt=Ne.name==="text_editor_code_execution"||Ne.name==="bash_code_execution"?"code_execution":Ne.name,sn=me.toCustomToolName(Kt);Qe[zt.index]={type:"tool-call",toolCallId:Ne.id,toolName:sn,input:"",providerExecuted:!0,firstDelta:!0,providerToolName:Ne.name},Ae.enqueue({type:"tool-input-start",id:Ne.id,toolName:sn,providerExecuted:!0})}else if(Ne.name==="tool_search_tool_regex"||Ne.name==="tool_search_tool_bm25"){let Kt=me.toCustomToolName(Ne.name);Qe[zt.index]={type:"tool-call",toolCallId:Ne.id,toolName:Kt,input:"",providerExecuted:!0,firstDelta:!0,providerToolName:Ne.name},Ae.enqueue({type:"tool-input-start",id:Ne.id,toolName:Kt,providerExecuted:!0})}return;case"web_fetch_tool_result":Ne.content.type==="web_fetch_result"?Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("web_fetch"),result:{type:"web_fetch_result",url:Ne.content.url,retrievedAt:Ne.content.retrieved_at,content:{type:Ne.content.content.type,title:Ne.content.content.title,citations:Ne.content.content.citations,source:{type:Ne.content.content.source.type,mediaType:Ne.content.content.source.media_type,data:Ne.content.content.source.data}}}}):Ne.content.type==="web_fetch_tool_result_error"&&Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("web_fetch"),isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:Ne.content.error_code}});return;case"web_search_tool_result":if(Array.isArray(Ne.content))for(let Kt of(Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("web_search"),result:Ne.content.map(sn=>{var Oa;return{url:sn.url,title:sn.title,pageAge:(Oa=sn.page_age)!=null?Oa:null,encryptedContent:sn.encrypted_content,type:sn.type}})}),Ne.content))Ae.enqueue({type:"source",sourceType:"url",id:Se(),url:Kt.url,title:Kt.title,providerMetadata:{anthropic:{pageAge:(Zt=Kt.page_age)!=null?Zt:null}}});else Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("web_search"),isError:!0,result:{type:"web_search_tool_result_error",errorCode:Ne.content.error_code}});return;case"code_execution_tool_result":Ne.content.type==="code_execution_result"?Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("code_execution"),result:{type:Ne.content.type,stdout:Ne.content.stdout,stderr:Ne.content.stderr,return_code:Ne.content.return_code,content:(Jt=Ne.content.content)!=null?Jt:[]}}):Ne.content.type==="code_execution_tool_result_error"&&Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("code_execution"),isError:!0,result:{type:"code_execution_tool_result_error",errorCode:Ne.content.error_code}});return;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":return void Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("code_execution"),result:Ne.content});case"tool_search_tool_result":Ne.content.type==="tool_search_tool_search_result"?Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("tool_search"),result:Ne.content.tool_references.map(Kt=>({type:Kt.type,toolName:Kt.tool_name}))}):Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:me.toCustomToolName("tool_search"),isError:!0,result:{type:"tool_search_tool_result_error",errorCode:Ne.content.error_code}});return;case"mcp_tool_use":It[Ne.id]={type:"tool-call",toolCallId:Ne.id,toolName:Ne.name,input:JSON.stringify(Ne.input),providerExecuted:!0,dynamic:!0,providerMetadata:{anthropic:{type:"mcp-tool-use",serverName:Ne.server_name}}},Ae.enqueue(It[Ne.id]);return;case"mcp_tool_result":return void Ae.enqueue({type:"tool-result",toolCallId:Ne.tool_use_id,toolName:It[Ne.tool_use_id].toolName,isError:Ne.is_error,result:Ne.content,dynamic:!0,providerMetadata:It[Ne.tool_use_id].providerMetadata});default:throw Error(`Unsupported content block type: ${rr}`)}}case"content_block_stop":if(Qe[zt.index]!=null){let Ne=Qe[zt.index];switch(Ne.type){case"text":Ae.enqueue({type:"text-end",id:String(zt.index)});break;case"reasoning":Ae.enqueue({type:"reasoning-end",id:String(zt.index)});break;case"tool-call":if(!(Ze&&Ne.toolName==="json")){Ae.enqueue({type:"tool-input-end",id:Ne.toolCallId});let rr=Ne.input===""?"{}":Ne.input;if(Ne.providerToolName==="code_execution")try{let Kt=JSON.parse(rr);Kt!=null&&typeof Kt=="object"&&"code"in Kt&&!("type"in Kt)&&(rr=JSON.stringify({type:"programmatic-tool-call",...Kt}))}catch{}Ae.enqueue({type:"tool-call",toolCallId:Ne.toolCallId,toolName:Ne.toolName,input:rr,providerExecuted:Ne.providerExecuted,...Ne.caller&&{providerMetadata:{anthropic:{caller:Ne.caller}}}})}}delete Qe[zt.index]}Ie=void 0;return;case"content_block_delta":{let Ne=zt.delta.type;switch(Ne){case"text_delta":if(Ze)return;Ae.enqueue({type:"text-delta",id:String(zt.index),delta:zt.delta.text});return;case"thinking_delta":return void Ae.enqueue({type:"reasoning-delta",id:String(zt.index),delta:zt.delta.thinking});case"signature_delta":Ie==="thinking"&&Ae.enqueue({type:"reasoning-delta",id:String(zt.index),delta:"",providerMetadata:{anthropic:{signature:zt.delta.signature}}});return;case"input_json_delta":{let rr=Qe[zt.index],Kt=zt.delta.partial_json;if(Kt.length===0)return;if(de){if(rr?.type!=="text")return;Ae.enqueue({type:"text-delta",id:String(zt.index),delta:Kt})}else{if(rr?.type!=="tool-call")return;rr.firstDelta&&(rr.providerToolName==="bash_code_execution"||rr.providerToolName==="text_editor_code_execution")&&(Kt=`{"type": "${rr.providerToolName}",${Kt.substring(1)}`),Ae.enqueue({type:"tool-input-delta",id:rr.toolCallId,delta:Kt}),rr.input+=Kt,rr.firstDelta=!1}return}case"citations_delta":{let rr=Rs(zt.delta.citation,tt,Se);rr&&Ae.enqueue(rr);return}default:throw Error(`Unsupported delta type: ${Ne}`)}}case"message_start":if(wt.input_tokens=zt.message.usage.input_tokens,wt.cache_read_input_tokens=(Et=zt.message.usage.cache_read_input_tokens)!=null?Et:0,wt.cache_creation_input_tokens=(Dt=zt.message.usage.cache_creation_input_tokens)!=null?Dt:0,he={...zt.message.usage},qt=(Ur=zt.message.usage.cache_creation_input_tokens)!=null?Ur:null,zt.message.container!=null&&(ke={expiresAt:zt.message.container.expires_at,id:zt.message.container.id,skills:null}),zt.message.stop_reason!=null&&(jt={unified:fs({finishReason:zt.message.stop_reason,isJsonResponseFromTool:de}),raw:zt.message.stop_reason}),Ae.enqueue({type:"response-metadata",id:(hr=zt.message.id)!=null?hr:void 0,modelId:(ir=zt.message.model)!=null?ir:void 0}),zt.message.content!=null)for(let Ne=0;Ne<zt.message.content.length;Ne++){let rr=zt.message.content[Ne];if(rr.type==="tool_use"){let Kt=rr.caller,sn=Kt?{type:Kt.type,toolId:"tool_id"in Kt?Kt.tool_id:void 0}:void 0;Ae.enqueue({type:"tool-input-start",id:rr.id,toolName:rr.name});let Oa=JSON.stringify((Xe=rr.input)!=null?Xe:{});Ae.enqueue({type:"tool-input-delta",id:rr.id,delta:Oa}),Ae.enqueue({type:"tool-input-end",id:rr.id}),Ae.enqueue({type:"tool-call",toolCallId:rr.id,toolName:rr.name,input:Oa,...sn&&{providerMetadata:{anthropic:{caller:sn}}}})}}return;case"message_delta":wt.output_tokens=zt.usage.output_tokens,jt={unified:fs({finishReason:zt.delta.stop_reason,isJsonResponseFromTool:de}),raw:(Lt=zt.delta.stop_reason)!=null?Lt:void 0},cr=(yt=zt.delta.stop_sequence)!=null?yt:null,ke=zt.delta.container!=null?{expiresAt:zt.delta.container.expires_at,id:zt.delta.container.id,skills:(qr=(oa=zt.delta.container.skills)==null?void 0:oa.map(Ne=>({type:Ne.type,skillId:Ne.skill_id,version:Ne.version})))!=null?qr:null}:null,zt.delta.context_management&&(nt=ta(zt.delta.context_management)),he={...he,...zt.usage};return;case"message_stop":return void Ae.enqueue({type:"finish",finishReason:jt,usage:Wn(wt),providerMetadata:{anthropic:{usage:he??null,cacheCreationInputTokens:qt,stopSequence:cr,container:ke,contextManagement:nt}}});case"error":return void Ae.enqueue({type:"error",error:zt.error});default:throw Error(`Unsupported chunk type: ${zt}`)}}})).tee(),St=Sr.getReader();try{await St.read();let dt=await St.read();if(((F=dt.value)==null?void 0:F.type)==="raw"&&(dt=await St.read()),((re=dt.value)==null?void 0:re.type)==="error"){let Ae=dt.value.error;throw new xe.APICallError({message:Ae.message,url:He,requestBodyValues:$e,statusCode:Ae.type==="overloaded_error"?529:500,responseHeaders:pt,responseBody:JSON.stringify(Ae),isRetryable:Ae.type==="overloaded_error"})}}finally{St.cancel().catch(()=>{}),St.releaseLock()}return{stream:At,request:{body:$e},response:{headers:pt}}}};function ta(x){return x?{appliedEdits:x.applied_edits.map(F=>{switch(F.type){case"clear_tool_uses_20250919":return{type:F.type,clearedToolUses:F.cleared_tool_uses,clearedInputTokens:F.cleared_input_tokens};case"clear_thinking_20251015":return{type:F.type,clearedThinkingTurns:F.cleared_thinking_turns,clearedInputTokens:F.cleared_input_tokens}}}).filter(F=>F!==void 0)}:null}var Fa=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({command:n.z.string(),restart:n.z.boolean().optional()}))),Pn=(0,g.createProviderToolFactory)({id:"anthropic.bash_20241022",inputSchema:Fa}),u=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({command:n.z.string(),restart:n.z.boolean().optional()}))),w=(0,g.createProviderToolFactory)({id:"anthropic.bash_20250124",inputSchema:u}),R=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({action:n.z.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:n.z.array(n.z.number().int()).optional(),text:n.z.string().optional()}))),P=(0,g.createProviderToolFactory)({id:"anthropic.computer_20241022",inputSchema:R}),A=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({action:n.z.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:n.z.tuple([n.z.number().int(),n.z.number().int()]).optional(),duration:n.z.number().optional(),scroll_amount:n.z.number().optional(),scroll_direction:n.z.enum(["up","down","left","right"]).optional(),start_coordinate:n.z.tuple([n.z.number().int(),n.z.number().int()]).optional(),text:n.z.string().optional()}))),_e=(0,g.createProviderToolFactory)({id:"anthropic.computer_20250124",inputSchema:A}),Ue=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.discriminatedUnion("command",[n.z.object({command:n.z.literal("view"),path:n.z.string(),view_range:n.z.tuple([n.z.number(),n.z.number()]).optional()}),n.z.object({command:n.z.literal("create"),path:n.z.string(),file_text:n.z.string()}),n.z.object({command:n.z.literal("str_replace"),path:n.z.string(),old_str:n.z.string(),new_str:n.z.string()}),n.z.object({command:n.z.literal("insert"),path:n.z.string(),insert_line:n.z.number(),insert_text:n.z.string()}),n.z.object({command:n.z.literal("delete"),path:n.z.string()}),n.z.object({command:n.z.literal("rename"),old_path:n.z.string(),new_path:n.z.string()})]))),gt=(0,g.createProviderToolFactory)({id:"anthropic.memory_20250818",inputSchema:Ue}),Pe=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert","undo_edit"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),bt=(0,g.createProviderToolFactory)({id:"anthropic.text_editor_20241022",inputSchema:Pe}),fr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert","undo_edit"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),$r=(0,g.createProviderToolFactory)({id:"anthropic.text_editor_20250124",inputSchema:fr}),Qt=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({command:n.z.enum(["view","create","str_replace","insert"]),path:n.z.string(),file_text:n.z.string().optional(),insert_line:n.z.number().int().optional(),new_str:n.z.string().optional(),old_str:n.z.string().optional(),view_range:n.z.array(n.z.number().int()).optional()}))),an=(0,g.createProviderToolFactory)({id:"anthropic.text_editor_20250429",inputSchema:Qt}),jr=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.array(n.z.object({type:n.z.literal("tool_reference"),toolName:n.z.string()})))),on=(0,g.lazySchema)(()=>(0,g.zodSchema)(n.z.object({query:n.z.string(),limit:n.z.number().optional()}))),Cr=(0,g.createProviderToolFactoryWithOutputSchema)({id:"anthropic.tool_search_bm25_20251119",inputSchema:on,outputSchema:jr}),Hr={bash_20241022:Pn,bash_20250124:w,codeExecution_20250522:(x={})=>Rr(x),codeExecution_20250825:(x={})=>is(x),computer_20241022:P,computer_20250124:_e,memory_20250818:gt,textEditor_20241022:bt,textEditor_20250124:$r,textEditor_20250429:an,textEditor_20250728:(x={})=>Ca(x),webFetch_20250910:(x={})=>xo(x),webSearch_20250305:(x={})=>va(x),toolSearchRegex_20251119:(x={})=>Ms(x),toolSearchBm25_20251119:(x={})=>Cr(x)};function Mr(x={}){var F,re;let he=(F=(0,g.withoutTrailingSlash)((0,g.loadOptionalSetting)({settingValue:x.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))!=null?F:"https://api.anthropic.com/v1",Ie=(re=x.name)!=null?re:"anthropic.messages",$e=()=>(0,g.withUserAgentSuffix)({"anthropic-version":"2023-06-01","x-api-key":(0,g.loadApiKey)({apiKey:x.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...x.headers},"ai-sdk/anthropic/3.0.1"),ae=Ze=>{var me;return new fo(Ze,{provider:Ie,baseURL:he,headers:$e,fetch:x.fetch,generateId:(me=x.generateId)!=null?me:g.generateId,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/]})})},fe=function(Ze){if(new.target)throw Error("The Anthropic model function cannot be called with the new keyword.");return ae(Ze)};return fe.specificationVersion="v3",fe.languageModel=ae,fe.chat=ae,fe.messages=ae,fe.embeddingModel=Ze=>{throw new xe.NoSuchModelError({modelId:Ze,modelType:"embeddingModel"})},fe.textEmbeddingModel=fe.embeddingModel,fe.imageModel=Ze=>{throw new xe.NoSuchModelError({modelId:Ze,modelType:"imageModel"})},fe.tools=Hr,fe}Mr();var zr={errorSchema:n.z.object({error:n.z.object({message:n.z.string(),type:n.z.string().nullish(),param:n.z.any().nullish(),code:n.z.union([n.z.string(),n.z.number()]).nullish()})}),errorToMessage:x=>x.error.message};function Ka(x){var F,re,he,Ie,$e,ae;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let fe=(F=x.prompt_tokens)!=null?F:0,Ze=(re=x.completion_tokens)!=null?re:0,me=(Ie=(he=x.prompt_tokens_details)==null?void 0:he.cached_tokens)!=null?Ie:0,tt=(ae=($e=x.completion_tokens_details)==null?void 0:$e.reasoning_tokens)!=null?ae:0;return{inputTokens:{total:fe,noCache:fe-me,cacheRead:me,cacheWrite:void 0},outputTokens:{total:Ze,text:Ze-tt,reasoning:tt},raw:x}}function ba(x){var F,re;return(re=(F=x?.providerOptions)==null?void 0:F.openaiCompatible)!=null?re:{}}function go({id:x,model:F,created:re}){return{id:x??void 0,modelId:F??void 0,timestamp:re!=null?new Date(1e3*re):void 0}}function Po(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var wo=n.z.object({user:n.z.string().optional(),reasoningEffort:n.z.string().optional(),textVerbosity:n.z.string().optional()}),Lo=class{constructor(x,F){var re,he;this.specificationVersion="v3",this.modelId=x,this.config=F;let Ie=(re=F.errorStructure)!=null?re:zr;this.chunkSchema=ra(Ie.errorSchema),this.failedResponseHandler=(0,g.createJsonErrorResponseHandler)(Ie),this.supportsStructuredOutputs=(he=F.supportsStructuredOutputs)!=null&&he}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get supportedUrls(){var x,F,re;return(re=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?re:{}}async getArgs({prompt:x,maxOutputTokens:F,temperature:re,topP:he,topK:Ie,frequencyPenalty:$e,presencePenalty:ae,providerOptions:fe,stopSequences:Ze,responseFormat:me,seed:tt,toolChoice:He,tools:pt}){var Je,jt,wt,Qe;let It=[],nt=Object.assign((Je=await(0,g.parseProviderOptions)({provider:"openai-compatible",providerOptions:fe,schema:wo}))!=null?Je:{},(jt=await(0,g.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:fe,schema:wo}))!=null?jt:{});Ie!=null&&It.push({type:"unsupported",feature:"topK"}),me?.type!=="json"||me.schema==null||this.supportsStructuredOutputs||It.push({type:"unsupported",feature:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{tools:qt,toolChoice:cr,toolWarnings:ke}=function({tools:de,toolChoice:Se}){de=de?.length?de:void 0;let Sr=[];if(de==null)return{tools:void 0,toolChoice:void 0,toolWarnings:Sr};let At=[];for(let dt of de)dt.type==="provider"?Sr.push({type:"unsupported",feature:`provider-defined tool ${dt.id}`}):At.push({type:"function",function:{name:dt.name,description:dt.description,parameters:dt.inputSchema,...dt.strict!=null?{strict:dt.strict}:{}}});if(Se==null)return{tools:At,toolChoice:void 0,toolWarnings:Sr};let St=Se.type;switch(St){case"auto":case"none":case"required":return{tools:At,toolChoice:St,toolWarnings:Sr};case"tool":return{tools:At,toolChoice:{type:"function",function:{name:Se.toolName}},toolWarnings:Sr};default:throw new xe.UnsupportedFunctionalityError({functionality:`tool choice type: ${St}`})}}({tools:pt,toolChoice:He});return{args:{model:this.modelId,user:nt.user,max_tokens:F,temperature:re,top_p:he,frequency_penalty:$e,presence_penalty:ae,response_format:me?.type==="json"?this.supportsStructuredOutputs===!0&&me.schema!=null?{type:"json_schema",json_schema:{schema:me.schema,name:(wt=me.name)!=null?wt:"response",description:me.description}}:{type:"json_object"}:void 0,stop:Ze,seed:tt,...Object.fromEntries(Object.entries((Qe=fe?.[this.providerOptionsName])!=null?Qe:{}).filter(([de])=>!Object.keys(wo.shape).includes(de))),reasoning_effort:nt.reasoningEffort,verbosity:nt.textVerbosity,messages:function(de){var Se;let Sr=[];for(let{role:At,content:St,...dt}of de){let Ae=ba({...dt});switch(At){case"system":Sr.push({role:"system",content:St,...Ae});break;case"user":if(St.length===1&&St[0].type==="text"){Sr.push({role:"user",content:St[0].text,...ba(St[0])});break}Sr.push({role:"user",content:St.map(Zt=>{let Jt=ba(Zt);switch(Zt.type){case"text":return{type:"text",text:Zt.text,...Jt};case"file":if(Zt.mediaType.startsWith("image/")){let Et=Zt.mediaType==="image/*"?"image/jpeg":Zt.mediaType;return{type:"image_url",image_url:{url:Zt.data instanceof URL?Zt.data.toString():`data:${Et};base64,${(0,g.convertToBase64)(Zt.data)}`},...Jt}}throw new xe.UnsupportedFunctionalityError({functionality:`file part media type ${Zt.mediaType}`})}}),...Ae});break;case"assistant":{let Zt="",Jt=[];for(let Et of St){let Dt=ba(Et);switch(Et.type){case"text":Zt+=Et.text;break;case"tool-call":Jt.push({id:Et.toolCallId,type:"function",function:{name:Et.toolName,arguments:JSON.stringify(Et.input)},...Dt})}}Sr.push({role:"assistant",content:Zt,tool_calls:Jt.length>0?Jt:void 0,...Ae});break}case"tool":for(let Zt of St){let Jt;if(Zt.type==="tool-approval-response")continue;let Et=Zt.output;switch(Et.type){case"text":case"error-text":Jt=Et.value;break;case"execution-denied":Jt=(Se=Et.reason)!=null?Se:"Tool execution denied.";break;case"content":case"json":case"error-json":Jt=JSON.stringify(Et.value)}let Dt=ba(Zt);Sr.push({role:"tool",tool_call_id:Zt.toolCallId,content:Jt,...Dt})}break;default:throw Error(`Unsupported role: ${At}`)}}return Sr}(x),tools:qt,tool_choice:cr},warnings:[...It,...ke]}}async doGenerate(x){var F,re,he,Ie,$e,ae;let{args:fe,warnings:Ze}=await this.getArgs({...x}),me=JSON.stringify(fe),{responseHeaders:tt,value:He,rawValue:pt}=await(0,g.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:fe,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,g.createJsonResponseHandler)(_a),abortSignal:x.abortSignal,fetch:this.config.fetch}),Je=He.choices[0],jt=[],wt=Je.message.content;wt!=null&&wt.length>0&&jt.push({type:"text",text:wt});let Qe=(F=Je.message.reasoning_content)!=null?F:Je.message.reasoning;if(Qe!=null&&Qe.length>0&&jt.push({type:"reasoning",text:Qe}),Je.message.tool_calls!=null)for(let qt of Je.message.tool_calls)jt.push({type:"tool-call",toolCallId:(re=qt.id)!=null?re:(0,g.generateId)(),toolName:qt.function.name,input:qt.function.arguments});let It={[this.providerOptionsName]:{},...await((Ie=(he=this.config.metadataExtractor)==null?void 0:he.extractMetadata)==null?void 0:Ie.call(he,{parsedBody:pt}))},nt=($e=He.usage)==null?void 0:$e.completion_tokens_details;return nt?.accepted_prediction_tokens!=null&&(It[this.providerOptionsName].acceptedPredictionTokens=nt?.accepted_prediction_tokens),nt?.rejected_prediction_tokens!=null&&(It[this.providerOptionsName].rejectedPredictionTokens=nt?.rejected_prediction_tokens),{content:jt,finishReason:{unified:Po(Je.finish_reason),raw:(ae=Je.finish_reason)!=null?ae:void 0},usage:Ka(He.usage),providerMetadata:It,request:{body:me},response:{...go(He),headers:tt,body:pt},warnings:Ze}}async doStream(x){var F;let re,{args:he,warnings:Ie}=await this.getArgs({...x}),$e={...he,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},ae=(F=this.config.metadataExtractor)==null?void 0:F.createStreamExtractor(),{responseHeaders:fe,value:Ze}=await(0,g.postJsonToApi)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:$e,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,g.createEventSourceResponseHandler)(this.chunkSchema),abortSignal:x.abortSignal,fetch:this.config.fetch}),me=[],tt={unified:"other",raw:void 0},He=!0,pt=this.providerOptionsName,Je=!1,jt=!1;return{stream:Ze.pipeThrough(new TransformStream({start(wt){wt.enqueue({type:"stream-start",warnings:Ie})},transform(wt,Qe){var It,nt,qt,cr,ke,de,Se,Sr,At,St,dt,Ae,Zt,Jt;if(x.includeRawChunks&&Qe.enqueue({type:"raw",rawValue:wt.rawValue}),!wt.success){tt={unified:"error",raw:void 0},Qe.enqueue({type:"error",error:wt.error});return}if(ae?.processChunk(wt.rawValue),"error"in wt.value){tt={unified:"error",raw:void 0},Qe.enqueue({type:"error",error:wt.value.error.message});return}let Et=wt.value;He&&(He=!1,Qe.enqueue({type:"response-metadata",...go(Et)})),Et.usage!=null&&(re=Et.usage);let Dt=Et.choices[0];if(Dt?.finish_reason!=null&&(tt={unified:Po(Dt.finish_reason),raw:(It=Dt.finish_reason)!=null?It:void 0}),Dt?.delta==null)return;let Ur=Dt.delta,hr=(nt=Ur.reasoning_content)!=null?nt:Ur.reasoning;if(hr&&(Je||(Qe.enqueue({type:"reasoning-start",id:"reasoning-0"}),Je=!0),Qe.enqueue({type:"reasoning-delta",id:"reasoning-0",delta:hr})),Ur.content&&(jt||(Qe.enqueue({type:"text-start",id:"txt-0"}),jt=!0),Qe.enqueue({type:"text-delta",id:"txt-0",delta:Ur.content})),Ur.tool_calls!=null)for(let ir of Ur.tool_calls){let Xe=ir.index;if(me[Xe]==null){if(ir.id==null)throw new xe.InvalidResponseDataError({data:ir,message:"Expected 'id' to be a string."});if(((qt=ir.function)==null?void 0:qt.name)==null)throw new xe.InvalidResponseDataError({data:ir,message:"Expected 'function.name' to be a string."});Qe.enqueue({type:"tool-input-start",id:ir.id,toolName:ir.function.name}),me[Xe]={id:ir.id,type:"function",function:{name:ir.function.name,arguments:(cr=ir.function.arguments)!=null?cr:""},hasFinished:!1};let yt=me[Xe];((ke=yt.function)==null?void 0:ke.name)!=null&&((de=yt.function)==null?void 0:de.arguments)!=null&&(yt.function.arguments.length>0&&Qe.enqueue({type:"tool-input-delta",id:yt.id,delta:yt.function.arguments}),(0,g.isParsableJson)(yt.function.arguments)&&(Qe.enqueue({type:"tool-input-end",id:yt.id}),Qe.enqueue({type:"tool-call",toolCallId:(Se=yt.id)!=null?Se:(0,g.generateId)(),toolName:yt.function.name,input:yt.function.arguments}),yt.hasFinished=!0));continue}let Lt=me[Xe];!Lt.hasFinished&&(((Sr=ir.function)==null?void 0:Sr.arguments)!=null&&(Lt.function.arguments+=(St=(At=ir.function)==null?void 0:At.arguments)!=null?St:""),Qe.enqueue({type:"tool-input-delta",id:Lt.id,delta:(dt=ir.function.arguments)!=null?dt:""}),((Ae=Lt.function)==null?void 0:Ae.name)!=null&&((Zt=Lt.function)==null?void 0:Zt.arguments)!=null&&(0,g.isParsableJson)(Lt.function.arguments)&&(Qe.enqueue({type:"tool-input-end",id:Lt.id}),Qe.enqueue({type:"tool-call",toolCallId:(Jt=Lt.id)!=null?Jt:(0,g.generateId)(),toolName:Lt.function.name,input:Lt.function.arguments}),Lt.hasFinished=!0))}},flush(wt){var Qe,It,nt,qt,cr;for(let de of(Je&&wt.enqueue({type:"reasoning-end",id:"reasoning-0"}),jt&&wt.enqueue({type:"text-end",id:"txt-0"}),me.filter(Se=>!Se.hasFinished)))wt.enqueue({type:"tool-input-end",id:de.id}),wt.enqueue({type:"tool-call",toolCallId:(Qe=de.id)!=null?Qe:(0,g.generateId)(),toolName:de.function.name,input:de.function.arguments});let ke={[pt]:{},...ae?.buildMetadata()};((It=re?.completion_tokens_details)==null?void 0:It.accepted_prediction_tokens)!=null&&(ke[pt].acceptedPredictionTokens=(nt=re?.completion_tokens_details)==null?void 0:nt.accepted_prediction_tokens),((qt=re?.completion_tokens_details)==null?void 0:qt.rejected_prediction_tokens)!=null&&(ke[pt].rejectedPredictionTokens=(cr=re?.completion_tokens_details)==null?void 0:cr.rejected_prediction_tokens),wt.enqueue({type:"finish",finishReason:tt,usage:Ka(re),providerMetadata:ke})}})),request:{body:$e},response:{headers:fe}}}},ko=n.z.object({prompt_tokens:n.z.number().nullish(),completion_tokens:n.z.number().nullish(),total_tokens:n.z.number().nullish(),prompt_tokens_details:n.z.object({cached_tokens:n.z.number().nullish()}).nullish(),completion_tokens_details:n.z.object({reasoning_tokens:n.z.number().nullish(),accepted_prediction_tokens:n.z.number().nullish(),rejected_prediction_tokens:n.z.number().nullish()}).nullish()}).nullish(),_a=n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({message:n.z.object({role:n.z.literal("assistant").nullish(),content:n.z.string().nullish(),reasoning_content:n.z.string().nullish(),reasoning:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({id:n.z.string().nullish(),function:n.z.object({name:n.z.string(),arguments:n.z.string()})})).nullish()}),finish_reason:n.z.string().nullish()})),usage:ko}),Io=n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({delta:n.z.object({role:n.z.enum(["assistant"]).nullish(),content:n.z.string().nullish(),reasoning_content:n.z.string().nullish(),reasoning:n.z.string().nullish(),tool_calls:n.z.array(n.z.object({index:n.z.number(),id:n.z.string().nullish(),function:n.z.object({name:n.z.string().nullish(),arguments:n.z.string().nullish()})})).nullish()}).nullish(),finish_reason:n.z.string().nullish()})),usage:ko}),ra=x=>n.z.union([Io,x]);function ao(x){var F,re;if(x==null)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let he=(F=x.prompt_tokens)!=null?F:0,Ie=(re=x.completion_tokens)!=null?re:0;return{inputTokens:{total:he,noCache:he,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:Ie,text:Ie,reasoning:void 0},raw:x}}function Ws({id:x,model:F,created:re}){return{id:x??void 0,modelId:F??void 0,timestamp:re!=null?new Date(1e3*re):void 0}}function jo(x){switch(x){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var Ds=n.z.object({echo:n.z.boolean().optional(),logitBias:n.z.record(n.z.string(),n.z.number()).optional(),suffix:n.z.string().optional(),user:n.z.string().optional()}),Fo=class{constructor(x,F){var re;this.specificationVersion="v3",this.modelId=x,this.config=F;let he=(re=F.errorStructure)!=null?re:zr;this.chunkSchema=Jn(he.errorSchema),this.failedResponseHandler=(0,g.createJsonErrorResponseHandler)(he)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get supportedUrls(){var x,F,re;return(re=(F=(x=this.config).supportedUrls)==null?void 0:F.call(x))!=null?re:{}}async getArgs({prompt:x,maxOutputTokens:F,temperature:re,topP:he,topK:Ie,frequencyPenalty:$e,presencePenalty:ae,stopSequences:fe,responseFormat:Ze,seed:me,providerOptions:tt,tools:He,toolChoice:pt}){var Je;let jt=[],wt=(Je=await(0,g.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:tt,schema:Ds}))!=null?Je:{};Ie!=null&&jt.push({type:"unsupported",feature:"topK"}),He?.length&&jt.push({type:"unsupported",feature:"tools"}),pt!=null&&jt.push({type:"unsupported",feature:"toolChoice"}),Ze!=null&&Ze.type!=="text"&&jt.push({type:"unsupported",feature:"responseFormat",details:"JSON response format is not supported."});let{prompt:Qe,stopSequences:It}=function({prompt:qt,user:cr="user",assistant:ke="assistant"}){let de="";for(let{role:Se,content:Sr}of(qt[0].role==="system"&&(de+=`${qt[0].content}

`,qt=qt.slice(1)),qt))switch(Se){case"system":throw new xe.InvalidPromptError({message:"Unexpected system message in prompt: ${content}",prompt:qt});case"user":{let At=Sr.map(St=>{if(St.type==="text")return St.text}).filter(Boolean).join("");de+=`${cr}:
${At}

`;break}case"assistant":{let At=Sr.map(St=>{switch(St.type){case"text":return St.text;case"tool-call":throw new xe.UnsupportedFunctionalityError({functionality:"tool-call messages"})}}).join("");de+=`${ke}:
${At}

`;break}case"tool":throw new xe.UnsupportedFunctionalityError({functionality:"tool messages"});default:throw Error(`Unsupported role: ${Se}`)}return{prompt:de+=`${ke}:
`,stopSequences:[`
${cr}:`]}}({prompt:x}),nt=[...It??[],...fe??[]];return{args:{model:this.modelId,echo:wt.echo,logit_bias:wt.logitBias,suffix:wt.suffix,user:wt.user,max_tokens:F,temperature:re,top_p:he,frequency_penalty:$e,presence_penalty:ae,seed:me,...tt?.[this.providerOptionsName],prompt:Qe,stop:nt.length>0?nt:void 0},warnings:jt}}async doGenerate(x){let{args:F,warnings:re}=await this.getArgs(x),{responseHeaders:he,value:Ie,rawValue:$e}=await(0,g.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:F,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,g.createJsonResponseHandler)(oo),abortSignal:x.abortSignal,fetch:this.config.fetch}),ae=Ie.choices[0],fe=[];return ae.text!=null&&ae.text.length>0&&fe.push({type:"text",text:ae.text}),{content:fe,usage:ao(Ie.usage),finishReason:{unified:jo(ae.finish_reason),raw:ae.finish_reason},request:{body:F},response:{...Ws(Ie),headers:he,body:$e},warnings:re}}async doStream(x){let F,{args:re,warnings:he}=await this.getArgs(x),Ie={...re,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},{responseHeaders:$e,value:ae}=await(0,g.postJsonToApi)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),x.headers),body:Ie,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:(0,g.createEventSourceResponseHandler)(this.chunkSchema),abortSignal:x.abortSignal,fetch:this.config.fetch}),fe={unified:"other",raw:void 0},Ze=!0;return{stream:ae.pipeThrough(new TransformStream({start(me){me.enqueue({type:"stream-start",warnings:he})},transform(me,tt){var He;if(x.includeRawChunks&&tt.enqueue({type:"raw",rawValue:me.rawValue}),!me.success){fe={unified:"error",raw:void 0},tt.enqueue({type:"error",error:me.error});return}let pt=me.value;if("error"in pt){fe={unified:"error",raw:void 0},tt.enqueue({type:"error",error:pt.error});return}Ze&&(Ze=!1,tt.enqueue({type:"response-metadata",...Ws(pt)}),tt.enqueue({type:"text-start",id:"0"})),pt.usage!=null&&(F=pt.usage);let Je=pt.choices[0];Je?.finish_reason!=null&&(fe={unified:jo(Je.finish_reason),raw:(He=Je.finish_reason)!=null?He:void 0}),Je?.text!=null&&tt.enqueue({type:"text-delta",id:"0",delta:Je.text})},flush(me){Ze||me.enqueue({type:"text-end",id:"0"}),me.enqueue({type:"finish",finishReason:fe,usage:ao(F)})}})),request:{body:Ie},response:{headers:$e}}}},ma=n.z.object({prompt_tokens:n.z.number(),completion_tokens:n.z.number(),total_tokens:n.z.number()}),oo=n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string()})),usage:ma.nullish()}),Jn=x=>n.z.union([n.z.object({id:n.z.string().nullish(),created:n.z.number().nullish(),model:n.z.string().nullish(),choices:n.z.array(n.z.object({text:n.z.string(),finish_reason:n.z.string().nullish(),index:n.z.number()})),usage:ma.nullish()}),x]),Wa=n.z.object({dimensions:n.z.number().optional(),user:n.z.string().optional()}),Sa=class{constructor(x,F){this.specificationVersion="v3",this.modelId=x,this.config=F}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var x;return(x=this.config.maxEmbeddingsPerCall)!=null?x:2048}get supportsParallelCalls(){var x;return(x=this.config.supportsParallelCalls)==null||x}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}async doEmbed({values:x,headers:F,abortSignal:re,providerOptions:he}){var Ie,$e,ae;let fe=Object.assign((Ie=await(0,g.parseProviderOptions)({provider:"openai-compatible",providerOptions:he,schema:Wa}))!=null?Ie:{},($e=await(0,g.parseProviderOptions)({provider:this.providerOptionsName,providerOptions:he,schema:Wa}))!=null?$e:{});if(x.length>this.maxEmbeddingsPerCall)throw new xe.TooManyEmbeddingValuesForCallError({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:x});let{responseHeaders:Ze,value:me,rawValue:tt}=await(0,g.postJsonToApi)({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),F),body:{model:this.modelId,input:x,encoding_format:"float",dimensions:fe.dimensions,user:fe.user},failedResponseHandler:(0,g.createJsonErrorResponseHandler)((ae=this.config.errorStructure)!=null?ae:zr),successfulResponseHandler:(0,g.createJsonResponseHandler)(gs),abortSignal:re,fetch:this.config.fetch});return{warnings:[],embeddings:me.data.map(He=>He.embedding),usage:me.usage?{tokens:me.usage.prompt_tokens}:void 0,providerMetadata:me.providerMetadata,response:{headers:Ze,body:tt}}}},gs=n.z.object({data:n.z.array(n.z.object({embedding:n.z.array(n.z.number())})),usage:n.z.object({prompt_tokens:n.z.number()}).nullish(),providerMetadata:n.z.record(n.z.string(),n.z.record(n.z.string(),n.z.any())).optional()}),Ao=class{constructor(x,F){this.modelId=x,this.config=F,this.specificationVersion="v3",this.maxImagesPerCall=10}get provider(){return this.config.provider}async doGenerate({prompt:x,n:F,size:re,aspectRatio:he,seed:Ie,providerOptions:$e,headers:ae,abortSignal:fe,files:Ze,mask:me}){var tt,He,pt,Je,jt,wt,Qe;let It=[];he!=null&&It.push({type:"unsupported",feature:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),Ie!=null&&It.push({type:"unsupported",feature:"seed"});let nt=(pt=(He=(tt=this.config._internal)==null?void 0:tt.currentDate)==null?void 0:He.call(tt))!=null?pt:new Date;if(Ze!=null&&Ze.length>0){let{value:ke,responseHeaders:de}=await(0,g.postFormDataToApi)({url:this.config.url({path:"/images/edits",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),ae),formData:(0,g.convertToFormData)({model:this.modelId,prompt:x,image:await Promise.all(Ze.map(Se=>Zo(Se))),mask:me!=null?await Zo(me):void 0,n:F,size:re,...(Je=$e.openai)!=null?Je:{}}),failedResponseHandler:(0,g.createJsonErrorResponseHandler)((jt=this.config.errorStructure)!=null?jt:zr),successfulResponseHandler:(0,g.createJsonResponseHandler)(Ra),abortSignal:fe,fetch:this.config.fetch});return{images:ke.data.map(Se=>Se.b64_json),warnings:It,response:{timestamp:nt,modelId:this.modelId,headers:de}}}let{value:qt,responseHeaders:cr}=await(0,g.postJsonToApi)({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:(0,g.combineHeaders)(this.config.headers(),ae),body:{model:this.modelId,prompt:x,n:F,size:re,...(wt=$e.openai)!=null?wt:{},response_format:"b64_json"},failedResponseHandler:(0,g.createJsonErrorResponseHandler)((Qe=this.config.errorStructure)!=null?Qe:zr),successfulResponseHandler:(0,g.createJsonResponseHandler)(Ra),abortSignal:fe,fetch:this.config.fetch});return{images:qt.data.map(ke=>ke.b64_json),warnings:It,response:{timestamp:nt,modelId:this.modelId,headers:cr}}}},Ra=n.z.object({data:n.z.array(n.z.object({b64_json:n.z.string()}))});async function Zo(x){return x.type==="url"?(0,g.downloadBlob)(x.url):new Blob([x.data instanceof Uint8Array?x.data:(0,g.convertBase64ToUint8Array)(x.data)],{type:x.mediaType})}function ys(x){let F=(0,g.withoutTrailingSlash)(x.baseURL),re=x.name,he={...x.apiKey&&{Authorization:`Bearer ${x.apiKey}`},...x.headers},Ie=()=>(0,g.withUserAgentSuffix)(he,"ai-sdk/openai-compatible/2.0.1"),$e=tt=>({provider:`${re}.${tt}`,url:({path:He})=>{let pt=new URL(`${F}${He}`);return x.queryParams&&(pt.search=new URLSearchParams(x.queryParams).toString()),pt.toString()},headers:Ie,fetch:x.fetch}),ae=tt=>fe(tt),fe=tt=>new Lo(tt,{...$e("chat"),includeUsage:x.includeUsage,supportsStructuredOutputs:x.supportsStructuredOutputs}),Ze=tt=>new Sa(tt,{...$e("embedding")}),me=tt=>ae(tt);return me.specificationVersion="v3",me.languageModel=ae,me.chatModel=fe,me.completionModel=tt=>new Fo(tt,{...$e("completion"),includeUsage:x.includeUsage}),me.embeddingModel=Ze,me.textEmbeddingModel=Ze,me.imageModel=tt=>new Ao(tt,$e("image")),me}let Za={gemini:"gemini-3-flash-preview",openai:"gpt-5.2",anthropic:"claude-sonnet-4-5-20250929",ollama:"llama3.2",lmstudio:"deepseek-r1-distill-llama-8b"};function Zs(x){let F=x.model||Za[x.type];switch(x.type){case"gemini":if(!x.apiKey)throw Error("Gemini API key is required");return lt({apiKey:x.apiKey})(F);case"openai":if(!x.apiKey)throw Error("OpenAI API key is required");return gn({apiKey:x.apiKey})(F);case"anthropic":if(!x.apiKey)throw Error("Anthropic API key is required");return Mr({apiKey:x.apiKey})(F);case"ollama":return ys({name:"ollama",baseURL:x.baseUrl||"http://localhost:11434/v1",apiKey:"ollama"})(F);case"lmstudio":return ys({name:"lmstudio",baseURL:x.baseUrl||"http://127.0.0.1:1234/v1",apiKey:"lmstudio"})(F);default:throw Error(`Unknown provider type: ${x.type}`)}}function as(x){switch(x){case"gemini":return["gemini-3-flash-preview","gemini-3-pro-preview","gemini-2.0-flash","gemini-2.0-pro-exp-02-05","gemini-1.5-pro"];case"openai":return["gpt-5.2","gpt-5.2-chat-latest","gpt-5.1","gpt-5","gpt-4o","o3-mini","o1"];case"anthropic":return["claude-opus-4-5-20251101","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022"];case"ollama":return["llama3.2","llama3.1","codellama","mistral","phi3","qwen2.5"];case"lmstudio":return["deepseek-r1-distill-llama-8b","meta-llama-3.1-8b-instruct","qwen2.5-7b-instruct"];default:return[]}}_.s(["PROVIDER_NAMES",0,{gemini:"Google Gemini",openai:"OpenAI GPT",anthropic:"Anthropic Claude",ollama:"Ollama (Local)",lmstudio:"LMStudio (Local)"},"createAIProvider",()=>Zs,"getAvailableModels",()=>as],87633)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_c144a9c7._.js",635,(_,g,xe)=>{"use strict";var n=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,ie=Object.prototype.hasOwnProperty,Fe={},ge={RequestCookies:()=>ye,ResponseCookies:()=>ht,parseCookie:()=>ne,parseSetCookie:()=>B,stringifyCookie:()=>W};for(var Ee in ge)n(Fe,Ee,{get:ge[Ee],enumerable:!0});function W(Y){var Ge;let te=["path"in Y&&Y.path&&`Path=${Y.path}`,"expires"in Y&&(Y.expires||Y.expires===0)&&`Expires=${(typeof Y.expires=="number"?new Date(Y.expires):Y.expires).toUTCString()}`,"maxAge"in Y&&typeof Y.maxAge=="number"&&`Max-Age=${Y.maxAge}`,"domain"in Y&&Y.domain&&`Domain=${Y.domain}`,"secure"in Y&&Y.secure&&"Secure","httpOnly"in Y&&Y.httpOnly&&"HttpOnly","sameSite"in Y&&Y.sameSite&&`SameSite=${Y.sameSite}`,"partitioned"in Y&&Y.partitioned&&"Partitioned","priority"in Y&&Y.priority&&`Priority=${Y.priority}`].filter(Boolean),Ye=`${Y.name}=${encodeURIComponent((Ge=Y.value)!=null?Ge:"")}`;return te.length===0?Ye:`${Ye}; ${te.join("; ")}`}function ne(Y){let Ge=new Map;for(let te of Y.split(/; */)){if(!te)continue;let Ye=te.indexOf("=");if(Ye===-1){Ge.set(te,"true");continue}let[We,rt]=[te.slice(0,Ye),te.slice(Ye+1)];try{Ge.set(We,decodeURIComponent(rt??"true"))}catch{}}return Ge}function B(Y){if(!Y)return;let[[Ge,te],...Ye]=ne(Y),{domain:We,expires:rt,httponly:$t,maxage:Pt,path:er,samesite:Gt,secure:Ve,partitioned:sr,priority:pe}=Object.fromEntries(Ye.map(([h,Yt])=>[h.toLowerCase().replace(/-/g,""),Yt]));{var ve,q,vt={name:Ge,value:decodeURIComponent(te),domain:We,...rt&&{expires:new Date(rt)},...$t&&{httpOnly:!0},...typeof Pt=="string"&&{maxAge:Number(Pt)},path:er,...Gt&&{sameSite:ce.includes(ve=(ve=Gt).toLowerCase())?ve:void 0},...Ve&&{secure:!0},...pe&&{priority:Te.includes(q=(q=pe).toLowerCase())?q:void 0},...sr&&{partitioned:!0}};let h={};for(let Yt in vt)vt[Yt]&&(h[Yt]=vt[Yt]);return h}}g.exports=((Y,Ge,te,Ye)=>{if(Ge&&typeof Ge=="object"||typeof Ge=="function")for(let We of M(Ge))ie.call(Y,We)||We===te||n(Y,We,{get:()=>Ge[We],enumerable:!(Ye=Ke(Ge,We))||Ye.enumerable});return Y})(n({},"__esModule",{value:!0}),Fe);var ce=["strict","lax","none"],Te=["low","medium","high"],ye=class{constructor(Y){this._parsed=new Map,this._headers=Y;let Ge=Y.get("cookie");if(Ge)for(let[te,Ye]of ne(Ge))this._parsed.set(te,{name:te,value:Ye})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...Y){let Ge=typeof Y[0]=="string"?Y[0]:Y[0].name;return this._parsed.get(Ge)}getAll(...Y){var Ge;let te=Array.from(this._parsed);if(!Y.length)return te.map(([We,rt])=>rt);let Ye=typeof Y[0]=="string"?Y[0]:(Ge=Y[0])==null?void 0:Ge.name;return te.filter(([We])=>We===Ye).map(([We,rt])=>rt)}has(Y){return this._parsed.has(Y)}set(...Y){let[Ge,te]=Y.length===1?[Y[0].name,Y[0].value]:Y,Ye=this._parsed;return Ye.set(Ge,{name:Ge,value:te}),this._headers.set("cookie",Array.from(Ye).map(([We,rt])=>W(rt)).join("; ")),this}delete(Y){let Ge=this._parsed,te=Array.isArray(Y)?Y.map(Ye=>Ge.delete(Ye)):Ge.delete(Y);return this._headers.set("cookie",Array.from(Ge).map(([Ye,We])=>W(We)).join("; ")),te}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(Y=>`${Y.name}=${encodeURIComponent(Y.value)}`).join("; ")}},ht=class{constructor(Y){var Ge,te,Ye;this._parsed=new Map,this._headers=Y;let We=(Ye=(te=(Ge=Y.getSetCookie)==null?void 0:Ge.call(Y))!=null?te:Y.get("set-cookie"))!=null?Ye:[];for(let rt of Array.isArray(We)?We:function($t){if(!$t)return[];var Pt,er,Gt,Ve,sr,pe=[],ve=0;function q(){for(;ve<$t.length&&/\s/.test($t.charAt(ve));)ve+=1;return ve<$t.length}for(;ve<$t.length;){for(Pt=ve,sr=!1;q();)if((er=$t.charAt(ve))===","){for(Gt=ve,ve+=1,q(),Ve=ve;ve<$t.length&&(er=$t.charAt(ve))!=="="&&er!==";"&&er!==",";)ve+=1;ve<$t.length&&$t.charAt(ve)==="="?(sr=!0,ve=Ve,pe.push($t.substring(Pt,Gt)),Pt=ve):ve=Gt+1}else ve+=1;(!sr||ve>=$t.length)&&pe.push($t.substring(Pt,$t.length))}return pe}(We)){let $t=B(rt);$t&&this._parsed.set($t.name,$t)}}get(...Y){let Ge=typeof Y[0]=="string"?Y[0]:Y[0].name;return this._parsed.get(Ge)}getAll(...Y){var Ge;let te=Array.from(this._parsed.values());if(!Y.length)return te;let Ye=typeof Y[0]=="string"?Y[0]:(Ge=Y[0])==null?void 0:Ge.name;return te.filter(We=>We.name===Ye)}has(Y){return this._parsed.has(Y)}set(...Y){let[Ge,te,Ye]=Y.length===1?[Y[0].name,Y[0].value,Y[0]]:Y,We=this._parsed;return We.set(Ge,function(rt={name:"",value:""}){return typeof rt.expires=="number"&&(rt.expires=new Date(rt.expires)),rt.maxAge&&(rt.expires=new Date(Date.now()+1e3*rt.maxAge)),(rt.path===null||rt.path===void 0)&&(rt.path="/"),rt}({name:Ge,value:te,...Ye})),function(rt,$t){for(let[,Pt]of($t.delete("set-cookie"),rt)){let er=W(Pt);$t.append("set-cookie",er)}}(We,this._headers),this}delete(...Y){let[Ge,te]=typeof Y[0]=="string"?[Y[0]]:[Y[0].name,Y[0]];return this.set({...te,name:Ge,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(W).join("; ")}}},32063,_=>{"use strict";var g,xe,n,Ke,M,ie,Fe,ge=_.i(34529),Ee=ge.ContextAPI.getInstance(),W=_.i(91008),ne=W.DiagAPI.instance(),B=(g=function(ze,ft){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pr,De){pr.__proto__=De}||function(pr,De){for(var cn in De)Object.prototype.hasOwnProperty.call(De,cn)&&(pr[cn]=De[cn])})(ze,ft)},function(ze,ft){if(typeof ft!="function"&&ft!==null)throw TypeError("Class extends value "+String(ft)+" is not a constructor or null");function pr(){this.constructor=ze}g(ze,ft),ze.prototype=ft===null?Object.create(ft):(pr.prototype=ft.prototype,new pr)}),ce=function(){function ze(){}return ze.prototype.createGauge=function(ft,pr){return er},ze.prototype.createHistogram=function(ft,pr){return Gt},ze.prototype.createCounter=function(ft,pr){return Pt},ze.prototype.createUpDownCounter=function(ft,pr){return Ve},ze.prototype.createObservableGauge=function(ft,pr){return pe},ze.prototype.createObservableCounter=function(ft,pr){return sr},ze.prototype.createObservableUpDownCounter=function(ft,pr){return ve},ze.prototype.addBatchObservableCallback=function(ft,pr){},ze.prototype.removeBatchObservableCallback=function(ft){},ze}(),Te=function(){},ye=function(ze){function ft(){return ze!==null&&ze.apply(this,arguments)||this}return B(ft,ze),ft.prototype.add=function(pr,De){},ft}(Te),ht=function(ze){function ft(){return ze!==null&&ze.apply(this,arguments)||this}return B(ft,ze),ft.prototype.add=function(pr,De){},ft}(Te),Y=function(ze){function ft(){return ze!==null&&ze.apply(this,arguments)||this}return B(ft,ze),ft.prototype.record=function(pr,De){},ft}(Te),Ge=function(ze){function ft(){return ze!==null&&ze.apply(this,arguments)||this}return B(ft,ze),ft.prototype.record=function(pr,De){},ft}(Te),te=function(){function ze(){}return ze.prototype.addCallback=function(ft){},ze.prototype.removeCallback=function(ft){},ze}(),Ye=function(ze){function ft(){return ze!==null&&ze.apply(this,arguments)||this}return B(ft,ze),ft}(te),We=function(ze){function ft(){return ze!==null&&ze.apply(this,arguments)||this}return B(ft,ze),ft}(te),rt=function(ze){function ft(){return ze!==null&&ze.apply(this,arguments)||this}return B(ft,ze),ft}(te),$t=new ce,Pt=new ye,er=new Y,Gt=new Ge,Ve=new ht,sr=new Ye,pe=new We,ve=new rt;function q(){return $t}var vt=new(function(){function ze(){}return ze.prototype.getMeter=function(ft,pr,De){return $t},ze}()),h=_.i(98688),Yt="metrics",lt=function(){function ze(){}return ze.getInstance=function(){return this._instance||(this._instance=new ze),this._instance},ze.prototype.setGlobalMeterProvider=function(ft){return(0,h.registerGlobal)(Yt,ft,W.DiagAPI.instance())},ze.prototype.getMeterProvider=function(){return(0,h.getGlobal)(Yt)||vt},ze.prototype.getMeter=function(ft,pr,De){return this.getMeterProvider().getMeter(ft,pr,De)},ze.prototype.disable=function(){(0,h.unregisterGlobal)(Yt,W.DiagAPI.instance())},ze}().getInstance(),ur=function(){function ze(){}return ze.prototype.inject=function(ft,pr){},ze.prototype.extract=function(ft,pr){return ft},ze.prototype.fields=function(){return[]},ze}(),ct={get:function(ze,ft){if(ze!=null)return ze[ft]},keys:function(ze){return ze==null?[]:Object.keys(ze)}},mt={set:function(ze,ft,pr){ze!=null&&(ze[ft]=pr)}},Nr=_.i(24158),Vr=(0,Nr.createContextKey)("OpenTelemetry Baggage Key");function Sn(ze){return ze.getValue(Vr)||void 0}function Kr(){return Sn(ge.ContextAPI.getInstance().active())}function Pr(ze,ft){return ze.setValue(Vr,ft)}function Dn(ze){return ze.deleteValue(Vr)}var Nn=function(ze,ft){var pr=typeof Symbol=="function"&&ze[Symbol.iterator];if(!pr)return ze;var De,cn,zi=pr.call(ze),rn=[];try{for(;(ft===void 0||ft-- >0)&&!(De=zi.next()).done;)rn.push(De.value)}catch(Di){cn={error:Di}}finally{try{De&&!De.done&&(pr=zi.return)&&pr.call(zi)}finally{if(cn)throw cn.error}}return rn},Re=function(ze){var ft=typeof Symbol=="function"&&Symbol.iterator,pr=ft&&ze[ft],De=0;if(pr)return pr.call(ze);if(ze&&typeof ze.length=="number")return{next:function(){return ze&&De>=ze.length&&(ze=void 0),{value:ze&&ze[De++],done:!ze}}};throw TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")},L=function(){function ze(ft){this._entries=ft?new Map(ft):new Map}return ze.prototype.getEntry=function(ft){var pr=this._entries.get(ft);if(pr)return Object.assign({},pr)},ze.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(ft){var pr=Nn(ft,2);return[pr[0],pr[1]]})},ze.prototype.setEntry=function(ft,pr){var De=new ze(this._entries);return De._entries.set(ft,pr),De},ze.prototype.removeEntry=function(ft){var pr=new ze(this._entries);return pr._entries.delete(ft),pr},ze.prototype.removeEntries=function(){for(var ft,pr,De=[],cn=0;cn<arguments.length;cn++)De[cn]=arguments[cn];var zi=new ze(this._entries);try{for(var rn=Re(De),Di=rn.next();!Di.done;Di=rn.next()){var ca=Di.value;zi._entries.delete(ca)}}catch(qa){ft={error:qa}}finally{try{Di&&!Di.done&&(pr=rn.return)&&pr.call(rn)}finally{if(ft)throw ft.error}}return zi},ze.prototype.clear=function(){return new ze},ze}(),V=Symbol("BaggageEntryMetadata"),K=W.DiagAPI.instance();function Le(ze){return ze===void 0&&(ze={}),new L(new Map(Object.entries(ze)))}function at(ze){return typeof ze!="string"&&(K.error("Cannot create baggage metadata from unknown type: "+typeof ze),ze=""),{__TYPE__:V,toString:function(){return ze}}}var Wt="propagation",wr=new ur,J=function(){function ze(){this.createBaggage=Le,this.getBaggage=Sn,this.getActiveBaggage=Kr,this.setBaggage=Pr,this.deleteBaggage=Dn}return ze.getInstance=function(){return this._instance||(this._instance=new ze),this._instance},ze.prototype.setGlobalPropagator=function(ft){return(0,h.registerGlobal)(Wt,ft,W.DiagAPI.instance())},ze.prototype.inject=function(ft,pr,De){return De===void 0&&(De=mt),this._getGlobalPropagator().inject(ft,pr,De)},ze.prototype.extract=function(ft,pr,De){return De===void 0&&(De=ct),this._getGlobalPropagator().extract(ft,pr,De)},ze.prototype.fields=function(){return this._getGlobalPropagator().fields()},ze.prototype.disable=function(){(0,h.unregisterGlobal)(Wt,W.DiagAPI.instance())},ze.prototype._getGlobalPropagator=function(){return(0,h.getGlobal)(Wt)||wr},ze}().getInstance(),Xr=_.i(94323);let Yr={context:Ee,diag:ne,metrics:lt,propagation:J,trace:Xr.trace};_.s(["default",0,Yr],40290),_.i(40290);var hn=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],ti=function(){for(var ze=0;ze<hn.length;ze++)this[hn[ze].n]=function(ft){return function(){for(var pr=[],De=0;De<arguments.length;De++)pr[De]=arguments[De];if(console){var cn=console[ft];if(typeof cn!="function"&&(cn=console.log),typeof cn=="function")return cn.apply(console,pr)}}}(hn[ze].c)},Zn=_.i(63689);(xe=M||(M={}))[xe.INT=0]="INT",xe[xe.DOUBLE=1]="DOUBLE";var lr=_.i(68677),st=_.i(29322);(n=ie||(ie={}))[n.NOT_RECORD=0]="NOT_RECORD",n[n.RECORD=1]="RECORD",n[n.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",(Ke=Fe||(Fe={}))[Ke.INTERNAL=0]="INTERNAL",Ke[Ke.SERVER=1]="SERVER",Ke[Ke.CLIENT=2]="CLIENT",Ke[Ke.PRODUCER=3]="PRODUCER",Ke[Ke.CONSUMER=4]="CONSUMER";var Ut=_.i(31232),nr=_.i(89622),fn="[_0-9a-z-*/]",Zr=RegExp("^(?:[a-z]"+fn+"{0,255}|"+("[a-z0-9]"+fn+"{0,240}@[a-z]")+fn+"{0,13})$"),dr=/^[ -~]{0,255}[!-~]$/,Ki=/,|=/,ri=function(){function ze(ft){this._internalState=new Map,ft&&this._parse(ft)}return ze.prototype.set=function(ft,pr){var De=this._clone();return De._internalState.has(ft)&&De._internalState.delete(ft),De._internalState.set(ft,pr),De},ze.prototype.unset=function(ft){var pr=this._clone();return pr._internalState.delete(ft),pr},ze.prototype.get=function(ft){return this._internalState.get(ft)},ze.prototype.serialize=function(){var ft=this;return this._keys().reduce(function(pr,De){return pr.push(De+"="+ft.get(De)),pr},[]).join(",")},ze.prototype._parse=function(ft){!(ft.length>512)&&(this._internalState=ft.split(",").reverse().reduce(function(pr,De){var cn=De.trim(),zi=cn.indexOf("=");if(zi!==-1){var rn=cn.slice(0,zi),Di=cn.slice(zi+1,De.length);Zr.test(rn)&&dr.test(Di)&&!Ki.test(Di)&&pr.set(rn,Di)}return pr},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},ze.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},ze.prototype._clone=function(){var ft=new ze;return ft._internalState=new Map(this._internalState),ft},ze}();function Tn(ze){return new ri(ze)}var Xn=_.i(9729),pn=_.i(65839);_.s(["DiagConsoleLogger",()=>ti,"DiagLogLevel",()=>Zn.DiagLogLevel,"INVALID_SPANID",()=>pn.INVALID_SPANID,"INVALID_SPAN_CONTEXT",()=>pn.INVALID_SPAN_CONTEXT,"INVALID_TRACEID",()=>pn.INVALID_TRACEID,"ProxyTracer",()=>lr.ProxyTracer,"ProxyTracerProvider",()=>st.ProxyTracerProvider,"ROOT_CONTEXT",()=>Nr.ROOT_CONTEXT,"SamplingDecision",()=>ie,"SpanKind",()=>Fe,"SpanStatusCode",()=>Ut.SpanStatusCode,"TraceFlags",()=>nr.TraceFlags,"ValueType",()=>M,"baggageEntryMetadataFromString",()=>at,"context",()=>Ee,"createContextKey",()=>Nr.createContextKey,"createNoopMeter",()=>q,"createTraceState",()=>Tn,"default",0,Yr,"defaultTextMapGetter",()=>ct,"defaultTextMapSetter",()=>mt,"diag",()=>ne,"isSpanContextValid",()=>Xn.isSpanContextValid,"isValidSpanId",()=>Xn.isValidSpanId,"isValidTraceId",()=>Xn.isValidTraceId,"metrics",()=>lt,"propagation",()=>J,"trace",()=>Xr.trace],32063)},20678,(_,g,xe)=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var n,Ke,M,ie,Fe={};Fe.parse=function(ge,Ee){if(typeof ge!="string")throw TypeError("argument str must be a string");for(var W={},ne=ge.split(M),B=(Ee||{}).decode||n,ce=0;ce<ne.length;ce++){var Te=ne[ce],ye=Te.indexOf("=");if(!(ye<0)){var ht=Te.substr(0,ye).trim(),Y=Te.substr(++ye,Te.length).trim();Y[0]=='"'&&(Y=Y.slice(1,-1)),W[ht]==null&&(W[ht]=function(Ge,te){try{return te(Ge)}catch{return Ge}}(Y,B))}}return W},Fe.serialize=function(ge,Ee,W){var ne=W||{},B=ne.encode||Ke;if(typeof B!="function")throw TypeError("option encode is invalid");if(!ie.test(ge))throw TypeError("argument name is invalid");var ce=B(Ee);if(ce&&!ie.test(ce))throw TypeError("argument val is invalid");var Te=ge+"="+ce;if(ne.maxAge!=null){var ye=ne.maxAge-0;if(isNaN(ye)||!isFinite(ye))throw TypeError("option maxAge is invalid");Te+="; Max-Age="+Math.floor(ye)}if(ne.domain){if(!ie.test(ne.domain))throw TypeError("option domain is invalid");Te+="; Domain="+ne.domain}if(ne.path){if(!ie.test(ne.path))throw TypeError("option path is invalid");Te+="; Path="+ne.path}if(ne.expires){if(typeof ne.expires.toUTCString!="function")throw TypeError("option expires is invalid");Te+="; Expires="+ne.expires.toUTCString()}if(ne.httpOnly&&(Te+="; HttpOnly"),ne.secure&&(Te+="; Secure"),ne.sameSite)switch(typeof ne.sameSite=="string"?ne.sameSite.toLowerCase():ne.sameSite){case!0:case"strict":Te+="; SameSite=Strict";break;case"lax":Te+="; SameSite=Lax";break;case"none":Te+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return Te},n=decodeURIComponent,Ke=encodeURIComponent,M=/; */,ie=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,g.exports=Fe})()},70903,(_,g,xe)=>{(()=>{"use strict";let n,Ke,M,ie,Fe;var ge={993:B=>{var ce=Object.prototype.hasOwnProperty,Te="~";function ye(){}function ht(Ye,We,rt){this.fn=Ye,this.context=We,this.once=rt||!1}function Y(Ye,We,rt,$t,Pt){if(typeof rt!="function")throw TypeError("The listener must be a function");var er=new ht(rt,$t||Ye,Pt),Gt=Te?Te+We:We;return Ye._events[Gt]?Ye._events[Gt].fn?Ye._events[Gt]=[Ye._events[Gt],er]:Ye._events[Gt].push(er):(Ye._events[Gt]=er,Ye._eventsCount++),Ye}function Ge(Ye,We){--Ye._eventsCount==0?Ye._events=new ye:delete Ye._events[We]}function te(){this._events=new ye,this._eventsCount=0}Object.create&&(ye.prototype=Object.create(null),new ye().__proto__||(Te=!1)),te.prototype.eventNames=function(){var Ye,We,rt=[];if(this._eventsCount===0)return rt;for(We in Ye=this._events)ce.call(Ye,We)&&rt.push(Te?We.slice(1):We);return Object.getOwnPropertySymbols?rt.concat(Object.getOwnPropertySymbols(Ye)):rt},te.prototype.listeners=function(Ye){var We=Te?Te+Ye:Ye,rt=this._events[We];if(!rt)return[];if(rt.fn)return[rt.fn];for(var $t=0,Pt=rt.length,er=Array(Pt);$t<Pt;$t++)er[$t]=rt[$t].fn;return er},te.prototype.listenerCount=function(Ye){var We=Te?Te+Ye:Ye,rt=this._events[We];return rt?rt.fn?1:rt.length:0},te.prototype.emit=function(Ye,We,rt,$t,Pt,er){var Gt=Te?Te+Ye:Ye;if(!this._events[Gt])return!1;var Ve,sr,pe=this._events[Gt],ve=arguments.length;if(pe.fn){switch(pe.once&&this.removeListener(Ye,pe.fn,void 0,!0),ve){case 1:return pe.fn.call(pe.context),!0;case 2:return pe.fn.call(pe.context,We),!0;case 3:return pe.fn.call(pe.context,We,rt),!0;case 4:return pe.fn.call(pe.context,We,rt,$t),!0;case 5:return pe.fn.call(pe.context,We,rt,$t,Pt),!0;case 6:return pe.fn.call(pe.context,We,rt,$t,Pt,er),!0}for(sr=1,Ve=Array(ve-1);sr<ve;sr++)Ve[sr-1]=arguments[sr];pe.fn.apply(pe.context,Ve)}else{var q,vt=pe.length;for(sr=0;sr<vt;sr++)switch(pe[sr].once&&this.removeListener(Ye,pe[sr].fn,void 0,!0),ve){case 1:pe[sr].fn.call(pe[sr].context);break;case 2:pe[sr].fn.call(pe[sr].context,We);break;case 3:pe[sr].fn.call(pe[sr].context,We,rt);break;case 4:pe[sr].fn.call(pe[sr].context,We,rt,$t);break;default:if(!Ve)for(q=1,Ve=Array(ve-1);q<ve;q++)Ve[q-1]=arguments[q];pe[sr].fn.apply(pe[sr].context,Ve)}}return!0},te.prototype.on=function(Ye,We,rt){return Y(this,Ye,We,rt,!1)},te.prototype.once=function(Ye,We,rt){return Y(this,Ye,We,rt,!0)},te.prototype.removeListener=function(Ye,We,rt,$t){var Pt=Te?Te+Ye:Ye;if(!this._events[Pt])return this;if(!We)return Ge(this,Pt),this;var er=this._events[Pt];if(er.fn)er.fn!==We||$t&&!er.once||rt&&er.context!==rt||Ge(this,Pt);else{for(var Gt=0,Ve=[],sr=er.length;Gt<sr;Gt++)(er[Gt].fn!==We||$t&&!er[Gt].once||rt&&er[Gt].context!==rt)&&Ve.push(er[Gt]);Ve.length?this._events[Pt]=Ve.length===1?Ve[0]:Ve:Ge(this,Pt)}return this},te.prototype.removeAllListeners=function(Ye){var We;return Ye?(We=Te?Te+Ye:Ye,this._events[We]&&Ge(this,We)):(this._events=new ye,this._eventsCount=0),this},te.prototype.off=te.prototype.removeListener,te.prototype.addListener=te.prototype.on,te.prefixed=Te,te.EventEmitter=te,B.exports=te},213:B=>{B.exports=(ce,Te)=>(Te=Te||(()=>{}),ce.then(ye=>new Promise(ht=>{ht(Te())}).then(()=>ye),ye=>new Promise(ht=>{ht(Te())}).then(()=>{throw ye})))},574:(B,ce)=>{Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=function(Te,ye,ht){let Y=0,Ge=Te.length;for(;Ge>0;){let te=Ge/2|0,Ye=Y+te;0>=ht(Te[Ye],ye)?(Y=++Ye,Ge-=te+1):Ge=te}return Y}},821:(B,ce,Te)=>{Object.defineProperty(ce,"__esModule",{value:!0});let ye=Te(574);ce.default=class{constructor(){this._queue=[]}enqueue(ht,Y){let Ge={priority:(Y=Object.assign({priority:0},Y)).priority,run:ht};if(this.size&&this._queue[this.size-1].priority>=Y.priority)return void this._queue.push(Ge);let te=ye.default(this._queue,Ge,(Ye,We)=>We.priority-Ye.priority);this._queue.splice(te,0,Ge)}dequeue(){let ht=this._queue.shift();return ht?.run}filter(ht){return this._queue.filter(Y=>Y.priority===ht.priority).map(Y=>Y.run)}get size(){return this._queue.length}}},816:(B,ce,Te)=>{let ye=Te(213);class ht extends Error{constructor(te){super(te),this.name="TimeoutError"}}let Y=(Ge,te,Ye)=>new Promise((We,rt)=>{if(typeof te!="number"||te<0)throw TypeError("Expected `milliseconds` to be a positive number");if(te===1/0)return void We(Ge);let $t=setTimeout(()=>{if(typeof Ye=="function"){try{We(Ye())}catch(Gt){rt(Gt)}return}let Pt=typeof Ye=="string"?Ye:`Promise timed out after ${te} milliseconds`,er=Ye instanceof Error?Ye:new ht(Pt);typeof Ge.cancel=="function"&&Ge.cancel(),rt(er)},te);ye(Ge.then(We,rt),()=>{clearTimeout($t)})});B.exports=Y,B.exports.default=Y,B.exports.TimeoutError=ht}},Ee={};function W(B){var ce=Ee[B];if(ce!==void 0)return ce.exports;var Te=Ee[B]={exports:{}},ye=!0;try{ge[B](Te,Te.exports,W),ye=!1}finally{ye&&delete Ee[B]}return Te.exports}W.ab="/ROOT/node_modules/next/dist/compiled/p-queue/";var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),n=W(993),Ke=W(816),M=W(821),ie=()=>{},Fe=new Ke.TimeoutError,ne.default=class extends n{constructor(B){var ce,Te,ye,ht;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=ie,this._resolveIdle=ie,!(typeof(B=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:M.default},B)).intervalCap=="number"&&B.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(Te=(ce=B.intervalCap)==null?void 0:ce.toString())!=null?Te:""}\` (${typeof B.intervalCap})`);if(B.interval===void 0||!(Number.isFinite(B.interval)&&B.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(ht=(ye=B.interval)==null?void 0:ye.toString())!=null?ht:""}\` (${typeof B.interval})`);this._carryoverConcurrencyCount=B.carryoverConcurrencyCount,this._isIntervalIgnored=B.intervalCap===1/0||B.interval===0,this._intervalCap=B.intervalCap,this._interval=B.interval,this._queue=new B.queueClass,this._queueClass=B.queueClass,this.concurrency=B.concurrency,this._timeout=B.timeout,this._throwOnTimeout=B.throwOnTimeout===!0,this._isPaused=B.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=ie,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=ie,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let B=Date.now();if(this._intervalId===void 0){let ce=this._intervalEnd-B;if(!(ce<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},ce)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let B=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let ce=this._queue.dequeue();return!!ce&&(this.emit("active"),ce(),B&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(B){if(!(typeof B=="number"&&B>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${B}\` (${typeof B})`);this._concurrency=B,this._processQueue()}async add(B,ce={}){return new Promise((Te,ye)=>{let ht=async()=>{this._pendingCount++,this._intervalCount++;try{let Y=this._timeout===void 0&&ce.timeout===void 0?B():Ke.default(Promise.resolve(B()),ce.timeout===void 0?this._timeout:ce.timeout,()=>{(ce.throwOnTimeout===void 0?this._throwOnTimeout:ce.throwOnTimeout)&&ye(Fe)});Te(await Y)}catch(Y){ye(Y)}this._next()};this._queue.enqueue(ht,ce),this._tryToStartAnother(),this.emit("add")})}async addAll(B,ce){return Promise.all(B.map(async Te=>this.add(Te,ce)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(B=>{let ce=this._resolveEmpty;this._resolveEmpty=()=>{ce(),B()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(B=>{let ce=this._resolveIdle;this._resolveIdle=()=>{ce(),B()}})}get size(){return this._queue.size}sizeBy(B){return this._queue.filter(B).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(B){this._timeout=B}},g.exports=ne})()},3949,_=>{"use strict";function g(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}_.s(["getEdgePreviewProps",()=>g])},68709,(_,g,xe)=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});var n={getTestReqInfo:function(){return ge},withRequest:function(){return Fe}};for(var Ke in n)Object.defineProperty(xe,Ke,{enumerable:!0,get:n[Ke]});let M=new(_.r(78500)).AsyncLocalStorage;function ie(Ee,W){let ne=W.header(Ee,"next-test-proxy-port");return ne?{url:W.url(Ee),proxyPort:Number(ne),testData:W.header(Ee,"next-test-data")||""}:void 0}function Fe(Ee,W,ne){let B=ie(Ee,W);return B?M.run(B,ne):ne()}function ge(Ee,W){return M.getStore()||(Ee&&W?ie(Ee,W):void 0)}},91794,(_,g,xe)=>{"use strict";var n=_.i(51615);Object.defineProperty(xe,"__esModule",{value:!0});var Ke={handleFetch:function(){return Ee},interceptFetch:function(){return W},reader:function(){return Fe}};for(var M in Ke)Object.defineProperty(xe,M,{enumerable:!0,get:Ke[M]});let ie=_.r(68709),Fe={url:ne=>ne.url,header:(ne,B)=>ne.headers.get(B)};async function ge(ne,B){let{url:ce,method:Te,headers:ye,body:ht,cache:Y,credentials:Ge,integrity:te,mode:Ye,redirect:We,referrer:rt,referrerPolicy:$t}=B;return{testData:ne,api:"fetch",request:{url:ce,method:Te,headers:[...Array.from(ye),["next-test-stack",function(){let Pt=(Error().stack??"").split(`
`);for(let er=1;er<Pt.length;er++)if(Pt[er].length>0){Pt=Pt.slice(er);break}return(Pt=(Pt=(Pt=Pt.filter(er=>!er.includes("/next/dist/"))).slice(0,5)).map(er=>er.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:ht?n.Buffer.from(await B.arrayBuffer()).toString("base64"):null,cache:Y,credentials:Ge,integrity:te,mode:Ye,redirect:We,referrer:rt,referrerPolicy:$t}}}async function Ee(ne,B){let ce=(0,ie.getTestReqInfo)(B,Fe);if(!ce)return ne(B);let{testData:Te,proxyPort:ye}=ce,ht=await ge(Te,B),Y=await ne(`http://localhost:${ye}`,{method:"POST",body:JSON.stringify(ht),next:{internal:!0}});if(!Y.ok)throw Object.defineProperty(Error(`Proxy request failed: ${Y.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let Ge=await Y.json(),{api:te}=Ge;switch(te){case"continue":return ne(B);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${B.method} ${B.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(Ye){let{status:We,headers:rt,body:$t}=Ye.response;return new Response($t?n.Buffer.from($t,"base64"):null,{status:We,headers:new Headers(rt)})}(Ge);default:return te}}function W(ne){return _.g.fetch=function(B,ce){var Te;return!(ce==null||(Te=ce.next)==null)&&Te.internal?ne(B,ce):Ee(ne,new Request(B,ce))},()=>{_.g.fetch=ne}}},98246,(_,g,xe)=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});var n={interceptTestApis:function(){return Fe},wrapRequestHandler:function(){return ge}};for(var Ke in n)Object.defineProperty(xe,Ke,{enumerable:!0,get:n[Ke]});let M=_.r(68709),ie=_.r(91794);function Fe(){return(0,ie.interceptFetch)(_.g.fetch)}function ge(Ee){return(W,ne)=>(0,M.withRequest)(W,ie.reader,()=>Ee(W,ne))}},92192,(_,g,xe)=>{(function(){"use strict";var n={114:function(ie){function Fe(W){if(typeof W!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(W))}function ge(W,ne){for(var B,ce="",Te=0,ye=-1,ht=0,Y=0;Y<=W.length;++Y){if(Y<W.length)B=W.charCodeAt(Y);else{if(B===47)break;B=47}if(B===47){if(!(ye===Y-1||ht===1))if(ye!==Y-1&&ht===2){if(ce.length<2||Te!==2||ce.charCodeAt(ce.length-1)!==46||ce.charCodeAt(ce.length-2)!==46){if(ce.length>2){var Ge=ce.lastIndexOf("/");if(Ge!==ce.length-1){Ge===-1?(ce="",Te=0):Te=(ce=ce.slice(0,Ge)).length-1-ce.lastIndexOf("/"),ye=Y,ht=0;continue}}else if(ce.length===2||ce.length===1){ce="",Te=0,ye=Y,ht=0;continue}}ne&&(ce.length>0?ce+="/..":ce="..",Te=2)}else ce.length>0?ce+="/"+W.slice(ye+1,Y):ce=W.slice(ye+1,Y),Te=Y-ye-1;ye=Y,ht=0}else B===46&&ht!==-1?++ht:ht=-1}return ce}var Ee={resolve:function(){for(var W,ne,B="",ce=!1,Te=arguments.length-1;Te>=-1&&!ce;Te--)Te>=0?ne=arguments[Te]:(W===void 0&&(W=""),ne=W),Fe(ne),ne.length!==0&&(B=ne+"/"+B,ce=ne.charCodeAt(0)===47);return B=ge(B,!ce),ce?B.length>0?"/"+B:"/":B.length>0?B:"."},normalize:function(W){if(Fe(W),W.length===0)return".";var ne=W.charCodeAt(0)===47,B=W.charCodeAt(W.length-1)===47;return(W=ge(W,!ne)).length!==0||ne||(W="."),W.length>0&&B&&(W+="/"),ne?"/"+W:W},isAbsolute:function(W){return Fe(W),W.length>0&&W.charCodeAt(0)===47},join:function(){if(arguments.length==0)return".";for(var W,ne=0;ne<arguments.length;++ne){var B=arguments[ne];Fe(B),B.length>0&&(W===void 0?W=B:W+="/"+B)}return W===void 0?".":Ee.normalize(W)},relative:function(W,ne){if(Fe(W),Fe(ne),W===ne||(W=Ee.resolve(W))===(ne=Ee.resolve(ne)))return"";for(var B=1;B<W.length&&W.charCodeAt(B)===47;++B);for(var ce=W.length,Te=ce-B,ye=1;ye<ne.length&&ne.charCodeAt(ye)===47;++ye);for(var ht=ne.length-ye,Y=Te<ht?Te:ht,Ge=-1,te=0;te<=Y;++te){if(te===Y){if(ht>Y){if(ne.charCodeAt(ye+te)===47)return ne.slice(ye+te+1);if(te===0)return ne.slice(ye+te)}else Te>Y&&(W.charCodeAt(B+te)===47?Ge=te:te===0&&(Ge=0));break}var Ye=W.charCodeAt(B+te);if(Ye!==ne.charCodeAt(ye+te))break;Ye===47&&(Ge=te)}var We="";for(te=B+Ge+1;te<=ce;++te)(te===ce||W.charCodeAt(te)===47)&&(We.length===0?We+="..":We+="/..");return We.length>0?We+ne.slice(ye+Ge):(ye+=Ge,ne.charCodeAt(ye)===47&&++ye,ne.slice(ye))},_makeLong:function(W){return W},dirname:function(W){if(Fe(W),W.length===0)return".";for(var ne=W.charCodeAt(0),B=ne===47,ce=-1,Te=!0,ye=W.length-1;ye>=1;--ye)if((ne=W.charCodeAt(ye))===47){if(!Te){ce=ye;break}}else Te=!1;return ce===-1?B?"/":".":B&&ce===1?"//":W.slice(0,ce)},basename:function(W,ne){if(ne!==void 0&&typeof ne!="string")throw TypeError('"ext" argument must be a string');Fe(W);var B,ce=0,Te=-1,ye=!0;if(ne!==void 0&&ne.length>0&&ne.length<=W.length){if(ne.length===W.length&&ne===W)return"";var ht=ne.length-1,Y=-1;for(B=W.length-1;B>=0;--B){var Ge=W.charCodeAt(B);if(Ge===47){if(!ye){ce=B+1;break}}else Y===-1&&(ye=!1,Y=B+1),ht>=0&&(Ge===ne.charCodeAt(ht)?--ht==-1&&(Te=B):(ht=-1,Te=Y))}return ce===Te?Te=Y:Te===-1&&(Te=W.length),W.slice(ce,Te)}for(B=W.length-1;B>=0;--B)if(W.charCodeAt(B)===47){if(!ye){ce=B+1;break}}else Te===-1&&(ye=!1,Te=B+1);return Te===-1?"":W.slice(ce,Te)},extname:function(W){Fe(W);for(var ne=-1,B=0,ce=-1,Te=!0,ye=0,ht=W.length-1;ht>=0;--ht){var Y=W.charCodeAt(ht);if(Y===47){if(!Te){B=ht+1;break}continue}ce===-1&&(Te=!1,ce=ht+1),Y===46?ne===-1?ne=ht:ye!==1&&(ye=1):ne!==-1&&(ye=-1)}return ne===-1||ce===-1||ye===0||ye===1&&ne===ce-1&&ne===B+1?"":W.slice(ne,ce)},format:function(W){var ne,B;if(W===null||typeof W!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof W);return ne=W.dir||W.root,B=W.base||(W.name||"")+(W.ext||""),ne?ne===W.root?ne+B:ne+"/"+B:B},parse:function(W){Fe(W);var ne,B={root:"",dir:"",base:"",ext:"",name:""};if(W.length===0)return B;var ce=W.charCodeAt(0),Te=ce===47;Te?(B.root="/",ne=1):ne=0;for(var ye=-1,ht=0,Y=-1,Ge=!0,te=W.length-1,Ye=0;te>=ne;--te){if((ce=W.charCodeAt(te))===47){if(!Ge){ht=te+1;break}continue}Y===-1&&(Ge=!1,Y=te+1),ce===46?ye===-1?ye=te:Ye!==1&&(Ye=1):ye!==-1&&(Ye=-1)}return ye===-1||Y===-1||Ye===0||Ye===1&&ye===Y-1&&ye===ht+1?Y!==-1&&(ht===0&&Te?B.base=B.name=W.slice(1,Y):B.base=B.name=W.slice(ht,Y)):(ht===0&&Te?(B.name=W.slice(1,ye),B.base=W.slice(1,Y)):(B.name=W.slice(ht,ye),B.base=W.slice(ht,Y)),B.ext=W.slice(ye,Y)),ht>0?B.dir=W.slice(0,ht-1):Te&&(B.dir="/"),B},sep:"/",delimiter:":",win32:null,posix:null};Ee.posix=Ee,ie.exports=Ee}},Ke={};function M(ie){var Fe=Ke[ie];if(Fe!==void 0)return Fe.exports;var ge=Ke[ie]={exports:{}},Ee=!0;try{n[ie](ge,ge.exports,M),Ee=!1}finally{Ee&&delete Ke[ie]}return ge.exports}M.ab="/ROOT/node_modules/next/dist/compiled/path-browserify/",g.exports=M(114)})()},82023,(_,g,xe)=>{g.exports=_.r(92192)},24916,(_,g,xe)=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/path-to-regexp/");var n={};(()=>{function Ke(ne,B){B===void 0&&(B={});for(var ce=function(lt){for(var ur=[],ct=0;ct<lt.length;){var mt=lt[ct];if(mt==="*"||mt==="+"||mt==="?"){ur.push({type:"MODIFIER",index:ct,value:lt[ct++]});continue}if(mt==="\\"){ur.push({type:"ESCAPED_CHAR",index:ct++,value:lt[ct++]});continue}if(mt==="{"){ur.push({type:"OPEN",index:ct,value:lt[ct++]});continue}if(mt==="}"){ur.push({type:"CLOSE",index:ct,value:lt[ct++]});continue}if(mt===":"){for(var Nr="",Vr=ct+1;Vr<lt.length;){var Sn=lt.charCodeAt(Vr);if(Sn>=48&&Sn<=57||Sn>=65&&Sn<=90||Sn>=97&&Sn<=122||Sn===95){Nr+=lt[Vr++];continue}break}if(!Nr)throw TypeError("Missing parameter name at ".concat(ct));ur.push({type:"NAME",index:ct,value:Nr}),ct=Vr;continue}if(mt==="("){var Kr=1,Pr="",Vr=ct+1;if(lt[Vr]==="?")throw TypeError('Pattern cannot start with "?" at '.concat(Vr));for(;Vr<lt.length;){if(lt[Vr]==="\\"){Pr+=lt[Vr++]+lt[Vr++];continue}if(lt[Vr]===")"){if(--Kr==0){Vr++;break}}else if(lt[Vr]==="("&&(Kr++,lt[Vr+1]!=="?"))throw TypeError("Capturing groups are not allowed at ".concat(Vr));Pr+=lt[Vr++]}if(Kr)throw TypeError("Unbalanced pattern at ".concat(ct));if(!Pr)throw TypeError("Missing pattern at ".concat(ct));ur.push({type:"PATTERN",index:ct,value:Pr}),ct=Vr;continue}ur.push({type:"CHAR",index:ct,value:lt[ct++]})}return ur.push({type:"END",index:ct,value:""}),ur}(ne),Te=B.prefixes,ye=Te===void 0?"./":Te,ht=B.delimiter,Y=ht===void 0?"/#?":ht,Ge=[],te=0,Ye=0,We="",rt=function(lt){if(Ye<ce.length&&ce[Ye].type===lt)return ce[Ye++].value},$t=function(lt){var ur=rt(lt);if(ur!==void 0)return ur;var ct=ce[Ye],mt=ct.type,Nr=ct.index;throw TypeError("Unexpected ".concat(mt," at ").concat(Nr,", expected ").concat(lt))},Pt=function(){for(var lt,ur="";lt=rt("CHAR")||rt("ESCAPED_CHAR");)ur+=lt;return ur},er=function(lt){for(var ur=0;ur<Y.length;ur++){var ct=Y[ur];if(lt.indexOf(ct)>-1)return!0}return!1},Gt=function(lt){var ur=Ge[Ge.length-1],ct=lt||(ur&&typeof ur=="string"?ur:"");if(ur&&!ct)throw TypeError('Must have text between two parameters, missing text after "'.concat(ur.name,'"'));return!ct||er(ct)?"[^".concat(Fe(Y),"]+?"):"(?:(?!".concat(Fe(ct),")[^").concat(Fe(Y),"])+?")};Ye<ce.length;){var Ve=rt("CHAR"),sr=rt("NAME"),pe=rt("PATTERN");if(sr||pe){var ve=Ve||"";ye.indexOf(ve)===-1&&(We+=ve,ve=""),We&&(Ge.push(We),We=""),Ge.push({name:sr||te++,prefix:ve,suffix:"",pattern:pe||Gt(ve),modifier:rt("MODIFIER")||""});continue}var q=Ve||rt("ESCAPED_CHAR");if(q){We+=q;continue}if(We&&(Ge.push(We),We=""),rt("OPEN")){var ve=Pt(),vt=rt("NAME")||"",h=rt("PATTERN")||"",Yt=Pt();$t("CLOSE"),Ge.push({name:vt||(h?te++:""),pattern:vt&&!h?Gt(ve):h,prefix:ve,suffix:Yt,modifier:rt("MODIFIER")||""});continue}$t("END")}return Ge}function M(ne,B){B===void 0&&(B={});var ce=ge(B),Te=B.encode,ye=Te===void 0?function(te){return te}:Te,ht=B.validate,Y=ht===void 0||ht,Ge=ne.map(function(te){if(typeof te=="object")return new RegExp("^(?:".concat(te.pattern,")$"),ce)});return function(te){for(var Ye="",We=0;We<ne.length;We++){var rt=ne[We];if(typeof rt=="string"){Ye+=rt;continue}var $t=te?te[rt.name]:void 0,Pt=rt.modifier==="?"||rt.modifier==="*",er=rt.modifier==="*"||rt.modifier==="+";if(Array.isArray($t)){if(!er)throw TypeError('Expected "'.concat(rt.name,'" to not repeat, but got an array'));if($t.length===0){if(Pt)continue;throw TypeError('Expected "'.concat(rt.name,'" to not be empty'))}for(var Gt=0;Gt<$t.length;Gt++){var Ve=ye($t[Gt],rt);if(Y&&!Ge[We].test(Ve))throw TypeError('Expected all "'.concat(rt.name,'" to match "').concat(rt.pattern,'", but got "').concat(Ve,'"'));Ye+=rt.prefix+Ve+rt.suffix}continue}if(typeof $t=="string"||typeof $t=="number"){var Ve=ye(String($t),rt);if(Y&&!Ge[We].test(Ve))throw TypeError('Expected "'.concat(rt.name,'" to match "').concat(rt.pattern,'", but got "').concat(Ve,'"'));Ye+=rt.prefix+Ve+rt.suffix;continue}if(!Pt){var sr=er?"an array":"a string";throw TypeError('Expected "'.concat(rt.name,'" to be ').concat(sr))}}return Ye}}function ie(ne,B,ce){ce===void 0&&(ce={});var Te=ce.decode,ye=Te===void 0?function(ht){return ht}:Te;return function(ht){var Y=ne.exec(ht);if(!Y)return!1;for(var Ge=Y[0],te=Y.index,Ye=Object.create(null),We=1;We<Y.length;We++)(function(rt){if(Y[rt]!==void 0){var $t=B[rt-1];$t.modifier==="*"||$t.modifier==="+"?Ye[$t.name]=Y[rt].split($t.prefix+$t.suffix).map(function(Pt){return ye(Pt,$t)}):Ye[$t.name]=ye(Y[rt],$t)}})(We);return{path:Ge,index:te,params:Ye}}}function Fe(ne){return ne.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ge(ne){return ne&&ne.sensitive?"":"i"}function Ee(ne,B,ce){ce===void 0&&(ce={});for(var Te=ce.strict,ye=Te!==void 0&&Te,ht=ce.start,Y=ce.end,Ge=ce.encode,te=Ge===void 0?function(vt){return vt}:Ge,Ye=ce.delimiter,We=ce.endsWith,rt="[".concat(Fe(We===void 0?"":We),"]|$"),$t="[".concat(Fe(Ye===void 0?"/#?":Ye),"]"),Pt=ht===void 0||ht?"^":"",er=0;er<ne.length;er++){var Gt=ne[er];if(typeof Gt=="string")Pt+=Fe(te(Gt));else{var Ve=Fe(te(Gt.prefix)),sr=Fe(te(Gt.suffix));if(Gt.pattern)if(B&&B.push(Gt),Ve||sr)if(Gt.modifier==="+"||Gt.modifier==="*"){var pe=Gt.modifier==="*"?"?":"";Pt+="(?:".concat(Ve,"((?:").concat(Gt.pattern,")(?:").concat(sr).concat(Ve,"(?:").concat(Gt.pattern,"))*)").concat(sr,")").concat(pe)}else Pt+="(?:".concat(Ve,"(").concat(Gt.pattern,")").concat(sr,")").concat(Gt.modifier);else{if(Gt.modifier==="+"||Gt.modifier==="*")throw TypeError('Can not repeat "'.concat(Gt.name,'" without a prefix and suffix'));Pt+="(".concat(Gt.pattern,")").concat(Gt.modifier)}else Pt+="(?:".concat(Ve).concat(sr,")").concat(Gt.modifier)}}if(Y===void 0||Y)ye||(Pt+="".concat($t,"?")),Pt+=ce.endsWith?"(?=".concat(rt,")"):"$";else{var ve=ne[ne.length-1],q=typeof ve=="string"?$t.indexOf(ve[ve.length-1])>-1:ve===void 0;ye||(Pt+="(?:".concat($t,"(?=").concat(rt,"))?")),q||(Pt+="(?=".concat($t,"|").concat(rt,")"))}return new RegExp(Pt,ge(ce))}function W(ne,B,ce){if(ne instanceof RegExp){var Te;if(!B)return ne;for(var ye=/\((?:\?<(.*?)>)?(?!\?)/g,ht=0,Y=ye.exec(ne.source);Y;)B.push({name:Y[1]||ht++,prefix:"",suffix:"",modifier:"",pattern:""}),Y=ye.exec(ne.source);return ne}return Array.isArray(ne)?(Te=ne.map(function(Ge){return W(Ge,B,ce).source}),new RegExp("(?:".concat(Te.join("|"),")"),ge(ce))):Ee(Ke(ne,ce),B,ce)}Object.defineProperty(n,"__esModule",{value:!0}),n.pathToRegexp=n.tokensToRegexp=n.regexpToFunction=n.match=n.tokensToFunction=n.compile=n.parse=void 0,n.parse=Ke,n.compile=function(ne,B){return M(Ke(ne,B),B)},n.tokensToFunction=M,n.match=function(ne,B){var ce=[];return ie(W(ne,ce,B),ce,B)},n.regexpToFunction=ie,n.tokensToRegexp=Ee,n.pathToRegexp=W})(),g.exports=n})()},87297,(_,g,xe)=>{g.exports=["chrome 111","edge 111","firefox 111","safari 16.4"]},37018,(_,g,xe)=>{"use strict";var n={H:null,A:null};function Ke(pe){var ve="https://react.dev/errors/"+pe;if(1<arguments.length){ve+="?args[]="+encodeURIComponent(arguments[1]);for(var q=2;q<arguments.length;q++)ve+="&args[]="+encodeURIComponent(arguments[q])}return"Minified React error #"+pe+"; visit "+ve+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M=Array.isArray;function ie(){}var Fe=Symbol.for("react.transitional.element"),ge=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),B=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Te=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ht=Symbol.for("react.activity"),Y=Symbol.for("react.view_transition"),Ge=Symbol.iterator,te=Object.prototype.hasOwnProperty,Ye=Object.assign;function We(pe,ve,q){var vt=q.ref;return{$$typeof:Fe,type:pe,key:ve,ref:vt!==void 0?vt:null,props:q}}function rt(pe){return typeof pe=="object"&&pe!==null&&pe.$$typeof===Fe}var $t=/\/+/g;function Pt(pe,ve){var q,vt;return typeof pe=="object"&&pe!==null&&pe.key!=null?(q=""+pe.key,vt={"=":"=0",":":"=2"},"$"+q.replace(/[=:]/g,function(h){return vt[h]})):ve.toString(36)}function er(pe,ve,q){if(pe==null)return pe;var vt=[],h=0;return function Yt(lt,ur,ct,mt,Nr){var Vr,Sn,Kr,Pr=typeof lt;(Pr==="undefined"||Pr==="boolean")&&(lt=null);var Dn=!1;if(lt===null)Dn=!0;else switch(Pr){case"bigint":case"string":case"number":Dn=!0;break;case"object":switch(lt.$$typeof){case Fe:case ge:Dn=!0;break;case ye:return Yt((Dn=lt._init)(lt._payload),ur,ct,mt,Nr)}}if(Dn)return Nr=Nr(lt),Dn=mt===""?"."+Pt(lt,0):mt,M(Nr)?(ct="",Dn!=null&&(ct=Dn.replace($t,"$&/")+"/"),Yt(Nr,ur,ct,"",function(L){return L})):Nr!=null&&(rt(Nr)&&(Vr=Nr,Sn=ct+(Nr.key==null||lt&&lt.key===Nr.key?"":(""+Nr.key).replace($t,"$&/")+"/")+Dn,Nr=We(Vr.type,Sn,Vr.props)),ur.push(Nr)),1;Dn=0;var Nn=mt===""?".":mt+":";if(M(lt))for(var Re=0;Re<lt.length;Re++)Pr=Nn+Pt(mt=lt[Re],Re),Dn+=Yt(mt,ur,ct,Pr,Nr);else if(typeof(Re=(Kr=lt)===null||typeof Kr!="object"?null:typeof(Kr=Ge&&Kr[Ge]||Kr["@@iterator"])=="function"?Kr:null)=="function")for(lt=Re.call(lt),Re=0;!(mt=lt.next()).done;)Pr=Nn+Pt(mt=mt.value,Re++),Dn+=Yt(mt,ur,ct,Pr,Nr);else if(Pr==="object"){if(typeof lt.then=="function")return Yt(function(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ie,ie):(L.status="pending",L.then(function(V){L.status==="pending"&&(L.status="fulfilled",L.value=V)},function(V){L.status==="pending"&&(L.status="rejected",L.reason=V)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}(lt),ur,ct,mt,Nr);throw Error(Ke(31,(ur=String(lt))==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":ur))}return Dn}(pe,vt,"","",function(Yt){return ve.call(q,Yt,h++)}),vt}function Gt(pe){if(pe._status===-1){var ve=pe._result;(ve=ve()).then(function(q){(pe._status===0||pe._status===-1)&&(pe._status=1,pe._result=q)},function(q){(pe._status===0||pe._status===-1)&&(pe._status=2,pe._result=q)}),pe._status===-1&&(pe._status=0,pe._result=ve)}if(pe._status===1)return pe._result.default;throw pe._result}function Ve(){return new WeakMap}function sr(){return{s:0,v:void 0,o:null,p:null}}xe.Activity=ht,xe.Children={map:er,forEach:function(pe,ve,q){er(pe,function(){ve.apply(this,arguments)},q)},count:function(pe){var ve=0;return er(pe,function(){ve++}),ve},toArray:function(pe){return er(pe,function(ve){return ve})||[]},only:function(pe){if(!rt(pe))throw Error(Ke(143));return pe}},xe.Fragment=Ee,xe.Profiler=ne,xe.StrictMode=W,xe.Suspense=ce,xe.ViewTransition=Y,xe.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,xe.cache=function(pe){return function(){var ve=n.A;if(!ve)return pe.apply(null,arguments);var q=ve.getCacheForType(Ve);(ve=q.get(pe))===void 0&&(ve=sr(),q.set(pe,ve)),q=0;for(var vt=arguments.length;q<vt;q++){var h=arguments[q];if(typeof h=="function"||typeof h=="object"&&h!==null){var Yt=ve.o;Yt===null&&(ve.o=Yt=new WeakMap),(ve=Yt.get(h))===void 0&&(ve=sr(),Yt.set(h,ve))}else(Yt=ve.p)===null&&(ve.p=Yt=new Map),(ve=Yt.get(h))===void 0&&(ve=sr(),Yt.set(h,ve))}if(ve.s===1)return ve.v;if(ve.s===2)throw ve.v;try{var lt=pe.apply(null,arguments);return(q=ve).s=1,q.v=lt}catch(ur){throw(lt=ve).s=2,lt.v=ur,ur}}},xe.cacheSignal=function(){var pe=n.A;return pe?pe.cacheSignal():null},xe.captureOwnerStack=function(){return null},xe.cloneElement=function(pe,ve,q){if(pe==null)throw Error(Ke(267,pe));var vt=Ye({},pe.props),h=pe.key;if(ve!=null)for(Yt in ve.key!==void 0&&(h=""+ve.key),ve)te.call(ve,Yt)&&Yt!=="key"&&Yt!=="__self"&&Yt!=="__source"&&(Yt!=="ref"||ve.ref!==void 0)&&(vt[Yt]=ve[Yt]);var Yt=arguments.length-2;if(Yt===1)vt.children=q;else if(1<Yt){for(var lt=Array(Yt),ur=0;ur<Yt;ur++)lt[ur]=arguments[ur+2];vt.children=lt}return We(pe.type,h,vt)},xe.createElement=function(pe,ve,q){var vt,h={},Yt=null;if(ve!=null)for(vt in ve.key!==void 0&&(Yt=""+ve.key),ve)te.call(ve,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(h[vt]=ve[vt]);var lt=arguments.length-2;if(lt===1)h.children=q;else if(1<lt){for(var ur=Array(lt),ct=0;ct<lt;ct++)ur[ct]=arguments[ct+2];h.children=ur}if(pe&&pe.defaultProps)for(vt in lt=pe.defaultProps)h[vt]===void 0&&(h[vt]=lt[vt]);return We(pe,Yt,h)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(pe){return{$$typeof:B,render:pe}},xe.isValidElement=rt,xe.lazy=function(pe){return{$$typeof:ye,_payload:{_status:-1,_result:pe},_init:Gt}},xe.memo=function(pe,ve){return{$$typeof:Te,type:pe,compare:ve===void 0?null:ve}},xe.use=function(pe){return n.H.use(pe)},xe.useCallback=function(pe,ve){return n.H.useCallback(pe,ve)},xe.useDebugValue=function(){},xe.useId=function(){return n.H.useId()},xe.useMemo=function(pe,ve){return n.H.useMemo(pe,ve)},xe.version="19.3.0-canary-f93b9fd4-20251217"},34392,(_,g,xe)=>{"use strict";g.exports=_.r(37018)},92480,5809,87167,51720,93764,81527,75454,14327,63402,83978,75601,94706,19805,3661,43820,85867,49783,8900,55468,47986,546,68045,93441,72445,66401,66011,72451,49316,79698,12112,88154,11573,78116,74715,34277,4842,59106,83877,13651,23646,27064,60130,18215,65832,12239,53369,2635,14766,27934,99888,82233,69297,13714,88503,25249,10824,92879,68270,99690,21170,32995,_=>{"use strict";let g,xe,n,Ke;class M extends Error{constructor(d,y){super(`Invariant: ${d.endsWith(".")?d:d+"."} This is a bug in Next.js.`,y),this.name="InvariantError"}}function ie(k){return k.startsWith("/")?k:`/${k}`}function Fe(k){return ie(k.split("/").reduce((d,y,O,U)=>y?y[0]==="("&&y.endsWith(")")||y[0]==="@"||(y==="page"||y==="route")&&O===U.length-1?d:`${d}/${y}`:d,""))}function ge(k){return k.replace(/\.rsc($|\?)/,"$1")}function Ee(k){let d=k.indexOf("#"),y=k.indexOf("?"),O=y>-1&&(d<0||y<d);return O||d>-1?{pathname:k.substring(0,O?y:d),query:O?k.substring(y,d>-1?d:void 0):"",hash:d>-1?k.slice(d):""}:{pathname:k,query:"",hash:""}}function W(k,d){if(typeof k!="string")return!1;let{pathname:y}=Ee(k);return y===d||y.startsWith(d+"/")}function ne(k,d){if(!W(k,d))return k;let y=k.slice(d.length);return y.startsWith("/")?y:`/${y}`}_.s(["InvariantError",()=>M],5809),_.s(["normalizeAppPath",()=>Fe,"normalizeRscURL",()=>ge],87167),_.s(["pathHasPrefix",()=>W],51720),_.s(["removePathPrefix",()=>ne],93764),_.i(13477),_.s([],81527);var B,ce,Te,ye,ht,Y,Ge,te,Ye,We,rt,$t,Pt,er,Gt,Ve,sr,pe,ve=_.i(68644);let q=Symbol.for("next.server.manifests"),vt=mr;function h({page:k,clientReferenceManifest:d,serverActionsManifest:y}){let O=vt[q];if(O)O.clientReferenceManifestsPerRoute.set(Fe(k),d),O.serverActionsManifest=y;else{let U,le=new Map([[Fe(k),d]]),E=(U=new Map,new Proxy({},{get(X,be){let je=ve.workAsyncStorage.getStore();switch(be){case"moduleLoading":case"entryCSSFiles":case"entryJSFiles":{if(!je)throw Object.defineProperty(new M(`Cannot access "${be}" without a work store.`),"__NEXT_ERROR_CODE",{value:"E952",enumerable:!1,configurable:!0});let it=le.get(je.route);if(!it)throw Object.defineProperty(new M(`The client reference manifest for route "${je.route}" does not exist.`),"__NEXT_ERROR_CODE",{value:"E951",enumerable:!1,configurable:!0});return it[be]}case"clientModules":case"rscModuleMapping":case"edgeRscModuleMapping":case"ssrModuleMapping":case"edgeSSRModuleMapping":{let it=U.get(be);return!it&&(it=new Proxy({},{get(Rt,et){let ar=ve.workAsyncStorage.getStore();if(ar){let Ht=le.get(ar.route);if(Ht?.[be][et])return Ht[be][et]}else for(let Ht of le.values()){let Xt=Ht[be][et];if(Xt!==void 0)return Xt}}}),U.set(be,it)),it}default:throw Object.defineProperty(new M(`This is a proxied client reference manifest. The property "${String(be)}" is not handled.`),"__NEXT_ERROR_CODE",{value:"E953",enumerable:!1,configurable:!0})}}}));vt[q]={clientReferenceManifestsPerRoute:le,proxiedClientReferenceManifest:E,serverActionsManifest:y,serverModuleMap:new Proxy({},{get:(X,be)=>{var je,it,Rt;let et,ar=(it=function(){let Vt=vt[q];if(!Vt)throw Object.defineProperty(new M("The manifests singleton was not initialized."),"__NEXT_ERROR_CODE",{value:"E950",enumerable:!1,configurable:!0});return Vt}().serverActionsManifest.edge)==null||(je=it[be])==null?void 0:je.workers;if(!ar)return;let Ht=ve.workAsyncStorage.getStore();if(!(et=Ht?ar[W(Rt=Ht.page,"app")?Rt:"app"+Rt]:Object.values(ar).at(0)))return;let{moduleId:Xt,async:Nt}=et;return{id:Xt,name:be,chunks:[],async:Nt}}})}}}_.s(["setManifestsSingleton",()=>h],92480);class Yt extends Error{constructor({page:d}){super(`The middleware "${d}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class lt extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class ur extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}_.s(["PageSignatureError",()=>Yt,"RemovedPageError",()=>lt,"RemovedUAError",()=>ur],75454);let ct="text/html; charset=utf-8",mt="nxtP",Nr="nxtI",Vr="x-prerender-revalidate",Sn="x-prerender-revalidate-if-generated",Kr=".segments",Pr=".segment.rsc",Dn=".rsc",Nn=".json",Re=".meta",L="x-next-cache-tags",V="x-next-revalidated-tags",K="x-next-revalidate-tag-token",Le="_N_T_",at={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function Wt(k){let d=new Headers;for(let[y,O]of Object.entries(k))for(let U of Array.isArray(O)?O:[O])U!==void 0&&(typeof U=="number"&&(U=U.toString()),d.append(y,U));return d}function wr(k){var d,y,O,U,le,E=[],X=0;function be(){for(;X<k.length&&/\s/.test(k.charAt(X));)X+=1;return X<k.length}for(;X<k.length;){for(d=X,le=!1;be();)if((y=k.charAt(X))===","){for(O=X,X+=1,be(),U=X;X<k.length&&(y=k.charAt(X))!=="="&&y!==";"&&y!==",";)X+=1;X<k.length&&k.charAt(X)==="="?(le=!0,X=U,E.push(k.substring(d,O)),d=X):X=O+1}else X+=1;(!le||X>=k.length)&&E.push(k.substring(d,k.length))}return E}function J(k){let d={},y=[];if(k)for(let[O,U]of k.entries())O.toLowerCase()==="set-cookie"?(y.push(...wr(U)),d[O]=y.length===1?y[0]:y):d[O]=U;return d}function Xr(k){try{return String(new URL(String(k)))}catch(d){throw Object.defineProperty(Error(`URL is malformed "${String(k)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:d}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function Yr(k){for(let d of[mt,Nr])if(k!==d&&k.startsWith(d))return k.substring(d.length);return null}function hn(k,d,y){if(k){for(let O of(y&&(y=y.toLowerCase()),k))if(d===O.domain?.split(":",1)[0].toLowerCase()||y===O.defaultLocale.toLowerCase()||O.locales?.some(U=>U.toLowerCase()===y))return O}}function ti(k){return k.replace(/\/$/,"")||"/"}function Zn(k,d){if(!k.startsWith("/")||!d)return k;let{pathname:y,query:O,hash:U}=Ee(k);return`${d}${y}${O}${U}`}function lr(k,d){if(!k.startsWith("/")||!d)return k;let{pathname:y,query:O,hash:U}=Ee(k);return`${y}${d}${O}${U}`}function st(k,d){let y;if(d?.host&&!Array.isArray(d.host))y=d.host.toString().split(":",1)[0];else{if(!k.hostname)return;y=k.hostname}return y.toLowerCase()}at.reactServerComponents,at.actionBrowser,at.reactServerComponents,at.actionBrowser,at.instrument,at.middleware,at.apiNode,at.apiEdge,at.serverSideRendering,at.appPagesBrowser,at.reactServerComponents,at.actionBrowser,at.serverSideRendering,at.appPagesBrowser,at.shared,at.instrument,at.middleware,at.reactServerComponents,at.serverSideRendering,at.appPagesBrowser,at.actionBrowser,_.s(["CACHE_ONE_YEAR",0,31536e3,"HTML_CONTENT_TYPE_HEADER",0,ct,"INFINITE_CACHE",0,4294967294,"NEXT_CACHE_IMPLICIT_TAG_ID",0,Le,"NEXT_CACHE_REVALIDATED_TAGS_HEADER",0,V,"NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER",0,K,"NEXT_CACHE_TAGS_HEADER",0,L,"NEXT_CACHE_TAG_MAX_ITEMS",0,128,"NEXT_CACHE_TAG_MAX_LENGTH",0,256,"NEXT_DATA_SUFFIX",0,Nn,"NEXT_INTERCEPTION_MARKER_PREFIX",0,Nr,"NEXT_META_SUFFIX",0,Re,"NEXT_QUERY_PARAM_PREFIX",0,mt,"PRERENDER_REVALIDATE_HEADER",0,Vr,"PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER",0,Sn,"RSC_SEGMENTS_DIR_SUFFIX",0,Kr,"RSC_SEGMENT_SUFFIX",0,Pr,"RSC_SUFFIX",0,Dn],14327),_.s(["fromNodeOutgoingHttpHeaders",()=>Wt,"normalizeNextQueryParam",()=>Yr,"splitCookiesString",()=>wr,"toNodeOutgoingHttpHeaders",()=>J,"validateURL",()=>Xr],63402),_.s(["detectDomainLocale",()=>hn],83978),_.s(["removeTrailingSlash",()=>ti],75601),_.s(["getHostname",()=>st],94706);let Ut=new WeakMap;function nr(k,d){let y;if(!d)return{pathname:k};let O=Ut.get(d);O||(O=d.map(X=>X.toLowerCase()),Ut.set(d,O));let U=k.split("/",2);if(!U[1])return{pathname:k};let le=U[1].toLowerCase(),E=O.indexOf(le);return E<0?{pathname:k}:(y=d[E],{pathname:k=k.slice(y.length+1)||"/",detectedLocale:y})}_.s(["normalizeLocalePath",()=>nr],19805);let fn=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function Zr(k,d){return new URL(String(k).replace(fn,"localhost"),d&&String(d).replace(fn,"localhost"))}let dr=Symbol("NextURLInternal");class Ki{constructor(d,y,O){let U,le;typeof y=="object"&&"pathname"in y||typeof y=="string"?(U=y,le=O||{}):le=O||y||{},this[dr]={url:Zr(d,U??le.base),options:le,basePath:""},this.analyze()}analyze(){var d,y,O,U,le;let E=function(je,it){let{basePath:Rt,i18n:et,trailingSlash:ar}=it.nextConfig??{},Ht={pathname:je,trailingSlash:je!=="/"?je.endsWith("/"):ar};Rt&&W(Ht.pathname,Rt)&&(Ht.pathname=ne(Ht.pathname,Rt),Ht.basePath=Rt);let Xt=Ht.pathname;if(Ht.pathname.startsWith("/_next/data/")&&Ht.pathname.endsWith(".json")){let Nt=Ht.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");Ht.buildId=Nt[0],Xt=Nt[1]!=="index"?`/${Nt.slice(1).join("/")}`:"/",it.parseData===!0&&(Ht.pathname=Xt)}if(et){let Nt=it.i18nProvider?it.i18nProvider.analyze(Ht.pathname):nr(Ht.pathname,et.locales);Ht.locale=Nt.detectedLocale,Ht.pathname=Nt.pathname??Ht.pathname,!Nt.detectedLocale&&Ht.buildId&&(Nt=it.i18nProvider?it.i18nProvider.analyze(Xt):nr(Xt,et.locales)).detectedLocale&&(Ht.locale=Nt.detectedLocale)}return Ht}(this[dr].url.pathname,{nextConfig:this[dr].options.nextConfig,parseData:!0,i18nProvider:this[dr].options.i18nProvider}),X=st(this[dr].url,this[dr].options.headers);this[dr].domainLocale=this[dr].options.i18nProvider?this[dr].options.i18nProvider.detectDomainLocale(X):hn((y=this[dr].options.nextConfig)==null||(d=y.i18n)==null?void 0:d.domains,X);let be=((O=this[dr].domainLocale)==null?void 0:O.defaultLocale)||((le=this[dr].options.nextConfig)==null||(U=le.i18n)==null?void 0:U.defaultLocale);this[dr].url.pathname=E.pathname,this[dr].defaultLocale=be,this[dr].basePath=E.basePath??"",this[dr].buildId=E.buildId,this[dr].locale=E.locale??be,this[dr].trailingSlash=E.trailingSlash}formatPathname(){var d;let y;return y=function(O,U,le,E){if(!U||U===le)return O;let X=O.toLowerCase();return!E&&(W(X,"/api")||W(X,`/${U.toLowerCase()}`))?O:Zn(O,`/${U}`)}((d={basePath:this[dr].basePath,buildId:this[dr].buildId,defaultLocale:this[dr].options.forceLocale?void 0:this[dr].defaultLocale,locale:this[dr].locale,pathname:this[dr].url.pathname,trailingSlash:this[dr].trailingSlash}).pathname,d.locale,d.buildId?void 0:d.defaultLocale,d.ignorePrefix),(d.buildId||!d.trailingSlash)&&(y=ti(y)),d.buildId&&(y=lr(Zn(y,`/_next/data/${d.buildId}`),d.pathname==="/"?"index.json":".json")),y=Zn(y,d.basePath),!d.buildId&&d.trailingSlash?y.endsWith("/")?y:lr(y,"/"):ti(y)}formatSearch(){return this[dr].url.search}get buildId(){return this[dr].buildId}set buildId(d){this[dr].buildId=d}get locale(){return this[dr].locale??""}set locale(d){var y,O;if(!this[dr].locale||!(!((O=this[dr].options.nextConfig)==null||(y=O.i18n)==null)&&y.locales.includes(d)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${d}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[dr].locale=d}get defaultLocale(){return this[dr].defaultLocale}get domainLocale(){return this[dr].domainLocale}get searchParams(){return this[dr].url.searchParams}get host(){return this[dr].url.host}set host(d){this[dr].url.host=d}get hostname(){return this[dr].url.hostname}set hostname(d){this[dr].url.hostname=d}get port(){return this[dr].url.port}set port(d){this[dr].url.port=d}get protocol(){return this[dr].url.protocol}set protocol(d){this[dr].url.protocol=d}get href(){let d=this.formatPathname(),y=this.formatSearch();return`${this.protocol}//${this.host}${d}${y}${this.hash}`}set href(d){this[dr].url=Zr(d),this.analyze()}get origin(){return this[dr].url.origin}get pathname(){return this[dr].url.pathname}set pathname(d){this[dr].url.pathname=d}get hash(){return this[dr].url.hash}set hash(d){this[dr].url.hash=d}get search(){return this[dr].url.search}set search(d){this[dr].url.search=d}get password(){return this[dr].url.password}set password(d){this[dr].url.password=d}get username(){return this[dr].url.username}set username(d){this[dr].url.username=d}get basePath(){return this[dr].basePath}set basePath(d){this[dr].basePath=d.startsWith("/")?d:`/${d}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new Ki(String(this),this[dr].options)}}_.s(["NextURL",()=>Ki],3661);var ri=_.i(635);_.s([],43820);let Tn=Symbol("internal request");class Xn extends Request{constructor(d,y={}){let O=typeof d!="string"&&"url"in d?d.url:String(d);Xr(O),d instanceof Request?super(d,y):super(O,y);let U=new Ki(O,{headers:J(this.headers),nextConfig:y.nextConfig});this[Tn]={cookies:new ri.RequestCookies(this.headers),nextUrl:U,url:U.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[Tn].cookies}get nextUrl(){return this[Tn].nextUrl}get page(){throw new lt}get ua(){throw new ur}get url(){return this[Tn].url}}_.s(["NextRequest",()=>Xn],85867);class pn{static get(d,y,O){let U=Reflect.get(d,y,O);return typeof U=="function"?U.bind(d):U}static set(d,y,O,U){return Reflect.set(d,y,O,U)}static has(d,y){return Reflect.has(d,y)}static deleteProperty(d,y){return Reflect.deleteProperty(d,y)}}_.s(["ReflectAdapter",()=>pn],49783);let ze="next-router-prefetch",ft=["rsc","next-router-state-tree",ze,"next-hmr-refresh","next-router-segment-prefetch"];_.s(["ACTION_HEADER",0,"next-action","FLIGHT_HEADERS",0,ft,"NEXT_REWRITTEN_PATH_HEADER",0,"x-nextjs-rewritten-path","NEXT_REWRITTEN_QUERY_HEADER",0,"x-nextjs-rewritten-query","NEXT_ROUTER_PREFETCH_HEADER",0,ze,"NEXT_RSC_UNION_QUERY",0,"_rsc","RSC_HEADER",0,"rsc"],8900);class pr extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new pr}}class De extends Headers{constructor(d){super(),this.headers=new Proxy(d,{get(y,O,U){if(typeof O=="symbol")return pn.get(y,O,U);let le=O.toLowerCase(),E=Object.keys(d).find(X=>X.toLowerCase()===le);if(E!==void 0)return pn.get(y,E,U)},set(y,O,U,le){if(typeof O=="symbol")return pn.set(y,O,U,le);let E=O.toLowerCase(),X=Object.keys(d).find(be=>be.toLowerCase()===E);return pn.set(y,X??O,U,le)},has(y,O){if(typeof O=="symbol")return pn.has(y,O);let U=O.toLowerCase(),le=Object.keys(d).find(E=>E.toLowerCase()===U);return le!==void 0&&pn.has(y,le)},deleteProperty(y,O){if(typeof O=="symbol")return pn.deleteProperty(y,O);let U=O.toLowerCase(),le=Object.keys(d).find(E=>E.toLowerCase()===U);return le===void 0||pn.deleteProperty(y,le)}})}static seal(d){return new Proxy(d,{get(y,O,U){switch(O){case"append":case"delete":case"set":return pr.callable;default:return pn.get(y,O,U)}}})}merge(d){return Array.isArray(d)?d.join(", "):d}static from(d){return d instanceof Headers?d:new De(d)}append(d,y){let O=this.headers[d];typeof O=="string"?this.headers[d]=[O,y]:Array.isArray(O)?O.push(y):this.headers[d]=y}delete(d){delete this.headers[d]}get(d){let y=this.headers[d];return y!==void 0?this.merge(y):null}has(d){return this.headers[d]!==void 0}set(d,y){this.headers[d]=y}forEach(d,y){for(let[O,U]of this.entries())d.call(y,U,O,this)}*entries(){for(let d of Object.keys(this.headers)){let y=d.toLowerCase(),O=this.get(y);yield[y,O]}}*keys(){for(let d of Object.keys(this.headers))yield d.toLowerCase()}*values(){for(let d of Object.keys(this.headers))yield this.get(d)}[Symbol.iterator](){return this.entries()}}_.s(["HeadersAdapter",()=>De],55468);class cn extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new cn}}class zi{static seal(d){return new Proxy(d,{get(y,O,U){switch(O){case"clear":case"delete":case"set":return cn.callable;default:return pn.get(y,O,U)}}})}}let rn=Symbol.for("next.mutated.cookies");function Di(k,d){let y,O=(y=d[rn])&&Array.isArray(y)&&y.length!==0?y:[];if(O.length===0)return!1;let U=new ri.ResponseCookies(k),le=U.getAll();for(let E of O)U.set(E);for(let E of le)U.set(E);return!0}class ca{static wrap(d,y){let O=new ri.ResponseCookies(new Headers);for(let be of d.getAll())O.set(be);let U=[],le=new Set,E=()=>{let be=ve.workAsyncStorage.getStore();if(be&&(be.pathWasRevalidated=1),U=O.getAll().filter(je=>le.has(je.name)),y){let je=[];for(let it of U){let Rt=new ri.ResponseCookies(new Headers);Rt.set(it),je.push(Rt.toString())}y(je)}},X=new Proxy(O,{get(be,je,it){switch(je){case rn:return U;case"delete":return function(...Rt){le.add(typeof Rt[0]=="string"?Rt[0]:Rt[0].name);try{return be.delete(...Rt),X}finally{E()}};case"set":return function(...Rt){le.add(typeof Rt[0]=="string"?Rt[0]:Rt[0].name);try{return be.set(...Rt),X}finally{E()}};default:return pn.get(be,je,it)}}});return X}}function qa(k){let d=new Proxy(k.mutableCookies,{get(y,O,U){switch(O){case"delete":return function(...le){return An(k,"cookies().delete"),y.delete(...le),d};case"set":return function(...le){return An(k,"cookies().set"),y.set(...le),d};default:return pn.get(y,O,U)}}});return d}function An(k,d){if(k.phase!=="action")throw new cn}_.s(["MutableRequestCookiesAdapter",()=>ca,"RequestCookiesAdapter",()=>zi,"appendMutableCookies",()=>Di,"createCookiesWithMutableAccessCheck",()=>qa],47986);var ia=((B=ia||{}).handleRequest="BaseServer.handleRequest",B.run="BaseServer.run",B.pipe="BaseServer.pipe",B.getStaticHTML="BaseServer.getStaticHTML",B.render="BaseServer.render",B.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",B.renderToResponse="BaseServer.renderToResponse",B.renderToHTML="BaseServer.renderToHTML",B.renderError="BaseServer.renderError",B.renderErrorToResponse="BaseServer.renderErrorToResponse",B.renderErrorToHTML="BaseServer.renderErrorToHTML",B.render404="BaseServer.render404",B),Ha=((ce=Ha||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",ce.loadComponents="LoadComponents.loadComponents",ce),Yi=((Te=Yi||{}).getRequestHandler="NextServer.getRequestHandler",Te.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",Te.getServer="NextServer.getServer",Te.getServerRequestHandler="NextServer.getServerRequestHandler",Te.createServer="createServer.createServer",Te),nn=((ye=nn||{}).compression="NextNodeServer.compression",ye.getBuildId="NextNodeServer.getBuildId",ye.createComponentTree="NextNodeServer.createComponentTree",ye.clientComponentLoading="NextNodeServer.clientComponentLoading",ye.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",ye.generateStaticRoutes="NextNodeServer.generateStaticRoutes",ye.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",ye.generatePublicRoutes="NextNodeServer.generatePublicRoutes",ye.generateImageRoutes="NextNodeServer.generateImageRoutes.route",ye.sendRenderResult="NextNodeServer.sendRenderResult",ye.proxyRequest="NextNodeServer.proxyRequest",ye.runApi="NextNodeServer.runApi",ye.render="NextNodeServer.render",ye.renderHTML="NextNodeServer.renderHTML",ye.imageOptimizer="NextNodeServer.imageOptimizer",ye.getPagePath="NextNodeServer.getPagePath",ye.getRoutesManifest="NextNodeServer.getRoutesManifest",ye.findPageComponents="NextNodeServer.findPageComponents",ye.getFontManifest="NextNodeServer.getFontManifest",ye.getServerComponentManifest="NextNodeServer.getServerComponentManifest",ye.getRequestHandler="NextNodeServer.getRequestHandler",ye.renderToHTML="NextNodeServer.renderToHTML",ye.renderError="NextNodeServer.renderError",ye.renderErrorToHTML="NextNodeServer.renderErrorToHTML",ye.render404="NextNodeServer.render404",ye.startResponse="NextNodeServer.startResponse",ye.route="route",ye.onProxyReq="onProxyReq",ye.apiResolver="apiResolver",ye.internalFetch="internalFetch",ye),Bn=((ht=Bn||{}).startServer="startServer.startServer",ht),da=((Y=da||{}).getServerSideProps="Render.getServerSideProps",Y.getStaticProps="Render.getStaticProps",Y.renderToString="Render.renderToString",Y.renderDocument="Render.renderDocument",Y.createBodyResult="Render.createBodyResult",Y),Ja=((Ge=Ja||{}).renderToString="AppRender.renderToString",Ge.renderToReadableStream="AppRender.renderToReadableStream",Ge.getBodyResult="AppRender.getBodyResult",Ge.fetch="AppRender.fetch",Ge),_o=((te=_o||{}).executeRoute="Router.executeRoute",te),La=((Ye=La||{}).runHandler="Node.runHandler",Ye),Wi=((We=Wi||{}).runHandler="AppRouteRouteHandlers.runHandler",We),Xa=((rt=Xa||{}).generateMetadata="ResolveMetadata.generateMetadata",rt.generateViewport="ResolveMetadata.generateViewport",rt),Ya=(($t=Ya||{}).execute="Middleware.execute",$t);let Ea=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),po=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);function mo(k){return k!==null&&typeof k=="object"&&"then"in k&&typeof k.then=="function"}_.s(["AppRenderSpan",()=>Ja,"AppRouteRouteHandlersSpan",()=>Wi,"BaseServerSpan",()=>ia,"LogSpanAllowList",0,po,"MiddlewareSpan",()=>Ya,"NextNodeServerSpan",()=>nn,"NextVanillaSpanAllowlist",0,Ea],546);let xt=process.env.NEXT_OTEL_PERFORMANCE_PREFIX,{context:Ce,propagation:vr,trace:G,SpanStatusCode:Tr,SpanKind:en,ROOT_CONTEXT:Ln}=g=_.r(32063);class In extends Error{constructor(d,y){super(),this.bubble=d,this.result=y}}let Jr=(k,d)=>{typeof d=="object"&&d!==null&&d instanceof In&&d.bubble?k.setAttribute("next.bubble",!0):(d&&(k.recordException(d),k.setAttribute("error.type",d.name)),k.setStatus({code:Tr.ERROR,message:d?.message})),k.end()},Hn=new Map,Gi=g.createContextKey("next.rootSpanId"),Li=0,ki={set(k,d,y){k.push({key:d,value:y})}},di=(Ke=new class{getTracerInstance(){return G.getTracer("next.js","0.0.1")}getContext(){return Ce}getTracePropagationData(){let d=Ce.active(),y=[];return vr.inject(d,y,ki),y}getActiveScopeSpan(){return G.getSpan(Ce?.active())}withPropagatedContext(d,y,O){let U=Ce.active();if(G.getSpanContext(U))return y();let le=vr.extract(U,d,O);return Ce.with(le,y)}trace(...d){let[y,O,U]=d,{fn:le,options:E}=typeof O=="function"?{fn:O,options:{}}:{fn:U,options:{...O}},X=E.spanName??y;if(!Ea.has(y)&&process.env.NEXT_OTEL_VERBOSE!=="1"||E.hideSpan)return le();let be=this.getSpanContext(E?.parentSpan??this.getActiveScopeSpan());be||(be=Ce?.active()??Ln);let je=be.getValue(Gi),it=typeof je!="number"||!Hn.has(je),Rt=Li++;return E.attributes={"next.span_name":X,"next.span_type":y,...E.attributes},Ce.with(be.setValue(Gi,Rt),()=>this.getTracerInstance().startActiveSpan(X,E,et=>{let ar;xt&&y&&po.has(y)&&(ar="performance"in mr&&"measure"in performance?mr.performance.now():void 0);let Ht=!1,Xt=()=>{!Ht&&(Ht=!0,Hn.delete(Rt),ar&&performance.measure(`${xt}:next-${(y.split(".").pop()||"").replace(/[A-Z]/g,Nt=>"-"+Nt.toLowerCase())}`,{start:ar,end:performance.now()}))};if(it&&Hn.set(Rt,new Map(Object.entries(E.attributes??{}))),le.length>1)try{return le(et,Nt=>Jr(et,Nt))}catch(Nt){throw Jr(et,Nt),Nt}finally{Xt()}try{let Nt=le(et);return mo(Nt)?Nt.then(Vt=>(et.end(),Vt)).catch(Vt=>{throw Jr(et,Vt),Vt}).finally(Xt):(et.end(),Xt(),Nt)}catch(Nt){throw Jr(et,Nt),Xt(),Nt}}))}wrap(...d){let y=this,[O,U,le]=d.length===3?d:[d[0],{},d[1]];return Ea.has(O)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let E=U;typeof E=="function"&&typeof le=="function"&&(E=E.apply(this,arguments));let X=arguments.length-1,be=arguments[X];if(typeof be!="function")return y.trace(O,E,()=>le.apply(this,arguments));{let je=y.getContext().bind(Ce.active(),be);return y.trace(O,E,(it,Rt)=>(arguments[X]=function(et){return Rt?.(et),je.apply(this,arguments)},le.apply(this,arguments)))}}:le}startSpan(...d){let[y,O]=d,U=this.getSpanContext(O?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(y,O,U)}getSpanContext(d){return d?G.setSpan(Ce.active(),d):void 0}getRootSpanAttributes(){let d=Ce.active().getValue(Gi);return Hn.get(d)}setRootSpanAttribute(d,y){let O=Ce.active().getValue(Gi),U=Hn.get(O);U&&!U.has(d)&&U.set(d,y)}withSpan(d,y){let O=G.setSpan(Ce.active(),d);return Ce.with(O,y)}},()=>Ke);function Fi(k,d){let y=De.from(k.headers);return{isOnDemandRevalidate:y.get(Vr)===d.previewModeId,revalidateOnlyGenerated:y.has(Sn)}}_.s(["SpanKind",()=>en,"getTracer",()=>di],68045);let Ot="__prerender_bypass";Symbol("__next_preview_data");let pi=Symbol(Ot);_.s(["COOKIE_NAME_PRERENDER_BYPASS",0,Ot,"SYMBOL_CLEARED_COOKIES",0,pi,"checkIsOnDemandRevalidate",()=>Fi],93441);class Un{constructor(d,y,O,U){var le;let E=d&&Fi(y,d).isOnDemandRevalidate,X=(le=O.get(Ot))==null?void 0:le.value;this._isEnabled=!!(!E&&X&&d&&X===d.previewModeId),this._previewModeId=d?.previewModeId,this._mutableCookies=U}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:Ot,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:Ot,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function Yn(k,d){if("x-middleware-set-cookie"in k.headers&&typeof k.headers["x-middleware-set-cookie"]=="string"){let y=k.headers["x-middleware-set-cookie"],O=new Headers;for(let U of wr(y))O.append("set-cookie",U);for(let U of new ri.ResponseCookies(O).getAll())d.set(U)}}function gn(k,d,y,O,U){return function(le,E,X,be,je,it,Rt,et,ar,Ht,Xt,Nt){function Vt(Mt){X&&X.setHeader("Set-Cookie",Mt)}let kt={};return{type:"request",phase:le,implicitTags:it,url:{pathname:be.pathname,search:be.search??""},rootParams:je,get headers(){return kt.headers||(kt.headers=function(Mt){let un=De.from(Mt);for(let vi of ft)un.delete(vi);return De.seal(un)}(E.headers)),kt.headers},get cookies(){if(!kt.cookies){let Mt=new ri.RequestCookies(De.from(E.headers));Yn(E,Mt),kt.cookies=zi.seal(Mt)}return kt.cookies},set cookies(Mt){kt.cookies=Mt},get mutableCookies(){if(!kt.mutableCookies){var Mt,un;let vi,Ei=(Mt=E.headers,un=Rt||(X?Vt:void 0),vi=new ri.RequestCookies(De.from(Mt)),ca.wrap(vi,un));Yn(E,Ei),kt.mutableCookies=Ei}return kt.mutableCookies},get userspaceMutableCookies(){return kt.userspaceMutableCookies||(kt.userspaceMutableCookies=qa(this)),kt.userspaceMutableCookies},get draftMode(){return kt.draftMode||(kt.draftMode=new Un(ar,E,this.cookies,this.mutableCookies)),kt.draftMode},renderResumeDataCache:null,isHmrRefresh:Ht,serverComponentsHmrCache:Xt||mr.__serverComponentsHmrCache,devFallbackParams:null}}("action",k,void 0,d,{},y,O,null,U,!1,void 0,null)}function pa(k){throw Object.defineProperty(Error(`\`${k}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}function ea(){throw Object.defineProperty(new M("Expected workUnitAsyncStorage to have a store."),"__NEXT_ERROR_CODE",{value:"E696",enumerable:!1,configurable:!0})}function xr(k){switch(k.type){case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-client":return k.prerenderResumeDataCache;case"request":if(k.prerenderResumeDataCache)return k.prerenderResumeDataCache;case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return k}}function Ti(k){switch(k.type){case"request":case"prerender":case"prerender-runtime":case"prerender-client":if(k.renderResumeDataCache)return k.renderResumeDataCache;case"prerender-ppr":return k.prerenderResumeDataCache??null;case"cache":case"private-cache":case"unstable-cache":case"prerender-legacy":return null;default:return k}}function Zi(k){switch(k.type){case"prerender":case"prerender-client":case"prerender-runtime":return k.cacheSignal;case"request":if(k.cacheSignal)return k.cacheSignal;case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return null;default:return k}}_.s(["createRequestStoreForAPI",()=>gn],72445),_.i(85021),_.s(["getCacheSignal",()=>Zi,"getPrerenderResumeDataCache",()=>xr,"getRenderResumeDataCache",()=>Ti,"throwForMissingRequestStore",()=>pa,"throwInvariantForMissingStore",()=>ea],66401);var Cn=_.i(70903),Qi=_.i(51615);class wi{constructor(d,y,O){this.prev=null,this.next=null,this.key=d,this.data=y,this.size=O}}class aa{constructor(){this.prev=null,this.next=null}}class Ta{constructor(d,y){this.cache=new Map,this.totalSize=0,this.maxSize=d,this.calculateSize=y,this.head=new aa,this.tail=new aa,this.head.next=this.tail,this.tail.prev=this.head}addToHead(d){d.prev=this.head,d.next=this.head.next,this.head.next.prev=d,this.head.next=d}removeNode(d){d.prev.next=d.next,d.next.prev=d.prev}moveToHead(d){this.removeNode(d),this.addToHead(d)}removeTail(){let d=this.tail.prev;return this.removeNode(d),d}set(d,y){let O=(this.calculateSize==null?void 0:this.calculateSize.call(this,y))??1;if(O>this.maxSize)return void console.warn("Single item size exceeds maxSize");let U=this.cache.get(d);if(U)U.data=y,this.totalSize=this.totalSize-U.size+O,U.size=O,this.moveToHead(U);else{let le=new wi(d,y,O);this.cache.set(d,le),this.addToHead(le),this.totalSize+=O}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let le=this.removeTail();this.cache.delete(le.key),this.totalSize-=le.size}}has(d){return this.cache.has(d)}get(d){let y=this.cache.get(d);if(y)return this.moveToHead(y),y.data}*[Symbol.iterator](){let d=this.head.next;for(;d&&d!==this.tail;){let y=d;yield[y.key,y.data],d=d.next}}remove(d){let y=this.cache.get(d);y&&(this.removeNode(y),this.cache.delete(d),this.totalSize-=y.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}_.s(["LRUCache",()=>Ta],66011);let ni=new Map,Ca=(k,d)=>{for(let y of k){let O=ni.get(y),U=O?.expired;if(typeof U=="number"&&U<=Date.now()&&U>d)return!0}return!1},Ci=(k,d)=>{for(let y of k){let O=ni.get(y),U=O?.stale??0;if(typeof U=="number"&&U>d)return!0}return!1};process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let Ri=Symbol.for("@next/cache-handlers-map"),ho=Symbol.for("@next/cache-handlers-set"),va=mr;function Jo(){if(va[ho])return va[ho].values()}function ns(){if(va[Ri])return va[Ri].entries()}async function yi(k,d){if(!k)return d();let y=xo(k);try{return await d()}finally{var O,U;let le,E,X=(O=y,U=xo(k),le=new Set(O.pendingRevalidatedTags.map(be=>{let je=typeof be.profile=="object"?JSON.stringify(be.profile):be.profile||"";return`${be.tag}:${je}`})),E=new Set(O.pendingRevalidateWrites),{pendingRevalidatedTags:U.pendingRevalidatedTags.filter(be=>{let je=typeof be.profile=="object"?JSON.stringify(be.profile):be.profile||"";return!le.has(`${be.tag}:${je}`)}),pendingRevalidates:Object.fromEntries(Object.entries(U.pendingRevalidates).filter(([be])=>!(be in O.pendingRevalidates))),pendingRevalidateWrites:U.pendingRevalidateWrites.filter(be=>!E.has(be))});await Wn(k,X)}}function xo(k){return{pendingRevalidatedTags:k.pendingRevalidatedTags?[...k.pendingRevalidatedTags]:[],pendingRevalidates:{...k.pendingRevalidates},pendingRevalidateWrites:k.pendingRevalidateWrites?[...k.pendingRevalidateWrites]:[]}}async function Bi(k,d,y){if(k.length===0)return;let O=Jo(),U=[],le=new Map;for(let X of k){let be,je=X.profile;for(let[Rt]of le)if(typeof Rt=="string"&&typeof je=="string"&&Rt===je||typeof Rt=="object"&&typeof je=="object"&&JSON.stringify(Rt)===JSON.stringify(je)||Rt===je){be=Rt;break}let it=be||je;le.has(it)||le.set(it,[]),le.get(it).push(X.tag)}for(let[X,be]of le){let je;if(X){let it;if(typeof X=="object")it=X;else if(typeof X=="string"){var E;if(!(it=y==null||(E=y.cacheLifeProfiles)==null?void 0:E[X]))throw Object.defineProperty(Error(`Invalid profile provided "${X}" must be configured under cacheLife in next.config or be "max"`),"__NEXT_ERROR_CODE",{value:"E873",enumerable:!1,configurable:!0})}it&&(je={expire:it.expire})}for(let it of O||[])X?U.push(it.updateTags==null?void 0:it.updateTags.call(it,be,je)):U.push(it.updateTags==null?void 0:it.updateTags.call(it,be));d&&U.push(d.revalidateTag(be,je))}await Promise.all(U)}async function Wn(k,d){let y=d?.pendingRevalidatedTags??k.pendingRevalidatedTags??[],O=d?.pendingRevalidates??k.pendingRevalidates??{},U=d?.pendingRevalidateWrites??k.pendingRevalidateWrites??[];return Promise.all([Bi(y,k.incrementalCache,k),...Object.values(O),...U])}_.s(["getCacheHandlerEntries",()=>ns,"getCacheHandlers",()=>Jo],72451),_.s(["executeRevalidates",()=>Wn,"withExecuteRevalidates",()=>yi],49316);let tr=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class Ii{disable(){throw tr}getStore(){}run(){throw tr}exit(){throw tr}enterWith(){throw tr}static bind(d){return d}}let Rr=typeof mr<"u"&&mr.AsyncLocalStorage;function eo(k){return Rr?Rr.bind(k):Ii.bind(k)}function qo(){return Rr?Rr.snapshot():function(k,...d){return k(...d)}}_.s(["bindSnapshot",()=>eo,"createSnapshot",()=>qo],79698);var is=_.i(18904);_.i(34953),_.s([],12112);var As=_.i(85105);class wa{constructor({waitUntil:d,onClose:y,onTaskError:O}){this.workUnitStores=new Set,this.waitUntil=d,this.onClose=y,this.onTaskError=O,this.callbackQueue=new Cn.default,this.callbackQueue.pause()}after(d){if(mo(d))this.waitUntil||Ms(),this.waitUntil(d.catch(y=>this.reportTaskError("promise",y)));else if(typeof d=="function")this.addCallback(d);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(d){this.waitUntil||Ms();let y=is.workUnitAsyncStorage.getStore();y&&this.workUnitStores.add(y);let O=As.afterTaskAsyncStorage.getStore(),U=O?O.rootTaskSpawnPhase:y?.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let le=eo(async()=>{try{await As.afterTaskAsyncStorage.run({rootTaskSpawnPhase:U},()=>d())}catch(E){this.reportTaskError("function",E)}});this.callbackQueue.add(le)}async runCallbacksOnClose(){return await new Promise(d=>this.onClose(d)),this.runCallbacks()}async runCallbacks(){if(this.callbackQueue.size===0)return;for(let y of this.workUnitStores)y.phase="after";let d=ve.workAsyncStorage.getStore();if(!d)throw Object.defineProperty(new M("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return yi(d,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(d,y){if(console.error(d==="promise"?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",y),this.onTaskError)try{this.onTaskError==null||this.onTaskError.call(this,y)}catch(O){console.error(Object.defineProperty(new M("`onTaskError` threw while handling an error thrown from an `after` task",{cause:O}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function Ms(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function Ko(k){let d,y={then:(O,U)=>(d||(d=Promise.resolve(k())),d.then(le=>{y.value=le}).catch(()=>{}),d.then(O,U))};return y}function fs({page:k,renderOpts:d,isPrefetchRequest:y,buildId:O,previouslyRevalidatedTags:U,nonce:le}){let E=!d.shouldWaitOnAllReady&&!d.supportsDynamicResponse&&!d.isDraftMode&&!d.isPossibleServerAction,X=d.dev??!1,be=X||E&&(!!process.env.NEXT_DEBUG_BUILD||process.env.NEXT_SSG_FETCH_METRICS==="1"),je={isStaticGeneration:E,page:k,route:Fe(k),incrementalCache:d.incrementalCache||mr.__incrementalCache,cacheLifeProfiles:d.cacheLifeProfiles,isBuildTimePrerendering:d.nextExport,hasReadableErrorStacks:d.hasReadableErrorStacks,fetchCache:d.fetchCache,isOnDemandRevalidate:d.isOnDemandRevalidate,isDraftMode:d.isDraftMode,isPrefetchRequest:y,buildId:O,reactLoadableManifest:d?.reactLoadableManifest||{},assetPrefix:d?.assetPrefix||"",nonce:le,afterContext:function(it){let{waitUntil:Rt,onClose:et,onAfterTaskError:ar}=it;return new wa({waitUntil:Rt,onClose:et,onTaskError:ar})}(d),cacheComponentsEnabled:d.cacheComponents,dev:X,previouslyRevalidatedTags:U,refreshTagsByCacheKind:function(){let it=new Map,Rt=ns();if(Rt)for(let[et,ar]of Rt)"refreshTags"in ar&&it.set(et,Ko(async()=>ar.refreshTags()));return it}(),runInCleanSnapshot:qo(),shouldTrackFetchMetrics:be,reactServerErrorsByDigest:new Map};return d.store=je,je}async function Rs(k,d,y){let O=new Set;for(let le of(E=>{let X=["/layout"];if(E.startsWith("/")){let be=E.split("/");for(let je=1;je<be.length+1;je++){let it=be.slice(0,je).join("/");it&&(it.endsWith("/page")||it.endsWith("/route")||(it=`${it}${it.endsWith("/")?"":"/"}layout`),X.push(it))}}return X})(k))le=`${Le}${le}`,O.add(le);if(d.pathname&&(!y||y.size===0)){let le=`${Le}${d.pathname}`;O.add(le)}O.has(`${Le}/`)&&O.add(`${Le}/index`),O.has(`${Le}/index`)&&O.add(`${Le}/`);let U=Array.from(O);return{tags:U,expirationsByCacheKind:function(le){let E=new Map,X=ns();if(X)for(let[be,je]of X)"getExpiration"in je&&E.set(be,Ko(async()=>je.getExpiration(le)));return E}(U)}}_.s(["createWorkStore",()=>fs],88154),_.s(["getImplicitTags",()=>Rs],11573);class fo{constructor(){let d,y;this.promise=new Promise((O,U)=>{d=O,y=U}),this.resolve=d,this.reject=y}}_.s(["DetachedPromise",()=>fo],78116);class ta{constructor(d,y=O=>O()){this.cacheKeyFn=d,this.schedulerFn=y,this.pending=new Map}static create(d){return new ta(d?.cacheKeyFn,d?.schedulerFn)}async batch(d,y){let O=this.cacheKeyFn?await this.cacheKeyFn(d):d;if(O===null)return y({resolve:be=>Promise.resolve(be),key:d});let U=this.pending.get(O);if(U)return U;let{promise:le,resolve:E,reject:X}=new fo;return this.pending.set(O,le),this.schedulerFn(async()=>{try{let be=await y({resolve:E,key:d});E(be)}catch(be){X(be)}finally{this.pending.delete(O)}}),le}}let Fa=k=>{Promise.resolve().then(()=>{setTimeout(k,0)})};_.s(["scheduleImmediate",0,k=>{setTimeout(k,0)},"scheduleOnNextTick",0,Fa],74715);var Pn=((Pt={}).APP_PAGE="APP_PAGE",Pt.APP_ROUTE="APP_ROUTE",Pt.PAGES="PAGES",Pt.FETCH="FETCH",Pt.REDIRECT="REDIRECT",Pt.IMAGE="IMAGE",Pt),u=((er={}).APP_PAGE="APP_PAGE",er.APP_ROUTE="APP_ROUTE",er.PAGES="PAGES",er.FETCH="FETCH",er.IMAGE="IMAGE",er);function w(){}_.s(["CachedRouteKind",()=>Pn,"IncrementalCacheKind",()=>u],34277),new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let R=new TextEncoder;function P(k){return new ReadableStream({start(d){d.enqueue(R.encode(k)),d.close()}})}function A(k){return new ReadableStream({start(d){d.enqueue(k),d.close()}})}async function _e(k,d){let y=new TextDecoder("utf-8",{fatal:!0}),O="";for await(let U of k){if(d?.aborted)return O;O+=y.decode(U,{stream:!0})}return O+y.decode()}let Ue=Symbol.for("NextInternalRequestMeta");function gt(k,d){let y=k[Ue]||{};return typeof d=="string"?y[d]:y}function Pe(k,d,y){let O=gt(k);return O[d]=y,k[Ue]=O,O}_.s(["NEXT_REQUEST_META",0,Ue,"addRequestMeta",()=>Pe,"getRequestMeta",()=>gt],4842);let bt=k=>!0;_.s(["isNodeNextRequest",0,k=>!1,"isNodeNextResponse",0,k=>!1,"isWebNextRequest",0,bt],59106);let fr="ResponseAborted";class $r extends Error{constructor(...d){super(...d),this.name=fr}}function Qt(k){let d=new AbortController;return k.once("close",()=>{k.writableFinished||d.abort(new $r)}),d}function an(k){let{errored:d,destroyed:y}=k;if(d||y)return AbortSignal.abort(d??new $r);let{signal:O}=Qt(k);return O}class jr{static fromBaseNextRequest(d,y){if(bt(d))return jr.fromWebNextRequest(d);throw Object.defineProperty(Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:!1,configurable:!0})}static fromNodeNextRequest(d,y){let O,U=null;if(d.method!=="GET"&&d.method!=="HEAD"&&d.body&&(U=d.body),d.url.startsWith("http"))O=new URL(d.url);else{let le=gt(d,"initURL");O=le&&le.startsWith("http")?new URL(d.url,le):new URL(d.url,"http://n")}return new Xn(O,{method:d.method,headers:Wt(d.headers),duplex:"half",signal:y,...y.aborted?{}:{body:U}})}static fromWebNextRequest(d){let y=null;return d.method!=="GET"&&d.method!=="HEAD"&&(y=d.body),new Xn(d.url,{method:d.method,headers:Wt(d.headers),duplex:"half",signal:d.request.signal,...d.request.signal.aborted?{}:{body:y}})}}_.s(["NextRequestAdapter",()=>jr,"ResponseAbortedName",0,fr,"createAbortController",()=>Qt,"signalFromNodeResponse",()=>an],83877);let on=0,Cr=0,Hr=0;function Mr(k){return k?.name==="AbortError"||k?.name===fr}async function zr(k,d,y){try{let{errored:O,destroyed:U}=d;if(O||U)return;let le=Qt(d),E=function(X,be){let je=!1,it=new fo;function Rt(){it.resolve()}X.on("drain",Rt),X.once("close",()=>{X.off("drain",Rt),it.resolve()});let et=new fo;return X.once("finish",()=>{et.resolve()}),new WritableStream({write:async ar=>{if(!je){if(je=!0,"performance"in mr&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let Ht=function(Xt={}){let Nt=on===0?void 0:{clientComponentLoadStart:on,clientComponentLoadTimes:Cr,clientComponentLoadCount:Hr};return Xt.reset&&(on=0,Cr=0,Hr=0),Nt}();Ht&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:Ht.clientComponentLoadStart,end:Ht.clientComponentLoadStart+Ht.clientComponentLoadTimes})}X.flushHeaders(),di().trace(nn.startResponse,{spanName:"start response"},()=>{})}try{let Ht=X.write(ar);"flush"in X&&typeof X.flush=="function"&&X.flush(),Ht||(await it.promise,it=new fo)}catch(Ht){throw X.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:Ht}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:ar=>{X.writableFinished||X.destroy(ar)},close:async()=>{if(be&&await be,!X.writableFinished)return X.end(),et.promise}})}(d,y);await k.pipeTo(E,{signal:le.signal})}catch(O){if(Mr(O))return;throw Object.defineProperty(Error("failed to pipe response",{cause:O}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}_.s(["isAbortError",()=>Mr,"pipeToNodeResponse",()=>zr],13651);class Ka{static#e=this.EMPTY=new Ka(null,{metadata:{},contentType:null});static fromStatic(d,y){return new Ka(d,{metadata:{},contentType:y})}constructor(d,{contentType:y,waitUntil:O,metadata:U}){this.response=d,this.contentType=y,this.metadata=U,this.waitUntil=O}assignMetadata(d){Object.assign(this.metadata,d)}get isNull(){return this.response===null}get isDynamic(){return typeof this.response!="string"}toUnchunkedString(d=!1){if(this.response===null)return"";if(typeof this.response!="string"){if(!d)throw Object.defineProperty(new M("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return _e(this.readable)}return this.response}get readable(){return this.response===null?new ReadableStream({start(d){d.close()}}):typeof this.response=="string"?P(this.response):Qi.Buffer.isBuffer(this.response)?A(this.response):Array.isArray(this.response)?function(...d){if(d.length===0)return new ReadableStream({start(X){X.close()}});if(d.length===1)return d[0];let{readable:y,writable:O}=new TransformStream,U=d[0].pipeTo(O,{preventClose:!0}),le=1;for(;le<d.length-1;le++){let X=d[le];U=U.then(()=>X.pipeTo(O,{preventClose:!0}))}let E=d[le];return(U=U.then(()=>E.pipeTo(O))).catch(w),y}(...this.response):this.response}coerce(){return this.response===null?[]:typeof this.response=="string"?[P(this.response)]:Array.isArray(this.response)?this.response:Qi.Buffer.isBuffer(this.response)?[A(this.response)]:[this.response]}unshift(d){this.response=this.coerce(),this.response.unshift(d)}push(d){this.response=this.coerce(),this.response.push(d)}async pipeTo(d){try{await this.readable.pipeTo(d,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await d.close()}catch(y){if(Mr(y))return void await d.abort(y);throw y}}async pipeToNodeResponse(d){await zr(this.readable,d,this.waitUntil)}}var ba=((Gt={}).PAGES="PAGES",Gt.PAGES_API="PAGES_API",Gt.APP_PAGE="APP_PAGE",Gt.APP_ROUTE="APP_ROUTE",Gt.IMAGE="IMAGE",Gt);async function go(k){var d,y;return{...k,value:((d=k.value)==null?void 0:d.kind)===Pn.PAGES?{kind:Pn.PAGES,html:await k.value.html.toUnchunkedString(!0),pageData:k.value.pageData,headers:k.value.headers,status:k.value.status}:((y=k.value)==null?void 0:y.kind)===Pn.APP_PAGE?{kind:Pn.APP_PAGE,html:await k.value.html.toUnchunkedString(!0),postponed:k.value.postponed,rscData:k.value.rscData,headers:k.value.headers,status:k.value.status,segmentData:k.value.segmentData}:k.value}}async function Po(k){var d,y;return k?{isMiss:k.isMiss,isStale:k.isStale,cacheControl:k.cacheControl,value:((d=k.value)==null?void 0:d.kind)===Pn.PAGES?{kind:Pn.PAGES,html:Ka.fromStatic(k.value.html,ct),pageData:k.value.pageData,headers:k.value.headers,status:k.value.status}:((y=k.value)==null?void 0:y.kind)===Pn.APP_PAGE?{kind:Pn.APP_PAGE,html:Ka.fromStatic(k.value.html,ct),rscData:k.value.rscData,headers:k.value.headers,status:k.value.status,postponed:k.value.postponed,segmentData:k.value.segmentData}:k.value}:null}_.s(["RouteKind",()=>ba],23646);class wo{constructor(d){this.getBatcher=ta.create({cacheKeyFn:({key:y,isOnDemandRevalidate:O})=>`${y}-${O?"1":"0"}`,schedulerFn:Fa}),this.revalidateBatcher=ta.create({schedulerFn:Fa}),this.minimal_mode=d}async get(d,y,O){var U;if(!d)return y({hasResolved:!1,previousCacheEntry:null});if(this.minimal_mode&&((U=this.previousCacheItem)==null?void 0:U.key)===d&&this.previousCacheItem.expiresAt>Date.now())return Po(this.previousCacheItem.entry);let{incrementalCache:le,isOnDemandRevalidate:E=!1,isFallback:X=!1,isRoutePPREnabled:be=!1,isPrefetch:je=!1,waitUntil:it,routeKind:Rt}=O;return Po(await this.getBatcher.batch({key:d,isOnDemandRevalidate:E},({resolve:et})=>{let ar=this.handleGet(d,y,{incrementalCache:le,isOnDemandRevalidate:E,isFallback:X,isRoutePPREnabled:be,isPrefetch:je,routeKind:Rt},et);return it&&it(ar),ar}))}async handleGet(d,y,O,U){let le=null,E=!1;try{if((le=this.minimal_mode?null:await O.incrementalCache.get(d,{kind:function(be){switch(be){case ba.PAGES:return u.PAGES;case ba.APP_PAGE:return u.APP_PAGE;case ba.IMAGE:return u.IMAGE;case ba.APP_ROUTE:return u.APP_ROUTE;case ba.PAGES_API:throw Object.defineProperty(Error(`Unexpected route kind ${be}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0});default:return be}}(O.routeKind),isRoutePPREnabled:O.isRoutePPREnabled,isFallback:O.isFallback}))&&!O.isOnDemandRevalidate&&(U(le),E=!0,!le.isStale||O.isPrefetch))return le;let X=await this.revalidate(d,O.incrementalCache,O.isRoutePPREnabled,O.isFallback,y,le,le!==null&&!O.isOnDemandRevalidate);return X?(O.isOnDemandRevalidate,X):(this.minimal_mode&&(this.previousCacheItem=void 0),null)}catch(X){if(E)return console.error(X),null;throw X}}async revalidate(d,y,O,U,le,E,X,be){return this.revalidateBatcher.batch(d,()=>{let je=this.handleRevalidate(d,y,O,U,le,E,X);return be&&be(je),je})}async handleRevalidate(d,y,O,U,le,E,X){try{let be=await le({hasResolved:X,previousCacheEntry:E,isRevalidating:!0});if(!be)return null;let je=await go({...be,isMiss:!E});return je.cacheControl&&(this.minimal_mode?this.previousCacheItem={key:d,entry:je,expiresAt:Date.now()+1e3}:await y.set(d,je.value,{cacheControl:je.cacheControl,isRoutePPREnabled:O,isFallback:U})),je}catch(be){if(E?.cacheControl){let je=Math.min(Math.max(E.cacheControl.revalidate||3,3),30),it=E.cacheControl.expire===void 0?void 0:Math.max(je+3,E.cacheControl.expire);await y.set(d,E.value,{cacheControl:{revalidate:je,expire:it},isRoutePPREnabled:O,isFallback:U})}throw be}}}_.s(["default",()=>wo],27064);var Lo=_.i(82023);class ko{constructor(d){this.fs=d,this.tasks=[]}findOrCreateTask(d){for(let U of this.tasks)if(U[0]===d)return U;let y=this.fs.mkdir(d);y.catch(()=>{});let O=[d,y,[]];return this.tasks.push(O),O}append(d,y){let O=this.findOrCreateTask(Lo.default.dirname(d)),U=O[1].then(()=>this.fs.writeFile(d,y));U.catch(()=>{}),O[2].push(U)}wait(){return Promise.all(this.tasks.flatMap(d=>d[2]))}}class _a{static#e=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor(d){if(this.fs=d.fs,this.flushToDisk=d.flushToDisk,this.serverDistDir=d.serverDistDir,this.revalidatedTags=d.revalidatedTags,d.maxMemoryCacheSize)if(_a.memoryCache)_a.debug&&console.log("FileSystemCache: memory store already initialized");else{var y;_a.debug&&console.log("FileSystemCache: using memory store for fetch cache"),y=d.maxMemoryCacheSize,xe||(xe=new Ta(y,function({value:O}){var U;if(!O)return 25;if(O.kind===Pn.REDIRECT)return JSON.stringify(O.props).length;if(O.kind===Pn.IMAGE)throw Object.defineProperty(Error("invariant image should not be incremental-cache"),"__NEXT_ERROR_CODE",{value:"E501",enumerable:!1,configurable:!0});return O.kind===Pn.FETCH?JSON.stringify(O.data||"").length:O.kind===Pn.APP_ROUTE?O.body.length:O.html.length+(((U=JSON.stringify(O.kind===Pn.APP_PAGE?O.rscData:O.pageData))==null?void 0:U.length)||0)})),_a.memoryCache=xe}else _a.debug&&console.log("FileSystemCache: not using memory store for fetch cache")}resetRequestCache(){}async revalidateTag(d,y){if(d=typeof d=="string"?[d]:d,_a.debug&&console.log("FileSystemCache: revalidateTag",d,y),d.length===0)return;let O=Date.now();for(let U of d){let le=ni.get(U)||{};if(y){let E={...le};E.stale=O,y.expire!==void 0&&(E.expired=O+1e3*y.expire),ni.set(U,E)}else ni.set(U,{...le,expired:O})}}async get(...d){var y,O,U,le,E,X;let[be,je]=d,{kind:it}=je,Rt=(y=_a.memoryCache)==null?void 0:y.get(be);if(_a.debug&&(it===u.FETCH?console.log("FileSystemCache: get",be,je.tags,it,!!Rt):console.log("FileSystemCache: get",be,it,!!Rt)),(Rt==null||(O=Rt.value)==null?void 0:O.kind)===Pn.APP_PAGE||(Rt==null||(U=Rt.value)==null?void 0:U.kind)===Pn.APP_ROUTE||(Rt==null||(le=Rt.value)==null?void 0:le.kind)===Pn.PAGES){let et=(X=Rt.value.headers)==null?void 0:X[L];if(typeof et=="string"){let ar=et.split(",");if(ar.length>0&&Ca(ar,Rt.lastModified))return _a.debug&&console.log("FileSystemCache: expired tags",ar),null}}else if((Rt==null||(E=Rt.value)==null?void 0:E.kind)===Pn.FETCH){let et=je.kind===u.FETCH?[...je.tags||[],...je.softTags||[]]:[];if(et.some(ar=>this.revalidatedTags.includes(ar)))return _a.debug&&console.log("FileSystemCache: was revalidated",et),null;if(Ca(et,Rt.lastModified))return _a.debug&&console.log("FileSystemCache: expired tags",et),null}return Rt??null}async set(d,y,O){var U;if((U=_a.memoryCache)==null||U.set(d,{value:y,lastModified:Date.now()}),_a.debug&&console.log("FileSystemCache: set",d),!this.flushToDisk||!y)return;let le=new ko(this.fs);if(y.kind===Pn.APP_ROUTE){let E=this.getFilePath(`${d}.body`,u.APP_ROUTE);le.append(E,y.body);let X={headers:y.headers,status:y.status,postponed:void 0,segmentPaths:void 0};le.append(E.replace(/\.body$/,Re),JSON.stringify(X,null,2))}else if(y.kind===Pn.PAGES||y.kind===Pn.APP_PAGE){let E=y.kind===Pn.APP_PAGE,X=this.getFilePath(`${d}.html`,E?u.APP_PAGE:u.PAGES);if(le.append(X,y.html),O.fetchCache||O.isFallback||O.isRoutePPREnabled||le.append(this.getFilePath(`${d}${E?Dn:Nn}`,E?u.APP_PAGE:u.PAGES),E?y.rscData:JSON.stringify(y.pageData)),y?.kind===Pn.APP_PAGE){let be;if(y.segmentData){be=[];let it=X.replace(/\.html$/,Kr);for(let[Rt,et]of y.segmentData){be.push(Rt);let ar=it+Rt+Pr;le.append(ar,et)}}let je={headers:y.headers,status:y.status,postponed:y.postponed,segmentPaths:be};le.append(X.replace(/\.html$/,Re),JSON.stringify(je))}}else if(y.kind===Pn.FETCH){let E=this.getFilePath(d,u.FETCH);le.append(E,JSON.stringify({...y,tags:O.fetchCache?O.tags:[]}))}await le.wait()}getFilePath(d,y){switch(y){case u.FETCH:return Lo.default.join(this.serverDistDir,"..","cache","fetch-cache",d);case u.PAGES:return Lo.default.join(this.serverDistDir,"pages",d);case u.IMAGE:case u.APP_PAGE:case u.APP_ROUTE:return Lo.default.join(this.serverDistDir,"app",d);default:throw Object.defineProperty(Error(`Unexpected file path kind: ${y}`),"__NEXT_ERROR_CODE",{value:"E479",enumerable:!1,configurable:!0})}}}let Io=["(..)(..)","(.)","(..)","(...)"];function ra(k){return k.split("/").find(d=>Io.find(y=>d.startsWith(y)))!==void 0}function ao(k){let d,y,O;for(let U of k.split("/"))if(y=Io.find(le=>U.startsWith(le))){[d,O]=k.split(y,2);break}if(!d||!y||!O)throw Object.defineProperty(Error(`Invalid interception route: ${k}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(d=Fe(d),y){case"(.)":O=d==="/"?`/${O}`:d+"/"+O;break;case"(..)":if(d==="/")throw Object.defineProperty(Error(`Invalid interception route: ${k}. Cannot use (..) marker at the root level, use (.) instead.`),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});O=d.split("/").slice(0,-1).concat(O).join("/");break;case"(...)":O="/"+O;break;case"(..)(..)":let U=d.split("/");if(U.length<=2)throw Object.defineProperty(Error(`Invalid interception route: ${k}. Cannot use (..)(..) marker at the root level or one level up.`),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});O=U.slice(0,-2).concat(O).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:d,interceptedRoute:O}}_.s(["INTERCEPTION_ROUTE_MARKERS",0,Io,"extractInterceptionRouteInformation",()=>ao,"isInterceptionRouteAppPath",()=>ra],60130);let Ws=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,jo=/\/\[[^/]+\](?=\/|$)/;function Ds(k,d=!0){return ra(k)&&(k=ao(k).interceptedRoute),d?jo.test(k):Ws.test(k)}_.s(["isDynamicRoute",()=>Ds],18215),_.s([],65832),typeof performance<"u"&&["mark","measure","getEntriesByName"].every(k=>typeof performance[k]=="function");class Fo extends Error{}function ma(k){return/^\/index(\/|$)/.test(k)&&!Ds(k)?`/index${k}`:k==="/"?"/index":ie(k)}function oo(k){return k.replace(/(?:\/index)?\/?$/,"")||"/"}_.s(["DecodeError",()=>Fo],12239),_.s(["normalizePagePath",()=>ma],53369);class Jn{static#e=this.cacheControls=new Map;constructor(d){this.prerenderManifest=d}get(d){let y=Jn.cacheControls.get(d);if(y)return y;let O=this.prerenderManifest.routes[d];if(O){let{initialRevalidateSeconds:le,initialExpireSeconds:E}=O;if(le!==void 0)return{revalidate:le,expire:E}}let U=this.prerenderManifest.dynamicRoutes[d];if(U){let{fallbackRevalidate:le,fallbackExpire:E}=U;if(le!==void 0)return{revalidate:le,expire:E}}}set(d,y){Jn.cacheControls.set(d,y)}clear(){Jn.cacheControls.clear()}}var Wa=_.i(24916);let Sa=/[|\\{}()[\]^$+*?.-]/,gs=/[|\\{}()[\]^$+*?.-]/g;function Ao(k){return Sa.test(k)?k.replace(gs,"\\$&"):k}let Ra=/^([^[]*)\[((?:\[[^\]]*\])|[^\]]+)\](.*)$/;function Zo(k){let d=k.startsWith("[")&&k.endsWith("]");d&&(k=k.slice(1,-1));let y=k.startsWith("...");return y&&(k=k.slice(3)),{key:k,repeat:y,optional:d}}function ys(k,{includeSuffix:d=!1,includePrefix:y=!1,excludeOptionalTrailingSlash:O=!1}={}){let{parameterizedRoute:U,groups:le}=function(X,be,je){let it={},Rt=1,et=[];for(let ar of ti(X).slice(1).split("/")){let Ht=Io.find(Nt=>ar.startsWith(Nt)),Xt=ar.match(Ra);if(Ht&&Xt&&Xt[2]){let{key:Nt,optional:Vt,repeat:kt}=Zo(Xt[2]);it[Nt]={pos:Rt++,repeat:kt,optional:Vt},et.push(`/${Ao(Ht)}([^/]+?)`)}else if(Xt&&Xt[2]){let{key:Nt,repeat:Vt,optional:kt}=Zo(Xt[2]);it[Nt]={pos:Rt++,repeat:Vt,optional:kt},je&&Xt[1]&&et.push(`/${Ao(Xt[1])}`);let Mt=Vt?kt?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)";je&&Xt[1]&&(Mt=Mt.substring(1)),et.push(Mt)}else et.push(`/${Ao(ar)}`);be&&Xt&&Xt[3]&&et.push(Ao(Xt[3]))}return{parameterizedRoute:et.join(""),groups:it}}(k,d,y),E=U;return O||(E+="(?:/)?"),{re:RegExp(`^${E}$`),groups:le}}function Za({interceptionMarker:k,getSafeRouteKey:d,segment:y,routeKeys:O,keyPrefix:U,backreferenceDuplicateKeys:le}){let E,{key:X,optional:be,repeat:je}=Zo(y),it=X.replace(/\W/g,"");U&&(it=`${U}${it}`);let Rt=!1;(it.length===0||it.length>30)&&(Rt=!0),isNaN(parseInt(it.slice(0,1)))||(Rt=!0),Rt&&(it=d());let et=it in O;U?O[it]=`${U}${X}`:O[it]=X;let ar=k?Ao(k):"";return E=et&&le?`\\k<${it}>`:je?`(?<${it}>.+?)`:`(?<${it}>[^/]+?)`,{key:X,pattern:be?`(?:/${ar}${E})?`:`/${ar}${E}`,cleanedKey:it,optional:be,repeat:je}}function Zs(k,d){let y=function(U,le,E,X,be,je={names:{},intercepted:{}}){let it,Rt=(it=0,()=>{let Xt="",Nt=++it;for(;Nt>0;)Xt+=String.fromCharCode(97+(Nt-1)%26),Nt=Math.floor((Nt-1)/26);return Xt}),et={},ar=[],Ht=[];for(let Xt of(je=structuredClone(je),ti(U).slice(1).split("/"))){let Nt,Vt=Io.some(un=>Xt.startsWith(un)),kt=Xt.match(Ra),Mt=Vt?kt?.[1]:void 0;if(Mt&&kt?.[2]?(Nt=le?Nr:void 0,je.intercepted[kt[2]]=Mt):Nt=kt?.[2]&&je.intercepted[kt[2]]?le?Nr:void 0:le?mt:void 0,Mt&&kt&&kt[2]){let{key:un,pattern:vi,cleanedKey:Ei,repeat:qn,optional:na}=Za({getSafeRouteKey:Rt,interceptionMarker:Mt,segment:kt[2],routeKeys:et,keyPrefix:Nt,backreferenceDuplicateKeys:be});ar.push(vi),Ht.push(`/${kt[1]}:${je.names[un]??Ei}${qn?na?"*":"+":""}`),je.names[un]??=Ei}else if(kt&&kt[2]){X&&kt[1]&&(ar.push(`/${Ao(kt[1])}`),Ht.push(`/${kt[1]}`));let{key:un,pattern:vi,cleanedKey:Ei,repeat:qn,optional:na}=Za({getSafeRouteKey:Rt,segment:kt[2],routeKeys:et,keyPrefix:Nt,backreferenceDuplicateKeys:be}),Oi=vi;X&&kt[1]&&(Oi=Oi.substring(1)),ar.push(Oi),Ht.push(`/:${je.names[un]??Ei}${qn?na?"*":"+":""}`),je.names[un]??=Ei}else ar.push(`/${Ao(Xt)}`),Ht.push(`/${Xt}`);E&&kt&&kt[3]&&(ar.push(Ao(kt[3])),Ht.push(kt[3]))}return{namedParameterizedRoute:ar.join(""),routeKeys:et,pathToRegexpPattern:Ht.join(""),reference:je}}(k,d.prefixRouteKeys,d.includeSuffix??!1,d.includePrefix??!1,d.backreferenceDuplicateKeys??!1,d.reference),O=y.namedParameterizedRoute;return d.excludeOptionalTrailingSlash||(O+="(?:/)?"),{...ys(k,d),namedRegex:`^${O}$`,routeKeys:y.routeKeys,pathToRegexpPattern:y.pathToRegexpPattern,reference:y.reference}}_.s(["getNamedRouteRegex",()=>Zs,"getRouteRegex",()=>ys],2635);let as="_NEXTSEP_";function x(k){return typeof k=="string"&&!!(/\/\(\.{1,3}\):[^/\s]+/.test(k)||/:[a-zA-Z_][a-zA-Z0-9_]*:[a-zA-Z_][a-zA-Z0-9_]*/.test(k))}function F(k){let d=k;return(d=d.replace(/(\([^)]*\)):([^/\s]+)/g,`$1${as}:$2`)).replace(/:([^:/\s)]+)(?=:)/g,`:$1${as}`)}function re(k){return k.replace(RegExp(`\\)${as}`,"g"),")")}function he(k,d,y){if(typeof k!="string")return(0,Wa.pathToRegexp)(k,d,y);let O=x(k),U=O?F(k):k;try{return(0,Wa.pathToRegexp)(U,d,y)}catch(le){if(!O)try{let E=F(k);return(0,Wa.pathToRegexp)(E,d,y)}catch{}throw le}}function Ie(k,d){let y=x(k),O=y?F(k):k;try{let U=(0,Wa.compile)(O,d);return y?le=>re(U(le)):U}catch(U){if(!y)try{let le=F(k),E=(0,Wa.compile)(le,d);return X=>re(E(X))}catch{}throw U}}function $e({re:k,groups:d}){var y;return y=O=>{let U=k.exec(O);if(!U)return!1;let le=X=>{try{return decodeURIComponent(X)}catch{throw Object.defineProperty(new Fo("failed to decode param"),"__NEXT_ERROR_CODE",{value:"E528",enumerable:!1,configurable:!0})}},E={};for(let[X,be]of Object.entries(d)){let je=U[be.pos];je!==void 0&&(be.repeat?E[X]=je.split("/").map(it=>le(it)):E[X]=le(je))}return E},O=>{let U=y(O);if(!U)return!1;let le={};for(let[E,X]of Object.entries(U))typeof X=="string"?le[E]=X.replace(RegExp(`^${as}`),""):Array.isArray(X)?le[E]=X.map(be=>typeof be=="string"?be.replace(RegExp(`^${as}`),""):be):le[E]=X;return le}}function ae(k){let d={};for(let[y,O]of k.entries()){let U=d[y];U===void 0?d[y]=O:Array.isArray(U)?U.push(O):d[y]=[U,O]}return d}function fe(k){return typeof k=="string"?k:(typeof k!="number"||isNaN(k))&&typeof k!="boolean"?"":String(k)}function Ze(k){let d=new URLSearchParams;for(let[y,O]of Object.entries(k))if(Array.isArray(O))for(let U of O)d.append(y,fe(U));else d.set(y,fe(O));return d}function me(k){return function(){let{cookie:d}=k;if(!d)return{};let{parse:y}=_.r(20678);return y(Array.isArray(d)?d.join("; "):d)}}function tt(k){return k.replace(/__ESC_COLON_/gi,":")}function He(k,d){if(!k.includes(":"))return k;for(let y of Object.keys(d))k.includes(`:${y}`)&&(k=k.replace(RegExp(`:${y}\\*`,"g"),`:${y}--ESCAPED_PARAM_ASTERISKS`).replace(RegExp(`:${y}\\?`,"g"),`:${y}--ESCAPED_PARAM_QUESTION`).replace(RegExp(`:${y}\\+`,"g"),`:${y}--ESCAPED_PARAM_PLUS`).replace(RegExp(`:${y}(?!\\w)`,"g"),`--ESCAPED_PARAM_COLON${y}`));return k=k.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),Ie(`/${k}`,{validate:!1})(d).slice(1)}function pt(k){try{return decodeURIComponent(k)}catch{return k}}function Je(k){let d=function(O){let U;try{U=new URL(O,"http://n")}catch{}return U}(k);if(!d)return;let y={};for(let O of d.searchParams.keys()){let U=d.searchParams.getAll(O);y[O]=U.length>1?U:U[0]}return{query:y,hash:d.hash,search:d.search,path:d.pathname,pathname:d.pathname,href:`${d.pathname}${d.search}${d.hash}`,host:"",hostname:"",auth:"",protocol:"",slashes:null,port:""}}_.s(["getRouteMatcher",()=>$e],14766),_.s(["searchParamsToUrlQuery",()=>ae,"urlQueryToSearchParams",()=>Ze],27934),_.s(["getCookieParser",()=>me],99888),_.s(["parseReqUrl",()=>Je],82233);let jt=/https?|ftp|gopher|file/;function wt(k,d){for(let y in delete k.nextInternalLocale,k){let O=y!==mt&&y.startsWith(mt),U=y!==Nr&&y.startsWith(Nr);(O||U||d.includes(y))&&delete k[y]}}function Qe({page:k,i18n:d,basePath:y,rewrites:O,pageIsDynamic:U,trailingSlash:le,caseSensitive:E}){let X,be,je;return U&&(je=(be=$e(X=Zs(k,{prefixRouteKeys:!1})))(k)),{handleRewrites:function(it,Rt){let et=structuredClone(Rt),ar={},Ht=et.pathname,Xt=Nt=>{var Vt,kt;let Mt,un,vi,Ei=(Vt=Nt.source+(le?"(/)?":""),kt={removeUnnamedParams:!0,strict:!0,sensitive:!!E},Mt=[],un=(0,Wa.pathToRegexp)(Vt,Mt,{delimiter:"/",sensitive:typeof kt?.sensitive=="boolean"&&kt.sensitive,strict:kt?.strict}),vi=(0,Wa.regexpToFunction)(kt?.regexModifier?new RegExp(kt.regexModifier(un.source),un.flags):un,Mt),(na,Oi)=>{if(typeof na!="string")return!1;let mi=vi(na);if(!mi)return!1;if(kt?.removeUnnamedParams)for(let vo of Mt)typeof vo.name=="number"&&delete mi.params[vo.name];return{...Oi,...mi.params}});if(!et.pathname)return!1;let qn=Ei(et.pathname);if((Nt.has||Nt.missing)&&qn){let na=function(Oi,mi,vo=[],Ni=[]){let ha={},to=ua=>{let Ga,Ui=ua.key;switch(ua.type){case"header":Ui=Ui.toLowerCase(),Ga=Oi.headers[Ui];break;case"cookie":Ga="cookies"in Oi?Oi.cookies[ua.key]:me(Oi.headers)()[ua.key];break;case"query":Ga=mi[Ui];break;case"host":{let{host:za}=Oi?.headers||{};Ga=za?.split(":",1)[0].toLowerCase()}}if(!ua.value&&Ga)return ha[function(za){let Na="";for(let Pa=0;Pa<za.length;Pa++){let Mo=za.charCodeAt(Pa);(Mo>64&&Mo<91||Mo>96&&Mo<123)&&(Na+=za[Pa])}return Na}(Ui)]=Ga,!0;if(Ga){let za=RegExp(`^${ua.value}$`),Na=Array.isArray(Ga)?Ga.slice(-1)[0].match(za):Ga.match(za);if(Na)return Array.isArray(Na)&&(Na.groups?Object.keys(Na.groups).forEach(Pa=>{ha[Pa]=Na.groups[Pa]}):ua.type==="host"&&Na[0]&&(ha.host=Na[0])),!0}return!1};return!(!vo.every(ua=>to(ua))||Ni.some(ua=>to(ua)))&&ha}(it,et.query,Nt.has,Nt.missing);na?Object.assign(qn,na):qn=!1}if(qn){let{parsedDestination:na,destQuery:Oi}=function(mi){let vo,Ni,ha=function(En){let li=En.destination;for(let l of Object.keys({...En.params,...En.query}))l&&(li=li.replace(RegExp(`:${Ao(l)}`,"g"),`__ESC_COLON_${l}`));let so=function(l){if(l.startsWith("/"))return function(Z,oe,Be=!0){let ot=new URL("http://n"),or=Z.startsWith(".")?new URL("http://n"):ot,{pathname:Ir,searchParams:tn,search:yn,hash:ut,href:gr,origin:_r}=new URL(Z,or);if(_r!==ot.origin)throw Object.defineProperty(Error(`invariant: invalid relative URL, router received ${Z}`),"__NEXT_ERROR_CODE",{value:"E159",enumerable:!1,configurable:!0});return{pathname:Ir,query:Be?ae(tn):void 0,search:yn,hash:ut,href:gr.slice(_r.length),slashes:void 0}}(l);let C=new URL(l);return{hash:C.hash,hostname:C.hostname,href:C.href,pathname:C.pathname,port:C.port,protocol:C.protocol,query:ae(C.searchParams),search:C.search,origin:C.origin,slashes:C.href.slice(C.protocol.length,C.protocol.length+2)==="//"}}(li),bs=so.pathname;bs&&(bs=tt(bs));let Bo=so.href;Bo&&(Bo=tt(Bo));let Wo=so.hostname;Wo&&(Wo=tt(Wo));let _s=so.hash;_s&&(_s=tt(_s));let T=so.search;T&&(T=tt(T));let o=so.origin;return o&&(o=tt(o)),{...so,pathname:bs,hostname:Wo,href:Bo,hash:_s,search:T,origin:o}}(mi),{hostname:to,query:ua,search:Ga}=ha,Ui=ha.pathname;ha.hash&&(Ui=`${Ui}${ha.hash}`);let za=[],Na=[];for(let En of(he(Ui,Na),Na))za.push(En.name);if(to){let En=[];for(let li of(he(to,En),En))za.push(li.name)}let Pa=Ie(Ui,{validate:!1});for(let[En,li]of(to&&(vo=Ie(to,{validate:!1})),Object.entries(ua)))Array.isArray(li)?ua[En]=li.map(so=>He(tt(so),mi.params)):typeof li=="string"&&(ua[En]=He(tt(li),mi.params));let Mo=Object.keys(mi.params).filter(En=>En!=="nextInternalLocale");if(mi.appendParamsToQuery&&!Mo.some(En=>za.includes(En)))for(let En of Mo)En in ua||(ua[En]=mi.params[En]);if(ra(Ui))for(let En of Ui.split("/")){let li=Io.find(so=>En.startsWith(so));if(li){li==="(..)(..)"?(mi.params[0]="(..)",mi.params[1]="(..)"):mi.params[0]=li;break}}try{let[En,li]=(Ni=Pa(mi.params)).split("#",2);vo&&(ha.hostname=vo(mi.params)),ha.pathname=En,ha.hash=`${li?"#":""}${li||""}`,ha.search=Ga?He(Ga,mi.params):""}catch(En){throw En.message.match(/Expected .*? to not repeat, but got an array/)?Object.defineProperty(Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"),"__NEXT_ERROR_CODE",{value:"E329",enumerable:!1,configurable:!0}):En}return ha.query={...mi.query,...ha.query},{newUrl:Ni,destQuery:ua,parsedDestination:ha}}({appendParamsToQuery:!0,destination:Nt.destination,params:qn,query:et.query});if(na.protocol)return!0;if(Object.assign(ar,Oi,qn),Object.assign(et.query,na.query),delete na.query,Object.assign(et,na),!(Ht=et.pathname))return!1;if(y&&(Ht=Ht.replace(RegExp(`^${y}`),"")||"/"),d){let mi=nr(Ht,d.locales);Ht=mi.pathname,et.query.nextInternalLocale=mi.detectedLocale||qn.nextInternalLocale}if(Ht===k)return!0;if(U&&be){let mi=be(Ht);if(mi)return et.query={...et.query,...mi},!0}}return!1};for(let Nt of O.beforeFiles||[])Xt(Nt);if(Ht!==k){let Nt,Vt=!1;for(let kt of O.afterFiles||[])if(Vt=Xt(kt))break;if(!Vt&&!((Nt=ti(Ht||""))===ti(k)||be?.(Nt))){for(let kt of O.fallback||[])if(Vt=Xt(kt))break}}return{rewriteParams:ar,rewrittenParsedUrl:et}},defaultRouteRegex:X,dynamicRouteMatcher:be,defaultRouteMatches:je,normalizeQueryParams:function(it,Rt){for(let[et,ar]of(delete it.nextInternalLocale,Object.entries(it))){let Ht=Yr(et);Ht&&(delete it[et],Rt.add(Ht),ar!==void 0&&(it[Ht]=Array.isArray(ar)?ar.map(Xt=>pt(Xt)):pt(ar)))}},getParamsFromRouteMatches:function(it){if(!X)return null;let{groups:Rt,routeKeys:et}=X;return $e({re:{exec:Ht=>{let Xt=Object.fromEntries(new URLSearchParams(Ht));for(let[Vt,kt]of Object.entries(Xt)){let Mt=Yr(Vt);Mt&&(Xt[Mt]=kt,delete Xt[Vt])}let Nt={};for(let Vt of Object.keys(et)){let kt=et[Vt];if(!kt)continue;let Mt=Rt[kt],un=Xt[Vt];if(!Mt.optional&&!un)return null;Nt[Mt.pos]=un}return Nt}},groups:Rt})(it)||null},normalizeDynamicRouteParams:(it,Rt)=>{if(!X||!je)return{params:{},hasValidParams:!1};var et=X,ar=je;let Ht={};for(let Xt of Object.keys(et.groups)){let Nt=it[Xt];typeof Nt=="string"?Nt=ge(Nt):Array.isArray(Nt)&&(Nt=Nt.map(ge));let Vt=ar[Xt],kt=et.groups[Xt].optional;if((Array.isArray(Vt)?Vt.some(Mt=>Array.isArray(Nt)?Nt.some(un=>un.includes(Mt)):Nt?.includes(Mt)):Nt?.includes(Vt))||Nt===void 0&&!(kt&&Rt))return{params:{},hasValidParams:!1};kt&&(!Nt||Array.isArray(Nt)&&Nt.length===1&&(Nt[0]==="index"||Nt[0]===`[[...${Xt}]]`)||Nt==="index"||Nt===`[[...${Xt}]]`)&&(Nt=void 0,delete it[Xt]),Nt&&typeof Nt=="string"&&et.groups[Xt].repeat&&(Nt=Nt.split("/")),Nt&&(Ht[Xt]=Nt)}return{params:Ht,hasValidParams:!0}},normalizeCdnUrl:(it,Rt)=>function(et,ar){let Ht=Je(et.url);if(!Ht)return et.url;delete Ht.search,wt(Ht.query,ar),et.url=function(Xt){let{auth:Nt,hostname:Vt}=Xt,kt=Xt.protocol||"",Mt=Xt.pathname||"",un=Xt.hash||"",vi=Xt.query||"",Ei=!1;Nt=Nt?encodeURIComponent(Nt).replace(/%3A/i,":")+"@":"",Xt.host?Ei=Nt+Xt.host:Vt&&(Ei=Nt+(~Vt.indexOf(":")?`[${Vt}]`:Vt),Xt.port&&(Ei+=":"+Xt.port)),vi&&typeof vi=="object"&&(vi=String(Ze(vi)));let qn=Xt.search||vi&&`?${vi}`||"";return kt&&!kt.endsWith(":")&&(kt+=":"),Xt.slashes||(!kt||jt.test(kt))&&Ei!==!1?(Ei="//"+(Ei||""),Mt&&Mt[0]!=="/"&&(Mt="/"+Mt)):Ei||(Ei=""),un&&un[0]!=="#"&&(un="#"+un),qn&&qn[0]!=="?"&&(qn="?"+qn),Mt=Mt.replace(/[?#]/g,encodeURIComponent),qn=qn.replace("#","%23"),`${kt}${Ei}${Mt}${qn}${un}`}(Ht)}(it,Rt),interpolateDynamicPath:(it,Rt)=>function(et,ar,Ht){if(!Ht)return et;for(let Xt of Object.keys(Ht.groups)){let Nt,{optional:Vt,repeat:kt}=Ht.groups[Xt],Mt=`[${kt?"...":""}${Xt}]`;Vt&&(Mt=`[${Mt}]`);let un=ar[Xt];((Nt=Array.isArray(un)?un.map(vi=>vi&&encodeURIComponent(vi)).join("/"):un?encodeURIComponent(un):"")||Vt)&&(et=et.replaceAll(Mt,Nt))}return et}(it,Rt,X),filterInternalQuery:(it,Rt)=>wt(it,Rt)}}function It(k,d){return typeof k[V]=="string"&&k[K]===d?k[V].split(","):[]}_.s(["getPreviouslyRevalidatedTags",()=>It,"getServerUtils",()=>Qe],69297);class nt{static#e=this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;constructor({fs:d,dev:y,flushToDisk:O,minimalMode:U,serverDistDir:le,requestHeaders:E,maxMemoryCacheSize:X,getPrerenderManifest:be,fetchCacheKeyPrefix:je,CurCacheHandler:it,allowedRevalidateHeaderKeys:Rt}){var et,ar,Ht,Xt;this.locks=new Map,this.hasCustomCacheHandler=!!it;let Nt=Symbol.for("@next/cache-handlers"),Vt=mr;if(it)nt.debug&&console.log("IncrementalCache: using custom cache handler",it.name);else{let Mt=Vt[Nt];Mt?.FetchCache?(it=Mt.FetchCache,nt.debug&&console.log("IncrementalCache: using global FetchCache cache handler")):d&&le&&(nt.debug&&console.log("IncrementalCache: using filesystem cache handler"),it=_a)}process.env.__NEXT_TEST_MAX_ISR_CACHE&&(X=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=y,this.disableForTestmode=process.env.NEXT_PRIVATE_TEST_PROXY==="true",this.minimalMode=U,this.requestHeaders=E,this.allowedRevalidateHeaderKeys=Rt,this.prerenderManifest=be(),this.cacheControls=new Jn(this.prerenderManifest),this.fetchCacheKeyPrefix=je;let kt=[];E[Vr]===((ar=this.prerenderManifest)==null||(et=ar.preview)==null?void 0:et.previewModeId)&&(this.isOnDemandRevalidate=!0),U&&(kt=this.revalidatedTags=It(E,(Xt=this.prerenderManifest)==null||(Ht=Xt.preview)==null?void 0:Ht.previewModeId)),it&&(this.cacheHandler=new it({dev:y,fs:d,flushToDisk:O,serverDistDir:le,revalidatedTags:kt,maxMemoryCacheSize:X,_requestHeaders:E,fetchCacheKeyPrefix:je}))}calculateRevalidate(d,y,O,U){if(O)return Math.floor(performance.timeOrigin+performance.now()-1e3);let le=this.cacheControls.get(oo(d)),E=le?le.revalidate:!U&&1;return typeof E=="number"?1e3*E+y:E}_getPathname(d,y){return y?d:ma(d)}resetRequestCache(){var d,y;(y=this.cacheHandler)==null||(d=y.resetRequestCache)==null||d.call(y)}async lock(d){for(;;){let U=this.locks.get(d);if(nt.debug&&console.log("IncrementalCache: lock get",d,!!U),!U)break;await U}let{resolve:y,promise:O}=new fo;return nt.debug&&console.log("IncrementalCache: successfully locked",d),this.locks.set(d,O),()=>{y(),this.locks.delete(d)}}async revalidateTag(d,y){var O;return(O=this.cacheHandler)==null?void 0:O.revalidateTag(d,y)}async generateCacheKey(d,y={}){let O=[],U=new TextEncoder,le=new TextDecoder;if(y.body)if(y.body instanceof Uint8Array)O.push(le.decode(y.body)),y._ogBody=y.body;else if(typeof y.body.getReader=="function"){let je=y.body,it=[];try{await je.pipeTo(new WritableStream({write(Ht){typeof Ht=="string"?(it.push(U.encode(Ht)),O.push(Ht)):(it.push(Ht),O.push(le.decode(Ht,{stream:!0})))}})),O.push(le.decode());let Rt=it.reduce((Ht,Xt)=>Ht+Xt.length,0),et=new Uint8Array(Rt),ar=0;for(let Ht of it)et.set(Ht,ar),ar+=Ht.length;y._ogBody=et}catch(Rt){console.error("Problem reading body",Rt)}}else if(typeof y.body.keys=="function"){let je=y.body;for(let it of(y._ogBody=y.body,new Set([...je.keys()]))){let Rt=je.getAll(it);O.push(`${it}=${(await Promise.all(Rt.map(async et=>typeof et=="string"?et:await et.text()))).join(",")}`)}}else if(typeof y.body.arrayBuffer=="function"){let je=y.body,it=await je.arrayBuffer();O.push(await je.text()),y._ogBody=new Blob([it],{type:je.type})}else typeof y.body=="string"&&(O.push(y.body),y._ogBody=y.body);let E=typeof(y.headers||{}).keys=="function"?Object.fromEntries(y.headers):Object.assign({},y.headers);"traceparent"in E&&delete E.traceparent,"tracestate"in E&&delete E.tracestate;let X=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",d,y.method,E,y.mode,y.redirect,y.credentials,y.referrer,y.referrerPolicy,y.integrity,y.cache,O]);{var be;let je=U.encode(X);return be=await crypto.subtle.digest("SHA-256",je),Array.prototype.map.call(new Uint8Array(be),it=>it.toString(16).padStart(2,"0")).join("")}}async get(d,y){var O,U,le,E,X,be,je;let it,Rt;if(y.kind===u.FETCH){let Xt=is.workUnitAsyncStorage.getStore(),Nt=Xt?Ti(Xt):null;if(Nt){let Vt=Nt.fetch.get(d);if(Vt?.kind===Pn.FETCH)return nt.debug&&console.log("IncrementalCache: rdc:hit",d),{isStale:!1,value:Vt};nt.debug&&console.log("IncrementalCache: rdc:miss",d)}else nt.debug&&console.log("IncrementalCache: rdc:no-resume-data")}if(this.disableForTestmode||this.dev&&(y.kind!==u.FETCH||this.requestHeaders["cache-control"]==="no-cache"))return null;d=this._getPathname(d,y.kind===u.FETCH);let et=await((O=this.cacheHandler)==null?void 0:O.get(d,y));if(y.kind===u.FETCH){if(!et)return null;if(((le=et.value)==null?void 0:le.kind)!==Pn.FETCH)throw Object.defineProperty(new M(`Expected cached value for cache key ${JSON.stringify(d)} to be a "FETCH" kind, got ${JSON.stringify((E=et.value)==null?void 0:E.kind)} instead.`),"__NEXT_ERROR_CODE",{value:"E653",enumerable:!1,configurable:!0});let Xt=ve.workAsyncStorage.getStore(),Nt=[...y.tags||[],...y.softTags||[]];if(Nt.some(vi=>{var Ei,qn;return((Ei=this.revalidatedTags)==null?void 0:Ei.includes(vi))||(Xt==null||(qn=Xt.pendingRevalidatedTags)==null?void 0:qn.some(na=>na.tag===vi))}))return nt.debug&&console.log("IncrementalCache: expired tag",d),null;let Vt=is.workUnitAsyncStorage.getStore();if(Vt){let vi=xr(Vt);vi&&(nt.debug&&console.log("IncrementalCache: rdc:set",d),vi.fetch.set(d,et.value))}let kt=y.revalidate||et.value.revalidate,Mt=(performance.timeOrigin+performance.now()-(et.lastModified||0))/1e3>kt,un=et.value.data;return Ca(Nt,et.lastModified)?null:(Ci(Nt,et.lastModified)&&(Mt=!0),{isStale:Mt,value:{kind:Pn.FETCH,data:un,revalidate:kt}})}if((et==null||(U=et.value)==null?void 0:U.kind)===Pn.FETCH)throw Object.defineProperty(new M(`Expected cached value for cache key ${JSON.stringify(d)} not to be a ${JSON.stringify(y.kind)} kind, got "FETCH" instead.`),"__NEXT_ERROR_CODE",{value:"E652",enumerable:!1,configurable:!0});let ar=null,Ht=this.cacheControls.get(oo(d));if(et?.lastModified===-1)it=-1,Rt=-31536e3;else{let Xt=performance.timeOrigin+performance.now(),Nt=et?.lastModified||Xt;if((it=(Rt=this.calculateRevalidate(d,Nt,this.dev??!1,y.isFallback))!==!1&&Rt<Xt||void 0)===void 0&&((et==null||(X=et.value)==null?void 0:X.kind)===Pn.APP_PAGE||(et==null||(be=et.value)==null?void 0:be.kind)===Pn.APP_ROUTE)){let Vt=(je=et.value.headers)==null?void 0:je[L];if(typeof Vt=="string"){let kt=Vt.split(",");kt.length>0&&(Ca(kt,Nt)?it=-1:Ci(kt,Nt)&&(it=!0))}}}return et&&(ar={isStale:it,cacheControl:Ht,revalidateAfter:Rt,value:et.value}),!et&&this.prerenderManifest.notFoundRoutes.includes(d)&&(ar={isStale:it,value:null,cacheControl:Ht,revalidateAfter:Rt},this.set(d,ar.value,{...y,cacheControl:Ht})),ar}async set(d,y,O){if(y?.kind===Pn.FETCH){let E=is.workUnitAsyncStorage.getStore(),X=E?xr(E):null;X&&(nt.debug&&console.log("IncrementalCache: rdc:set",d),X.fetch.set(d,y))}if(this.disableForTestmode||this.dev&&!O.fetchCache)return;d=this._getPathname(d,O.fetchCache);let U=JSON.stringify(y).length;if(O.fetchCache&&U>2097152&&!this.hasCustomCacheHandler&&!O.isImplicitBuildTimeCache){let E=`Failed to set Next.js data cache for ${O.fetchUrl||d}, items over 2MB can not be cached (${U} bytes)`;if(this.dev)throw Object.defineProperty(Error(E),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});console.warn(E);return}try{var le;!O.fetchCache&&O.cacheControl&&this.cacheControls.set(oo(d),O.cacheControl),await((le=this.cacheHandler)==null?void 0:le.set(d,y,O))}catch(E){console.warn("Failed to update prerender cache for",d,E)}}}_.s(["IncrementalCache",()=>nt],13714);var qt=((Ve={})[Ve.SeeOther=303]="SeeOther",Ve[Ve.TemporaryRedirect=307]="TemporaryRedirect",Ve[Ve.PermanentRedirect=308]="PermanentRedirect",Ve);_.s(["RedirectStatusCode",()=>qt],88503);var cr=_.i(34392);let ke="DYNAMIC_SERVER_USAGE";class de extends Error{constructor(d){super(`Dynamic server usage: ${d}`),this.description=d,this.digest=ke}}function Se(k){return typeof k=="object"&&k!==null&&"digest"in k&&typeof k.digest=="string"&&k.digest===ke}_.s(["DynamicServerError",()=>de,"isDynamicServerError",()=>Se],25249);class Sr extends Error{constructor(...d){super(...d),this.code="NEXT_STATIC_GEN_BAILOUT"}}_.s(["StaticGenBailoutError",()=>Sr],10824);class At extends Error{constructor(d,y){super(`During prerendering, ${y} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${y} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${d}".`),this.route=d,this.expression=y,this.digest="HANGING_PROMISE_REJECTION"}}let St=new WeakMap;function dt(k,d,y){if(k.aborted)return Promise.reject(new At(d,y));{let O=new Promise((U,le)=>{let E=le.bind(null,new At(d,y)),X=St.get(k);if(X)X.push(E);else{let be=[E];St.set(k,be),k.addEventListener("abort",()=>{for(let je=0;je<be.length;je++)be[je]()},{once:!0})}});return O.catch(Ae),O}}function Ae(){}function Zt(k,d,y){return d.stagedRendering?d.stagedRendering.delayUntilStage(y,void 0,k):new Promise(O=>{setTimeout(()=>{O(k)},0)})}function Jt(k){return typeof k=="object"&&k!==null&&"digest"in k&&k.digest==="BAILOUT_TO_CLIENT_SIDE_RENDERING"}_.s(["makeDevtoolsIOAwarePromise",()=>Zt,"makeHangingPromise",()=>dt],92879),_.s(["isBailoutToCSRError",()=>Jt],68270);let Et=typeof cr.default.unstable_postpone=="function";function Dt(k){return{isDebugDynamicAccesses:k,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function Ur(k){var d;return(d=k.dynamicAccesses[0])==null?void 0:d.expression}function hr(k,d,y){if(d)switch(d.type){case"cache":case"unstable-cache":case"private-cache":return}if(!k.forceDynamic&&!k.forceStatic){if(k.dynamicShouldError)throw Object.defineProperty(new Sr(`Route ${k.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${y}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(d)switch(d.type){case"prerender-ppr":return yt(k.route,y,d.dynamicTracking);case"prerender-legacy":d.revalidate=0;let O=Object.defineProperty(new de(`Route ${k.route} couldn't be rendered statically because it used ${y}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw k.dynamicUsageDescription=y,k.dynamicUsageStack=O.stack,O}}}function ir(k,d,y){let O=Object.defineProperty(new de(`Route ${d.route} couldn't be rendered statically because it used \`${k}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw y.revalidate=0,d.dynamicUsageDescription=k,d.dynamicUsageStack=O.stack,O}function Xe(k){switch(k.type){case"cache":case"unstable-cache":case"private-cache":return}}function Lt(k,d,y,O){if(O.controller.signal.aborted===!1){let U,le;U=zt(`Route ${k} needs to bail out of prerendering at this point because it used ${d}.`),O.controller.abort(U),(le=O.dynamicTracking)&&le.dynamicAccesses.push({stack:le.isDebugDynamicAccesses?Error().stack:void 0,expression:d});let E=O.dynamicTracking;E&&E.syncDynamicErrorWithStack===null&&(E.syncDynamicErrorWithStack=y)}throw zt(`Route ${k} needs to bail out of prerendering at this point because it used ${d}.`)}function yt(k,d,y){(function(){if(!Et)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),y&&y.dynamicAccesses.push({stack:y.isDebugDynamicAccesses?Error().stack:void 0,expression:d}),cr.default.unstable_postpone(oa(k,d))}function oa(k,d){return`Route ${k} needs to bail out of prerendering at this point because it used ${d}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(((sr=oa("%%%","^^^")).includes("needs to bail out of prerendering at this point because it used")&&sr.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error"))===!1)throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let qr="NEXT_PRERENDER_INTERRUPTED";function zt(k){let d=Object.defineProperty(Error(k),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.digest=qr,d}function Ne(k){return typeof k=="object"&&k!==null&&k.digest===qr&&"name"in k&&"message"in k&&k instanceof Error}function rr(k,d){return k.runtimeStagePromise?k.runtimeStagePromise.then(()=>d):d}RegExp("\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)"),RegExp("\\n\\s+at __next_metadata_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_viewport_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_outlet_boundary__[\\n\\s]"),_.s(["abortAndThrowOnSynchronousRequestDataAccess",()=>Lt,"createDynamicTrackingState",()=>Dt,"delayUntilRuntimeStage",()=>rr,"getFirstDynamicReason",()=>Ur,"isPrerenderInterruptedError",()=>Ne,"markCurrentScopeAsDynamic",()=>hr,"postponeWithTracking",()=>yt,"throwToInterruptStaticGeneration",()=>ir,"trackDynamicDataInDynamicRender",()=>Xe],99690);let Kt=()=>{};function sn(k){if(!k.body)return[k,k];let[d,y]=k.body.tee(),O=new Response(d,{status:k.status,statusText:k.statusText,headers:k.headers});Object.defineProperty(O,"url",{value:k.url,configurable:!0,enumerable:!0,writable:!1}),n&&O.body&&n.register(O,new WeakRef(O.body));let U=new Response(y,{status:k.status,statusText:k.statusText,headers:k.headers});return Object.defineProperty(U,"url",{value:k.url,configurable:!0,enumerable:!0,writable:!1}),[O,U]}mr.FinalizationRegistry&&(n=new FinalizationRegistry(k=>{let d=k.deref();d&&!d.locked&&d.cancel("Response object has been garbage collected").then(Kt)}));let Oa=new Set(["traceparent","tracestate"]);var Or=((pe={})[pe.Before=1]="Before",pe[pe.Static=2]="Static",pe[pe.Runtime=3]="Runtime",pe[pe.Dynamic=4]="Dynamic",pe[pe.Abandoned=5]="Abandoned",pe);_.s(["RenderStage",()=>Or],21170);let $i=Symbol.for("next-patch");function yo(k,d){k.shouldTrackFetchMetrics&&(k.fetchMetrics??=[],k.fetchMetrics.push({...d,end:performance.timeOrigin+performance.now(),idx:k.nextFetchId||0}))}async function Vn(k,d,y,O,U,le){let E=await k.arrayBuffer(),X={headers:Object.fromEntries(k.headers.entries()),body:Qi.Buffer.from(E).toString("base64"),status:k.status,url:k.url};return y&&await O.set(d,{kind:Pn.FETCH,data:X,revalidate:U},y),await le(),new Response(E,{headers:k.headers,status:k.status,statusText:k.statusText})}async function Bs(k,d,y,O,U,le,E,X,be){let[je,it]=sn(d),Rt=je.arrayBuffer().then(async Xt=>{let Nt=Qi.Buffer.from(Xt),Vt={headers:Object.fromEntries(je.headers.entries()),body:Nt.toString("base64"),status:je.status,url:je.url};le?.set(y,Vt),O&&await U.set(y,{kind:Pn.FETCH,data:Vt,revalidate:E},O)}).catch(Xt=>console.warn("Failed to set fetch cache",X,Xt)).finally(be),et=`cache-set-${y}`,ar=k.pendingRevalidates??={},Ht=Promise.resolve();return et in ar&&(Ht=ar[et]),ar[et]=Ht.then(()=>Rt).finally(()=>{ar?.[et]&&delete ar[et]}),it}function Vs(k){var d;let y;if(mr[$i]===!0)return;let O=(d=mr.fetch,y=cr.cache(U=>[]),function(U,le){let E,X;if(le&&le.signal)return d(U,le);if(typeof U!="string"||le){let Rt,et=typeof U=="string"||U instanceof URL?new Request(U,le):U;if(et.method!=="GET"&&et.method!=="HEAD"||et.keepalive)return d(U,le);Rt=Array.from(et.headers.entries()).filter(([ar])=>!Oa.has(ar.toLowerCase())),X=JSON.stringify([et.method,Rt,null,et.redirect,null,et.referrer,et.referrerPolicy,null]),E=et.url}else X='["GET",[],null,"follow",null,null,null,null]',E=U;let be=y(E);for(let Rt=0,et=be.length;Rt<et;Rt+=1){let[ar,Ht]=be[Rt];if(ar===X)return Ht.then(()=>{let Xt=be[Rt][2];if(!Xt)throw Object.defineProperty(new M("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[Nt,Vt]=sn(Xt);return be[Rt][2]=Vt,Nt})}let je=d(U,le),it=[X,je,null];return be.push(it),je.then(Rt=>{let[et,ar]=sn(Rt);return it[2]=ar,et})});mr.fetch=function(U,{workAsyncStorage:le,workUnitAsyncStorage:E}){let X=async function(be,je){var it,Rt;let et;try{(et=new URL(be instanceof Request?be.url:be)).username="",et.password=""}catch{et=void 0}let ar=et?.href??"",Ht=(je==null||(it=je.method)==null?void 0:it.toUpperCase())||"GET",Xt=(je==null||(Rt=je.next)==null?void 0:Rt.internal)===!0,Nt=process.env.NEXT_OTEL_FETCH_DISABLED==="1",Vt=Xt?void 0:performance.timeOrigin+performance.now(),kt=le.getStore(),Mt=E.getStore(),un=Mt?Zi(Mt):null;un&&un.beginRead();let vi=di().trace(Xt?nn.internalFetch:Ja.fetch,{hideSpan:Nt,kind:en.CLIENT,spanName:["fetch",Ht,ar].filter(Boolean).join(" "),attributes:{"http.url":ar,"http.method":Ht,"net.peer.name":et?.hostname,"net.peer.port":et?.port||void 0}},async()=>{var Ei;let qn,na,Oi,mi,vo,Ni;if(Xt||!kt||kt.isDraftMode)return U(be,je);let ha=be&&typeof be=="object"&&typeof be.method=="string",to=ut=>je?.[ut]||(ha?be[ut]:null),ua=ut=>{var gr,_r,Er;return(je==null||(gr=je.next)==null?void 0:gr[ut])!==void 0?je==null||(_r=je.next)==null?void 0:_r[ut]:ha?(Er=be.next)==null?void 0:Er[ut]:void 0},Ga=ua("revalidate"),Ui=Ga,za=function(ut,gr){let _r=[],Er=[];for(let ln=0;ln<ut.length;ln++){let mn=ut[ln];if(typeof mn!="string"?Er.push({tag:mn,reason:"invalid type, must be a string"}):mn.length>256?Er.push({tag:mn,reason:"exceeded max length of 256"}):_r.push(mn),_r.length>128){console.warn(`Warning: exceeded max tag count for ${gr}, dropped tags:`,ut.slice(ln).join(", "));break}}if(Er.length>0)for(let{tag:ln,reason:mn}of(console.warn(`Warning: invalid tags passed to ${gr}: `),Er))console.log(`tag: "${ln}" ${mn}`);return _r}(ua("tags")||[],`fetch ${be.toString()}`);if(Mt)switch(Mt.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":qn=Mt}if(qn&&Array.isArray(za)){let ut=qn.tags??(qn.tags=[]);for(let gr of za)ut.includes(gr)||ut.push(gr)}let Na=Mt?.implicitTags,Pa=kt.fetchCache;Mt&&Mt.type==="unstable-cache"&&(Pa="force-no-store");let Mo=!!kt.isUnstableNoStore,En=to("cache"),li="";typeof En=="string"&&Ui!==void 0&&(En==="force-cache"&&Ui===0||En==="no-store"&&(Ui>0||Ui===!1))&&(na=`Specified "cache: ${En}" and "revalidate: ${Ui}", only one should be specified.`,En=void 0,Ui=void 0);let so=En==="no-cache"||En==="no-store"||Pa==="force-no-store"||Pa==="only-no-store",bs=!Pa&&!En&&!Ui&&kt.forceDynamic;En==="force-cache"&&Ui===void 0?Ui=!1:(so||bs)&&(Ui=0),(En==="no-cache"||En==="no-store")&&(li=`cache: ${En}`),Ni=function(ut,gr){try{let _r;if(ut===!1)_r=4294967294;else if(typeof ut=="number"&&!isNaN(ut)&&ut>-1)_r=ut;else if(ut!==void 0)throw Object.defineProperty(Error(`Invalid revalidate value "${ut}" on "${gr}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return _r}catch(_r){if(_r instanceof Error&&_r.message.includes("Invalid revalidate"))throw _r;return}}(Ui,kt.route);let Bo=to("headers"),Wo=typeof Bo?.get=="function"?Bo:new Headers(Bo||{}),_s=Wo.get("authorization")||Wo.get("cookie"),T=!["get","head"].includes(((Ei=to("method"))==null?void 0:Ei.toLowerCase())||"get"),o=Pa==null&&(En==null||En==="default")&&Ui==null,l=!!((_s||T)&&qn?.revalidate===0),C=!1;if(!l&&o&&(kt.isBuildTimePrerendering?C=!0:l=!0),o&&Mt!==void 0)switch(Mt.type){case"prerender":case"prerender-runtime":case"prerender-client":return un&&(un.endRead(),un=null),dt(Mt.renderSignal,kt.route,"fetch()")}switch(Pa){case"force-no-store":li="fetchCache = force-no-store";break;case"only-no-store":if(En==="force-cache"||Ni!==void 0&&Ni>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${ar} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});li="fetchCache = only-no-store";break;case"only-cache":if(En==="no-store")throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${ar} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(Ui===void 0||Ui===0)&&(li="fetchCache = force-cache",Ni=4294967294)}if(Ni===void 0?Pa!=="default-cache"||Mo?Pa==="default-no-store"?(Ni=0,li="fetchCache = default-no-store"):Mo?(Ni=0,li="noStore call"):l?(Ni=0,li="auto no cache"):(li="auto cache",Ni=qn?qn.revalidate:4294967294):(Ni=4294967294,li="fetchCache = default-cache"):li||(li=`revalidate: ${Ni}`),!(kt.forceStatic&&Ni===0)&&!l&&qn&&Ni<qn.revalidate){if(Ni===0){if(Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":return un&&(un.endRead(),un=null),dt(Mt.renderSignal,kt.route,"fetch()")}hr(kt,Mt,`revalidate: 0 fetch ${be} ${kt.route}`)}qn&&Ga===Ni&&(qn.revalidate=Ni)}let Z=typeof Ni=="number"&&Ni>0,{incrementalCache:oe}=kt,Be=!1;if(Mt)switch(Mt.type){case"request":case"cache":case"private-cache":Be=Mt.isHmrRefresh??!1,mi=Mt.serverComponentsHmrCache}if(oe&&(Z||mi))try{Oi=await oe.generateCacheKey(ar,ha?be:je)}catch{console.error("Failed to generate cache key for",be)}let ot=kt.nextFetchId??1;kt.nextFetchId=ot+1;let or=()=>{},Ir=async(ut,gr)=>{let _r=["credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...ut?[]:["signal"]];if(ha){let ln=be,mn={body:ln._ogBody||ln.body};for(let Rn of _r)mn[Rn]=ln[Rn];be=new Request(ln.url,mn)}else if(je){let{_ogBody:ln,body:mn,signal:Rn,...Mn}=je;je={...Mn,body:ln||mn,signal:ut?void 0:Rn}}let Er={...je,next:{...je?.next,fetchType:"origin",fetchIdx:ot}};return U(be,Er).then(async ln=>{if(!ut&&Vt&&yo(kt,{start:Vt,url:ar,cacheReason:gr||li,cacheStatus:Ni===0||gr?"skip":"miss",cacheWarning:na,status:ln.status,method:Er.method||"GET"}),ln.status===200&&oe&&Oi&&(Z||mi)){let mn=Ni>=4294967294?31536e3:Ni,Rn=Z?{fetchCache:!0,fetchUrl:ar,fetchIdx:ot,tags:za,isImplicitBuildTimeCache:C}:void 0;switch(Mt?.type){case"prerender":case"prerender-client":case"prerender-runtime":return Vn(ln,Oi,Rn,oe,mn,or);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return Bs(kt,ln,Oi,Rn,oe,mi,mn,be,or)}}return await or(),ln}).catch(ln=>{throw or(),ln})},tn=!1,yn=!1;if(Oi&&oe){let ut;if(Be&&mi&&(ut=mi.get(Oi),yn=!0),Z&&!ut){or=await oe.lock(Oi);let gr=kt.isOnDemandRevalidate?null:await oe.get(Oi,{kind:u.FETCH,revalidate:Ni,fetchUrl:ar,fetchIdx:ot,tags:za,softTags:Na?.tags});if(o&&Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":await(vs||(vs=new Promise(_r=>{setTimeout(()=>{vs=null,_r()},0)})),vs)}if(gr?await or():vo="cache-control: no-cache (hard refresh)",gr?.value&&gr.value.kind===Pn.FETCH)if(kt.isStaticGeneration&&gr.isStale)tn=!0;else{if(gr.isStale&&(kt.pendingRevalidates??={},!kt.pendingRevalidates[Oi])){let _r=Ir(!0).then(async Er=>({body:await Er.arrayBuffer(),headers:Er.headers,status:Er.status,statusText:Er.statusText})).finally(()=>{kt.pendingRevalidates??={},delete kt.pendingRevalidates[Oi||""]});_r.catch(console.error),kt.pendingRevalidates[Oi]=_r}ut=gr.value.data}}if(ut){Vt&&yo(kt,{start:Vt,url:ar,cacheReason:li,cacheStatus:yn?"hmr":"hit",cacheWarning:na,status:ut.status||200,method:je?.method||"GET"});let gr=new Response(Qi.Buffer.from(ut.body,"base64"),{headers:ut.headers,status:ut.status});return Object.defineProperty(gr,"url",{value:ut.url}),gr}}if(kt.isStaticGeneration&&je&&typeof je=="object"){let{cache:ut}=je;if(delete je.cache,ut==="no-store"){if(Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":return un&&(un.endRead(),un=null),dt(Mt.renderSignal,kt.route,"fetch()")}hr(kt,Mt,`no-store fetch ${be} ${kt.route}`)}let gr="next"in je,{next:_r={}}=je;if(typeof _r.revalidate=="number"&&qn&&_r.revalidate<qn.revalidate){if(_r.revalidate===0){if(Mt)switch(Mt.type){case"prerender":case"prerender-client":case"prerender-runtime":return dt(Mt.renderSignal,kt.route,"fetch()")}hr(kt,Mt,`revalidate: 0 fetch ${be} ${kt.route}`)}kt.forceStatic&&_r.revalidate===0||(qn.revalidate=_r.revalidate)}gr&&delete je.next}if(!Oi||!tn)return Ir(!1,vo);{let ut=Oi;kt.pendingRevalidates??={};let gr=kt.pendingRevalidates[ut];if(gr){let Er=await gr;return new Response(Er.body,{headers:Er.headers,status:Er.status,statusText:Er.statusText})}let _r=Ir(!0,vo).then(sn);return(gr=_r.then(async Er=>{let ln=Er[0];return{body:await ln.arrayBuffer(),headers:ln.headers,status:ln.status,statusText:ln.statusText}}).finally(()=>{var Er;(Er=kt.pendingRevalidates)!=null&&Er[ut]&&delete kt.pendingRevalidates[ut]})).catch(()=>{}),kt.pendingRevalidates[ut]=gr,_r.then(Er=>Er[1])}});if(un)try{return await vi}finally{un&&un.endRead()}return vi};return X.__nextPatched=!0,X.__nextGetStaticStore=()=>le,X._nextOriginalFetch=U,mr[$i]=!0,Object.defineProperty(X,"name",{value:"fetch",writable:!1}),X}(O,k)}let vs=null;_.s(["patchFetch",()=>Vs],32995)},84610,(_,g,xe)=>{(()=>{"use strict";var n={328:ie=>{ie.exports=function(Fe){for(var ge=5381,Ee=Fe.length;Ee;)ge=33*ge^Fe.charCodeAt(--Ee);return ge>>>0}}},Ke={};function M(ie){var Fe=Ke[ie];if(Fe!==void 0)return Fe.exports;var ge=Ke[ie]={exports:{}},Ee=!0;try{n[ie](ge,ge.exports,M),Ee=!1}finally{Ee&&delete Ke[ie]}return ge.exports}M.ab="/ROOT/node_modules/next/dist/compiled/string-hash/",g.exports=M(328)})()},26086,_=>{"use strict";_.i(89610),_.s([])},29058,(_,g,xe)=>{"use strict";var n=_.r(34392);function Ke(){}var M={d:{f:Ke,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:Ke,C:Ke,L:Ke,m:Ke,X:Ke,S:Ke,M:Ke},p:0,findDOMNode:null};if(!n.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');function ie(Fe,ge){return Fe==="font"?"":typeof ge=="string"?ge==="use-credentials"?ge:"":void 0}xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,xe.preconnect=function(Fe,ge){typeof Fe=="string"&&(ge=ge?typeof(ge=ge.crossOrigin)=="string"?ge==="use-credentials"?ge:"":void 0:null,M.d.C(Fe,ge))},xe.prefetchDNS=function(Fe){typeof Fe=="string"&&M.d.D(Fe)},xe.preinit=function(Fe,ge){if(typeof Fe=="string"&&ge&&typeof ge.as=="string"){var Ee=ge.as,W=ie(Ee,ge.crossOrigin),ne=typeof ge.integrity=="string"?ge.integrity:void 0,B=typeof ge.fetchPriority=="string"?ge.fetchPriority:void 0;Ee==="style"?M.d.S(Fe,typeof ge.precedence=="string"?ge.precedence:void 0,{crossOrigin:W,integrity:ne,fetchPriority:B}):Ee==="script"&&M.d.X(Fe,{crossOrigin:W,integrity:ne,fetchPriority:B,nonce:typeof ge.nonce=="string"?ge.nonce:void 0})}},xe.preinitModule=function(Fe,ge){if(typeof Fe=="string")if(typeof ge=="object"&&ge!==null){if(ge.as==null||ge.as==="script"){var Ee=ie(ge.as,ge.crossOrigin);M.d.M(Fe,{crossOrigin:Ee,integrity:typeof ge.integrity=="string"?ge.integrity:void 0,nonce:typeof ge.nonce=="string"?ge.nonce:void 0})}}else ge==null&&M.d.M(Fe)},xe.preload=function(Fe,ge){if(typeof Fe=="string"&&typeof ge=="object"&&ge!==null&&typeof ge.as=="string"){var Ee=ge.as,W=ie(Ee,ge.crossOrigin);M.d.L(Fe,Ee,{crossOrigin:W,integrity:typeof ge.integrity=="string"?ge.integrity:void 0,nonce:typeof ge.nonce=="string"?ge.nonce:void 0,type:typeof ge.type=="string"?ge.type:void 0,fetchPriority:typeof ge.fetchPriority=="string"?ge.fetchPriority:void 0,referrerPolicy:typeof ge.referrerPolicy=="string"?ge.referrerPolicy:void 0,imageSrcSet:typeof ge.imageSrcSet=="string"?ge.imageSrcSet:void 0,imageSizes:typeof ge.imageSizes=="string"?ge.imageSizes:void 0,media:typeof ge.media=="string"?ge.media:void 0})}},xe.preloadModule=function(Fe,ge){if(typeof Fe=="string")if(ge){var Ee=ie(ge.as,ge.crossOrigin);M.d.m(Fe,{as:typeof ge.as=="string"&&ge.as!=="script"?ge.as:void 0,crossOrigin:Ee,integrity:typeof ge.integrity=="string"?ge.integrity:void 0})}else M.d.m(Fe)},xe.version="19.3.0-canary-f93b9fd4-20251217"},93773,(_,g,xe)=>{"use strict";g.exports=_.r(29058)},44520,(_,g,xe)=>{"use strict";var n=_.r(93773),Ke=_.r(34392),M=Symbol.for("react.element"),ie=Symbol.for("react.transitional.element"),Fe=Symbol.for("react.fragment"),ge=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Te=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.for("react.view_transition"),ht=Symbol.iterator;function Y(u){return u===null||typeof u!="object"?null:typeof(u=ht&&u[ht]||u["@@iterator"])=="function"?u:null}var Ge=Symbol.asyncIterator,te=Symbol.for("react.optimistic_key");function Ye(u){setTimeout(function(){throw u})}var We=Promise,rt=typeof queueMicrotask=="function"?queueMicrotask:function(u){We.resolve(null).then(u).catch(Ye)},$t=null,Pt=0;function er(u,w){if(w.byteLength!==0)if(4096<w.byteLength)0<Pt&&(u.enqueue(new Uint8Array($t.buffer,0,Pt)),$t=new Uint8Array(4096),Pt=0),u.enqueue(w);else{var R=$t.length-Pt;R<w.byteLength&&(R===0?u.enqueue($t):($t.set(w.subarray(0,R),Pt),u.enqueue($t),w=w.subarray(R)),$t=new Uint8Array(4096),Pt=0),$t.set(w,Pt),Pt+=w.byteLength}return!0}var Gt=new TextEncoder;function Ve(u){return Gt.encode(u)}function sr(u){return u.byteLength}function pe(u,w){typeof u.error=="function"?u.error(w):u.close()}var ve=Symbol.for("react.client.reference"),q=Symbol.for("react.server.reference");function vt(u,w,R){return Object.defineProperties(u,{$$typeof:{value:ve},$$id:{value:w},$$async:{value:R}})}var h=Function.prototype.bind,Yt=Array.prototype.slice;function lt(){var u=h.apply(this,arguments);if(this.$$typeof===q){var w=Yt.call(arguments,1);return Object.defineProperties(u,{$$typeof:{value:q},$$id:{value:this.$$id},$$bound:w={value:this.$$bound?this.$$bound.concat(w):w},bind:{value:lt,configurable:!0}})}return u}var ur={value:function(){return"function () { [omitted code] }"},configurable:!0,writable:!0},ct=Promise.prototype,mt={get:function(u,w){switch(w){case"$$typeof":return u.$$typeof;case"$$id":return u.$$id;case"$$async":return u.$$async;case"name":return u.name;case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":throw Error("Cannot await or return from a thenable. You cannot await a client module from a server component.")}throw Error("Cannot access "+String(u.name)+"."+String(w)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function Nr(u,w){switch(w){case"$$typeof":return u.$$typeof;case"$$id":return u.$$id;case"$$async":return u.$$async;case"name":return u.name;case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var R=u.$$id;return u.default=vt(function(){throw Error("Attempted to call the default export of "+R+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},u.$$id+"#",u.$$async),!0;case"then":if(u.then)return u.then;if(u.$$async)return;var P=vt({},u.$$id,!0),A=new Proxy(P,Vr);return u.status="fulfilled",u.value=A,u.then=vt(function(_e){return Promise.resolve(_e(A))},u.$$id+"#then",!1)}if(typeof w=="symbol")throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(P=u[w])||(Object.defineProperty(P=vt(function(){throw Error("Attempted to call "+String(w)+"() from the server but "+String(w)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},u.$$id+"#"+w,u.$$async),"name",{value:w}),P=u[w]=new Proxy(P,mt)),P}var Vr={get:function(u,w){return Nr(u,w)},getOwnPropertyDescriptor:function(u,w){var R=Object.getOwnPropertyDescriptor(u,w);return R||(R={value:Nr(u,w),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(u,w,R)),R},getPrototypeOf:function(){return ct},set:function(){throw Error("Cannot assign to a client module from a server module.")}},Sn=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kr=Sn.d;function Pr(u,w,R){if(typeof u=="string"){var P=cn();if(P){var A=P.hints,_e="L";if(w==="image"&&R){var Ue=R.imageSrcSet,gt=R.imageSizes,Pe="";typeof Ue=="string"&&Ue!==""?(Pe+="["+Ue+"]",typeof gt=="string"&&(Pe+="["+gt+"]")):Pe+="[][]"+u,_e+="[image]"+Pe}else _e+="["+w+"]"+u;A.has(_e)||(A.add(_e),(R=Nn(R))?rn(P,"L",[u,w,R]):rn(P,"L",[u,w]))}else Kr.L(u,w,R)}}function Dn(u,w){if(typeof u=="string"){var R=cn();if(R){var P=R.hints,A="m|"+u;return P.has(A)?void 0:(P.add(A),(w=Nn(w))?rn(R,"m",[u,w]):rn(R,"m",u))}Kr.m(u,w)}}function Nn(u){if(u==null)return null;var w,R=!1,P={};for(w in u)u[w]!=null&&(R=!0,P[w]=u[w]);return R?P:null}Sn.d={f:Kr.f,r:Kr.r,D:function(u){if(typeof u=="string"&&u){var w=cn();if(w){var R=w.hints,P="D|"+u;R.has(P)||(R.add(P),rn(w,"D",u))}else Kr.D(u)}},C:function(u,w){if(typeof u=="string"){var R=cn();if(R){var P=R.hints,A="C|"+(w??"null")+"|"+u;P.has(A)||(P.add(A),typeof w=="string"?rn(R,"C",[u,w]):rn(R,"C",u))}else Kr.C(u,w)}},L:Pr,m:Dn,X:function(u,w){if(typeof u=="string"){var R=cn();if(R){var P=R.hints,A="X|"+u;return P.has(A)?void 0:(P.add(A),(w=Nn(w))?rn(R,"X",[u,w]):rn(R,"X",u))}Kr.X(u,w)}},S:function(u,w,R){if(typeof u=="string"){var P=cn();if(P){var A=P.hints,_e="S|"+u;return A.has(_e)?void 0:(A.add(_e),(R=Nn(R))?rn(P,"S",[u,typeof w=="string"?w:0,R]):typeof w=="string"?rn(P,"S",[u,w]):rn(P,"S",u))}Kr.S(u,w,R)}},M:function(u,w){if(typeof u=="string"){var R=cn();if(R){var P=R.hints,A="M|"+u;return P.has(A)?void 0:(P.add(A),(w=Nn(w))?rn(R,"M",[u,w]):rn(R,"M",u))}Kr.M(u,w)}}};var Re=typeof AsyncLocalStorage=="function",L=Re?new AsyncLocalStorage:null,V=Symbol.for("react.temporary.reference"),K={get:function(u,w){switch(w){case"$$typeof":return u.$$typeof;case"name":case"displayName":case"defaultProps":case"_debugInfo":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.");case"then":return}throw Error("Cannot access "+String(w)+" on the server. You cannot dot into a temporary client reference from a server component. You can only pass the value through to the client.")},set:function(){throw Error("Cannot assign to a temporary client reference from a server module.")}};function Le(){}var at=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),Wt=null;function wr(){if(Wt===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var u=Wt;return Wt=null,u}var J=null,Xr=0,Yr=null;function hn(){var u=Yr||[];return Yr=null,u}var ti={readContext:st,use:function(u){if(u!==null&&typeof u=="object"||typeof u=="function"){if(typeof u.then=="function"){var w=Xr;Xr+=1,Yr===null&&(Yr=[]);var R=Yr,P=u,A=w;switch((A=R[A])===void 0?R.push(P):A!==P&&(P.then(Le,Le),P=A),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Le,Le):((R=P).status="pending",R.then(function(_e){if(P.status==="pending"){var Ue=P;Ue.status="fulfilled",Ue.value=_e}},function(_e){if(P.status==="pending"){var Ue=P;Ue.status="rejected",Ue.reason=_e}})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}throw Wt=P,at}}u.$$typeof===ge&&st()}throw u.$$typeof===ve?u.value!=null&&u.value.$$typeof===ge?Error("Cannot read a Client Context from a Server Component."):Error("Cannot use() an already resolved Client Reference."):Error("An unsupported type was passed to use(): "+String(u))},useCallback:function(u){return u},useContext:st,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:function(u){return u()},useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:function(){},useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:function(){if(J===null)throw Error("useId can only be used while React is rendering");var u=J.identifierCount++;return"_"+J.identifierPrefix+"S_"+u.toString(32)+"_"},useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:function(u){for(var w=Array(u),R=0;R<u;R++)w[R]=Te;return w},useCacheRefresh:function(){return lr}};function Zn(){throw Error("This Hook is not supported in Server Components.")}function lr(){throw Error("Refreshing the cache is not supported in Server Components.")}function st(){throw Error("Cannot read a Client Context from a Server Component.")}ti.useEffectEvent=Zn;var Ut={getCacheForType:function(u){var w=(w=cn())?w.cache:new Map,R=w.get(u);return R===void 0&&(R=u(),w.set(u,R)),R},cacheSignal:function(){var u=cn();return u?u.cacheController.signal:null}},nr=Ke.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!nr)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var fn=Array.isArray,Zr=Object.getPrototypeOf;function dr(u){return(u=Object.prototype.toString.call(u)).slice(8,u.length-1)}function Ki(u){switch(typeof u){case"string":return JSON.stringify(10>=u.length?u:u.slice(0,10)+"...");case"object":return fn(u)?"[...]":u!==null&&u.$$typeof===ri?"client":(u=dr(u))==="Object"?"{...}":u;case"function":return u.$$typeof===ri?"client":(u=u.displayName||u.name)?"function "+u:"function";default:return String(u)}}var ri=Symbol.for("react.client.reference");function Tn(u,w){var R=dr(u);if(R!=="Object"&&R!=="Array")return R;R=-1;var P=0;if(fn(u)){for(var A="[",_e=0;_e<u.length;_e++){0<_e&&(A+=", ");var Ue=u[_e];Ue=typeof Ue=="object"&&Ue!==null?Tn(Ue):Ki(Ue),""+_e===w?(R=A.length,P=Ue.length,A+=Ue):A=10>Ue.length&&40>A.length+Ue.length?A+Ue:A+"..."}A+="]"}else if(u.$$typeof===ie)A="<"+function bt(fr){if(typeof fr=="string")return fr;switch(fr){case W:return"Suspense";case ne:return"SuspenseList";case ye:return"ViewTransition"}if(typeof fr=="object")switch(fr.$$typeof){case Ee:return bt(fr.render);case B:return bt(fr.type);case ce:var $r=fr._payload;fr=fr._init;try{return bt(fr($r))}catch{}}return""}(u.type)+"/>";else{if(u.$$typeof===ri)return"client";for(Ue=0,A="{",_e=Object.keys(u);Ue<_e.length;Ue++){0<Ue&&(A+=", ");var gt=_e[Ue],Pe=JSON.stringify(gt);A+=('"'+gt+'"'===Pe?gt:Pe)+": ",Pe=typeof(Pe=u[gt])=="object"&&Pe!==null?Tn(Pe):Ki(Pe),gt===w?(R=A.length,P=Pe.length,A+=Pe):A=10>Pe.length&&40>A.length+Pe.length?A+Pe:A+"..."}A+="}"}return w===void 0?A:-1<R&&0<P?`
  `+A+`
  `+(u=" ".repeat(R)+"^".repeat(P)):`
  `+A}var Xn=Object.prototype.hasOwnProperty,pn=Object.prototype,ze=JSON.stringify;function ft(u){console.error(u)}function pr(u,w,R,P,A,_e,Ue,gt){if(nr.A!==null&&nr.A!==Ut)throw Error("Currently React only supports one RSC renderer at a time.");nr.A=Ut;var Pe=new Set,bt=[],fr=new Set;this.type=u,this.status=10,this.flushScheduled=!1,this.destination=this.fatalError=null,this.bundlerConfig=R,this.cache=new Map,this.cacheController=new AbortController,this.pendingChunks=this.nextChunkId=0,this.hints=fr,this.abortableTasks=Pe,this.pingedTasks=bt,this.completedImportChunks=[],this.completedHintChunks=[],this.completedRegularChunks=[],this.completedErrorChunks=[],this.writtenSymbols=new Map,this.writtenClientReferences=new Map,this.writtenServerReferences=new Map,this.writtenObjects=new WeakMap,this.temporaryReferences=gt,this.identifierPrefix=Ue||"",this.identifierCount=1,this.taintCleanupQueue=[],this.onError=P===void 0?ft:P,this.onAllReady=A,this.onFatalError=_e,bt.push(u=nn(this,w,null,!1,0,Pe))}var De=null;function cn(){if(De)return De;if(Re){var u=L.getStore();if(u)return u}return null}function zi(u,w,R){var P=nn(u,R,w.keyPath,w.implicitSlot,w.formatContext,u.abortableTasks);switch(R.status){case"fulfilled":return P.model=R.value,Yi(u,P),P.id;case"rejected":return Tr(u,P,R.reason),P.id;default:if(u.status===12)return u.abortableTasks.delete(P),u.type===21?(Li(P),ki(P,u)):(w=u.fatalError,Hn(P),Gi(P,u,w)),P.id;typeof R.status!="string"&&(R.status="pending",R.then(function(A){R.status==="pending"&&(R.status="fulfilled",R.value=A)},function(A){R.status==="pending"&&(R.status="rejected",R.reason=A)}))}return R.then(function(A){P.model=A,Yi(u,P)},function(A){P.status===0&&(Tr(u,P,A),Ot(u))}),P.id}function rn(u,w,R){w=Ve(":H"+w+(R=ze(R))+`
`),u.completedHintChunks.push(w),Ot(u)}function Di(u){if(u.status==="fulfilled")return u.value;throw u.status==="rejected"?u.reason:u}function ca(){}function qa(u,w,R,P,A){var _e=w.thenableState;if(w.thenableState=null,Xr=0,Yr=_e,A=P(A,void 0),u.status===12)throw typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.$$typeof!==ve&&A.then(ca,ca),null;return A=function(Ue,gt,Pe,bt){if(typeof bt!="object"||bt===null||bt.$$typeof===ve)return bt;if(typeof bt.then=="function"){switch(bt.status){case"fulfilled":return bt.value;case"rejected":break;default:typeof bt.status!="string"&&(bt.status="pending",bt.then(function($r){bt.status==="pending"&&(bt.status="fulfilled",bt.value=$r)},function($r){bt.status==="pending"&&(bt.status="rejected",bt.reason=$r)}))}return{$$typeof:ce,_payload:bt,_init:Di}}var fr=Y(bt);return fr?((Ue={})[Symbol.iterator]=function(){return fr.call(bt)},Ue):typeof bt[Ge]!="function"||typeof ReadableStream=="function"&&bt instanceof ReadableStream?bt:((Ue={})[Ge]=function(){return bt[Ge]()},Ue)}(u,0,0,A),P=w.keyPath,_e=w.implicitSlot,R!==null?w.keyPath=R===te||P===te?te:P===null?R:P+","+R:P===null&&(w.implicitSlot=!0),u=Ya(u,w,en,"",A),w.keyPath=P,w.implicitSlot=_e,u}function An(u,w,R){return w.keyPath!==null?(u=[ie,Fe,w.keyPath,{children:R}],w.implicitSlot?[u]:u):R}var ia=0;function Ha(u,w){return w=nn(u,w.model,w.keyPath,w.implicitSlot,w.formatContext,u.abortableTasks),Yi(u,w),da(w.id)}function Yi(u,w){var R=u.pingedTasks;R.push(w),R.length===1&&(u.flushScheduled=u.destination!==null,u.type===21||u.status===10?rt(function(){return Jr(u)}):setTimeout(function(){return Jr(u)},0))}function nn(u,w,R,P,A,_e){u.pendingChunks++;var Ue=u.nextChunkId++;typeof w!="object"||w===null||R!==null||P||u.writtenObjects.set(w,Bn(Ue));var gt={id:Ue,status:0,model:w,keyPath:R,implicitSlot:P,formatContext:A,ping:function(){return Yi(u,gt)},toJSON:function(Pe,bt){ia+=Pe.length;var fr=gt.keyPath,$r=gt.implicitSlot;try{var Qt=Ya(u,gt,this,Pe,bt)}catch(jr){if(Pe=typeof(Pe=gt.model)=="object"&&Pe!==null&&(Pe.$$typeof===ie||Pe.$$typeof===ce),u.status===12)gt.status=3,u.type===21?(fr=u.nextChunkId++,Qt=fr=Pe?da(fr):Bn(fr)):(fr=u.fatalError,Qt=Pe?da(fr):Bn(fr));else if(typeof(bt=jr===at?wr():jr)=="object"&&bt!==null&&typeof bt.then=="function"){var an=(Qt=nn(u,gt.model,gt.keyPath,gt.implicitSlot,gt.formatContext,u.abortableTasks)).ping;bt.then(an,an),Qt.thenableState=hn(),gt.keyPath=fr,gt.implicitSlot=$r,Qt=Pe?da(Qt.id):Bn(Qt.id)}else gt.keyPath=fr,gt.implicitSlot=$r,u.pendingChunks++,fr=u.nextChunkId++,$r=Ea(u,bt,gt),mo(u,fr,$r),Qt=Pe?da(fr):Bn(fr)}return Qt},thenableState:null};return _e.add(gt),gt}function Bn(u){return"$"+u.toString(16)}function da(u){return"$L"+u.toString(16)}function Ja(u,w,R){return u=ze(R),Ve(w=w.toString(16)+":"+u+`
`)}function _o(u,w,R,P){var A=P.$$async?P.$$id+"#async":P.$$id,_e=u.writtenClientReferences,Ue=_e.get(A);if(Ue!==void 0)return w[0]===ie&&R==="1"?da(Ue):Bn(Ue);try{var gt=u.bundlerConfig,Pe=P.$$id;Ue="";var bt=gt[Pe];if(bt)Ue=bt.name;else{var fr=Pe.lastIndexOf("#");if(fr!==-1&&(Ue=Pe.slice(fr+1),bt=gt[Pe.slice(0,fr)]),!bt)throw Error('Could not find the module "'+Pe+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}if(bt.async===!0&&P.$$async===!0)throw Error('The module "'+Pe+'" is marked as an async ESM module but was loaded as a CJS proxy. This is probably a bug in the React Server Components bundler.');var $r=bt.async===!0||P.$$async===!0?[bt.id,bt.chunks,Ue,1]:[bt.id,bt.chunks,Ue];u.pendingChunks++;var Qt=u.nextChunkId++,an=ze($r),jr=Qt.toString(16)+":I"+an+`
`,on=Ve(jr);return u.completedImportChunks.push(on),_e.set(A,Qt),w[0]===ie&&R==="1"?da(Qt):Bn(Qt)}catch(Cr){return u.pendingChunks++,w=u.nextChunkId++,R=Ea(u,Cr,null),mo(u,w,R),Bn(w)}}function La(u,w,R){return w=nn(u,w,null,!1,R,u.abortableTasks),Ln(u,w),w.id}function Wi(u,w,R){u.pendingChunks++;var P=u.nextChunkId++;return Ce(u,P,w,R,!1),Bn(P)}var Xa=!1;function Ya(u,w,R,P,A){if(w.model=A,A===ie)return"$";if(A===null)return null;if(typeof A=="object"){switch(A.$$typeof){case ie:var _e=null,Ue=u.writtenObjects;if(w.keyPath===null&&!w.implicitSlot){var gt=Ue.get(A);if(gt!==void 0){if(Xa!==A)return gt;Xa=null}else P.indexOf(":")===-1&&(R=Ue.get(R))!==void 0&&(_e=R+":"+P,Ue.set(A,_e))}return 3200<ia?Ha(u,w):(R=(P=A.props).ref,typeof(u=function Pe(bt,fr,$r,Qt,an,jr){if(an!=null)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if(typeof $r=="function"&&$r.$$typeof!==ve&&$r.$$typeof!==V)return qa(bt,fr,Qt,$r,jr);if($r===Fe&&Qt===null)return $r=fr.implicitSlot,fr.keyPath===null&&(fr.implicitSlot=!0),jr=Ya(bt,fr,en,"",jr.children),fr.implicitSlot=$r,jr;if($r!=null&&typeof $r=="object"&&$r.$$typeof!==ve)switch($r.$$typeof){case ce:var on=$r._init;if($r=on($r._payload),bt.status===12)throw null;return Pe(bt,fr,$r,Qt,an,jr);case Ee:return qa(bt,fr,Qt,$r.render,jr);case B:return Pe(bt,fr,$r.type,Qt,an,jr)}else typeof $r=="string"&&(on=function(Cr,Hr,Mr){switch(Hr){case"img":Hr=Mr.src;var zr=Mr.srcSet;if(!(Mr.loading==="lazy"||!Hr&&!zr||typeof Hr!="string"&&Hr!=null||typeof zr!="string"&&zr!=null||Mr.fetchPriority==="low"||3&Cr)&&(typeof Hr!="string"||Hr[4]!==":"||Hr[0]!=="d"&&Hr[0]!=="D"||Hr[1]!=="a"&&Hr[1]!=="A"||Hr[2]!=="t"&&Hr[2]!=="T"||Hr[3]!=="a"&&Hr[3]!=="A")&&(typeof zr!="string"||zr[4]!==":"||zr[0]!=="d"&&zr[0]!=="D"||zr[1]!=="a"&&zr[1]!=="A"||zr[2]!=="t"&&zr[2]!=="T"||zr[3]!=="a"&&zr[3]!=="A")){var Ka=typeof Mr.sizes=="string"?Mr.sizes:void 0,ba=Mr.crossOrigin;Pr(Hr||"","image",{imageSrcSet:zr,imageSizes:Ka,crossOrigin:typeof ba=="string"?ba==="use-credentials"?ba:"":void 0,integrity:Mr.integrity,type:Mr.type,fetchPriority:Mr.fetchPriority,referrerPolicy:Mr.referrerPolicy})}return Cr;case"link":if(Hr=Mr.rel,zr=Mr.href,!(1&Cr||Mr.itemProp!=null||typeof Hr!="string"||typeof zr!="string"||zr===""))switch(Hr){case"preload":Pr(zr,Mr.as,{crossOrigin:Mr.crossOrigin,integrity:Mr.integrity,nonce:Mr.nonce,type:Mr.type,fetchPriority:Mr.fetchPriority,referrerPolicy:Mr.referrerPolicy,imageSrcSet:Mr.imageSrcSet,imageSizes:Mr.imageSizes,media:Mr.media});break;case"modulepreload":Dn(zr,{as:Mr.as,crossOrigin:Mr.crossOrigin,integrity:Mr.integrity,nonce:Mr.nonce});break;case"stylesheet":Pr(zr,"style",{crossOrigin:Mr.crossOrigin,integrity:Mr.integrity,nonce:Mr.nonce,type:Mr.type,fetchPriority:Mr.fetchPriority,referrerPolicy:Mr.referrerPolicy,media:Mr.media})}return Cr;case"picture":return 2|Cr;case"noscript":return 1|Cr;default:return Cr}}(an=fr.formatContext,$r,jr),an!==on&&jr.children!=null&&La(bt,jr.children,on));return bt=Qt,Qt=fr.keyPath,bt===null?bt=Qt:Qt!==null&&(bt=Qt===te||bt===te?te:Qt+","+bt),jr=[ie,$r,bt,jr],fr=fr.implicitSlot&&bt!==null?[jr]:jr}(u,w,A.type,A.key,R!==void 0?R:null,P))=="object"&&u!==null&&_e!==null&&(Ue.has(u)||Ue.set(u,_e)),u);case ce:if(3200<ia)return Ha(u,w);if(w.thenableState=null,A=(P=A._init)(A._payload),u.status===12)throw null;return Ya(u,w,en,"",A);case M:throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`)}if(A.$$typeof===ve)return _o(u,R,P,A);if(u.temporaryReferences!==void 0&&(_e=u.temporaryReferences.get(A))!==void 0)return"$T"+_e;if(Ue=(_e=u.writtenObjects).get(A),typeof A.then=="function"){if(Ue!==void 0){if(w.keyPath!==null||w.implicitSlot)return"$@"+zi(u,w,A).toString(16);if(Xa!==A)return Ue;Xa=null}return u="$@"+zi(u,w,A).toString(16),_e.set(A,u),u}if(Ue!==void 0){if(Xa!==A)return Ue;if(Ue!==Bn(w.id))return Ue;Xa=null}else if(P.indexOf(":")===-1&&(Ue=_e.get(R))!==void 0){if(gt=P,fn(R)&&R[0]===ie)switch(P){case"1":gt="type";break;case"2":gt="key";break;case"3":gt="props";break;case"4":gt="_owner"}_e.set(A,Ue+":"+gt)}if(fn(A))return An(u,w,A);if(A instanceof Map)return"$Q"+La(u,A=Array.from(A),0).toString(16);if(A instanceof Set)return"$W"+La(u,A=Array.from(A),0).toString(16);if(typeof FormData=="function"&&A instanceof FormData)return"$K"+La(u,A=Array.from(A.entries()),0).toString(16);if(A instanceof Error)return"$Z";if(A instanceof ArrayBuffer)return Wi(u,"A",new Uint8Array(A));if(A instanceof Int8Array)return Wi(u,"O",A);if(A instanceof Uint8Array)return Wi(u,"o",A);if(A instanceof Uint8ClampedArray)return Wi(u,"U",A);if(A instanceof Int16Array)return Wi(u,"S",A);if(A instanceof Uint16Array)return Wi(u,"s",A);if(A instanceof Int32Array)return Wi(u,"L",A);if(A instanceof Uint32Array)return Wi(u,"l",A);if(A instanceof Float32Array)return Wi(u,"G",A);if(A instanceof Float64Array)return Wi(u,"g",A);if(A instanceof BigInt64Array)return Wi(u,"M",A);if(A instanceof BigUint64Array)return Wi(u,"m",A);if(A instanceof DataView)return Wi(u,"V",A);if(typeof Blob=="function"&&A instanceof Blob)return function(Pe,bt){function fr(on){an.status===0&&(Pe.cacheController.signal.removeEventListener("abort",$r),Tr(Pe,an,on),Ot(Pe),jr.cancel(on).then(fr,fr))}function $r(){if(an.status===0){var on=Pe.cacheController.signal;on.removeEventListener("abort",$r),on=on.reason,Pe.type===21?(Pe.abortableTasks.delete(an),Li(an),ki(an,Pe)):(Tr(Pe,an,on),Ot(Pe)),jr.cancel(on).then(fr,fr)}}var Qt=[bt.type],an=nn(Pe,Qt,null,!1,0,Pe.abortableTasks),jr=bt.stream().getReader();return Pe.cacheController.signal.addEventListener("abort",$r),jr.read().then(function on(Cr){if(an.status===0)if(Cr.done)Pe.cacheController.signal.removeEventListener("abort",$r),Yi(Pe,an);else return Qt.push(Cr.value),jr.read().then(on).catch(fr)}).catch(fr),"$B"+an.id.toString(16)}(u,A);if(_e=Y(A))return(P=_e.call(A))===A?"$i"+La(u,A=Array.from(P),0).toString(16):An(u,w,Array.from(P));if(typeof ReadableStream=="function"&&A instanceof ReadableStream)return function(Pe,bt,fr){function $r(Hr){Cr.status===0&&(Pe.cacheController.signal.removeEventListener("abort",Qt),Tr(Pe,Cr,Hr),Ot(Pe),on.cancel(Hr).then($r,$r))}function Qt(){if(Cr.status===0){var Hr=Pe.cacheController.signal;Hr.removeEventListener("abort",Qt),Hr=Hr.reason,Pe.type===21?(Pe.abortableTasks.delete(Cr),Li(Cr),ki(Cr,Pe)):(Tr(Pe,Cr,Hr),Ot(Pe)),on.cancel(Hr).then($r,$r)}}var an=fr.supportsBYOB;if(an===void 0)try{fr.getReader({mode:"byob"}).releaseLock(),an=!0}catch{an=!1}var jr=an,on=fr.getReader(),Cr=nn(Pe,bt.model,bt.keyPath,bt.implicitSlot,bt.formatContext,Pe.abortableTasks);return Pe.pendingChunks++,bt=Cr.id.toString(16)+":"+(jr?"r":"R")+`
`,Pe.completedRegularChunks.push(Ve(bt)),Pe.cacheController.signal.addEventListener("abort",Qt),on.read().then(function Hr(Mr){if(Cr.status===0)if(Mr.done)Cr.status=1,Mr=Cr.id.toString(16)+`:C
`,Pe.completedRegularChunks.push(Ve(Mr)),Pe.abortableTasks.delete(Cr),Pe.cacheController.signal.removeEventListener("abort",Qt),Ot(Pe),pi(Pe);else try{Pe.pendingChunks++,Cr.model=Mr.value,jr?Ce(Pe,Cr.id,"b",Cr.model,!1):In(Pe,Cr),Ot(Pe),on.read().then(Hr,$r)}catch(zr){$r(zr)}},$r),Bn(Cr.id)}(u,w,A);if(typeof(_e=A[Ge])=="function")return w.keyPath!==null?(u=[ie,Fe,w.keyPath,{children:A}],u=w.implicitSlot?[u]:u):(P=_e.call(A),u=function(Pe,bt,fr,$r){function Qt(on){jr.status===0&&(Pe.cacheController.signal.removeEventListener("abort",an),Tr(Pe,jr,on),Ot(Pe),typeof $r.throw=="function"&&$r.throw(on).then(Qt,Qt))}function an(){if(jr.status===0){var on=Pe.cacheController.signal;on.removeEventListener("abort",an);var Cr=on.reason;Pe.type===21?(Pe.abortableTasks.delete(jr),Li(jr),ki(jr,Pe)):(Tr(Pe,jr,on.reason),Ot(Pe)),typeof $r.throw=="function"&&$r.throw(Cr).then(Qt,Qt)}}fr=fr===$r;var jr=nn(Pe,bt.model,bt.keyPath,bt.implicitSlot,bt.formatContext,Pe.abortableTasks);return Pe.pendingChunks++,bt=jr.id.toString(16)+":"+(fr?"x":"X")+`
`,Pe.completedRegularChunks.push(Ve(bt)),Pe.cacheController.signal.addEventListener("abort",an),$r.next().then(function on(Cr){if(jr.status===0)if(Cr.done){if(jr.status=1,Cr.value===void 0)var Hr=jr.id.toString(16)+`:C
`;else try{var Mr=La(Pe,Cr.value,0);Hr=jr.id.toString(16)+":C"+ze(Bn(Mr))+`
`}catch(zr){Qt(zr);return}Pe.completedRegularChunks.push(Ve(Hr)),Pe.abortableTasks.delete(jr),Pe.cacheController.signal.removeEventListener("abort",an),Ot(Pe),pi(Pe)}else try{jr.model=Cr.value,Pe.pendingChunks++,In(Pe,jr),Ot(Pe),$r.next().then(on,Qt)}catch(zr){Qt(zr)}},Qt),Bn(jr.id)}(u,w,A,P)),u;if(A instanceof Date)return"$D"+A.toJSON();if((u=Zr(A))!==pn&&(u===null||Zr(u)!==null))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported."+Tn(R,P));return A}if(typeof A=="string")return ia+=A.length,A[A.length-1]==="Z"&&R[P]instanceof Date?"$D"+A:1024<=A.length&&sr!==null?(u.pendingChunks++,w=u.nextChunkId++,vr(u,w,A,!1),Bn(w)):u=A[0]==="$"?"$"+A:A;if(typeof A=="boolean")return A;if(typeof A=="number")return Number.isFinite(A)?A===0&&-1/0==1/A?"$-0":A:1/0===A?"$Infinity":-1/0===A?"$-Infinity":"$NaN";if(A===void 0)return"$undefined";if(typeof A=="function"){if(A.$$typeof===ve)return _o(u,R,P,A);if(A.$$typeof===q)return(P=(w=u.writtenServerReferences).get(A))!==void 0?u="$h"+P.toString(16):(P=(P=A.$$bound)===null?null:Promise.resolve(P),u=La(u,{id:A.$$id,bound:P},0),w.set(A,u),u="$h"+u.toString(16)),u;if(u.temporaryReferences!==void 0&&(u=u.temporaryReferences.get(A))!==void 0)return"$T"+u;throw A.$$typeof===V?Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server."):/^on[A-Z]/.test(P)?Error("Event handlers cannot be passed to Client Component props."+Tn(R,P)+`
If you need interactivity, consider converting part of this to a Client Component.`):Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+Tn(R,P))}if(typeof A=="symbol"){if((_e=(w=u.writtenSymbols).get(A))!==void 0)return Bn(_e);if(Symbol.for(_e=A.description)!==A)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+A.description+") cannot be found among global symbols."+Tn(R,P));return u.pendingChunks++,P=u.nextChunkId++,R=Ja(u,P,"$S"+_e),u.completedImportChunks.push(R),w.set(A,P),Bn(P)}if(typeof A=="bigint")return"$n"+A.toString(10);throw Error("Type "+typeof A+" is not supported in Client Component props."+Tn(R,P))}function Ea(u,w){var R=De;De=null;try{var P=u.onError,A=Re?L.run(void 0,P,w):P(w)}finally{De=R}if(A!=null&&typeof A!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof A+'" instead');return A||""}function po(u,w){(0,u.onFatalError)(w),u.destination!==null?(u.status=14,pe(u.destination,w)):(u.status=13,u.fatalError=w),u.cacheController.abort(Error("The render was aborted due to a fatal error.",{cause:w}))}function mo(u,w,R){R={digest:R},w=Ve(w=w.toString(16)+":E"+ze(R)+`
`),u.completedErrorChunks.push(w)}function xt(u,w,R){w=Ve(w=w.toString(16)+":"+R+`
`),u.completedRegularChunks.push(w)}function Ce(u,w,R,P,A){A?u.pendingDebugChunks++:u.pendingChunks++,A=(P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength)).byteLength,w=Ve(w=w.toString(16)+":"+R+A.toString(16)+","),u.completedRegularChunks.push(w,P)}function vr(u,w,R,P){if(sr===null)throw Error("Existence of byteLengthOfChunk should have already been checked. This is a bug in React.");P?u.pendingDebugChunks++:u.pendingChunks++,P=(R=Ve(R)).byteLength,w=Ve(w=w.toString(16)+":T"+P.toString(16)+","),u.completedRegularChunks.push(w,R)}function G(u,w,R){var P=w.id;typeof R=="string"&&sr!==null?vr(u,P,R,!1):R instanceof ArrayBuffer?Ce(u,P,"A",new Uint8Array(R),!1):R instanceof Int8Array?Ce(u,P,"O",R,!1):R instanceof Uint8Array?Ce(u,P,"o",R,!1):R instanceof Uint8ClampedArray?Ce(u,P,"U",R,!1):R instanceof Int16Array?Ce(u,P,"S",R,!1):R instanceof Uint16Array?Ce(u,P,"s",R,!1):R instanceof Int32Array?Ce(u,P,"L",R,!1):R instanceof Uint32Array?Ce(u,P,"l",R,!1):R instanceof Float32Array?Ce(u,P,"G",R,!1):R instanceof Float64Array?Ce(u,P,"g",R,!1):R instanceof BigInt64Array?Ce(u,P,"M",R,!1):R instanceof BigUint64Array?Ce(u,P,"m",R,!1):R instanceof DataView?Ce(u,P,"V",R,!1):(R=ze(R,w.toJSON),xt(u,w.id,R))}function Tr(u,w,R){w.status=4,R=Ea(u,R,w),mo(u,w.id,R),u.abortableTasks.delete(w),pi(u)}var en={};function Ln(u,w){if(w.status===0){w.status=5;var R=ia;try{Xa=w.model;var P=Ya(u,w,en,"",w.model);if(Xa=P,w.keyPath=null,w.implicitSlot=!1,typeof P=="object"&&P!==null)u.writtenObjects.set(P,Bn(w.id)),G(u,w,P);else{var A=ze(P);xt(u,w.id,A)}w.status=1,u.abortableTasks.delete(w),pi(u)}catch(Pe){if(u.status===12)if(u.abortableTasks.delete(w),w.status=0,u.type===21)Li(w),ki(w,u);else{var _e=u.fatalError;Hn(w),Gi(w,u,_e)}else{var Ue=Pe===at?wr():Pe;if(typeof Ue=="object"&&Ue!==null&&typeof Ue.then=="function"){w.status=0,w.thenableState=hn();var gt=w.ping;Ue.then(gt,gt)}else Tr(u,w,Ue)}}finally{ia=R}}}function In(u,w){var R=ia;try{G(u,w,w.model)}finally{ia=R}}function Jr(u){var w=nr.H;nr.H=ti;var R=De;J=De=u;try{var P=u.pingedTasks;u.pingedTasks=[];for(var A=0;A<P.length;A++)Ln(u,P[A]);di(u)}catch(_e){Ea(u,_e,null),po(u,_e)}finally{nr.H=w,J=null,De=R}}function Hn(u){u.status===0&&(u.status=3)}function Gi(u,w,R){u.status===3&&(R=Bn(R),u=Ja(w,u.id,R),w.completedErrorChunks.push(u))}function Li(u){u.status===0&&(u.status=3)}function ki(u,w){u.status===3&&w.pendingChunks--}function di(u){var w=u.destination;if(w!==null){$t=new Uint8Array(4096),Pt=0;try{for(var R=u.completedImportChunks,P=0;P<R.length;P++)u.pendingChunks--,er(w,R[P]);R.splice(0,P);var A=u.completedHintChunks;for(P=0;P<A.length;P++)er(w,A[P]);A.splice(0,P);var _e=u.completedRegularChunks;for(P=0;P<_e.length;P++)u.pendingChunks--,er(w,_e[P]);_e.splice(0,P);var Ue=u.completedErrorChunks;for(P=0;P<Ue.length;P++)u.pendingChunks--,er(w,Ue[P]);Ue.splice(0,P)}finally{u.flushScheduled=!1,$t&&0<Pt&&(w.enqueue(new Uint8Array($t.buffer,0,Pt)),$t=null,Pt=0)}}u.pendingChunks===0&&(12>u.status&&u.cacheController.abort(Error("This render completed successfully. All cacheSignals are now aborted to allow clean up of any unused resources.")),u.destination!==null&&(u.status=14,u.destination.close(),u.destination=null))}function Fi(u){u.flushScheduled=u.destination!==null,rt(Re?function(){L.run(u,Jr,u)}:function(){return Jr(u)}),setTimeout(function(){u.status===10&&(u.status=11)},0)}function Ot(u){u.flushScheduled===!1&&u.pingedTasks.length===0&&u.destination!==null&&(u.flushScheduled=!0,setTimeout(function(){u.flushScheduled=!1,di(u)},0))}function pi(u){u.abortableTasks.size===0&&(u=u.onAllReady)()}function Un(u,w){if(u.status===13)u.status=14,pe(w,u.fatalError);else if(u.status!==14&&u.destination===null){u.destination=w;try{di(u)}catch(R){Ea(u,R,null),po(u,R)}}}function Yn(u,w){if(!(11<u.status))try{u.status=12,u.cacheController.abort(w);var R=u.abortableTasks;if(0<R.size)if(u.type===21)R.forEach(function(Ue){return Li(Ue,u)}),setTimeout(function(){try{R.forEach(function(Ue){return ki(Ue,u)}),(0,u.onAllReady)(),di(u)}catch(Ue){Ea(u,Ue,null),po(u,Ue)}},0);else{var P=w===void 0?Error("The render was aborted by the server without a reason."):typeof w=="object"&&w!==null&&typeof w.then=="function"?Error("The render was aborted by the server with a promise."):w,A=Ea(u,P,null),_e=u.nextChunkId++;u.fatalError=_e,u.pendingChunks++,mo(u,_e,A,P,!1,null),R.forEach(function(Ue){return Hn(Ue,u,_e)}),setTimeout(function(){try{R.forEach(function(Ue){return Gi(Ue,u,_e)}),(0,u.onAllReady)(),di(u)}catch(Ue){Ea(u,Ue,null),po(u,Ue)}},0)}else(0,u.onAllReady)(),di(u)}catch(Ue){Ea(u,Ue,null),po(u,Ue)}}function gn(u,w){var R="",P=u[w];if(P)R=P.name;else{var A=w.lastIndexOf("#");if(A!==-1&&(R=w.slice(A+1),P=u[w.slice(0,A)]),!P)throw Error('Could not find the module "'+w+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return P.async?[P.id,P.chunks,R,1]:[P.id,P.chunks,R]}function pa(u){var w=mr.__next_require__(u);return typeof w.then!="function"||w.status==="fulfilled"?null:(w.then(function(R){w.status="fulfilled",w.value=R},function(R){w.status="rejected",w.reason=R}),w)}var ea=new WeakSet,xr=new WeakSet;function Ti(){}function Zi(u){for(var w=u[1],R=[],P=0;P<w.length;P++){var A=mr.__next_chunk_load__(w[P]);if(xr.has(A)||R.push(A),!ea.has(A)){var _e=xr.add.bind(xr,A);A.then(_e,Ti),ea.add(A)}}return u.length===4?R.length===0?pa(u[0]):Promise.all(R).then(function(){return pa(u[0])}):0<R.length?Promise.all(R):null}function Cn(u){var w=mr.__next_require__(u[0]);if(u.length===4&&typeof w.then=="function")if(w.status==="fulfilled")w=w.value;else throw w.reason;return u[2]==="*"?w:u[2]===""?w.__esModule?w.default:w:Xn.call(w,u[2])?w[u[2]]:void 0}var Qi=Symbol();function wi(u,w,R){this.status=u,this.value=w,this.reason=R}wi.prototype=Object.create(Promise.prototype),wi.prototype.then=function(u,w){switch(this.status==="resolved_model"&&xo(this),this.status){case"fulfilled":if(typeof u=="function"){for(var R=this.value,P=0,A=new Set;R instanceof wi;){if(P++,R===this||A.has(R)||1e3<P){typeof w=="function"&&w(Error("Cannot have cyclic thenables."));return}if(A.add(R),R.status==="fulfilled")R=R.value;else break}u(this.value)}break;case"pending":case"blocked":typeof u=="function"&&(this.value===null&&(this.value=[]),this.value.push(u)),typeof w=="function"&&(this.reason===null&&(this.reason=[]),this.reason.push(w));break;default:typeof w=="function"&&w(this.reason)}};var aa=Object.prototype,Ta=Array.prototype;function ni(u,w,R){for(var P=0;P<w.length;P++){var A=w[P];typeof A=="function"?A(R):tr(u,A,R)}}function Ca(u,w,R){for(var P=0;P<w.length;P++){var A=w[P];typeof A=="function"?A(R):Ii(u,A.handler,R)}}function Ci(u,w,R){if(w.status!=="pending"&&w.status!=="blocked")w.reason.error(R);else{var P=w.reason;w.status="rejected",w.reason=R,P!==null&&Ca(u,P,R)}}function Ri(u,w,R){var P={};return new wi("resolved_model",w,(P.id=R,P[Qi]=u,P))}function ho(u,w,R,P){if(w.status!=="pending")w=w.reason,R[0]==="C"?w.close(R==="C"?'"$undefined"':R.slice(1)):w.enqueueModel(R);else{var A=w.value,_e=w.reason;if(w.status="resolved_model",w.value=R,R={},w.reason=(R.id=P,R[Qi]=u,R),A!==null)e:switch(xo(w),w.status){case"fulfilled":ni(u,A,w.value);break;case"blocked":for(R=0;R<A.length;R++)if(typeof(P=A[R])!="function"){var Ue=function gt(Pe,bt){var fr=bt.handler.chunk;if(fr===null)return null;if(fr===Pe)return bt.handler;if((bt=fr.value)!==null)for(fr=0;fr<bt.length;fr++){var $r=bt[fr];if(typeof $r!="function"&&($r=gt(Pe,$r))!==null)return $r}return null}(w,P);if(Ue!==null)switch(tr(u,P,Ue.value),A.splice(R,1),R--,_e!==null&&(P=_e.indexOf(P))!==-1&&_e.splice(P,1),w.status){case"fulfilled":ni(u,A,w.value);break e;case"rejected":_e!==null&&Ca(u,_e,w.reason);break e}}case"pending":if(w.value)for(u=0;u<A.length;u++)w.value.push(A[u]);else w.value=A;if(w.reason){if(_e)for(A=0;A<_e.length;A++)w.reason.push(_e[A])}else w.reason=_e;break;case"rejected":_e&&ni(u,_e,w.reason)}}}function va(u,w,R){var P={};return new wi("resolved_model",(R?'{"done":true,"value":':'{"done":false,"value":')+w+"}",(P.id=-1,P[Qi]=u,P))}function Jo(u,w,R,P){ho(u,w,(P?'{"done":true,"value":':'{"done":false,"value":')+R+"}",-1)}function ns(u,w,R,P){var A=w.id;if(typeof A!="string"||P==="then")return null;var _e=gn(u._bundlerConfig,A);A=w.bound;var Ue=Zi(_e);if(Ue)A instanceof wi&&(Ue=Promise.all([Ue,A]));else{if(!(A instanceof wi))return Cn(_e);Ue=Promise.resolve(A)}if(yi){var gt=yi;gt.deps++}else gt=yi={chunk:null,value:null,reason:null,deps:1,errored:!1};return Ue.then(function(){var Pe=Cn(_e);if(w.bound){var bt=w.bound.value;(bt=Array.isArray(bt)?bt.slice(0):[]).unshift(null),Pe=Pe.bind.apply(Pe,bt)}R[P]=Pe,P===""&&gt.value===null&&(gt.value=Pe),gt.deps--,gt.deps===0&&(Pe=gt.chunk)!==null&&Pe.status==="blocked"&&(bt=Pe.value,Pe.status="fulfilled",Pe.value=gt.value,Pe.reason=null,bt!==null&&ni(u,bt,gt.value))},function(Pe){if(!gt.errored){gt.errored=!0,gt.value=null,gt.reason=Pe;var bt=gt.chunk;bt!==null&&bt.status==="blocked"&&Ci(u,bt,Pe)}}),null}var yi=null;function xo(u){var w=yi;yi=null;var R=u.reason,P=R[Qi];R=(R=R.id)===-1?void 0:R.toString(16);var A=u.value;u.status="blocked",u.value=null,u.reason=null;try{var _e=JSON.parse(A),Ue=function bt(fr,$r,Qt,an,jr){if(typeof an=="string")return function(Cr,Hr,Mr,zr,Ka){if(zr[0]==="$"){switch(zr[1]){case"$":return zr.slice(1);case"@":return Wn(Cr,Hr=parseInt(zr.slice(2),16));case"h":return Rr(Cr,zr=zr.slice(2),Hr,Mr,ns);case"T":var ba,go;if(Ka===void 0||Cr._temporaryReferences===void 0)throw Error("Could not reference an opaque temporary reference. This is likely due to misconfiguring the temporaryReferences options on the server.");return ba=Cr._temporaryReferences,go=new Proxy(go=Object.defineProperties(function(){throw Error("Attempted to call a temporary Client Reference from the server but it is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},{$$typeof:{value:V}}),K),ba.set(go,Ka),go;case"Q":return Rr(Cr,zr=zr.slice(2),Hr,Mr,eo);case"W":return Rr(Cr,zr=zr.slice(2),Hr,Mr,qo);case"K":Hr=zr.slice(2);var Po=Cr._prefix+Hr+"_",wo=new FormData;return Cr._formData.forEach(function(Lo,ko){ko.startsWith(Po)&&wo.append(ko.slice(Po.length),Lo)}),wo;case"i":return Rr(Cr,zr=zr.slice(2),Hr,Mr,is);case"I":return 1/0;case"-":return zr==="$-0"?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(zr.slice(2)));case"n":return BigInt(zr.slice(2))}switch(zr[1]){case"A":return wa(Cr,zr,ArrayBuffer,1,Hr,Mr);case"O":return wa(Cr,zr,Int8Array,1,Hr,Mr);case"o":return wa(Cr,zr,Uint8Array,1,Hr,Mr);case"U":return wa(Cr,zr,Uint8ClampedArray,1,Hr,Mr);case"S":return wa(Cr,zr,Int16Array,2,Hr,Mr);case"s":return wa(Cr,zr,Uint16Array,2,Hr,Mr);case"L":return wa(Cr,zr,Int32Array,4,Hr,Mr);case"l":return wa(Cr,zr,Uint32Array,4,Hr,Mr);case"G":return wa(Cr,zr,Float32Array,4,Hr,Mr);case"g":return wa(Cr,zr,Float64Array,8,Hr,Mr);case"M":return wa(Cr,zr,BigInt64Array,8,Hr,Mr);case"m":return wa(Cr,zr,BigUint64Array,8,Hr,Mr);case"V":return wa(Cr,zr,DataView,1,Hr,Mr);case"B":return Hr=parseInt(zr.slice(2),16),Cr._formData.get(Cr._prefix+Hr)}switch(zr[1]){case"R":return Ko(Cr,zr,void 0);case"r":return Ko(Cr,zr,"bytes");case"X":return Rs(Cr,zr,!1);case"x":return Rs(Cr,zr,!0)}return Rr(Cr,zr=zr.slice(1),Hr,Mr,As)}return zr}(fr,$r,Qt,an,jr);if(typeof an=="object"&&an!==null)if(jr!==void 0&&fr._temporaryReferences!==void 0&&fr._temporaryReferences.set(an,jr),Array.isArray(an))for(var on=0;on<an.length;on++)an[on]=bt(fr,an,""+on,an[on],jr!==void 0?jr+":"+on:void 0);else for(on in an)Xn.call(an,on)&&($r=jr!==void 0&&on.indexOf(":")===-1?jr+":"+on:void 0,($r=bt(fr,an,on,an[on],$r))!==void 0||on==="__proto__"?an[on]=$r:delete an[on]);return an}(P,{"":_e},"",_e,R),gt=u.value;if(gt!==null)for(u.value=null,u.reason=null,_e=0;_e<gt.length;_e++){var Pe=gt[_e];typeof Pe=="function"?Pe(Ue):tr(P,Pe,Ue)}if(yi!==null){if(yi.errored)throw yi.reason;if(0<yi.deps){yi.value=Ue,yi.chunk=u;return}}u.status="fulfilled",u.value=Ue,u.reason=null}catch(bt){u.status="rejected",u.reason=bt}finally{yi=w}}function Bi(u,w){u._closed=!0,u._closedReason=w,u._chunks.forEach(function(R){R.status==="pending"?Ci(u,R,w):R.status==="fulfilled"&&R.reason!==null&&R.reason.error(w)})}function Wn(u,w){var R=u._chunks,P=R.get(w);return P||(P=typeof(P=u._formData.get(u._prefix+w))=="string"?Ri(u,P,w):u._closed?new wi("rejected",null,u._closedReason):new wi("pending",null,null),R.set(w,P)),P}function tr(u,w,R){var P=w.handler,A=w.parentObject,_e=w.key,Ue=w.map,gt=w.path;try{for(var Pe=1;Pe<gt.length;Pe++){var bt=gt[Pe];if(typeof R!="object"||R===null||Zr(R)!==aa&&Zr(R)!==Ta||!Xn.call(R,bt))throw Error("Invalid reference.");R=R[bt]}var fr=Ue(u,R,A,_e);A[_e]=fr,_e===""&&P.value===null&&(P.value=fr)}catch($r){Ii(u,w.handler,$r);return}P.deps--,P.deps===0&&(w=P.chunk)!==null&&w.status==="blocked"&&(R=w.value,w.status="fulfilled",w.value=P.value,w.reason=P.reason,R!==null&&ni(u,R,P.value))}function Ii(u,w,R){w.errored||(w.errored=!0,w.value=null,w.reason=R,(w=w.chunk)!==null&&w.status==="blocked"&&Ci(u,w,R))}function Rr(u,w,R,P,A){var _e=parseInt((w=w.split(":"))[0],16);switch((_e=Wn(u,_e)).status==="resolved_model"&&xo(_e),_e.status){case"fulfilled":_e=_e.value;for(var Ue=1;Ue<w.length;Ue++){var gt=w[Ue];if(typeof _e!="object"||_e===null||Zr(_e)!==aa&&Zr(_e)!==Ta||!Xn.call(_e,gt))throw Error("Invalid reference.");_e=_e[gt]}return A(u,_e,R,P);case"pending":case"blocked":return yi?(u=yi,u.deps++):u=yi={chunk:null,value:null,reason:null,deps:1,errored:!1},R={handler:u,parentObject:R,key:P,map:A,path:w},_e.value===null?_e.value=[R]:_e.value.push(R),_e.reason===null?_e.reason=[R]:_e.reason.push(R),null;default:return yi?(yi.errored=!0,yi.value=null,yi.reason=_e.reason):yi={chunk:null,value:null,reason:_e.reason,deps:0,errored:!0},null}}function eo(u,w){return new Map(w)}function qo(u,w){return new Set(w)}function is(u,w){return w[Symbol.iterator]()}function As(u,w,R,P){return P==="then"&&typeof w=="function"?null:w}function wa(u,w,R,P,A,_e){if(w=parseInt(w.slice(2),16),P=u._prefix+w,u._chunks.has(w))throw Error("Already initialized typed array.");if(w=u._formData.get(P).arrayBuffer(),yi){var Ue=yi;Ue.deps++}else Ue=yi={chunk:null,value:null,reason:null,deps:1,errored:!1};return w.then(function(gt){if(gt=R===ArrayBuffer?gt:new R(gt),A[_e]=gt,_e===""&&Ue.value===null&&(Ue.value=gt),Ue.deps--,Ue.deps===0&&(gt=Ue.chunk)!==null&&gt.status==="blocked"){var Pe=gt.value;gt.status="fulfilled",gt.value=Ue.value,gt.reason=null,Pe!==null&&ni(u,Pe,Ue.value)}},function(gt){if(!Ue.errored){Ue.errored=!0,Ue.value=null,Ue.reason=gt;var Pe=Ue.chunk;Pe!==null&&Pe.status==="blocked"&&Ci(u,Pe,gt)}}),null}function Ms(u,w,R,P){var A=u._chunks;for(R=new wi("fulfilled",R,P),A.set(w,R),u=u._formData.getAll(u._prefix+w),w=0;w<u.length;w++)typeof(A=u[w])=="string"&&(A[0]==="C"?P.close(A==="C"?'"$undefined"':A.slice(1)):P.enqueueModel(A))}function Ko(u,w,R){if(w=parseInt(w.slice(2),16),u._chunks.has(w))throw Error("Already initialized stream.");var P=null,A=!1;R=new ReadableStream({type:R,start:function(Ue){P=Ue}});var _e=null;return Ms(u,w,R,{enqueueModel:function(Ue){if(_e===null){var gt=Ri(u,Ue,-1);xo(gt),gt.status==="fulfilled"?P.enqueue(gt.value):(gt.then(function(bt){return P.enqueue(bt)},function(bt){return P.error(bt)}),_e=gt)}else{gt=_e;var Pe=new wi("pending",null,null);Pe.then(function(bt){return P.enqueue(bt)},function(bt){return P.error(bt)}),_e=Pe,gt.then(function(){_e===Pe&&(_e=null),ho(u,Pe,Ue,-1)})}},close:function(){if(!A)if(A=!0,_e===null)P.close();else{var Ue=_e;_e=null,Ue.then(function(){return P.close()})}},error:function(Ue){if(!A)if(A=!0,_e===null)P.error(Ue);else{var gt=_e;_e=null,gt.then(function(){return P.error(Ue)})}}}),R}function fs(){return this}function Rs(u,w,R){if(w=parseInt(w.slice(2),16),u._chunks.has(w))throw Error("Already initialized stream.");var P=[],A=!1,_e=0,Ue={};return Ue[Ge]=function(){var gt,Pe=0;return(gt={next:gt=function(bt){if(bt!==void 0)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(Pe===P.length){if(A)return new wi("fulfilled",{done:!0,value:void 0},null);P[Pe]=new wi("pending",null,null)}return P[Pe++]}})[Ge]=fs,gt},Ms(u,w,R=R?Ue[Ge]():Ue,{enqueueModel:function(gt){_e===P.length?P[_e]=va(u,gt,!1):Jo(u,P[_e],gt,!1),_e++},close:function(gt){if(!A)for(A=!0,_e===P.length?P[_e]=va(u,gt,!0):Jo(u,P[_e],gt,!0),_e++;_e<P.length;)Jo(u,P[_e++],'"$undefined"',!0)},error:function(gt){if(!A)for(A=!0,_e===P.length&&(P[_e]=new wi("pending",null,null));_e<P.length;)Ci(u,P[_e++],gt)}}),R}function fo(u,w,R){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:new FormData;return{_bundlerConfig:u,_prefix:w,_formData:P,_chunks:new Map,_closed:!1,_closedReason:null,_temporaryReferences:R}}function ta(u){Bi(u,Error("Connection closed."))}function Fa(u,w,R){var P=gn(u,w);return u=Zi(P),R?Promise.all([R,u]).then(function(A){A=A[0];var _e=Cn(P);return _e.bind.apply(_e,[null].concat(A))}):u?Promise.resolve(u).then(function(){return Cn(P)}):Promise.resolve(Cn(P))}function Pn(u,w,R){if(ta(u=fo(w,R,void 0,u)),(u=Wn(u,0)).then(function(){}),u.status!=="fulfilled")throw u.reason;return u.value}xe.createClientModuleProxy=function(u){return new Proxy(u=vt({},u,!1),Vr)},xe.createTemporaryReferenceSet=function(){return new WeakMap},xe.decodeAction=function(u,w){var R=new FormData,P=null;return u.forEach(function(A,_e){_e.startsWith("$ACTION_")?_e.startsWith("$ACTION_REF_")?(A=Pn(u,w,A="$ACTION_"+_e.slice(12)+":"),P=Fa(w,A.id,A.bound)):_e.startsWith("$ACTION_ID_")&&(P=Fa(w,A=_e.slice(11),null)):R.append(_e,A)}),P===null?null:P.then(function(A){return A.bind(null,R)})},xe.decodeFormState=function(u,w,R){var P=w.get("$ACTION_KEY");if(typeof P!="string")return Promise.resolve(null);var A=null;if(w.forEach(function(Ue,gt){gt.startsWith("$ACTION_REF_")&&(A=Pn(w,R,"$ACTION_"+gt.slice(12)+":"))}),A===null)return Promise.resolve(null);var _e=A.id;return Promise.resolve(A.bound).then(function(Ue){return Ue===null?null:[u,P,_e,Ue.length-1]})},xe.decodeReply=function(u,w,R){if(typeof u=="string"){var P=new FormData;P.append("0",u),u=P}return w=Wn(u=fo(w,"",R?R.temporaryReferences:void 0,u),0),ta(u),w},xe.decodeReplyFromAsyncIterable=function(u,w,R){function P(Ue){Bi(_e,Ue),typeof A.throw=="function"&&A.throw(Ue).then(P,P)}var A=u[Ge](),_e=fo(w,"",R?R.temporaryReferences:void 0);return A.next().then(function Ue(gt){if(gt.done)ta(_e);else{var Pe=(gt=gt.value)[0];if(typeof(gt=gt[1])=="string"){_e._formData.append(Pe,gt);var bt=_e._prefix;if(Pe.startsWith(bt)){var fr=_e._chunks;Pe=+Pe.slice(bt.length),(fr=fr.get(Pe))&&ho(_e,fr,gt,Pe)}}else _e._formData.append(Pe,gt);A.next().then(Ue,P)}},P),Wn(_e,0)},xe.prerender=function(u,w,R){return new Promise(function(P,A){var _e=new pr(21,u,w,R?R.onError:void 0,function(){P({prelude:new ReadableStream({type:"bytes",pull:function(Pe){Un(_e,Pe)},cancel:function(Pe){_e.destination=null,Yn(_e,Pe)}},{highWaterMark:0})})},A,R?R.identifierPrefix:void 0,R?R.temporaryReferences:void 0);if(R&&R.signal){var Ue=R.signal;if(Ue.aborted)Yn(_e,Ue.reason);else{var gt=function(){Yn(_e,Ue.reason),Ue.removeEventListener("abort",gt)};Ue.addEventListener("abort",gt)}}Fi(_e)})},xe.registerClientReference=function(u,w,R){return vt(u,w+"#"+R,!1)},xe.registerServerReference=function(u,w,R){return Object.defineProperties(u,{$$typeof:{value:q},$$id:{value:R===null?w:w+"#"+R,configurable:!0},$$bound:{value:null,configurable:!0},bind:{value:lt,configurable:!0},toString:ur})},xe.renderToReadableStream=function(u,w,R){var P=new pr(20,u,w,R?R.onError:void 0,Le,Le,R?R.identifierPrefix:void 0,R?R.temporaryReferences:void 0);if(R&&R.signal){var A=R.signal;if(A.aborted)Yn(P,A.reason);else{var _e=function(){Yn(P,A.reason),A.removeEventListener("abort",_e)};A.addEventListener("abort",_e)}}return new ReadableStream({type:"bytes",start:function(){Fi(P)},pull:function(Ue){Un(P,Ue)},cancel:function(Ue){P.destination=null,Yn(P,Ue)}},{highWaterMark:0})}},52105,(_,g,xe)=>{"use strict";var n;xe.renderToReadableStream=(n=_.r(44520)).renderToReadableStream,xe.decodeReply=n.decodeReply,xe.decodeReplyFromAsyncIterable=n.decodeReplyFromAsyncIterable,xe.decodeAction=n.decodeAction,xe.decodeFormState=n.decodeFormState,xe.registerServerReference=n.registerServerReference,xe.registerClientReference=n.registerClientReference,xe.createClientModuleProxy=n.createClientModuleProxy,xe.createTemporaryReferenceSet=n.createTemporaryReferenceSet},52627,(_,g,xe)=>{let{createClientModuleProxy:n}=_.r(52105);_.n(n("[project]/node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js <module evaluation>"))},22286,(_,g,xe)=>{let{createClientModuleProxy:n}=_.r(52105);_.n(n("[project]/node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js"))},77471,_=>{"use strict";_.i(52627);var g=_.i(22286);_.n(g)},35695,_=>{"use strict";_.i(26086);var g=_.i(89610);_.s(["actionAsyncStorage",()=>g.actionAsyncStorageInstance])},804,_=>{"use strict";_.i(87297),[...process?.features?.typescript?["next.config.mts"]:[]],Symbol("polyfills");var g,xe,n=_.i(82233),Ke=_.i(19805);_.i(65832);var M=_.i(18215),ie=_.i(93764),Fe=_.i(69297),ge=_.i(83978),Ee=_.i(94706),W=_.i(93441),ne=_.i(51720);function B(xt){return(0,ne.pathHasPrefix)(xt||"/","/_next/data")&&(xt=xt.replace(/\/_next\/data\/[^/]{1,}/,"").replace(/\.json$/,""))==="/index"?"/":xt}var ce=_.i(4842);_.i(53369);var Te=_.i(87167);_.i(13714),_.i(72451);var ye=_.i(23646),ht=_.i(27064);let Y=Symbol.for("@next/router-server-methods"),Ge=mr;var te=_.i(12239),Ye=_.i(75601),We=_.i(8900);_.i(60130),_.i(2635);class rt{constructor({userland:Ce,definition:vr,distDir:G,relativeProjectDir:Tr}){this.userland=Ce,this.definition=vr,this.isDev=!1,this.distDir=G,this.relativeProjectDir=Tr}async instrumentationOnRequestError(Ce,...vr){{let{getEdgeInstrumentationModule:G}=await Promise.resolve().then(()=>_.i(84256)),Tr=await G();Tr&&await(Tr.onRequestError==null?void 0:Tr.onRequestError.call(Tr,...vr))}}loadManifests(Ce,vr){let G;{var Tr;let{getEdgePreviewProps:en}=_.r(3949),Ln=In=>In?JSON.parse(In):void 0;G={buildId:"45wwz01MkHA8G0LiTpfIq",buildManifest:Mi.__BUILD_MANIFEST,fallbackBuildManifest:{},reactLoadableManifest:Ln(Mi.__REACT_LOADABLE_MANIFEST),nextFontManifest:Ln(Mi.__NEXT_FONT_MANIFEST),prerenderManifest:{routes:{},dynamicRoutes:{},notFoundRoutes:[],version:4,preview:en()},routesManifest:{version:4,caseSensitive:!1,basePath:"",rewrites:{beforeFiles:[],afterFiles:[],fallback:[]},redirects:[],headers:[],i18n:void 0,skipProxyUrlNormalize:!1},serverFilesManifest:Mi.__SERVER_FILES_MANIFEST,clientReferenceManifest:(Tr=Mi.__RSC_MANIFEST)==null?void 0:Tr[Ce],serverActionsManifest:Ln(Mi.__RSC_SERVER_MANIFEST),subresourceIntegrityManifest:Ln(Mi.__SUBRESOURCE_INTEGRITY_MANIFEST),dynamicCssManifest:Ln(Mi.__DYNAMIC_CSS_MANIFEST),interceptionRoutePatterns:(Ln(Mi.__INTERCEPTION_ROUTE_REWRITE_MANIFEST)??[]).map(In=>new RegExp(In.regex))}}return G}async loadCustomCacheHandlers(Ce,vr){}async getIncrementalCache(Ce,vr,G,Tr){return mr.__incrementalCache}async onRequestError(Ce,vr,G,Tr,en){Tr||(en?.logErrorWithOriginalStack?en.logErrorWithOriginalStack(vr,"app-dir"):console.error(vr)),await this.instrumentationOnRequestError(Ce,vr,{path:Ce.url||"/",headers:Ce.headers,method:Ce.method||"GET"},G)}getNextConfigEdge(Ce){var vr,G;let Tr,en=Mi.__SERVER_FILES_MANIFEST,Ln=(0,ce.getRequestMeta)(Ce,"relativeProjectDir")||this.relativeProjectDir,In=(vr=Ge[Y])==null?void 0:vr[Ln],Jr=In?.nextConfig||en?.config;if(!Jr)throw Object.defineProperty(Error("Invariant: nextConfig couldn't be loaded"),"__NEXT_ERROR_CODE",{value:"E969",enumerable:!1,configurable:!0});if((G=Jr.experimental)!=null&&G.runtimeServerDeploymentId)throw Object.defineProperty(Error("process.env.NEXT_DEPLOYMENT_ID is missing but runtimeServerDeploymentId is enabled"),"__NEXT_ERROR_CODE",{value:"E970",enumerable:!1,configurable:!0});return Tr=Jr.deploymentId||"",{nextConfig:Jr,deploymentId:Tr}}async prepare(Ce,vr,{srcPage:G,multiZoneDraftMode:Tr}){var en,Ln;let In,Jr,Hn,Gi,Li,ki=await this.loadManifests(G,In),{routesManifest:di,prerenderManifest:Fi,serverFilesManifest:Ot}=ki,{basePath:pi,i18n:Un,rewrites:Yn}=di;pi&&(Ce.url=(0,ie.removePathPrefix)(Ce.url||"/",pi));let gn=(0,n.parseReqUrl)(Ce.url||"/");if(!gn)return;let pa=!1;(0,ne.pathHasPrefix)(gn.pathname||"/","/_next/data")&&(pa=!0,gn.pathname=B(gn.pathname||"/"));let ea=gn.pathname||"/",xr={...gn.query},Ti=(0,M.isDynamicRoute)(G);Un&&(Jr=(0,Ke.normalizeLocalePath)(gn.pathname||"/",Un.locales)).detectedLocale&&(Ce.url=`${Jr.pathname}${gn.search}`,ea=Jr.pathname,Hn||(Hn=Jr.detectedLocale));let Zi=(0,Te.normalizeAppPath)(G),Cn=(0,Fe.getServerUtils)({page:Zi,i18n:Un,basePath:pi,rewrites:Yn,pageIsDynamic:Ti,trailingSlash:!1,caseSensitive:!!di.caseSensitive}),Qi=(0,ge.detectDomainLocale)(Un?.domains,(0,Ee.getHostname)(gn,Ce.headers),Hn);(0,ce.addRequestMeta)(Ce,"isLocaleDomain",!!Qi);let wi=Qi?.defaultLocale||Un?.defaultLocale;wi&&!Hn&&(gn.pathname=`/${wi}${gn.pathname==="/"?"":gn.pathname}`);let aa=(0,ce.getRequestMeta)(Ce,"locale")||Hn||wi,{rewriteParams:Ta,rewrittenParsedUrl:ni}=Cn.handleRewrites(Ce,gn),Ca=Object.keys(Ta);Object.assign(gn.query,ni.query),Un&&(gn.pathname=(0,Ke.normalizeLocalePath)(gn.pathname||"/",Un.locales).pathname,ni.pathname=(0,Ke.normalizeLocalePath)(ni.pathname||"/",Un.locales).pathname);let Ci=(0,ce.getRequestMeta)(Ce,"params");if(!Ci&&Cn.dynamicRouteMatcher){let Ii=Cn.dynamicRouteMatcher(B(ni?.pathname||gn.pathname||"/")),Rr=Cn.normalizeDynamicRouteParams(Ii||{},!0);Rr.hasValidParams&&(Ci=Rr.params)}let Ri=(0,ce.getRequestMeta)(Ce,"query")||{...gn.query},ho=new Set,va=[];if(this.definition.kind===ye.RouteKind.PAGES||this.definition.kind===ye.RouteKind.PAGES_API)for(let Ii of[...Ca,...Object.keys(Cn.defaultRouteMatches||{})]){let Rr=Array.isArray(xr[Ii])?xr[Ii].join(""):xr[Ii],eo=Array.isArray(Ri[Ii])?Ri[Ii].join(""):Ri[Ii];Ii in xr&&Rr!==eo||va.push(Ii)}if(Cn.normalizeCdnUrl(Ce,va),Cn.normalizeQueryParams(Ri,ho),Cn.filterInternalQuery(xr,va),Ti){let Ii,Rr=Cn.normalizeDynamicRouteParams(Ri,!0),eo=Cn.normalizeDynamicRouteParams(Ci||{},!0);if(Ri&&Ci&&eo.hasValidParams&&Rr.hasValidParams&&Object.keys(eo.params).length<Object.keys(Rr.params).length?(Ii=Rr.params,Ci=Object.assign(Rr.params)):Ii=eo.hasValidParams&&Ci?Ci:Rr.hasValidParams?Ri:{},Ce.url=Cn.interpolateDynamicPath(Ce.url||"/",Ii),gn.pathname=Cn.interpolateDynamicPath(gn.pathname||"/",Ii),ea=Cn.interpolateDynamicPath(ea,Ii),!Ci)if(Rr.hasValidParams)for(let qo in Ci=Object.assign({},Rr.params),Cn.defaultRouteMatches)delete Ri[qo];else{let qo=Cn.dynamicRouteMatcher==null?void 0:Cn.dynamicRouteMatcher.call(Cn,B(Jr?.pathname||gn.pathname||"/"));qo&&(Ci=Object.assign({},qo))}}for(let Ii of ho)Ii in xr||delete Ri[Ii];let{isOnDemandRevalidate:Jo,revalidateOnlyGenerated:ns}=(0,W.checkIsOnDemandRevalidate)(Ce,Fi.preview),yi=(0,ce.getRequestMeta)(Ce,"relativeProjectDir")||this.relativeProjectDir,xo=(en=Ge[Y])==null?void 0:en[yi],Bi=xo?.nextConfig||Ot?.config;if(!Bi)throw Object.defineProperty(Error("Invariant: nextConfig couldn't be loaded"),"__NEXT_ERROR_CODE",{value:"E969",enumerable:!1,configurable:!0});let Wn=Zi;(0,M.isDynamicRoute)(Wn)&&Ci&&(Wn=Cn.interpolateDynamicPath(Wn,Ci)),Wn==="/index"&&(Wn="/");let tr=Wn;try{Wn=Wn.split("/").map(Ii=>{try{var Rr;Rr=decodeURIComponent(Ii),Ii=Rr.replace(RegExp("([/#?]|%(2f|23|3f|5c))","gi"),eo=>encodeURIComponent(eo))}catch{throw Object.defineProperty(new te.DecodeError("Failed to decode path param(s)."),"__NEXT_ERROR_CODE",{value:"E539",enumerable:!1,configurable:!0})}return Ii}).join("/")}catch{}if(Wn=(0,Ye.removeTrailingSlash)(Wn),(Ln=Bi.experimental)==null?void 0:Ln.runtimeServerDeploymentId)throw Object.defineProperty(Error("process.env.NEXT_DEPLOYMENT_ID is missing but runtimeServerDeploymentId is enabled"),"__NEXT_ERROR_CODE",{value:"E970",enumerable:!1,configurable:!0});return Li=Bi.deploymentId||"",{query:Ri,originalQuery:xr,originalPathname:ea,params:Ci,parsedUrl:gn,locale:aa,isNextDataRequest:pa,locales:Un?.locales,defaultLocale:wi,isDraftMode:!1,previewData:Gi,pageIsDynamic:Ti,resolvedPathname:Wn,encodedResolvedPathname:tr,isOnDemandRevalidate:Jo,revalidateOnlyGenerated:ns,...ki,nextConfig:Bi,routerServerContext:xo,deploymentId:Li}}getResponseCache(Ce){if(!this.responseCache){let vr=(0,ce.getRequestMeta)(Ce,"minimalMode")??!1;this.responseCache=new ht.default(vr)}return this.responseCache}async handleResponse({req:Ce,nextConfig:vr,cacheKey:G,routeKind:Tr,isFallback:en,prerenderManifest:Ln,isRoutePPREnabled:In,isOnDemandRevalidate:Jr,revalidateOnlyGenerated:Hn,responseGenerator:Gi,waitUntil:Li,isMinimalMode:ki}){let di=this.getResponseCache(Ce),Fi=await di.get(G,Gi,{routeKind:Tr,isFallback:en,isRoutePPREnabled:In,isOnDemandRevalidate:Jr,isPrefetch:Ce.headers.purpose==="prefetch",incrementalCache:await this.getIncrementalCache(Ce,vr,Ln,ki),waitUntil:Li});if(!Fi&&G&&!(Jr&&Hn))throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return Fi}}var $t=_.i(72445),Pt=_.i(88154);let er=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var Gt=_.i(11573),Ve=_.i(32995),sr=_.i(68045),pe=_.i(546);let{env:ve,stdout:q}=((xe=mr)==null?void 0:xe.process)??{},vt=ve&&!ve.NO_COLOR&&(ve.FORCE_COLOR||q?.isTTY&&!ve.CI&&ve.TERM!=="dumb"),h=(xt,Ce,vr,G)=>{let Tr=xt.substring(0,G)+vr,en=xt.substring(G+Ce.length),Ln=en.indexOf(Ce);return~Ln?Tr+h(en,Ce,vr,Ln):Tr+en},Yt=(xt,Ce,vr=xt)=>vt?G=>{let Tr=""+G,en=Tr.indexOf(Ce,xt.length);return~en?xt+h(Tr,Ce,vr,en)+Ce:xt+Tr+Ce}:String,lt=Yt("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m");Yt("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),Yt("\x1B[3m","\x1B[23m"),Yt("\x1B[4m","\x1B[24m"),Yt("\x1B[7m","\x1B[27m"),Yt("\x1B[8m","\x1B[28m"),Yt("\x1B[9m","\x1B[29m"),Yt("\x1B[30m","\x1B[39m");let ur=Yt("\x1B[31m","\x1B[39m"),ct=Yt("\x1B[32m","\x1B[39m"),mt=Yt("\x1B[33m","\x1B[39m");Yt("\x1B[34m","\x1B[39m");let Nr=Yt("\x1B[35m","\x1B[39m");Yt("\x1B[38;2;173;127;168m","\x1B[39m"),Yt("\x1B[36m","\x1B[39m");let Vr=Yt("\x1B[37m","\x1B[39m");Yt("\x1B[90m","\x1B[39m"),Yt("\x1B[40m","\x1B[49m"),Yt("\x1B[41m","\x1B[49m"),Yt("\x1B[42m","\x1B[49m"),Yt("\x1B[43m","\x1B[49m"),Yt("\x1B[44m","\x1B[49m"),Yt("\x1B[45m","\x1B[49m"),Yt("\x1B[46m","\x1B[49m"),Yt("\x1B[47m","\x1B[49m");var Sn=_.i(66011);Vr(lt("\u25CB")),ur(lt("\u2A2F")),mt(lt("\u26A0")),Vr(lt(" ")),ct(lt("\u2713")),Nr(lt("\xBB")),new Sn.LRUCache(1e4,xt=>xt.length),new Sn.LRUCache(1e4,xt=>xt.length);let Kr=["HEAD","OPTIONS"];function Pr(){return new Response(null,{status:405})}var Dn=_.i(47986),Nn=_.i(55468);_.i(84610),_.i(13651);var Re=_.i(68270),L=_.i(25249);let V=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401}));function K(xt){if(typeof xt!="object"||xt===null||!("digest"in xt)||typeof xt.digest!="string")return!1;let[Ce,vr]=xt.digest.split(";");return Ce==="NEXT_HTTP_ERROR_FALLBACK"&&V.has(Number(vr))}var Le=_.i(88503);function at(xt){if(typeof xt!="object"||xt===null||!("digest"in xt)||typeof xt.digest!="string")return!1;let Ce=xt.digest.split(";"),[vr,G]=Ce,Tr=Ce.slice(2,-2).join(";"),en=Number(Ce.at(-2));return vr==="NEXT_REDIRECT"&&(G==="replace"||G==="push")&&typeof Tr=="string"&&!isNaN(en)&&en in Le.RedirectStatusCode}var Wt=_.i(99690),wr=((g={}).ProspectiveRender="the prospective render",g.SegmentCollection="segment collection",g);function J(xt,Ce,vr){let G;if(!function(Tr){if((0,Re.isBailoutToCSRError)(Tr)||at(Tr)||K(Tr)||(0,L.isDynamicServerError)(Tr)||(0,Wt.isPrerenderInterruptedError)(Tr))return Tr.digest}(xt)){if(typeof xt=="object"&&xt!==null&&"message"in xt&&typeof xt.message=="string"&&xt.message.startsWith("This rendered a large document (>"))return void console.error(xt);if(typeof xt=="object"&&xt!==null&&typeof xt.message=="string"){if(G=xt.message,typeof xt.stack=="string"){let Tr=xt.stack,en=Tr.indexOf(`
`);if(en>-1){let Ln=Object.defineProperty(Error(`Route ${Ce} errored during ${vr}. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled.
          
Original Error: ${G}`),"__NEXT_ERROR_CODE",{value:"E949",enumerable:!1,configurable:!0});Ln.stack="Error: "+Ln.message+Tr.slice(en),console.error(Ln);return}}}else typeof xt=="string"&&(G=xt);if(G)return void console.error(`Route ${Ce} errored during ${vr}. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. No stack was provided.
          
Original Message: ${G}`);console.error(`Route ${Ce} errored during ${vr}. These errors are normally ignored and may not prevent the route from prerendering but are logged here because build debugging is enabled. The thrown value is logged just following this message`),console.error(xt)}}_.i(81527);var Xr=_.i(68644),Yr=_.i(66401),hn=_.i(18904);_.i(26086);var ti=_.i(70438),Zn=_.i(77471);_.s([],19871),_.i(19871),_.s(["appRouterContext",0,Zn],43844);var lr=_.i(43844),st=_.i(635),Ut=_.i(10824),nr=_.i(49783),fn=_.i(5809);class Zr{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.pendingTimeoutCleanup=null,this.subscribedSignals=null,this.invokeListenersIfNoPendingReads=()=>{if(this.pendingTimeoutCleanup=null,this.count===0){for(let Ce=0;Ce<this.listeners.length;Ce++)this.listeners[Ce]();this.listeners.length=0}},Object.defineProperty(new fn.InvariantError("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E728",enumerable:!1,configurable:!0})}noMorePendingCaches(){var Ce;let vr,G;this.tickPending||(this.tickPending=!0,queueMicrotask(()=>process.nextTick(()=>{if(this.tickPending=!1,this.count===0){for(let Tr=0;Tr<this.earlyListeners.length;Tr++)this.earlyListeners[Tr]();this.earlyListeners.length=0}}))),this.pendingTimeoutCleanup&&this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=(Ce=this.invokeListenersIfNoPendingReads,G=setImmediate(()=>{vr=clearTimeout.bind(null,setTimeout(Ce,0))}),vr=clearImmediate.bind(null,G),()=>vr())}inputReady(){return new Promise(Ce=>{this.earlyListeners.push(Ce),this.count===0&&this.noMorePendingCaches()})}cacheReady(){return new Promise(Ce=>{this.listeners.push(Ce),this.count===0&&this.noMorePendingCaches()})}beginRead(){if(this.count++,this.pendingTimeoutCleanup&&(this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=null),this.subscribedSignals!==null)for(let Ce of this.subscribedSignals)Ce.beginRead()}endRead(){if(this.count===0)throw Object.defineProperty(new fn.InvariantError("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,this.count===0&&this.noMorePendingCaches(),this.subscribedSignals!==null)for(let Ce of this.subscribedSignals)Ce.endRead()}hasPendingReads(){return this.count>0}trackRead(Ce){this.beginRead();let vr=this.endRead.bind(this);return Ce.then(vr,vr),Ce}subscribeToReads(Ce){if(Ce===this)throw Object.defineProperty(new fn.InvariantError("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});this.subscribedSignals===null&&(this.subscribedSignals=new Set),this.subscribedSignals.add(Ce);for(let vr=0;vr<this.count;vr++)Ce.beginRead();return this.unsubscribeFromReads.bind(this,Ce)}unsubscribeFromReads(Ce){this.subscribedSignals&&this.subscribedSignals.delete(Ce)}}var dr=_.i(74715);let Ki=/^[A-Za-z_$][A-Za-z0-9_$]*$/,ri=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","_debugInfo","toJSON","$$typeof","__esModule"]);var Tn=_.i(92879),Xn=_.i(34392);let pn={current:null},ze=typeof Xn.cache=="function"?Xn.cache:xt=>xt,ft=console.warn;ze(xt=>{try{ft(pn.current)}finally{pn.current=null}}),_.i(34080);var pr=_.i(35171);_.i(21170);let De=new WeakMap,cn={get:function(xt,Ce,vr){if(Ce==="then"||Ce==="catch"||Ce==="finally"){let G=nr.ReflectAdapter.get(xt,Ce,vr);return{[Ce]:(...Tr)=>{let en=pr.dynamicAccessAsyncStorage.getStore();return en&&en.abortController.abort(Object.defineProperty(Error("Accessed fallback `params` during prerendering."),"__NEXT_ERROR_CODE",{value:"E691",enumerable:!1,configurable:!0})),new Proxy(G.apply(xt,Tr),cn)}}[Ce]}return nr.ReflectAdapter.get(xt,Ce,vr)}};function zi(xt){let Ce=De.get(xt);if(Ce)return Ce;let vr=Promise.resolve(xt);return De.set(xt,vr),vr}_.r(35695).actionAsyncStorage;var rn=_.i(14327),Di=_.i(49316),ca=_.i(69568);_.i(92480);class qa{constructor(Ce,vr){this.error=Ce,this.headers=vr}}class An extends rt{static#e=this.sharedModules=lr;constructor({userland:Ce,definition:vr,distDir:G,relativeProjectDir:Tr,resolvedPagePath:en,nextConfigOutput:Ln}){if(super({userland:Ce,definition:vr,distDir:G,relativeProjectDir:Tr}),this.workUnitAsyncStorage=hn.workUnitAsyncStorage,this.workAsyncStorage=Xr.workAsyncStorage,this.serverHooks=L,this.actionAsyncStorage=ti.actionAsyncStorage,this.resolvedPagePath=en,this.nextConfigOutput=Ln,this.methods=function(In){let Jr=er.reduce((Gi,Li)=>({...Gi,[Li]:In[Li]??Pr}),{}),Hn=new Set(er.filter(Gi=>In[Gi]));for(let Gi of Kr.filter(Li=>!Hn.has(Li))){if(Gi==="HEAD"){In.GET&&(Jr.HEAD=In.GET,Hn.add("HEAD"));continue}if(Gi==="OPTIONS"){let Li=["OPTIONS",...Hn];!Hn.has("HEAD")&&Hn.has("GET")&&Li.push("HEAD");let ki={Allow:Li.sort().join(", ")};Jr.OPTIONS=()=>new Response(null,{status:204,headers:ki}),Hn.add("OPTIONS");continue}throw Object.defineProperty(Error(`Invariant: should handle all automatic implementable methods, got method: ${Gi}`),"__NEXT_ERROR_CODE",{value:"E211",enumerable:!1,configurable:!0})}return Jr}(Ce),this.hasNonStaticMethods=ia(Ce),this.dynamic=this.userland.dynamic,this.nextConfigOutput==="export"){if(this.dynamic==="force-dynamic")throw Object.defineProperty(Error(`export const dynamic = "force-dynamic" on page "${vr.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E278",enumerable:!1,configurable:!0});if(!function(In){return In.dynamic==="force-static"||In.dynamic==="error"||In.revalidate===!1||In.revalidate!==void 0&&In.revalidate>0||typeof In.generateStaticParams=="function"}(this.userland)&&this.userland.GET)throw Object.defineProperty(Error(`export const dynamic = "force-static"/export const revalidate not configured on route "${vr.pathname}" with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`),"__NEXT_ERROR_CODE",{value:"E301",enumerable:!1,configurable:!0});this.dynamic="error"}}resolve(Ce){return er.includes(Ce)?this.methods[Ce]:()=>new Response(null,{status:400})}async do(Ce,vr,G,Tr,en,Ln,In){var Jr;let Hn,Gi=G.isStaticGeneration,Li=!!In.renderOpts.cacheComponents;(0,Ve.patchFetch)({workAsyncStorage:this.workAsyncStorage,workUnitAsyncStorage:this.workUnitAsyncStorage});let ki={params:In.params?function(pi,Un){let Yn=hn.workUnitAsyncStorage.getStore();if(Yn)switch(Yn.type){case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":var gn,pa,ea=pi,xr=Un,Ti=Yn;switch(Ti.type){case"prerender":case"prerender-client":{let Zi=Ti.fallbackRouteParams;if(Zi){for(let Cn in ea)if(Zi.has(Cn))return function(Qi,wi,aa){let Ta=De.get(Qi);if(Ta)return Ta;let ni=new Proxy((0,Tn.makeHangingPromise)(aa.renderSignal,wi.route,"`params`"),cn);return De.set(Qi,ni),ni}(ea,xr,Ti)}break}case"prerender-ppr":{let Zi=Ti.fallbackRouteParams;if(Zi){for(let Cn in ea)if(Zi.has(Cn))return function(Qi,wi,aa,Ta){let ni=De.get(Qi);if(ni)return ni;let Ca={...Qi},Ci=Promise.resolve(Ca);return De.set(Qi,Ci),Object.keys(Qi).forEach(Ri=>{ri.has(Ri)||wi.has(Ri)&&Object.defineProperty(Ca,Ri,{get(){var ho;let va=(ho="params",Ki.test(Ri)?`\`${ho}.${Ri}\``:`\`${ho}[${JSON.stringify(Ri)}]\``);Ta.type==="prerender-ppr"?(0,Wt.postponeWithTracking)(aa.route,va,Ta.dynamicTracking):(0,Wt.throwToInterruptStaticGeneration)(va,aa,Ta)},enumerable:!0})}),Ci}(ea,Zi,xr,Ti)}}}return zi(ea);case"cache":case"private-cache":case"unstable-cache":throw Object.defineProperty(new fn.InvariantError("createServerParamsForRoute should not be called in cache contexts."),"__NEXT_ERROR_CODE",{value:"E738",enumerable:!1,configurable:!0});case"prerender-runtime":return gn=pi,pa=Yn,(0,Wt.delayUntilRuntimeStage)(pa,zi(gn));case"request":return zi(pi)}(0,Yr.throwInvariantForMissingStore)()}(function(pi){let Un={};for(let[Yn,gn]of Object.entries(pi))gn!==void 0&&(Un[Yn]=gn);return Un}(In.params),G):void 0},di=()=>{In.renderOpts.pendingWaitUntil=(0,Di.executeRevalidates)(G).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",Tr.url)})},Fi=null;try{if(Gi){let pi=this.userland.revalidate,Un=pi===!1||pi===void 0?rn.INFINITE_CACHE:pi;if(Li){let Yn,gn=new AbortController,pa=!1,ea=new Zr,xr=(0,Wt.createDynamicTrackingState)(void 0),Ti={cache:new Map,fetch:new Map,encryptedBoundArgs:new Map,decryptedBoundArgs:new Map},Zi=Fi={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:en,renderSignal:gn.signal,controller:gn,cacheSignal:ea,dynamicTracking:xr,allowEmptyStaticShell:!1,revalidate:Un,expire:rn.INFINITE_CACHE,stale:rn.INFINITE_CACHE,tags:[...en.tags],prerenderResumeDataCache:Ti,renderResumeDataCache:null,hmrRefreshHash:void 0};try{Yn=this.workUnitAsyncStorage.run(Zi,Ce,Ln,ki)}catch(aa){gn.signal.aborted?pa=!0:(process.env.NEXT_DEBUG_BUILD||process.env.__NEXT_VERBOSE_LOGGING)&&J(aa,G.route,wr.ProspectiveRender)}if(typeof Yn=="object"&&Yn!==null&&typeof Yn.then=="function"&&Yn.then(()=>{},aa=>{gn.signal.aborted?pa=!0:process.env.NEXT_DEBUG_BUILD&&J(aa,G.route,wr.ProspectiveRender)}),(0,ca.trackPendingModules)(ea),await ea.cacheReady(),pa){let aa=(0,Wt.getFirstDynamicReason)(xr);throw aa?Object.defineProperty(new L.DynamicServerError(`Route ${G.route} couldn't be rendered statically because it used \`${aa}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0}):(console.error("Expected Next.js to keep track of reason for opting out of static rendering but one was not found. This is a bug in Next.js"),Object.defineProperty(new L.DynamicServerError(`Route ${G.route} couldn't be rendered statically because it used a dynamic API. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E577",enumerable:!1,configurable:!0}))}let Cn=new AbortController;xr=(0,Wt.createDynamicTrackingState)(void 0);let Qi=Fi={type:"prerender",phase:"action",rootParams:{},fallbackRouteParams:null,implicitTags:en,renderSignal:Cn.signal,controller:Cn,cacheSignal:null,dynamicTracking:xr,allowEmptyStaticShell:!1,revalidate:Un,expire:rn.INFINITE_CACHE,stale:rn.INFINITE_CACHE,tags:[...en.tags],prerenderResumeDataCache:Ti,renderResumeDataCache:null,hmrRefreshHash:void 0},wi=!1;if(Hn=await new Promise((aa,Ta)=>{(0,dr.scheduleImmediate)(async()=>{try{let ni=await this.workUnitAsyncStorage.run(Qi,Ce,Ln,ki);if(wi)return;if(!(ni instanceof Response))return void aa(ni);wi=!0;let Ca=!1;ni.arrayBuffer().then(Ci=>{Ca||(Ca=!0,aa(new Response(Ci,{headers:ni.headers,status:ni.status,statusText:ni.statusText})))},Ta),(0,dr.scheduleImmediate)(()=>{Ca||(Ca=!0,Cn.abort(),Ta(po(G.route)))})}catch(ni){Ta(ni)}}),(0,dr.scheduleImmediate)(()=>{wi||(wi=!0,Cn.abort(),Ta(po(G.route)))})}),Cn.signal.aborted)throw po(G.route);Cn.abort()}else Fi={type:"prerender-legacy",phase:"action",rootParams:{},implicitTags:en,revalidate:Un,expire:rn.INFINITE_CACHE,stale:rn.INFINITE_CACHE,tags:[...en.tags]},Hn=await hn.workUnitAsyncStorage.run(Fi,Ce,Ln,ki)}else Hn=await hn.workUnitAsyncStorage.run(Tr,Ce,Ln,ki)}catch(pi){if(at(pi)){let Un=at(pi)?pi.digest.split(";").slice(2,-2).join(";"):null;if(!Un)throw Object.defineProperty(Error("Invariant: Unexpected redirect url format"),"__NEXT_ERROR_CODE",{value:"E399",enumerable:!1,configurable:!0});let Yn=new Headers({Location:Un});return(0,Dn.appendMutableCookies)(Yn,Tr.mutableCookies),di(),new Response(null,{status:vr.isAction?Le.RedirectStatusCode.SeeOther:function(gn){if(!at(gn))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(gn.digest.split(";").at(-2))}(pi),headers:Yn})}if(K(pi))return new Response(null,{status:Number(pi.digest.split(";")[1])});throw pi}if(!(Hn instanceof Response))throw Object.defineProperty(Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`),"__NEXT_ERROR_CODE",{value:"E325",enumerable:!1,configurable:!0});In.renderOpts.fetchMetrics=G.fetchMetrics,di(),Fi&&(In.renderOpts.collectedTags=(Jr=Fi.tags)==null?void 0:Jr.join(","),In.renderOpts.collectedRevalidate=Fi.revalidate,In.renderOpts.collectedExpire=Fi.expire,In.renderOpts.collectedStale=Fi.stale);let Ot=new Headers(Hn.headers);return(0,Dn.appendMutableCookies)(Ot,Tr.mutableCookies)?new Response(Hn.body,{status:Hn.status,statusText:Hn.statusText,headers:Ot}):Hn}async handle(Ce,vr){let G,Tr,en,Ln,In,Jr=this.resolve(Ce.method),Hn={page:this.definition.page,renderOpts:vr.renderOpts,buildId:vr.sharedContext.buildId,previouslyRevalidatedTags:[]};Hn.renderOpts.fetchCache=this.userland.fetchCache;let Gi={isAppRoute:!0,isAction:(Ce.headers instanceof Headers?(G=Ce.headers.get(We.ACTION_HEADER)??null,Tr=Ce.headers.get("content-type")):(G=Ce.headers[We.ACTION_HEADER]??null,Tr=Ce.headers["content-type"]??null),en=Ce.method==="POST"&&Tr==="application/x-www-form-urlencoded",Ln=!!(Ce.method==="POST"&&Tr?.startsWith("multipart/form-data")),In=G!==void 0&&typeof G=="string"&&Ce.method==="POST",{actionId:G,isURLEncodedAction:en,isMultipartAction:Ln,isFetchAction:In,isPossibleServerAction:!!(In||en||Ln)}).isPossibleServerAction},Li=await(0,Gt.getImplicitTags)(this.definition.page,Ce.nextUrl,null),ki=(0,$t.createRequestStoreForAPI)(Ce,Ce.nextUrl,Li,void 0,vr.prerenderManifest.preview),di=(0,Pt.createWorkStore)(Hn),Fi=await this.actionAsyncStorage.run(Gi,()=>this.workUnitAsyncStorage.run(ki,()=>this.workAsyncStorage.run(di,async()=>{if(this.hasNonStaticMethods&&di.isStaticGeneration){let pa=Object.defineProperty(new L.DynamicServerError("Route is configured with methods that cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E582",enumerable:!1,configurable:!0});throw di.dynamicUsageDescription=pa.message,di.dynamicUsageStack=pa.stack,pa}let Ot=Ce;switch(this.dynamic){case"force-dynamic":if(di.forceDynamic=!0,di.isStaticGeneration){let xr=Object.defineProperty(new L.DynamicServerError("Route is configured with dynamic = error which cannot be statically generated."),"__NEXT_ERROR_CODE",{value:"E703",enumerable:!1,configurable:!0});throw di.dynamicUsageDescription=xr.message,di.dynamicUsageStack=xr.stack,xr}break;case"force-static":di.forceStatic=!0,Ot=new Proxy(Ce,Wi);break;case"error":di.dynamicShouldError=!0,di.isStaticGeneration&&(Ot=new Proxy(Ce,Ya));break;case void 0:case"auto":var pi,Un;let pa,ea;pi=Ce,Un=di,pa={get(xr,Ti,Zi){switch(Ti){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":return mo(Un,hn.workUnitAsyncStorage.getStore(),`nextUrl.${Ti}`),nr.ReflectAdapter.get(xr,Ti,Zi);case"clone":return xr[nn]||(xr[nn]=()=>new Proxy(xr.clone(),pa));default:return nr.ReflectAdapter.get(xr,Ti,Zi)}}},ea={get(xr,Ti){switch(Ti){case"nextUrl":return xr[Ha]||(xr[Ha]=new Proxy(xr.nextUrl,pa));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":return mo(Un,hn.workUnitAsyncStorage.getStore(),`request.${Ti}`),nr.ReflectAdapter.get(xr,Ti,xr);case"clone":return xr[Yi]||(xr[Yi]=()=>new Proxy(xr.clone(),ea));default:return nr.ReflectAdapter.get(xr,Ti,xr)}}},Ot=new Proxy(pi,ea);break;default:this.dynamic}let Yn=(0,sr.getTracer)(),{pathname:gn}=this.definition;return Yn.setRootSpanAttribute("next.route",gn),Yn.trace(pe.AppRouteRouteHandlersSpan.runHandler,{spanName:`executing api route (app) ${gn}`,attributes:{"next.route":gn}},async()=>this.do(Jr,Gi,di,ki,Li,Ot,vr))})));if(!(Fi instanceof Response))return new Response(null,{status:500});if(Fi.headers.has("x-middleware-rewrite"))throw Object.defineProperty(Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue."),"__NEXT_ERROR_CODE",{value:"E374",enumerable:!1,configurable:!0});if(Fi.headers.get("x-middleware-next")==="1")throw Object.defineProperty(Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler"),"__NEXT_ERROR_CODE",{value:"E385",enumerable:!1,configurable:!0});return Fi}}function ia(xt){return!!xt.POST||!!xt.PUT||!!xt.DELETE||!!xt.PATCH||!!xt.OPTIONS}let Ha=Symbol("nextUrl"),Yi=Symbol("clone"),nn=Symbol("clone"),Bn=Symbol("searchParams"),da=Symbol("href"),Ja=Symbol("toString"),_o=Symbol("headers"),La=Symbol("cookies"),Wi={get(xt,Ce,vr){switch(Ce){case"headers":return xt[_o]||(xt[_o]=Nn.HeadersAdapter.seal(new Headers({})));case"cookies":return xt[La]||(xt[La]=Dn.RequestCookiesAdapter.seal(new st.RequestCookies(new Headers({}))));case"nextUrl":return xt[Ha]||(xt[Ha]=new Proxy(xt.nextUrl,Xa));case"url":return vr.nextUrl.href;case"geo":case"ip":return;case"clone":return xt[Yi]||(xt[Yi]=()=>new Proxy(xt.clone(),Wi));default:return nr.ReflectAdapter.get(xt,Ce,vr)}}},Xa={get(xt,Ce,vr){switch(Ce){case"search":return"";case"searchParams":return xt[Bn]||(xt[Bn]=new URLSearchParams);case"href":let G;return xt[da]||(xt[da]=((G=new URL(xt.href)).host="localhost:3000",G.search="",G.protocol="http",G).href);case"toJSON":case"toString":return xt[Ja]||(xt[Ja]=()=>vr.href);case"url":return;case"clone":return xt[nn]||(xt[nn]=()=>new Proxy(xt.clone(),Xa));default:return nr.ReflectAdapter.get(xt,Ce,vr)}}},Ya={get(xt,Ce,vr){switch(Ce){case"nextUrl":return xt[Ha]||(xt[Ha]=new Proxy(xt.nextUrl,Ea));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":throw Object.defineProperty(new Ut.StaticGenBailoutError(`Route ${xt.nextUrl.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`request.${Ce}\`.`),"__NEXT_ERROR_CODE",{value:"E611",enumerable:!1,configurable:!0});case"clone":return xt[Yi]||(xt[Yi]=()=>new Proxy(xt.clone(),Ya));default:return nr.ReflectAdapter.get(xt,Ce,vr)}}},Ea={get(xt,Ce,vr){switch(Ce){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":throw Object.defineProperty(new Ut.StaticGenBailoutError(`Route ${xt.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`nextUrl.${Ce}\`.`),"__NEXT_ERROR_CODE",{value:"E575",enumerable:!1,configurable:!0});case"clone":return xt[nn]||(xt[nn]=()=>new Proxy(xt.clone(),Ea));default:return nr.ReflectAdapter.get(xt,Ce,vr)}}};function po(xt){return Object.defineProperty(new L.DynamicServerError(`Route ${xt} couldn't be rendered statically because it used IO that was not cached. See more info here: https://nextjs.org/docs/messages/cache-components`),"__NEXT_ERROR_CODE",{value:"E727",enumerable:!1,configurable:!0})}function mo(xt,Ce,vr){if(xt.dynamicShouldError)throw Object.defineProperty(new Ut.StaticGenBailoutError(`Route ${xt.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${vr}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(Ce)switch(Ce.type){case"cache":case"private-cache":throw Object.defineProperty(Error(`Route ${xt.route} used "${vr}" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${vr}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E178",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`Route ${xt.route} used "${vr}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${vr}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E133",enumerable:!1,configurable:!0});case"prerender":let G=Object.defineProperty(Error(`Route ${xt.route} used ${vr} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-request`),"__NEXT_ERROR_CODE",{value:"E261",enumerable:!1,configurable:!0});return(0,Wt.abortAndThrowOnSynchronousRequestDataAccess)(xt.route,vr,G,Ce);case"prerender-client":throw Object.defineProperty(new fn.InvariantError("A client prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E720",enumerable:!1,configurable:!0});case"prerender-runtime":throw Object.defineProperty(new fn.InvariantError("A runtime prerender store should not be used for a route handler."),"__NEXT_ERROR_CODE",{value:"E767",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,Wt.postponeWithTracking)(xt.route,vr,Ce.dynamicTracking);case"prerender-legacy":Ce.revalidate=0;let Tr=Object.defineProperty(new L.DynamicServerError(`Route ${xt.route} couldn't be rendered statically because it used \`${vr}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw xt.dynamicUsageDescription=vr,xt.dynamicUsageStack=Tr.stack,Tr}}_.s(["AppRouteRouteModule",()=>An,"WrappedNextRouterError",()=>qa,"default",0,An,"hasNonStaticMethods",()=>ia],804)},73246,(_,g,xe)=>{g.exports=_.r(804)},87259,33088,20900,66163,16423,40409,80441,_=>{"use strict";var g,xe=_.i(84256),n=_.i(75454),Ke=_.i(63402);let M=Symbol("response"),ie=Symbol("passThrough"),Fe=Symbol("waitUntil");class ge{constructor(st,Ut){this[ie]=!1,this[Fe]=Ut?{kind:"external",function:mr[Symbol.for("__cloudflare-request-context__")].ctx.waitUntil.bind(mr[Symbol.for("__cloudflare-request-context__")].ctx)}:{kind:"internal",promises:[]}}respondWith(st){this[M]||(this[M]=Promise.resolve(st))}passThroughOnException(){this[ie]=!0}waitUntil(st){if(this[Fe].kind==="external")return(0,this[Fe].function)(st);this[Fe].promises.push(st)}}class Ee extends ge{constructor(st){var Ut;super(st.request,(Ut=st.context)==null?void 0:Ut.waitUntil),this.sourcePage=st.page}get request(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}var W=_.i(85867);_.i(43820);var ne=_.i(635),B=_.i(3661),ce=_.i(49783);let Te=Symbol("internal response"),ye=new Set([301,302,303,307,308]);function ht(lr,st){var Ut;if(!(lr==null||(Ut=lr.request)==null)&&Ut.headers){if(!(lr.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let nr=[];for(let[fn,Zr]of lr.request.headers)st.set("x-middleware-request-"+fn,Zr),nr.push(fn);st.set("x-middleware-override-headers",nr.join(","))}}class Y extends Response{constructor(st,Ut={}){super(st,Ut);let nr=this.headers,fn=new Proxy(new ne.ResponseCookies(nr),{get(Zr,dr,Ki){switch(dr){case"delete":case"set":return(...ri)=>{let Tn=Reflect.apply(Zr[dr],Zr,ri),Xn=new Headers(nr);return Tn instanceof ne.ResponseCookies&&nr.set("x-middleware-set-cookie",Tn.getAll().map(pn=>(0,ne.stringifyCookie)(pn)).join(",")),ht(Ut,Xn),Tn};default:return ce.ReflectAdapter.get(Zr,dr,Ki)}}});this[Te]={cookies:fn,url:Ut.url?new B.NextURL(Ut.url,{headers:(0,Ke.toNodeOutgoingHttpHeaders)(nr),nextConfig:Ut.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[Te].cookies}static json(st,Ut){let nr=Response.json(st,Ut);return new Y(nr.body,nr)}static redirect(st,Ut){let nr=typeof Ut=="number"?Ut:Ut?.status??307;if(!ye.has(nr))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let fn=typeof Ut=="object"?Ut:{},Zr=new Headers(fn?.headers);return Zr.set("Location",(0,Ke.validateURL)(st)),new Y(null,{...fn,headers:Zr,status:nr})}static rewrite(st,Ut){let nr=new Headers(Ut?.headers);return nr.set("x-middleware-rewrite",(0,Ke.validateURL)(st)),ht(Ut,nr),new Y(null,{...Ut,headers:nr})}static next(st){let Ut=new Headers(st?.headers);return Ut.set("x-middleware-next","1"),ht(st,Ut),new Y(null,{...st,headers:Ut})}}function Ge(lr,st){let Ut=typeof st=="string"?new URL(st):st,nr=new URL(lr,st),fn=nr.origin===Ut.origin;return{url:fn?nr.toString().slice(Ut.origin.length):nr.toString(),isRelative:fn}}_.s(["NextResponse",()=>Y],33088);var te=_.i(8900);te.NEXT_RSC_UNION_QUERY;var Ye=_.i(87167),We=_.i(72445);_.i(66401);var rt=_.i(18904),$t=_.i(88154);_.i(81527);var Pt=_.i(68644),er=_.i(68045),Gt=_.i(546);class Ve{onClose(st){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",st),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}var sr=_.i(3949);_.i(79698);let pe=Symbol.for("@next/request-context");var ve=_.i(11573);class q extends W.NextRequest{constructor(st){super(st.input,st.init),this.sourcePage=st.page}get request(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new n.PageSignatureError({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let vt={keys:lr=>Array.from(lr.keys()),get:(lr,st)=>lr.get(st)??void 0},h=(lr,st)=>(0,er.getTracer)().withPropagatedContext(lr.headers,st,vt),Yt=!1;async function lt(lr){var st,Ut,nr,fn;let Zr,dr,Ki,ri,Tn;(function(){if(!Yt&&(Yt=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:nn,wrapRequestHandler:Bn}=_.r(98246);nn(),h=Bn(h)}})(),await(0,xe.ensureInstrumentationRegistered)();let Xn=mr.__BUILD_MANIFEST!==void 0;lr.request.url=(0,Ye.normalizeRscURL)(lr.request.url);let pn=lr.bypassNextUrl?new URL(lr.request.url):new B.NextURL(lr.request.url,{headers:lr.request.headers,nextConfig:lr.request.nextConfig});for(let nn of[...pn.searchParams.keys()]){let Bn=pn.searchParams.getAll(nn),da=(0,Ke.normalizeNextQueryParam)(nn);if(da){for(let Ja of(pn.searchParams.delete(da),Bn))pn.searchParams.append(da,Ja);pn.searchParams.delete(nn)}}let ze="45wwz01MkHA8G0LiTpfIq";"buildId"in pn&&(ze=pn.buildId||"",pn.buildId="");let ft=(0,Ke.fromNodeOutgoingHttpHeaders)(lr.request.headers),pr=ft.has("x-nextjs-data"),De=ft.get(te.RSC_HEADER)==="1";pr&&pn.pathname==="/index"&&(pn.pathname="/");let cn=new Map;if(!Xn)for(let nn of te.FLIGHT_HEADERS){let Bn=ft.get(nn);Bn!==null&&(cn.set(nn,Bn),ft.delete(nn))}let zi=pn.searchParams.get(te.NEXT_RSC_UNION_QUERY),rn=new q({page:lr.page,input:((ri=(Ki=typeof pn=="string")?new URL(pn):pn).searchParams.delete(te.NEXT_RSC_UNION_QUERY),Ki?ri.toString():ri).toString(),init:{body:lr.request.body,headers:ft,method:lr.request.method,nextConfig:lr.request.nextConfig,signal:lr.request.signal}});pr&&Object.defineProperty(rn,"__isData",{enumerable:!1,value:!0}),!mr.__incrementalCacheShared&&lr.IncrementalCache&&(mr.__incrementalCache=new lr.IncrementalCache({CurCacheHandler:lr.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:lr.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:(0,sr.getEdgePreviewProps)()})}));let Di=lr.request.waitUntil??((st=(Tn=mr[pe])==null?void 0:Tn.get())==null?void 0:st.waitUntil),ca=new Ee({request:rn,page:lr.page,context:Di?{waitUntil:Di}:void 0});if((Zr=await h(rn,()=>{if(lr.page==="/middleware"||lr.page==="/src/middleware"||lr.page==="/proxy"||lr.page==="/src/proxy"){let nn=ca.waitUntil.bind(ca),Bn=new Ve;return(0,er.getTracer)().trace(Gt.MiddlewareSpan.execute,{spanName:`middleware ${rn.method}`,attributes:{"http.target":rn.nextUrl.pathname,"http.method":rn.method}},async()=>{try{var da,Ja,_o,La;let Wi=(0,sr.getEdgePreviewProps)(),Xa=await(0,ve.getImplicitTags)("/",rn.nextUrl,null),Ya=(0,We.createRequestStoreForAPI)(rn,rn.nextUrl,Xa,po=>{dr=po},Wi),Ea=(0,$t.createWorkStore)({page:"/",renderOpts:{cacheLifeProfiles:(Ja=lr.request.nextConfig)==null||(da=Ja.experimental)==null?void 0:da.cacheLife,cacheComponents:!1,experimental:{isRoutePPREnabled:!1,authInterrupts:!!(!((La=lr.request.nextConfig)==null||(_o=La.experimental)==null)&&_o.authInterrupts)},supportsDynamicResponse:!0,waitUntil:nn,onClose:Bn.onClose.bind(Bn),onAfterTaskError:void 0},isPrefetchRequest:rn.headers.get(te.NEXT_ROUTER_PREFETCH_HEADER)==="1",buildId:ze??"",previouslyRevalidatedTags:[]});return await Pt.workAsyncStorage.run(Ea,()=>rt.workUnitAsyncStorage.run(Ya,lr.handler,rn,ca))}finally{setTimeout(()=>{Bn.dispatchClose()},0)}})}return lr.handler(rn,ca)}))&&!(Zr instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});Zr&&dr&&Zr.headers.set("set-cookie",dr);let qa=Zr?.headers.get("x-middleware-rewrite");if(Zr&&qa&&(De||!Xn)){let nn=new B.NextURL(qa,{forceLocale:!0,headers:lr.request.headers,nextConfig:lr.request.nextConfig});Xn||nn.host!==rn.nextUrl.host||(nn.buildId=ze||nn.buildId,Zr.headers.set("x-middleware-rewrite",String(nn)));let{url:Bn,isRelative:da}=Ge(nn.toString(),pn.toString());!Xn&&pr&&Zr.headers.set("x-nextjs-rewrite",Bn);let Ja=!da&&((fn=lr.request.nextConfig)==null||(nr=fn.experimental)==null||(Ut=nr.clientParamParsingOrigins)==null?void 0:Ut.some(_o=>new RegExp(_o).test(nn.origin)));De&&(da||Ja)&&(pn.pathname!==nn.pathname&&Zr.headers.set(te.NEXT_REWRITTEN_PATH_HEADER,nn.pathname),pn.search!==nn.search&&Zr.headers.set(te.NEXT_REWRITTEN_QUERY_HEADER,nn.search.slice(1)))}if(Zr&&qa&&De&&zi){let nn=new URL(qa);nn.searchParams.has(te.NEXT_RSC_UNION_QUERY)||(nn.searchParams.set(te.NEXT_RSC_UNION_QUERY,zi),Zr.headers.set("x-middleware-rewrite",nn.toString()))}let An=Zr?.headers.get("Location");if(Zr&&An&&!Xn){let nn=new B.NextURL(An,{forceLocale:!1,headers:lr.request.headers,nextConfig:lr.request.nextConfig});Zr=new Response(Zr.body,Zr),nn.host===pn.host&&(nn.buildId=ze||nn.buildId,Zr.headers.set("Location",nn.toString())),pr&&(Zr.headers.delete("Location"),Zr.headers.set("x-nextjs-redirect",Ge(nn.toString(),pn.toString()).url))}let ia=Zr||Y.next(),Ha=ia.headers.get("x-middleware-override-headers"),Yi=[];if(Ha){for(let[nn,Bn]of cn)ia.headers.set(`x-middleware-request-${nn}`,Bn),Yi.push(nn);Yi.length>0&&ia.headers.set("x-middleware-override-headers",Ha+","+Yi.join(","))}return{response:ia,waitUntil:(ca[Fe].kind==="internal"?Promise.all(ca[Fe].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:rn.fetchMetrics}}var ur=_.i(13714);_.i(65832);var ct=_.i(18215),mt=_.i(14766),Nr=_.i(2635);class Vr{constructor(st){this.definition=st,(0,ct.isDynamicRoute)(st.pathname)&&(this.dynamic=(0,mt.getRouteMatcher)((0,Nr.getRouteRegex)(st.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return this.dynamic!==void 0}match(st){let Ut=this.test(st);return Ut?{definition:this.definition,params:Ut.params}:null}test(st){if(this.dynamic){let Ut=this.dynamic(st);return Ut?{params:Ut}:null}return st===this.definition.pathname?{}:null}}let Sn=Symbol.for("__next_internal_waitUntil__"),Kr=mr[Sn]||(mr[Sn]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var Pr=_.i(69297),Dn=_.i(27934),Nn=_.i(88503),Re=_.i(99888);class L{constructor(st,Ut,nr){this.method=st,this.url=Ut,this.body=nr}get cookies(){return this._cookies?this._cookies:this._cookies=(0,Re.getCookieParser)(this.headers)()}}class V{constructor(st){this.destination=st}redirect(st,Ut){return this.setHeader("Location",st),this.statusCode=Ut,Ut===Nn.RedirectStatusCode.PermanentRedirect&&this.setHeader("Refresh",`0;url=${st}`),this}}_.i(78116),_.i(5809);class K extends L{constructor(st){let Ut=new URL(st.url);for(let[nr,fn]of(super(st.method,Ut.href.slice(Ut.origin.length),st.clone().body),this.request=st,this.fetchMetrics=st.fetchMetrics,this.headers={},st.headers.entries()))this.headers[nr]=fn}async parseBody(st){throw Object.defineProperty(Error("parseBody is not implemented in the web runtime"),"__NEXT_ERROR_CODE",{value:"E213",enumerable:!1,configurable:!0})}}class Le{constructor(st){this.routeModule=st,this.matcher=new Vr(st.definition)}static wrap(st,Ut){let nr=new Le(st);return fn=>lt({...fn,IncrementalCache:ur.IncrementalCache,handler:nr.handler.bind(nr),page:Ut.page})}async handler(st,Ut){let nr=(0,Pr.getServerUtils)({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:st.nextUrl.basePath,rewrites:{},caseSensitive:!1}),{nextConfig:fn}=this.routeModule.getNextConfigEdge(new K(st)),{params:Zr}=nr.normalizeDynamicRouteParams((0,Dn.searchParamsToUrlQuery)(st.nextUrl.searchParams),!1),dr=Ut.waitUntil.bind(Ut),Ki=new Ve,ri={params:Zr,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:(0,sr.getEdgePreviewProps)(),notFoundRoutes:[]},renderOpts:{supportsDynamicResponse:!0,waitUntil:dr,onClose:Ki.onClose.bind(Ki),onAfterTaskError:void 0,cacheComponents:!1,experimental:{authInterrupts:!1},cacheLifeProfiles:fn.cacheLife},sharedContext:{buildId:""}},Tn=await this.routeModule.handle(st,ri),Xn=[Kr.waitUntilPromise];if(ri.renderOpts.pendingWaitUntil&&Xn.push(ri.renderOpts.pendingWaitUntil),Ut.waitUntil(Promise.all(Xn)),Tn.body){var pn,ze;let ft,pr;Tn=new Response((pn=Tn.body,ze=()=>Ki.dispatchClose(),ft=new TransformStream,pr=()=>ze(),pn.pipeTo(ft.writable).then(pr,pr),ft.readable),{status:Tn.status,statusText:Tn.statusText,headers:Tn.headers})}else setTimeout(()=>Ki.dispatchClose(),0);return Tn}}_.s(["EdgeRouteModuleWrapper",()=>Le],87259);var at=_.i(93441),Wt=_.i(4842);class wr extends L{static#e=g=Wt.NEXT_REQUEST_META;constructor(st){var Ut;super(st.method.toUpperCase(),st.url,st),this._req=st,this.headers=this._req.headers,this.fetchMetrics=(Ut=this._req)==null?void 0:Ut.fetchMetrics,this[g]=this._req[Wt.NEXT_REQUEST_META]||{},this.streaming=!1}get originalRequest(){return this._req[Wt.NEXT_REQUEST_META]=this[Wt.NEXT_REQUEST_META],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(st){this._req=st}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:st=>{this._req.on("data",Ut=>{st.enqueue(new Uint8Array(Ut))}),this._req.on("end",()=>{st.close()}),this._req.on("error",Ut=>{st.error(Ut)})}})}}class J extends V{get originalResponse(){return at.SYMBOL_CLEARED_COOKIES in this&&(this._res[at.SYMBOL_CLEARED_COOKIES]=this[at.SYMBOL_CLEARED_COOKIES]),this._res}constructor(st){super(st),this._res=st,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(st){this._res.statusCode=st}get statusMessage(){return this._res.statusMessage}set statusMessage(st){this._res.statusMessage=st}setHeader(st,Ut){return this._res.setHeader(st,Ut),this}removeHeader(st){return this._res.removeHeader(st),this}getHeaderValues(st){let Ut=this._res.getHeader(st);if(Ut!==void 0)return(Array.isArray(Ut)?Ut:[Ut]).map(nr=>nr.toString())}hasHeader(st){return this._res.hasHeader(st)}getHeader(st){let Ut=this.getHeaderValues(st);return Array.isArray(Ut)?Ut.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(st,Ut){let nr=this.getHeaderValues(st)??[];return nr.includes(Ut)||this._res.setHeader(st,[...nr,Ut]),this}body(st){return this.textBody=st,this}send(){this._res.end(this.textBody)}onClose(st){this.originalResponse.on("close",st)}}function Xr(lr){return lr.isOnDemandRevalidate?"on-demand":lr.isStaticGeneration?"stale":void 0}async function Yr(lr,st,Ut,nr){}_.s(["NodeNextRequest",()=>wr,"NodeNextResponse",()=>J],20900),_.s(["getRevalidateReason",()=>Xr],66163),_.i(59106),_.i(13651),_.s(["sendResponse",()=>Yr],16423);var hn=_.i(14327);function ti({revalidate:lr,expire:st}){let Ut=typeof lr=="number"&&st!==void 0&&lr<st?`, stale-while-revalidate=${st-lr}`:"";return lr===0?"private, no-cache, no-store, max-age=0, must-revalidate":typeof lr=="number"?`s-maxage=${lr}${Ut}`:`s-maxage=${hn.CACHE_ONE_YEAR}${Ut}`}_.s(["getCacheControlHeader",()=>ti],40409);class Zn extends Error{constructor(){super(),this.message="Internal: NoFallbackError"}}_.s(["NoFallbackError",()=>Zn],80441)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/node_modules_a458cac4._.js",27396,(_,g,xe)=>{"use strict";var n=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,ie=Object.prototype.hasOwnProperty,Fe={},ge={SYMBOL_FOR_REQ_CONTEXT:()=>W,getContext:()=>ne};for(var Ee in ge)n(Fe,Ee,{get:ge[Ee],enumerable:!0});g.exports=((B,ce,Te,ye)=>{if(ce&&typeof ce=="object"||typeof ce=="function")for(let ht of M(ce))ie.call(B,ht)||ht===void 0||n(B,ht,{get:()=>ce[ht],enumerable:!(ye=Ke(ce,ht))||ye.enumerable});return B})(n({},"__esModule",{value:!0}),Fe);let W=Symbol.for("@vercel/request-context");function ne(){return mr[W]?.get?.()??{}}},17063,(_,g,xe)=>{"use strict";var n=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,ie=Object.prototype.hasOwnProperty,Fe={},ge={getContext:()=>W.getContext,getVercelOidcToken:()=>ne,getVercelOidcTokenSync:()=>B};for(var Ee in ge)n(Fe,Ee,{get:ge[Ee],enumerable:!0});g.exports=((ce,Te,ye,ht)=>{if(Te&&typeof Te=="object"||typeof Te=="function")for(let Y of M(Te))ie.call(ce,Y)||Y===void 0||n(ce,Y,{get:()=>Te[Y],enumerable:!(ht=Ke(Te,Y))||ht.enumerable});return ce})(n({},"__esModule",{value:!0}),Fe);var W=_.r(27396);async function ne(){return""}function B(){return""}},97804,28729,_=>{"use strict";var g,xe,n,Ke,M,ie,Fe,ge,Ee,W,ne,B,ce,Te,ye,ht,Y,Ge,te,Ye,We,rt,$t,Pt,er,Gt,Ve,sr,pe,ve=_.i(51615),q=_.i(66125),vt=_.i(8715);_.i(6508);var h=_.i(39017),Yt=_.i(17063),lt=Symbol.for("vercel.ai.gateway.error"),ur=class kg extends(xe=Error,g=lt,xe){constructor({message:c,statusCode:v=500,cause:b}){super(c),this[g]=!0,this.statusCode=v,this.cause=b}static isInstance(c){return kg.hasMarker(c)}static hasMarker(c){return typeof c=="object"&&c!==null&&lt in c&&c[lt]===!0}},ct="GatewayAuthenticationError",mt=Symbol.for(`vercel.ai.gateway.error.${ct}`),Nr=class Ig extends(Ke=ur,n=mt,Ke){constructor({message:c="Authentication failed",statusCode:v=401,cause:b}={}){super({message:c,statusCode:v,cause:b}),this[n]=!0,this.name=ct,this.type="authentication_error"}static isInstance(c){return ur.hasMarker(c)&&mt in c}static createContextualError({apiKeyProvided:c,oidcTokenProvided:v,message:b="Authentication failed",statusCode:S=401,cause:z}){return new Ig({message:c?`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:v?`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,statusCode:S,cause:z})}},Vr="GatewayInvalidRequestError",Sn=Symbol.for(`vercel.ai.gateway.error.${Vr}`),Kr=class extends(ie=ur,M=Sn,ie){constructor({message:s="Invalid request",statusCode:c=400,cause:v}={}){super({message:s,statusCode:c,cause:v}),this[M]=!0,this.name=Vr,this.type="invalid_request_error"}static isInstance(s){return ur.hasMarker(s)&&Sn in s}},Pr="GatewayRateLimitError",Dn=Symbol.for(`vercel.ai.gateway.error.${Pr}`),Nn=class extends(ge=ur,Fe=Dn,ge){constructor({message:s="Rate limit exceeded",statusCode:c=429,cause:v}={}){super({message:s,statusCode:c,cause:v}),this[Fe]=!0,this.name=Pr,this.type="rate_limit_exceeded"}static isInstance(s){return ur.hasMarker(s)&&Dn in s}},Re="GatewayModelNotFoundError",L=Symbol.for(`vercel.ai.gateway.error.${Re}`),V=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.object({modelId:h.z.string()}))),K=class extends(W=ur,Ee=L,W){constructor({message:s="Model not found",statusCode:c=404,modelId:v,cause:b}={}){super({message:s,statusCode:c,cause:b}),this[Ee]=!0,this.name=Re,this.type="model_not_found",this.modelId=v}static isInstance(s){return ur.hasMarker(s)&&L in s}},Le="GatewayInternalServerError",at=Symbol.for(`vercel.ai.gateway.error.${Le}`),Wt=class extends(B=ur,ne=at,B){constructor({message:s="Internal server error",statusCode:c=500,cause:v}={}){super({message:s,statusCode:c,cause:v}),this[ne]=!0,this.name=Le,this.type="internal_server_error"}static isInstance(s){return ur.hasMarker(s)&&at in s}},wr="GatewayResponseError",J=Symbol.for(`vercel.ai.gateway.error.${wr}`),Xr=class extends(Te=ur,ce=J,Te){constructor({message:s="Invalid response from Gateway",statusCode:c=502,response:v,validationError:b,cause:S}={}){super({message:s,statusCode:c,cause:S}),this[ce]=!0,this.name=wr,this.type="response_error",this.response=v,this.validationError=b}static isInstance(s){return ur.hasMarker(s)&&J in s}};async function Yr({response:s,statusCode:c,defaultMessage:v="Gateway request failed",cause:b,authMethod:S}){let z=await(0,q.safeValidateTypes)({value:s,schema:hn});if(!z.success)return new Xr({message:`Invalid error response format: ${v}`,statusCode:c,response:s,validationError:z.error,cause:b});let N=z.value,I=N.error.type,H=N.error.message;switch(I){case"authentication_error":return Nr.createContextualError({apiKeyProvided:S==="api-key",oidcTokenProvided:S==="oidc",statusCode:c,cause:b});case"invalid_request_error":return new Kr({message:H,statusCode:c,cause:b});case"rate_limit_exceeded":return new Nn({message:H,statusCode:c,cause:b});case"model_not_found":{let se=await(0,q.safeValidateTypes)({value:N.error.param,schema:V});return new K({message:H,statusCode:c,modelId:se.success?se.value.modelId:void 0,cause:b})}default:return new Wt({message:H,statusCode:c,cause:b})}}var hn=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.object({error:h.z.object({message:h.z.string(),type:h.z.string().nullish(),param:h.z.unknown().nullish(),code:h.z.union([h.z.string(),h.z.number()]).nullish()})})));function ti(s,c){var v;return ur.isInstance(s)?s:vt.APICallError.isInstance(s)?Yr({response:function(b){if(b.data!==void 0)return b.data;if(b.responseBody!=null)try{return JSON.parse(b.responseBody)}catch{return b.responseBody}return{}}(s),statusCode:(v=s.statusCode)!=null?v:500,defaultMessage:"Gateway request failed",cause:s,authMethod:c}):Yr({response:{},statusCode:500,defaultMessage:s instanceof Error?`Gateway request failed: ${s.message}`:"Unknown Gateway error",cause:s,authMethod:c})}var Zn="ai-gateway-auth-method";async function lr(s){let c=await(0,q.safeValidateTypes)({value:s[Zn],schema:st});return c.success?c.value:void 0}var st=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.union([h.z.literal("api-key"),h.z.literal("oidc")]))),Ut=class{constructor(s){this.config=s}async getAvailableModels(){try{let{value:s}=await(0,q.getFromApi)({url:`${this.config.baseURL}/config`,headers:await(0,q.resolve)(this.config.headers()),successfulResponseHandler:(0,q.createJsonResponseHandler)(nr),failedResponseHandler:(0,q.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:c=>c}),fetch:this.config.fetch});return s}catch(s){throw await ti(s)}}async getCredits(){try{let s=new URL(this.config.baseURL),{value:c}=await(0,q.getFromApi)({url:`${s.origin}/v1/credits`,headers:await(0,q.resolve)(this.config.headers()),successfulResponseHandler:(0,q.createJsonResponseHandler)(fn),failedResponseHandler:(0,q.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:v=>v}),fetch:this.config.fetch});return c}catch(s){throw await ti(s)}}},nr=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.object({models:h.z.array(h.z.object({id:h.z.string(),name:h.z.string(),description:h.z.string().nullish(),pricing:h.z.object({input:h.z.string(),output:h.z.string(),input_cache_read:h.z.string().nullish(),input_cache_write:h.z.string().nullish()}).transform(({input:s,output:c,input_cache_read:v,input_cache_write:b})=>({input:s,output:c,...v?{cachedInputTokens:v}:{},...b?{cacheCreationInputTokens:b}:{}})).nullish(),specification:h.z.object({specificationVersion:h.z.literal("v3"),provider:h.z.string(),modelId:h.z.string()}),modelType:h.z.enum(["language","embedding","image"]).nullish()}))}))),fn=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.object({balance:h.z.string(),total_used:h.z.string()}).transform(({balance:s,total_used:c})=>({balance:s,totalUsed:c})))),Zr=class{constructor(s,c){this.modelId=s,this.config=c,this.specificationVersion="v3",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(s){let{abortSignal:c,...v}=s;return{args:this.maybeEncodeFileParts(v),warnings:[]}}async doGenerate(s){let{args:c,warnings:v}=await this.getArgs(s),{abortSignal:b}=s,S=await(0,q.resolve)(this.config.headers());try{let{responseHeaders:z,value:N,rawValue:I}=await(0,q.postJsonToApi)({url:this.getUrl(),headers:(0,q.combineHeaders)(S,s.headers,this.getModelConfigHeaders(this.modelId,!1),await(0,q.resolve)(this.config.o11yHeaders)),body:c,successfulResponseHandler:(0,q.createJsonResponseHandler)(h.z.any()),failedResponseHandler:(0,q.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:H=>H}),...b&&{abortSignal:b},fetch:this.config.fetch});return{...N,request:{body:c},response:{headers:z,body:I},warnings:v}}catch(z){throw await ti(z,await lr(S))}}async doStream(s){let{args:c,warnings:v}=await this.getArgs(s),{abortSignal:b}=s,S=await(0,q.resolve)(this.config.headers());try{let{value:z,responseHeaders:N}=await(0,q.postJsonToApi)({url:this.getUrl(),headers:(0,q.combineHeaders)(S,s.headers,this.getModelConfigHeaders(this.modelId,!0),await(0,q.resolve)(this.config.o11yHeaders)),body:c,successfulResponseHandler:(0,q.createEventSourceResponseHandler)(h.z.any()),failedResponseHandler:(0,q.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:I=>I}),...b&&{abortSignal:b},fetch:this.config.fetch});return{stream:z.pipeThrough(new TransformStream({start(I){v.length>0&&I.enqueue({type:"stream-start",warnings:v})},transform(I,H){if(I.success){let se=I.value;(se.type!=="raw"||s.includeRawChunks)&&(se.type==="response-metadata"&&se.timestamp&&typeof se.timestamp=="string"&&(se.timestamp=new Date(se.timestamp)),H.enqueue(se))}else H.error(I.error)}})),request:{body:c},response:{headers:N}}}catch(z){throw await ti(z,await lr(S))}}isFilePart(s){return s&&typeof s=="object"&&"type"in s&&s.type==="file"}maybeEncodeFileParts(s){for(let c of s.prompt)for(let v of c.content)if(this.isFilePart(v)&&v.data instanceof Uint8Array){let b=Uint8Array.from(v.data),S=ve.Buffer.from(b).toString("base64");v.data=new URL(`data:${v.mediaType||"application/octet-stream"};base64,${S}`)}return s}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(s,c){return{"ai-language-model-specification-version":"2","ai-language-model-id":s,"ai-language-model-streaming":String(c)}}},dr=class{constructor(s,c){this.modelId=s,this.config=c,this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:s,headers:c,abortSignal:v,providerOptions:b}){var S;let z=await(0,q.resolve)(this.config.headers());try{let{responseHeaders:N,value:I,rawValue:H}=await(0,q.postJsonToApi)({url:this.getUrl(),headers:(0,q.combineHeaders)(z,c??{},this.getModelConfigHeaders(),await(0,q.resolve)(this.config.o11yHeaders)),body:{values:s,...b?{providerOptions:b}:{}},successfulResponseHandler:(0,q.createJsonResponseHandler)(Ki),failedResponseHandler:(0,q.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:se=>se}),...v&&{abortSignal:v},fetch:this.config.fetch});return{embeddings:I.embeddings,usage:(S=I.usage)!=null?S:void 0,providerMetadata:I.providerMetadata,response:{headers:N,body:H},warnings:[]}}catch(N){throw await ti(N,await lr(z))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},Ki=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.object({embeddings:h.z.array(h.z.array(h.z.number())),usage:h.z.object({tokens:h.z.number()}).nullish(),providerMetadata:h.z.record(h.z.string(),h.z.record(h.z.string(),h.z.unknown())).optional()}))),ri=class{constructor(s,c){this.modelId=s,this.config=c,this.specificationVersion="v3",this.maxImagesPerCall=Number.MAX_SAFE_INTEGER}get provider(){return this.config.provider}async doGenerate({prompt:s,n:c,size:v,aspectRatio:b,seed:S,providerOptions:z,headers:N,abortSignal:I}){var H;let se=await(0,q.resolve)(this.config.headers());try{let{responseHeaders:ee,value:D,rawValue:ue}=await(0,q.postJsonToApi)({url:this.getUrl(),headers:(0,q.combineHeaders)(se,N??{},this.getModelConfigHeaders(),await(0,q.resolve)(this.config.o11yHeaders)),body:{prompt:s,n:c,...v&&{size:v},...b&&{aspectRatio:b},...S&&{seed:S},...z&&{providerOptions:z}},successfulResponseHandler:(0,q.createJsonResponseHandler)(Xn),failedResponseHandler:(0,q.createJsonErrorResponseHandler)({errorSchema:h.z.any(),errorToMessage:_t=>_t}),...I&&{abortSignal:I},fetch:this.config.fetch});return{images:D.images,warnings:(H=D.warnings)!=null?H:[],providerMetadata:D.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:ee}}}catch(ee){throw ti(ee,await lr(se))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":"2","ai-model-id":this.modelId}}},Tn=h.z.object({images:h.z.array(h.z.unknown()).optional()}).catchall(h.z.unknown()),Xn=h.z.object({images:h.z.array(h.z.string()),warnings:h.z.array(h.z.object({type:h.z.literal("other"),message:h.z.string()})).optional(),providerMetadata:h.z.record(h.z.string(),Tn).optional()});async function pn(){var s;return(s=(0,Yt.getContext)().headers)==null?void 0:s["x-vercel-id"]}function ze(s={}){var c,v;let b=null,S=null,z=(c=s.metadataCacheRefreshMillis)!=null?c:3e5,N=0,I=(v=(0,q.withoutTrailingSlash)(s.baseURL))!=null?v:"https://ai-gateway.vercel.sh/v3/ai",H=async()=>{let qe=await pr(s);if(qe)return(0,q.withUserAgentSuffix)({Authorization:`Bearer ${qe.token}`,"ai-gateway-protocol-version":"0.0.1",[Zn]:qe.authMethod,...s.headers},"ai-sdk/gateway/3.0.2");throw Nr.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},se=()=>{let qe=(0,q.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),Bt=(0,q.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),yr=(0,q.loadOptionalSetting)({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{let Gr=await pn();return{...qe&&{"ai-o11y-deployment-id":qe},...Bt&&{"ai-o11y-environment":Bt},...yr&&{"ai-o11y-region":yr},...Gr&&{"ai-o11y-request-id":Gr}}}},ee=qe=>new Zr(qe,{provider:"gateway",baseURL:I,headers:H,fetch:s.fetch,o11yHeaders:se()}),D=async()=>{var qe,Bt,yr;let Gr=(yr=(Bt=(qe=s._internal)==null?void 0:qe.currentDate)==null?void 0:Bt.call(qe).getTime())!=null?yr:Date.now();return(!b||Gr-N>z)&&(N=Gr,b=new Ut({baseURL:I,headers:H,fetch:s.fetch}).getAvailableModels().then(Me=>(S=Me,Me)).catch(async Me=>{throw await ti(Me,await lr(await H()))})),S?Promise.resolve(S):b},ue=async()=>new Ut({baseURL:I,headers:H,fetch:s.fetch}).getCredits().catch(async qe=>{throw await ti(qe,await lr(await H()))}),_t=function(qe){if(new.target)throw Error("The Gateway Provider model function cannot be called with the new keyword.");return ee(qe)};_t.specificationVersion="v3",_t.getAvailableModels=D,_t.getCredits=ue,_t.imageModel=qe=>new ri(qe,{provider:"gateway",baseURL:I,headers:H,fetch:s.fetch,o11yHeaders:se()}),_t.languageModel=ee;let Oe=qe=>new dr(qe,{provider:"gateway",baseURL:I,headers:H,fetch:s.fetch,o11yHeaders:se()});return _t.embeddingModel=Oe,_t.textEmbeddingModel=Oe,_t}var ft=ze();async function pr(s){let c=(0,q.loadOptionalSetting)({settingValue:s.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(c)return{token:c,authMethod:"api-key"};try{return{token:await(0,Yt.getVercelOidcToken)(),authMethod:"oidc"}}catch{return null}}_.s(["GatewayAuthenticationError",()=>Nr,"createGateway",()=>ze,"gateway",()=>ft],28729);var De=vt,cn=_.i(94323),zi=_.i(31232),rn=Object.defineProperty,Di="AI_InvalidArgumentError",ca=`vercel.ai.error.${Di}`,qa=Symbol.for(ca),An=class extends De.AISDKError{constructor({parameter:s,value:c,message:v}){super({name:Di,message:`Invalid argument for parameter ${s}: ${v}`}),this[ye]=!0,this.parameter=s,this.value=c}static isInstance(s){return De.AISDKError.hasMarker(s,ca)}};ye=qa;var ia="AI_InvalidStreamPartError",Ha=`vercel.ai.error.${ia}`,Yi=Symbol.for(Ha),nn=class extends De.AISDKError{constructor({chunk:s,message:c}){super({name:ia,message:c}),this[ht]=!0,this.chunk=s}static isInstance(s){return De.AISDKError.hasMarker(s,Ha)}};ht=Yi;var Bn="AI_InvalidToolApprovalError",da=`vercel.ai.error.${Bn}`,Ja=Symbol.for(da),_o=class extends De.AISDKError{constructor({approvalId:s}){super({name:Bn,message:`Tool approval response references unknown approvalId: "${s}". No matching tool-approval-request found in message history.`}),this[Y]=!0,this.approvalId=s}static isInstance(s){return De.AISDKError.hasMarker(s,da)}};Y=Ja;var La="AI_InvalidToolInputError",Wi=`vercel.ai.error.${La}`,Xa=Symbol.for(Wi),Ya=class extends De.AISDKError{constructor({toolInput:s,toolName:c,cause:v,message:b=`Invalid input for tool ${c}: ${(0,De.getErrorMessage)(v)}`}){super({name:La,message:b,cause:v}),this[Ge]=!0,this.toolInput=s,this.toolName=c}static isInstance(s){return De.AISDKError.hasMarker(s,Wi)}};Ge=Xa;var Ea="AI_ToolCallNotFoundForApprovalError",po=`vercel.ai.error.${Ea}`,mo=Symbol.for(po),xt=class extends De.AISDKError{constructor({toolCallId:s,approvalId:c}){super({name:Ea,message:`Tool call "${s}" not found for approval request "${c}".`}),this[te]=!0,this.toolCallId=s,this.approvalId=c}static isInstance(s){return De.AISDKError.hasMarker(s,po)}};te=mo;var Ce="AI_NoImageGeneratedError",vr=`vercel.ai.error.${Ce}`,G=Symbol.for(vr),Tr=class extends De.AISDKError{constructor({message:s="No image generated.",cause:c,responses:v}){super({name:Ce,message:s,cause:c}),this[Ye]=!0,this.responses=v}static isInstance(s){return De.AISDKError.hasMarker(s,vr)}};Ye=G;var en="AI_NoObjectGeneratedError",Ln=`vercel.ai.error.${en}`,In=Symbol.for(Ln),Jr=class extends De.AISDKError{constructor({message:s="No object generated.",cause:c,text:v,response:b,usage:S,finishReason:z}){super({name:en,message:s,cause:c}),this[We]=!0,this.text=v,this.response=b,this.usage=S,this.finishReason=z}static isInstance(s){return De.AISDKError.hasMarker(s,Ln)}};We=In;var Hn="AI_NoOutputGeneratedError",Gi=`vercel.ai.error.${Hn}`,Li=Symbol.for(Gi),ki=class extends De.AISDKError{constructor({message:s="No output generated.",cause:c}={}){super({name:Hn,message:s,cause:c}),this[rt]=!0}static isInstance(s){return De.AISDKError.hasMarker(s,Gi)}};rt=Li;var di=class extends De.AISDKError{constructor(s){super({name:"AI_NoSpeechGeneratedError",message:"No speech audio generated."}),this.responses=s.responses}},Fi="AI_NoSuchToolError",Ot=`vercel.ai.error.${Fi}`,pi=Symbol.for(Ot),Un=class extends De.AISDKError{constructor({toolName:s,availableTools:c,message:v=`Model tried to call unavailable tool '${s}'. ${c===void 0?"No tools are available.":`Available tools: ${c.join(", ")}.`}`}){super({name:Fi,message:v}),this[$t]=!0,this.toolName=s,this.availableTools=c}static isInstance(s){return De.AISDKError.hasMarker(s,Ot)}};$t=pi;var Yn="AI_ToolCallRepairError",gn=`vercel.ai.error.${Yn}`,pa=Symbol.for(gn),ea=class extends De.AISDKError{constructor({cause:s,originalError:c,message:v=`Error repairing tool call: ${(0,De.getErrorMessage)(s)}`}){super({name:Yn,message:v,cause:s}),this[Pt]=!0,this.originalError=c}static isInstance(s){return De.AISDKError.hasMarker(s,gn)}};Pt=pa;var xr=class extends De.AISDKError{constructor(s){super({name:"AI_UnsupportedModelVersionError",message:`Unsupported model version ${s.version} for provider "${s.provider}" and model "${s.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=s.version,this.provider=s.provider,this.modelId=s.modelId}},Ti="AI_InvalidDataContentError",Zi=`vercel.ai.error.${Ti}`,Cn=Symbol.for(Zi),Qi=class extends De.AISDKError{constructor({content:s,cause:c,message:v=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof s}.`}){super({name:Ti,message:v,cause:c}),this[er]=!0,this.content=s}static isInstance(s){return De.AISDKError.hasMarker(s,Zi)}};er=Cn;var wi="AI_InvalidMessageRoleError",aa=`vercel.ai.error.${wi}`,Ta=Symbol.for(aa),ni=class extends De.AISDKError{constructor({role:s,message:c=`Invalid message role: '${s}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:wi,message:c}),this[Gt]=!0,this.role=s}static isInstance(s){return De.AISDKError.hasMarker(s,aa)}};Gt=Ta;var Ca="AI_MessageConversionError",Ci=`vercel.ai.error.${Ca}`,Ri=Symbol.for(Ci),ho=class extends De.AISDKError{constructor({originalMessage:s,message:c}){super({name:Ca,message:c}),this[Ve]=!0,this.originalMessage=s}static isInstance(s){return De.AISDKError.hasMarker(s,Ci)}};Ve=Ri;var va="AI_RetryError",Jo=`vercel.ai.error.${va}`,ns=Symbol.for(Jo),yi=class extends De.AISDKError{constructor({message:s,reason:c,errors:v}){super({name:va,message:s}),this[sr]=!0,this.reason=c,this.errors=v,this.lastError=v[v.length-1]}static isInstance(s){return De.AISDKError.hasMarker(s,Jo)}};sr=ns;var xo=!1,Bi=s=>{if(s.warnings.length===0)return;let c=mr.AI_SDK_LOG_WARNINGS;if(c!==!1){if(typeof c=="function")return void c(s);for(let v of(xo||(xo=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.")),s.warnings))console.warn(function({warning:b,provider:S,model:z}){let N=`AI SDK Warning (${S} / ${z}):`;switch(b.type){case"unsupported":{let I=`${N} The feature "${b.feature}" is not supported.`;return b.details&&(I+=` ${b.details}`),I}case"compatibility":{let I=`${N} The feature "${b.feature}" is used in a compatibility mode.`;return b.details&&(I+=` ${b.details}`),I}case"other":return`${N} ${b.message}`;default:return`${N} ${JSON.stringify(b,null,2)}`}}({warning:v,provider:s.provider,model:s.model}))}};function Wn({provider:s,modelId:c}){Bi({warnings:[{type:"compatibility",feature:"specificationVersion",details:"Using v2 specification compatibility mode. Some features may not be available."}],provider:s,model:c})}function tr(s){return s.specificationVersion==="v3"?s:(Wn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,v)=>v==="specificationVersion"?"v3":c[v]}))}function Ii(s){return s.specificationVersion==="v3"?s:(Wn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,v)=>v==="specificationVersion"?"v3":c[v]}))}function Rr(s){return s.specificationVersion==="v3"?s:(Wn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get(c,v){switch(v){case"specificationVersion":return"v3";case"doGenerate":return async(...b)=>{let S=await c.doGenerate(...b);return{...S,finishReason:eo(S.finishReason),usage:qo(S.usage)}};case"doStream":return async(...b)=>{let S=await c.doStream(...b);return{...S,stream:S.stream.pipeThrough(new TransformStream({transform(z,N){z.type==="finish"?N.enqueue({...z,finishReason:eo(z.finishReason),usage:qo(z.usage)}):N.enqueue(z)}}))}};default:return c[v]}}}))}function eo(s){return{unified:s==="unknown"?"other":s,raw:void 0}}function qo(s){return{inputTokens:{total:s.inputTokens,noCache:void 0,cacheRead:s.cachedInputTokens,cacheWrite:void 0},outputTokens:{total:s.outputTokens,text:void 0,reasoning:s.reasoningTokens}}}function is(s){return s.specificationVersion==="v3"?s:(Wn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,v)=>v==="specificationVersion"?"v3":c[v]}))}function As(s){return s.specificationVersion==="v3"?s:(Wn({provider:s.provider,modelId:s.modelId}),new Proxy(s,{get:(c,v)=>v==="specificationVersion"?"v3":c[v]}))}function wa(s){if(typeof s!="string"){if(s.specificationVersion!=="v3"&&s.specificationVersion!=="v2")throw new xr({version:s.specificationVersion,provider:s.provider,modelId:s.modelId});return Rr(s)}return Ko().languageModel(s)}function Ms(s){if(typeof s!="string"){if(s.specificationVersion!=="v3"&&s.specificationVersion!=="v2")throw new xr({version:s.specificationVersion,provider:s.provider,modelId:s.modelId});return tr(s)}return Ko().embeddingModel(s)}function Ko(){var s;return(s=mr.AI_SDK_DEFAULT_PROVIDER)!=null?s:ft}var fs=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],Rs=[{mediaType:"audio/mpeg",bytesPrefix:[255,251]},{mediaType:"audio/mpeg",bytesPrefix:[255,250]},{mediaType:"audio/mpeg",bytesPrefix:[255,243]},{mediaType:"audio/mpeg",bytesPrefix:[255,242]},{mediaType:"audio/mpeg",bytesPrefix:[255,227]},{mediaType:"audio/mpeg",bytesPrefix:[255,226]},{mediaType:"audio/wav",bytesPrefix:[82,73,70,70,null,null,null,null,87,65,86,69]},{mediaType:"audio/ogg",bytesPrefix:[79,103,103,83]},{mediaType:"audio/flac",bytesPrefix:[102,76,97,67]},{mediaType:"audio/aac",bytesPrefix:[64,21,0,0]},{mediaType:"audio/mp4",bytesPrefix:[102,116,121,112]},{mediaType:"audio/webm",bytesPrefix:[26,69,223,163]}];function fo({data:s,signatures:c}){let v,b,S=typeof s=="string"&&s.startsWith("SUQz")||typeof s!="string"&&s.length>10&&s[0]===73&&s[1]===68&&s[2]===51?(b=(127&(v=typeof s=="string"?(0,q.convertBase64ToUint8Array)(s):s)[6])<<21|(127&v[7])<<14|(127&v[8])<<7|127&v[9],v.slice(b+10)):s,z=typeof S=="string"?(0,q.convertBase64ToUint8Array)(S.substring(0,Math.min(S.length,24))):S;for(let N of c)if(z.length>=N.bytesPrefix.length&&N.bytesPrefix.every((I,H)=>I===null||z[H]===I))return N.mediaType}var ta="6.0.3",Fa=async({url:s})=>{var c;let v=s.toString();try{let b=await fetch(v,{headers:(0,q.withUserAgentSuffix)({},`ai-sdk/${ta}`,(0,q.getRuntimeEnvironmentUserAgent)())});if(!b.ok)throw new q.DownloadError({url:v,statusCode:b.status,statusText:b.statusText});return{data:new Uint8Array(await b.arrayBuffer()),mediaType:(c=b.headers.get("content-type"))!=null?c:void 0}}catch(b){throw q.DownloadError.isInstance(b)?b:new q.DownloadError({url:v,cause:b})}};function Pn(s){try{let[c,v]=s.split(",");return{mediaType:c.split(";")[0].split(":")[1],base64Content:v}}catch{return{mediaType:void 0,base64Content:void 0}}}var u=h.z.union([h.z.string(),h.z.instanceof(Uint8Array),h.z.instanceof(ArrayBuffer),h.z.custom(s=>{var c,v;return(v=(c=mr.Buffer)==null?void 0:c.isBuffer(s))!=null&&v},{message:"Must be a Buffer"})]);function w(s){if(s instanceof Uint8Array)return{data:s,mediaType:void 0};if(s instanceof ArrayBuffer)return{data:new Uint8Array(s),mediaType:void 0};if(typeof s=="string")try{s=new URL(s)}catch{}if(s instanceof URL&&s.protocol==="data:"){let{mediaType:c,base64Content:v}=Pn(s.toString());if(c==null||v==null)throw new De.AISDKError({name:"InvalidDataContentError",message:`Invalid data URL format in content ${s.toString()}`});return{data:v,mediaType:c}}return{data:s,mediaType:void 0}}function R(s){if(s instanceof Uint8Array)return s;if(typeof s=="string")try{return(0,q.convertBase64ToUint8Array)(s)}catch(c){throw new Qi({message:"Invalid data content. Content string is not a base64-encoded media.",content:s,cause:c})}if(s instanceof ArrayBuffer)return new Uint8Array(s);throw new Qi({content:s})}function P(s){return s===void 0?[]:Array.isArray(s)?s:[s]}async function A({prompt:s,supportedUrls:c,download:v=((b=Fa)=>S=>Promise.all(S.map(async z=>z.isUrlSupportedByModel?null:b(z))))()}){let b=await _e(s.messages,v,c),S=[...s.system!=null?typeof s.system=="string"?[{role:"system",content:s.system}]:P(s.system).map(N=>({role:"system",content:N.content,providerOptions:N.providerOptions})):[],...s.messages.map(N=>function({message:I,downloadedAssets:H}){let se=I.role;switch(se){case"system":return{role:"system",content:I.content,providerOptions:I.providerOptions};case"user":return typeof I.content=="string"?{role:"user",content:[{type:"text",text:I.content}],providerOptions:I.providerOptions}:{role:"user",content:I.content.map(ee=>function(D,ue){var _t;let Oe;if(D.type==="text")return{type:"text",text:D.text,providerOptions:D.providerOptions};let qe=D.type;switch(qe){case"image":Oe=D.image;break;case"file":Oe=D.data;break;default:throw Error(`Unsupported part type: ${qe}`)}let{data:Bt,mediaType:yr}=w(Oe),Gr=yr??D.mediaType,Me=Bt;if(Me instanceof URL){let Dr=ue[Me.toString()];Dr&&(Me=Dr.data,Gr!=null||(Gr=Dr.mediaType))}switch(qe){case"image":return(Me instanceof Uint8Array||typeof Me=="string")&&(Gr=(_t=fo({data:Me,signatures:fs}))!=null?_t:Gr),{type:"file",mediaType:Gr??"image/*",filename:void 0,data:Me,providerOptions:D.providerOptions};case"file":if(Gr==null)throw Error("Media type is missing for file part");return{type:"file",mediaType:Gr,filename:D.filename,data:Me,providerOptions:D.providerOptions}}}(ee,H)).filter(ee=>ee.type!=="text"||ee.text!==""),providerOptions:I.providerOptions};case"assistant":return typeof I.content=="string"?{role:"assistant",content:[{type:"text",text:I.content}],providerOptions:I.providerOptions}:{role:"assistant",content:I.content.filter(ee=>ee.type!=="text"||ee.text!==""||ee.providerOptions!=null).filter(ee=>ee.type!=="tool-approval-request").map(ee=>{let D=ee.providerOptions;switch(ee.type){case"file":{let{data:ue,mediaType:_t}=w(ee.data);return{type:"file",data:ue,filename:ee.filename,mediaType:_t??ee.mediaType,providerOptions:D}}case"reasoning":return{type:"reasoning",text:ee.text,providerOptions:D};case"text":return{type:"text",text:ee.text,providerOptions:D};case"tool-call":return{type:"tool-call",toolCallId:ee.toolCallId,toolName:ee.toolName,input:ee.input,providerExecuted:ee.providerExecuted,providerOptions:D};case"tool-result":return{type:"tool-result",toolCallId:ee.toolCallId,toolName:ee.toolName,output:Ue(ee.output),providerOptions:D}}}),providerOptions:I.providerOptions};case"tool":return{role:"tool",content:I.content.filter(ee=>ee.type!=="tool-approval-response"||ee.providerExecuted).map(ee=>{switch(ee.type){case"tool-result":return{type:"tool-result",toolCallId:ee.toolCallId,toolName:ee.toolName,output:Ue(ee.output),providerOptions:ee.providerOptions};case"tool-approval-response":return{type:"tool-approval-response",approvalId:ee.approvalId,approved:ee.approved,reason:ee.reason}}}),providerOptions:I.providerOptions};default:throw new ni({role:se})}}({message:N,downloadedAssets:b}))],z=[];for(let N of S){if(N.role!=="tool"){z.push(N);continue}let I=z.at(-1);I?.role==="tool"?I.content.push(...N.content):z.push(N)}return z}async function _e(s,c,v){let b=s.filter(S=>S.role==="user").map(S=>S.content).filter(S=>Array.isArray(S)).flat().filter(S=>S.type==="image"||S.type==="file").map(S=>{var z;let N=(z=S.mediaType)!=null?z:S.type==="image"?"image/*":void 0,I=S.type==="image"?S.image:S.data;if(typeof I=="string")try{I=new URL(I)}catch{}return{mediaType:N,data:I}}).filter(S=>S.data instanceof URL).map(S=>({url:S.data,isUrlSupportedByModel:S.mediaType!=null&&(0,q.isUrlSupported)({url:S.data.toString(),mediaType:S.mediaType,supportedUrls:v})}));return Object.fromEntries((await c(b)).map((S,z)=>S==null?null:[b[z].url.toString(),{data:S.data,mediaType:S.mediaType}]).filter(S=>S!=null))}function Ue(s){return s.type!=="content"?s:{type:"content",value:s.value.map(c=>c.type!=="media"?c:c.mediaType.startsWith("image/")?{type:"image-data",data:c.data,mediaType:c.mediaType}:{type:"file-data",data:c.data,mediaType:c.mediaType})}}async function gt({toolCallId:s,input:c,output:v,tool:b,errorMode:S}){return S==="text"?{type:"error-text",value:(0,De.getErrorMessage)(v)}:S==="json"?{type:"error-json",value:Pe(v)}:b?.toModelOutput?await b.toModelOutput({toolCallId:s,input:c,output:v}):typeof v=="string"?{type:"text",value:v}:{type:"json",value:Pe(v)}}function Pe(s){return s===void 0?null:s}function bt({maxOutputTokens:s,temperature:c,topP:v,topK:b,presencePenalty:S,frequencyPenalty:z,seed:N,stopSequences:I}){if(s!=null){if(!Number.isInteger(s))throw new An({parameter:"maxOutputTokens",value:s,message:"maxOutputTokens must be an integer"});if(s<1)throw new An({parameter:"maxOutputTokens",value:s,message:"maxOutputTokens must be >= 1"})}if(c!=null&&typeof c!="number")throw new An({parameter:"temperature",value:c,message:"temperature must be a number"});if(v!=null&&typeof v!="number")throw new An({parameter:"topP",value:v,message:"topP must be a number"});if(b!=null&&typeof b!="number")throw new An({parameter:"topK",value:b,message:"topK must be a number"});if(S!=null&&typeof S!="number")throw new An({parameter:"presencePenalty",value:S,message:"presencePenalty must be a number"});if(z!=null&&typeof z!="number")throw new An({parameter:"frequencyPenalty",value:z,message:"frequencyPenalty must be a number"});if(N!=null&&!Number.isInteger(N))throw new An({parameter:"seed",value:N,message:"seed must be an integer"});return{maxOutputTokens:s,temperature:c,topP:v,topK:b,presencePenalty:S,frequencyPenalty:z,stopSequences:I,seed:N}}async function fr({tools:s,toolChoice:c,activeTools:v}){if(!(s!=null&&Object.keys(s).length>0))return{tools:void 0,toolChoice:void 0};let b=v!=null?Object.entries(s).filter(([z])=>v.includes(z)):Object.entries(s),S=[];for(let[z,N]of b){let I=N.type;switch(I){case void 0:case"dynamic":case"function":S.push({type:"function",name:z,description:N.description,inputSchema:await(0,q.asSchema)(N.inputSchema).jsonSchema,...N.inputExamples!=null?{inputExamples:N.inputExamples}:{},providerOptions:N.providerOptions,...N.strict!=null?{strict:N.strict}:{}});break;case"provider":S.push({type:"provider",name:z,id:N.id,args:N.args});break;default:throw Error(`Unsupported tool type: ${I}`)}}return{tools:S,toolChoice:c==null?{type:"auto"}:typeof c=="string"?{type:c}:{type:"tool",toolName:c.toolName}}}var $r=h.z.lazy(()=>h.z.union([h.z.null(),h.z.string(),h.z.number(),h.z.boolean(),h.z.record(h.z.string(),$r.optional()),h.z.array($r)])),Qt=h.z.record(h.z.string(),h.z.record(h.z.string(),$r.optional())),an=h.z.object({type:h.z.literal("text"),text:h.z.string(),providerOptions:Qt.optional()}),jr=h.z.object({type:h.z.literal("image"),image:h.z.union([u,h.z.instanceof(URL)]),mediaType:h.z.string().optional(),providerOptions:Qt.optional()}),on=h.z.object({type:h.z.literal("file"),data:h.z.union([u,h.z.instanceof(URL)]),filename:h.z.string().optional(),mediaType:h.z.string(),providerOptions:Qt.optional()}),Cr=h.z.object({type:h.z.literal("reasoning"),text:h.z.string(),providerOptions:Qt.optional()}),Hr=h.z.object({type:h.z.literal("tool-call"),toolCallId:h.z.string(),toolName:h.z.string(),input:h.z.unknown(),providerOptions:Qt.optional(),providerExecuted:h.z.boolean().optional()}),Mr=h.z.discriminatedUnion("type",[h.z.object({type:h.z.literal("text"),value:h.z.string(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("json"),value:$r,providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("execution-denied"),reason:h.z.string().optional(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("error-text"),value:h.z.string(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("error-json"),value:$r,providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("content"),value:h.z.array(h.z.union([h.z.object({type:h.z.literal("text"),text:h.z.string(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("media"),data:h.z.string(),mediaType:h.z.string()}),h.z.object({type:h.z.literal("file-data"),data:h.z.string(),mediaType:h.z.string(),filename:h.z.string().optional(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("file-url"),url:h.z.string(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("file-id"),fileId:h.z.union([h.z.string(),h.z.record(h.z.string(),h.z.string())]),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("image-data"),data:h.z.string(),mediaType:h.z.string(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("image-url"),url:h.z.string(),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("image-file-id"),fileId:h.z.union([h.z.string(),h.z.record(h.z.string(),h.z.string())]),providerOptions:Qt.optional()}),h.z.object({type:h.z.literal("custom"),providerOptions:Qt.optional()})]))})]),zr=h.z.object({type:h.z.literal("tool-result"),toolCallId:h.z.string(),toolName:h.z.string(),output:Mr,providerOptions:Qt.optional()}),Ka=h.z.object({type:h.z.literal("tool-approval-request"),approvalId:h.z.string(),toolCallId:h.z.string()}),ba=h.z.object({type:h.z.literal("tool-approval-response"),approvalId:h.z.string(),approved:h.z.boolean(),reason:h.z.string().optional()}),go=h.z.object({role:h.z.literal("system"),content:h.z.string(),providerOptions:Qt.optional()}),Po=h.z.object({role:h.z.literal("user"),content:h.z.union([h.z.string(),h.z.array(h.z.union([an,jr,on]))]),providerOptions:Qt.optional()}),wo=h.z.object({role:h.z.literal("assistant"),content:h.z.union([h.z.string(),h.z.array(h.z.union([an,on,Cr,Hr,zr,Ka]))]),providerOptions:Qt.optional()}),Lo=h.z.object({role:h.z.literal("tool"),content:h.z.array(h.z.union([zr,ba])),providerOptions:Qt.optional()}),ko=h.z.union([go,Po,wo,Lo]);async function _a(s){let c;if(s.prompt==null&&s.messages==null)throw new De.InvalidPromptError({prompt:s,message:"prompt or messages must be defined"});if(s.prompt!=null&&s.messages!=null)throw new De.InvalidPromptError({prompt:s,message:"prompt and messages cannot be defined at the same time"});if(s.system!=null&&typeof s.system!="string"&&!P(s.system).every(b=>typeof b=="object"&&b!==null&&"role"in b&&b.role==="system"))throw new De.InvalidPromptError({prompt:s,message:"system must be a string, SystemModelMessage, or array of SystemModelMessage"});if(s.prompt!=null&&typeof s.prompt=="string")c=[{role:"user",content:s.prompt}];else if(s.prompt!=null&&Array.isArray(s.prompt))c=s.prompt;else if(s.messages!=null)c=s.messages;else throw new De.InvalidPromptError({prompt:s,message:"prompt or messages must be defined"});if(c.length===0)throw new De.InvalidPromptError({prompt:s,message:"messages must not be empty"});let v=await(0,q.safeValidateTypes)({value:c,schema:h.z.array(ko)});if(!v.success)throw new De.InvalidPromptError({prompt:s,message:"The messages do not match the ModelMessage[] schema.",cause:v.error});return{messages:c,system:s.system}}function Io(s){if(!Nr.isInstance(s))return s;let c="https://ai-sdk.dev/unauthenticated-ai-gateway";return(process==null?void 0:"production")==="production"?new De.AISDKError({name:"GatewayError",message:`Unauthenticated. Configure AI_GATEWAY_API_KEY or use a provider module. Learn more: ${c}`}):Object.assign(Error(`\x1B[1m\x1B[31mUnauthenticated request to AI Gateway.\x1B[0m

To authenticate, set the \x1B[33mAI_GATEWAY_API_KEY\x1B[0m environment variable with your API key.

Alternatively, you can use a provider module instead of the AI Gateway.

Learn more: \x1B[34m${c}\x1B[0m

`),{name:"GatewayAuthenticationError"})}function ra({operationId:s,telemetry:c}){return{"operation.name":`${s}${c?.functionId!=null?` ${c.functionId}`:""}`,"resource.name":c?.functionId,"ai.operationId":s,"ai.telemetry.functionId":c?.functionId}}function ao({model:s,settings:c,telemetry:v,headers:b}){var S;return{"ai.model.provider":s.provider,"ai.model.id":s.modelId,...Object.entries(c).reduce((z,[N,I])=>(z[`ai.settings.${N}`]=I,z),{}),...Object.entries((S=v?.metadata)!=null?S:{}).reduce((z,[N,I])=>(z[`ai.telemetry.metadata.${N}`]=I,z),{}),...Object.entries(b??{}).reduce((z,[N,I])=>(I!==void 0&&(z[`ai.request.headers.${N}`]=I),z),{})}}var Ws={startSpan:()=>jo,startActiveSpan:(s,c,v,b)=>typeof c=="function"?c(jo):typeof v=="function"?v(jo):typeof b=="function"?b(jo):void 0},jo={spanContext:()=>Ds,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},Ds={traceId:"",spanId:"",traceFlags:0};function Fo({isEnabled:s=!1,tracer:c}={}){return s?c||cn.trace.getTracer("ai"):Ws}async function ma({name:s,tracer:c,attributes:v,fn:b,endWhenDone:S=!0}){return c.startActiveSpan(s,{attributes:await v},async z=>{try{let N=await b(z);return S&&z.end(),N}catch(N){try{oo(z,N)}finally{z.end()}throw N}})}function oo(s,c){c instanceof Error?(s.recordException({name:c.name,message:c.message,stack:c.stack}),s.setStatus({code:zi.SpanStatusCode.ERROR,message:c.message})):s.setStatus({code:zi.SpanStatusCode.ERROR})}async function Jn({telemetry:s,attributes:c}){if(s?.isEnabled!==!0)return{};let v={};for(let[b,S]of Object.entries(c))if(S!=null){if(typeof S=="object"&&"input"in S&&typeof S.input=="function"){if(s?.recordInputs===!1)continue;let z=await S.input();z!=null&&(v[b]=z);continue}if(typeof S=="object"&&"output"in S&&typeof S.output=="function"){if(s?.recordOutputs===!1)continue;let z=await S.output();z!=null&&(v[b]=z);continue}v[b]=S}return v}function Wa(s){return JSON.stringify(s.map(c=>({...c,content:typeof c.content=="string"?c.content:c.content.map(v=>{var b;return v.type==="file"?{...v,data:v.data instanceof Uint8Array?typeof(b=v.data)=="string"?b:b instanceof ArrayBuffer?(0,q.convertUint8ArrayToBase64)(new Uint8Array(b)):(0,q.convertUint8ArrayToBase64)(b):v.data}:v})})))}function Sa(s){return{inputTokens:s.inputTokens.total,inputTokenDetails:{noCacheTokens:s.inputTokens.noCache,cacheReadTokens:s.inputTokens.cacheRead,cacheWriteTokens:s.inputTokens.cacheWrite},outputTokens:s.outputTokens.total,outputTokenDetails:{textTokens:s.outputTokens.text,reasoningTokens:s.outputTokens.reasoning},totalTokens:Ra(s.inputTokens.total,s.outputTokens.total),raw:s.raw,reasoningTokens:s.outputTokens.reasoning,cachedInputTokens:s.inputTokens.cacheRead}}function gs(){return{inputTokens:void 0,inputTokenDetails:{noCacheTokens:void 0,cacheReadTokens:void 0,cacheWriteTokens:void 0},outputTokens:void 0,outputTokenDetails:{textTokens:void 0,reasoningTokens:void 0},totalTokens:void 0,raw:void 0}}function Ao(s,c){var v,b,S,z,N,I,H,se,ee,D;return{inputTokens:Ra(s.inputTokens,c.inputTokens),inputTokenDetails:{noCacheTokens:Ra((v=s.inputTokenDetails)==null?void 0:v.noCacheTokens,(b=c.inputTokenDetails)==null?void 0:b.noCacheTokens),cacheReadTokens:Ra((S=s.inputTokenDetails)==null?void 0:S.cacheReadTokens,(z=c.inputTokenDetails)==null?void 0:z.cacheReadTokens),cacheWriteTokens:Ra((N=s.inputTokenDetails)==null?void 0:N.cacheWriteTokens,(I=c.inputTokenDetails)==null?void 0:I.cacheWriteTokens)},outputTokens:Ra(s.outputTokens,c.outputTokens),outputTokenDetails:{textTokens:Ra((H=s.outputTokenDetails)==null?void 0:H.textTokens,(se=c.outputTokenDetails)==null?void 0:se.textTokens),reasoningTokens:Ra((ee=s.outputTokenDetails)==null?void 0:ee.reasoningTokens,(D=c.outputTokenDetails)==null?void 0:D.reasoningTokens)},totalTokens:Ra(s.totalTokens,c.totalTokens),reasoningTokens:Ra(s.reasoningTokens,c.reasoningTokens),cachedInputTokens:Ra(s.cachedInputTokens,c.cachedInputTokens)}}function Ra(s,c){return s==null&&c==null?void 0:(s??0)+(c??0)}function Zo(s,c){if(s===void 0&&c===void 0)return;if(s===void 0)return c;if(c===void 0)return s;let v={...s};for(let b in c)if(Object.prototype.hasOwnProperty.call(c,b)){let S=c[b];if(S===void 0)continue;let z=b in s?s[b]:void 0,N=S!==null&&typeof S=="object"&&!Array.isArray(S)&&!(S instanceof Date)&&!(S instanceof RegExp),I=z!=null&&typeof z=="object"&&!Array.isArray(z)&&!(z instanceof Date)&&!(z instanceof RegExp);N&&I?v[b]=Zo(z,S):v[b]=S}return v}async function ys(s,{maxRetries:c,delayInMs:v,backoffFactor:b,abortSignal:S},z=[]){try{return await s()}catch(N){if((0,q.isAbortError)(N)||c===0)throw N;let I=(0,q.getErrorMessage)(N),H=[...z,N],se=H.length;if(se>c)throw new yi({message:`Failed after ${se} attempts. Last error: ${I}`,reason:"maxRetriesExceeded",errors:H});if(N instanceof Error&&De.APICallError.isInstance(N)&&N.isRetryable===!0&&se<=c)return await(0,q.delay)(function({error:ee,exponentialBackoffDelay:D}){let ue,_t=ee.responseHeaders;if(!_t)return D;let Oe=_t["retry-after-ms"];if(Oe){let Bt=parseFloat(Oe);Number.isNaN(Bt)||(ue=Bt)}let qe=_t["retry-after"];if(qe&&ue===void 0){let Bt=parseFloat(qe);ue=Number.isNaN(Bt)?Date.parse(qe)-Date.now():1e3*Bt}return ue!=null&&!Number.isNaN(ue)&&0<=ue&&(ue<6e4||ue<D)?ue:D}({error:N,exponentialBackoffDelay:v}),{abortSignal:S}),ys(s,{maxRetries:c,delayInMs:b*v,backoffFactor:b,abortSignal:S},H);throw se===1?N:new yi({message:`Failed after ${se} attempts with non-retryable error: '${I}'`,reason:"errorNotRetryable",errors:H})}}function Za({maxRetries:s,abortSignal:c}){if(s!=null){if(!Number.isInteger(s))throw new An({parameter:"maxRetries",value:s,message:"maxRetries must be an integer"});if(s<0)throw new An({parameter:"maxRetries",value:s,message:"maxRetries must be >= 0"})}let v=s??2;return{maxRetries:v,retry:(({maxRetries:b=2,initialDelayInMs:S=2e3,backoffFactor:z=2,abortSignal:N}={})=>async I=>ys(I,{maxRetries:b,delayInMs:S,backoffFactor:z,abortSignal:N}))({maxRetries:v,abortSignal:c})}}function Zs({messages:s}){let c=s.at(-1);if(c?.role!="tool")return{approvedToolApprovals:[],deniedToolApprovals:[]};let v={};for(let I of s)if(I.role==="assistant"&&typeof I.content!="string")for(let H of I.content)H.type==="tool-call"&&(v[H.toolCallId]=H);let b={};for(let I of s)if(I.role==="assistant"&&typeof I.content!="string")for(let H of I.content)H.type==="tool-approval-request"&&(b[H.approvalId]=H);let S={};for(let I of c.content)I.type==="tool-result"&&(S[I.toolCallId]=I);let z=[],N=[];for(let I of c.content.filter(H=>H.type==="tool-approval-response")){let H=b[I.approvalId];if(H==null)throw new _o({approvalId:I.approvalId});if(S[H.toolCallId]!=null)continue;let se=v[H.toolCallId];if(se==null)throw new xt({toolCallId:H.toolCallId,approvalId:H.approvalId});let ee={approvalRequest:H,approvalResponse:I,toolCall:se};I.approved?z.push(ee):N.push(ee)}return{approvedToolApprovals:z,deniedToolApprovals:N}}async function as({toolCall:s,tools:c,tracer:v,telemetry:b,messages:S,abortSignal:z,experimental_context:N,onPreliminaryToolResult:I}){let{toolName:H,toolCallId:se,input:ee}=s,D=c?.[H];if(D?.execute!=null)return ma({name:"ai.toolCall",attributes:Jn({telemetry:b,attributes:{...ra({operationId:"ai.toolCall",telemetry:b}),"ai.toolCall.name":H,"ai.toolCall.id":se,"ai.toolCall.args":{output:()=>JSON.stringify(ee)}}}),tracer:v,fn:async ue=>{let _t;try{for await(let Oe of(0,q.executeTool)({execute:D.execute.bind(D),input:ee,options:{toolCallId:se,messages:S,abortSignal:z,experimental_context:N}}))Oe.type==="preliminary"?I?.({...s,type:"tool-result",output:Oe.output,preliminary:!0}):_t=Oe.output}catch(Oe){return oo(ue,Oe),{type:"tool-error",toolCallId:se,toolName:H,input:ee,error:Oe,dynamic:D.type==="dynamic",...s.providerMetadata!=null?{providerMetadata:s.providerMetadata}:{}}}try{ue.setAttributes(await Jn({telemetry:b,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(_t)}}}))}catch{}return{type:"tool-result",toolCallId:se,toolName:H,input:ee,output:_t,dynamic:D.type==="dynamic",...s.providerMetadata!=null?{providerMetadata:s.providerMetadata}:{}}}})}function x(s){let c=s.filter(v=>v.type==="text");if(c.length!==0)return c.map(v=>v.text).join("")}var F=class{constructor({data:s,mediaType:c}){let v=s instanceof Uint8Array;this.base64Data=v?void 0:s,this.uint8ArrayData=v?s:void 0,this.mediaType=c}get base64(){return this.base64Data==null&&(this.base64Data=(0,q.convertUint8ArrayToBase64)(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=(0,q.convertBase64ToUint8Array)(this.base64Data)),this.uint8ArrayData}},re=class extends F{constructor(s){super(s),this.type="file"}};async function he({tool:s,toolCall:c,messages:v,experimental_context:b}){return s.needsApproval!=null&&(typeof s.needsApproval=="boolean"?s.needsApproval:await s.needsApproval(c.input,{toolCallId:c.toolCallId,messages:v,experimental_context:b}))}var Ie={},$e={array:()=>tt,choice:()=>He,json:()=>pt,object:()=>me,text:()=>Ze};for(var ae in $e)rn(Ie,ae,{get:$e[ae],enumerable:!0});async function fe(s){if(s===void 0)return{value:void 0,state:"undefined-input"};let c=await(0,q.safeParseJSON)({text:s});return c.success?{value:c.value,state:"successful-parse"}:(c=await(0,q.safeParseJSON)({text:function(v){let b=["ROOT"],S=-1,z=null;function N(ee,D,ue){switch(ee){case'"':S=D,b.pop(),b.push(ue),b.push("INSIDE_STRING");break;case"f":case"t":case"n":S=D,z=D,b.pop(),b.push(ue),b.push("INSIDE_LITERAL");break;case"-":b.pop(),b.push(ue),b.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":S=D,b.pop(),b.push(ue),b.push("INSIDE_NUMBER");break;case"{":S=D,b.pop(),b.push(ue),b.push("INSIDE_OBJECT_START");break;case"[":S=D,b.pop(),b.push(ue),b.push("INSIDE_ARRAY_START")}}function I(ee,D){switch(ee){case",":b.pop(),b.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":S=D,b.pop()}}function H(ee,D){switch(ee){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":S=D,b.pop()}}for(let ee=0;ee<v.length;ee++){let D=v[ee];switch(b[b.length-1]){case"ROOT":N(D,ee,"FINISH");break;case"INSIDE_OBJECT_START":switch(D){case'"':b.pop(),b.push("INSIDE_OBJECT_KEY");break;case"}":S=ee,b.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":D==='"'&&(b.pop(),b.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":D==='"'&&(b.pop(),b.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":D===":"&&(b.pop(),b.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":N(D,ee,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":I(D,ee);break;case"INSIDE_STRING":switch(D){case'"':b.pop(),S=ee;break;case"\\":b.push("INSIDE_STRING_ESCAPE");break;default:S=ee}break;case"INSIDE_ARRAY_START":D==="]"?(S=ee,b.pop()):(S=ee,N(D,ee,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(D){case",":b.pop(),b.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":S=ee,b.pop();break;default:S=ee}break;case"INSIDE_ARRAY_AFTER_COMMA":N(D,ee,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":b.pop(),S=ee;break;case"INSIDE_NUMBER":switch(D){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":S=ee;break;case"e":case"E":case"-":case".":break;case",":b.pop(),b[b.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&H(D,ee),b[b.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&I(D,ee);break;case"}":b.pop(),b[b.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&I(D,ee);break;case"]":b.pop(),b[b.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&H(D,ee);break;default:b.pop()}break;case"INSIDE_LITERAL":{let ue=v.substring(z,ee+1);"false".startsWith(ue)||"true".startsWith(ue)||"null".startsWith(ue)?S=ee:(b.pop(),b[b.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?I(D,ee):b[b.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&H(D,ee))}}}let se=v.slice(0,S+1);for(let ee=b.length-1;ee>=0;ee--)switch(b[ee]){case"INSIDE_STRING":se+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":se+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":se+="]";break;case"INSIDE_LITERAL":{let D=v.substring(z,v.length);"true".startsWith(D)?se+="true".slice(D.length):"false".startsWith(D)?se+="false".slice(D.length):"null".startsWith(D)&&(se+="null".slice(D.length))}}return se}(s)})).success?{value:c.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}var Ze=()=>({responseFormat:Promise.resolve({type:"text"}),parseCompleteOutput:async({text:s})=>s,parsePartialOutput:async({text:s})=>({partial:s})}),me=({schema:s,name:c,description:v})=>{let b=(0,q.asSchema)(s);return{responseFormat:(0,q.resolve)(b.jsonSchema).then(S=>({type:"json",schema:S,...c!=null&&{name:c},...v!=null&&{description:v}})),async parseCompleteOutput({text:S},z){let N=await(0,q.safeParseJSON)({text:S});if(!N.success)throw new Jr({message:"No object generated: could not parse the response.",cause:N.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});let I=await(0,q.safeValidateTypes)({value:N.value,schema:b});if(!I.success)throw new Jr({message:"No object generated: response did not match schema.",cause:I.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});return I.value},async parsePartialOutput({text:S}){let z=await fe(S);switch(z.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:z.value}}}}},tt=({element:s,name:c,description:v})=>{let b=(0,q.asSchema)(s);return{responseFormat:(0,q.resolve)(b.jsonSchema).then(S=>{let{$schema:z,...N}=S;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:N}},required:["elements"],additionalProperties:!1},...c!=null&&{name:c},...v!=null&&{description:v}}}),async parseCompleteOutput({text:S},z){let N=await(0,q.safeParseJSON)({text:S});if(!N.success)throw new Jr({message:"No object generated: could not parse the response.",cause:N.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});let I=N.value;if(I==null||typeof I!="object"||!("elements"in I)||!Array.isArray(I.elements))throw new Jr({message:"No object generated: response did not match schema.",cause:new De.TypeValidationError({value:I,cause:"response must be an object with an elements array"}),text:S,response:z.response,usage:z.usage,finishReason:z.finishReason});for(let H of I.elements){let se=await(0,q.safeValidateTypes)({value:H,schema:b});if(!se.success)throw new Jr({message:"No object generated: response did not match schema.",cause:se.error,text:S,response:z.response,usage:z.usage,finishReason:z.finishReason})}return I.elements},async parsePartialOutput({text:S}){let z=await fe(S);switch(z.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let N=z.value;if(N==null||typeof N!="object"||!("elements"in N)||!Array.isArray(N.elements))return;let I=z.state==="repaired-parse"&&N.elements.length>0?N.elements.slice(0,-1):N.elements,H=[];for(let se of I){let ee=await(0,q.safeValidateTypes)({value:se,schema:b});ee.success&&H.push(ee.value)}return{partial:H}}}}}},He=({options:s,name:c,description:v})=>({responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:s}},required:["result"],additionalProperties:!1},...c!=null&&{name:c},...v!=null&&{description:v}}),async parseCompleteOutput({text:b},S){let z=await(0,q.safeParseJSON)({text:b});if(!z.success)throw new Jr({message:"No object generated: could not parse the response.",cause:z.error,text:b,response:S.response,usage:S.usage,finishReason:S.finishReason});let N=z.value;if(N==null||typeof N!="object"||!("result"in N)||typeof N.result!="string"||!s.includes(N.result))throw new Jr({message:"No object generated: response did not match schema.",cause:new De.TypeValidationError({value:N,cause:"response must be an object that contains a choice value."}),text:b,response:S.response,usage:S.usage,finishReason:S.finishReason});return N.result},async parsePartialOutput({text:b}){let S=await fe(b);switch(S.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let z=S.value;if(z==null||typeof z!="object"||!("result"in z)||typeof z.result!="string")return;let N=s.filter(I=>I.startsWith(z.result));return S.state==="successful-parse"?N.includes(z.result)?{partial:z.result}:void 0:N.length===1?{partial:N[0]}:void 0}}}}),pt=({name:s,description:c}={})=>({responseFormat:Promise.resolve({type:"json",...s!=null&&{name:s},...c!=null&&{description:c}}),async parseCompleteOutput({text:v},b){let S=await(0,q.safeParseJSON)({text:v});if(!S.success)throw new Jr({message:"No object generated: could not parse the response.",cause:S.error,text:v,response:b.response,usage:b.usage,finishReason:b.finishReason});return S.value},async parsePartialOutput({text:v}){let b=await fe(v);switch(b.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return b.value===void 0?void 0:{partial:b.value}}}});async function Je({toolCall:s,tools:c,repairToolCall:v,system:b,messages:S}){var z;try{if(c==null){if(s.providerExecuted&&s.dynamic)return await jt(s);throw new Un({toolName:s.toolName})}try{return await wt({toolCall:s,tools:c})}catch(N){if(v==null||!(Un.isInstance(N)||Ya.isInstance(N)))throw N;let I=null;try{I=await v({toolCall:s,tools:c,inputSchema:async({toolName:H})=>{let{inputSchema:se}=c[H];return await(0,q.asSchema)(se).jsonSchema},system:b,messages:S,error:N})}catch(H){throw new ea({cause:H,originalError:N})}if(I==null)throw N;return await wt({toolCall:I,tools:c})}}catch(N){let I=await(0,q.safeParseJSON)({text:s.input}),H=I.success?I.value:s.input;return{type:"tool-call",toolCallId:s.toolCallId,toolName:s.toolName,input:H,dynamic:!0,invalid:!0,error:N,title:(z=c?.[s.toolName])==null?void 0:z.title,providerExecuted:s.providerExecuted,providerMetadata:s.providerMetadata}}}async function jt(s){let c=s.input.trim()===""?{success:!0,value:{}}:await(0,q.safeParseJSON)({text:s.input});if(c.success===!1)throw new Ya({toolName:s.toolName,toolInput:s.input,cause:c.error});return{type:"tool-call",toolCallId:s.toolCallId,toolName:s.toolName,input:c.value,providerExecuted:!0,dynamic:!0,providerMetadata:s.providerMetadata}}async function wt({toolCall:s,tools:c}){let v=s.toolName,b=c[v];if(b==null){if(s.providerExecuted&&s.dynamic)return await jt(s);throw new Un({toolName:s.toolName,availableTools:Object.keys(c)})}let S=(0,q.asSchema)(b.inputSchema),z=s.input.trim()===""?await(0,q.safeValidateTypes)({value:{},schema:S}):await(0,q.safeParseJSON)({text:s.input,schema:S});if(z.success===!1)throw new Ya({toolName:v,toolInput:s.input,cause:z.error});return b.type==="dynamic"?{type:"tool-call",toolCallId:s.toolCallId,toolName:s.toolName,input:z.value,providerExecuted:s.providerExecuted,providerMetadata:s.providerMetadata,dynamic:!0,title:b.title}:{type:"tool-call",toolCallId:s.toolCallId,toolName:v,input:z.value,providerExecuted:s.providerExecuted,providerMetadata:s.providerMetadata,title:b.title}}var Qe=class{constructor({content:s,finishReason:c,rawFinishReason:v,usage:b,warnings:S,request:z,response:N,providerMetadata:I}){this.content=s,this.finishReason=c,this.rawFinishReason=v,this.usage=b,this.warnings=S,this.request=z,this.response=N,this.providerMetadata=I}get text(){return this.content.filter(s=>s.type==="text").map(s=>s.text).join("")}get reasoning(){return this.content.filter(s=>s.type==="reasoning")}get reasoningText(){return this.reasoning.length===0?void 0:this.reasoning.map(s=>s.text).join("")}get files(){return this.content.filter(s=>s.type==="file").map(s=>s.file)}get sources(){return this.content.filter(s=>s.type==="source")}get toolCalls(){return this.content.filter(s=>s.type==="tool-call")}get staticToolCalls(){return this.toolCalls.filter(s=>s.dynamic!==!0)}get dynamicToolCalls(){return this.toolCalls.filter(s=>s.dynamic===!0)}get toolResults(){return this.content.filter(s=>s.type==="tool-result")}get staticToolResults(){return this.toolResults.filter(s=>s.dynamic!==!0)}get dynamicToolResults(){return this.toolResults.filter(s=>s.dynamic===!0)}};function It(s){return({steps:c})=>c.length===s}function nt(s){return({steps:c})=>{var v,b,S;return(S=(b=(v=c[c.length-1])==null?void 0:v.toolCalls)==null?void 0:b.some(z=>z.toolName===s))!=null&&S}}async function qt({stopConditions:s,steps:c}){return(await Promise.all(s.map(v=>v({steps:c})))).some(v=>v)}async function cr({content:s,tools:c}){let v=[],b=[];for(let z of s)if(z.type!=="source"&&(z.type!=="tool-result"&&z.type!=="tool-error"||z.providerExecuted)&&(z.type!=="text"||z.text.length!==0))switch(z.type){case"text":b.push({type:"text",text:z.text,providerOptions:z.providerMetadata});break;case"reasoning":b.push({type:"reasoning",text:z.text,providerOptions:z.providerMetadata});break;case"file":b.push({type:"file",data:z.file.base64,mediaType:z.file.mediaType,providerOptions:z.providerMetadata});break;case"tool-call":b.push({type:"tool-call",toolCallId:z.toolCallId,toolName:z.toolName,input:z.input,providerExecuted:z.providerExecuted,providerOptions:z.providerMetadata});break;case"tool-result":{let N=await gt({toolCallId:z.toolCallId,input:z.input,tool:c?.[z.toolName],output:z.output,errorMode:"none"});b.push({type:"tool-result",toolCallId:z.toolCallId,toolName:z.toolName,output:N,providerOptions:z.providerMetadata});break}case"tool-error":{let N=await gt({toolCallId:z.toolCallId,input:z.input,tool:c?.[z.toolName],output:z.error,errorMode:"json"});b.push({type:"tool-result",toolCallId:z.toolCallId,toolName:z.toolName,output:N,providerOptions:z.providerMetadata});break}case"tool-approval-request":b.push({type:"tool-approval-request",approvalId:z.approvalId,toolCallId:z.toolCall.toolCallId})}b.length>0&&v.push({role:"assistant",content:b});let S=[];for(let z of s){if(z.type!=="tool-result"&&z.type!=="tool-error"||z.providerExecuted)continue;let N=await gt({toolCallId:z.toolCallId,input:z.input,tool:c?.[z.toolName],output:z.type==="tool-result"?z.output:z.error,errorMode:z.type==="tool-error"?"text":"none"});S.push({type:"tool-result",toolCallId:z.toolCallId,toolName:z.toolName,output:N,...z.providerMetadata!=null?{providerOptions:z.providerMetadata}:{}})}return S.length>0&&v.push({role:"tool",content:S}),v}var ke=(0,q.createIdGenerator)({prefix:"aitxt",size:24});async function de({model:s,tools:c,toolChoice:v,system:b,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:H,stopWhen:se=It(1),experimental_output:ee,output:D=ee,experimental_telemetry:ue,providerOptions:_t,experimental_activeTools:Oe,activeTools:qe=Oe,experimental_prepareStep:Bt,prepareStep:yr=Bt,experimental_repairToolCall:Gr,experimental_download:Me,experimental_context:Dr,_internal:{generateId:dn=ke,currentDate:Fn=()=>new Date}={},onStepFinish:hi,onFinish:ii,...bi}){let _n=wa(s),wn=P(se),{maxRetries:fa,retry:ai}=Za({maxRetries:N,abortSignal:I}),Pi=bt(bi),sa=(0,q.withUserAgentSuffix)(H??{},`ai/${ta}`),Ba=ao({model:_n,telemetry:ue,headers:sa,settings:{...Pi,maxRetries:fa}}),Va=await _a({system:b,prompt:S,messages:z}),ka=Fo(ue);try{return await ma({name:"ai.generateText",attributes:Jn({telemetry:ue,attributes:{...ra({operationId:"ai.generateText",telemetry:ue}),...Ba,"ai.model.provider":_n.provider,"ai.model.id":_n.modelId,"ai.prompt":{input:()=>JSON.stringify({system:b,prompt:S,messages:z})}}}),tracer:ka,fn:async Go=>{var ss,xs,ja,ls,To,no,ws,us;let Ji,Qo,Do=Va.messages,ji=[],{approvedToolApprovals:Xo,deniedToolApprovals:lo}=Zs({messages:Do}),Ss=Xo.filter(Ar=>!Ar.toolCall.providerExecuted);if(lo.length>0||Ss.length>0){let Ar=await Se({toolCalls:Ss.map(Si=>Si.toolCall),tools:c,tracer:ka,telemetry:ue,messages:Do,abortSignal:I,experimental_context:Dr}),Qn=[];for(let Si of Ar){let Co=await gt({toolCallId:Si.toolCallId,input:Si.input,tool:c?.[Si.toolName],output:Si.type==="tool-result"?Si.output:Si.error,errorMode:Si.type==="tool-error"?"json":"none"});Qn.push({type:"tool-result",toolCallId:Si.toolCallId,toolName:Si.toolName,output:Co})}for(let Si of lo)Qn.push({type:"tool-result",toolCallId:Si.toolCall.toolCallId,toolName:Si.toolCall.toolName,output:{type:"execution-denied",reason:Si.approvalResponse.reason,...Si.toolCall.providerExecuted&&{providerOptions:{openai:{approvalId:Si.approvalResponse.approvalId}}}}});ji.push({role:"tool",content:Qn})}let On=[...Xo,...lo].filter(Ar=>Ar.toolCall.providerExecuted);On.length>0&&ji.push({role:"tool",content:On.map(Ar=>({type:"tool-approval-response",approvalId:Ar.approvalResponse.approvalId,approved:Ar.approvalResponse.approved,reason:Ar.approvalResponse.reason,providerExecuted:!0}))});let vn=bt(bi),zn=[],Gn=[],bn=[],oi=new Map;do{let Ar=[...Do,...ji],Qn=await yr?.({model:_n,steps:bn,stepNumber:bn.length,messages:Ar,experimental_context:Dr}),Si=wa((ss=Qn?.model)!=null?ss:_n),Co=await A({prompt:{system:(xs=Qn?.system)!=null?xs:Va.system,messages:(ja=Qn?.messages)!=null?ja:Ar},supportedUrls:await Si.supportedUrls,download:Me});Dr=(ls=Qn?.experimental_context)!=null?ls:Dr;let{toolChoice:cs,tools:Us}=await fr({tools:c,toolChoice:(To=Qn?.toolChoice)!=null?To:v,activeTools:(no=Qn?.activeTools)!=null?no:qe});Ji=await ai(()=>{var ui;return ma({name:"ai.generateText.doGenerate",attributes:Jn({telemetry:ue,attributes:{...ra({operationId:"ai.generateText.doGenerate",telemetry:ue}),...Ba,"ai.model.provider":Si.provider,"ai.model.id":Si.modelId,"ai.prompt.messages":{input:()=>Wa(Co)},"ai.prompt.tools":{input:()=>Us?.map(ga=>JSON.stringify(ga))},"ai.prompt.toolChoice":{input:()=>cs!=null?JSON.stringify(cs):void 0},"gen_ai.system":Si.provider,"gen_ai.request.model":Si.modelId,"gen_ai.request.frequency_penalty":bi.frequencyPenalty,"gen_ai.request.max_tokens":bi.maxOutputTokens,"gen_ai.request.presence_penalty":bi.presencePenalty,"gen_ai.request.stop_sequences":bi.stopSequences,"gen_ai.request.temperature":(ui=bi.temperature)!=null?ui:void 0,"gen_ai.request.top_k":bi.topK,"gen_ai.request.top_p":bi.topP}}),tracer:ka,fn:async ga=>{var Vo,co,ds,Uo,_i,So,ps,El;let Tl=Zo(_t,Qn?.providerOptions),bo=await Si.doGenerate({...vn,tools:Us,toolChoice:cs,responseFormat:await D?.responseFormat,prompt:Co,providerOptions:Tl,abortSignal:I,headers:sa}),Yo={id:(co=(Vo=bo.response)==null?void 0:Vo.id)!=null?co:dn(),timestamp:(Uo=(ds=bo.response)==null?void 0:ds.timestamp)!=null?Uo:Fn(),modelId:(So=(_i=bo.response)==null?void 0:_i.modelId)!=null?So:Si.modelId,headers:(ps=bo.response)==null?void 0:ps.headers,body:(El=bo.response)==null?void 0:El.body};return ga.setAttributes(await Jn({telemetry:ue,attributes:{"ai.response.finishReason":bo.finishReason.unified,"ai.response.text":{output:()=>x(bo.content)},"ai.response.toolCalls":{output:()=>{let fl=At(bo.content);return fl==null?void 0:JSON.stringify(fl)}},"ai.response.id":Yo.id,"ai.response.model":Yo.modelId,"ai.response.timestamp":Yo.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(bo.providerMetadata),"ai.usage.promptTokens":bo.usage.inputTokens.total,"ai.usage.completionTokens":bo.usage.outputTokens.total,"gen_ai.response.finish_reasons":[bo.finishReason.unified],"gen_ai.response.id":Yo.id,"gen_ai.response.model":Yo.modelId,"gen_ai.usage.input_tokens":bo.usage.inputTokens.total,"gen_ai.usage.output_tokens":bo.usage.outputTokens.total}})),{...bo,response:Yo}}})});let Aa=await Promise.all(Ji.content.filter(ui=>ui.type==="tool-call").map(ui=>Je({toolCall:ui,tools:c,repairToolCall:Gr,system:b,messages:Ar}))),uo={};for(let ui of Aa){if(ui.invalid)continue;let ga=c?.[ui.toolName];ga!=null&&(ga?.onInputAvailable!=null&&await ga.onInputAvailable({input:ui.input,toolCallId:ui.toolCallId,messages:Ar,abortSignal:I,experimental_context:Dr}),await he({tool:ga,toolCall:ui,messages:Ar,experimental_context:Dr})&&(uo[ui.toolCallId]={type:"tool-approval-request",approvalId:dn(),toolCall:ui}))}let Ma=Aa.filter(ui=>ui.invalid&&ui.dynamic);for(let ui of(Gn=[],Ma))Gn.push({type:"tool-error",toolCallId:ui.toolCallId,toolName:ui.toolName,input:ui.input,error:(0,q.getErrorMessage)(ui.error),dynamic:!0});for(let ui of(zn=Aa.filter(ga=>!ga.providerExecuted),c!=null&&Gn.push(...await Se({toolCalls:zn.filter(ga=>!ga.invalid&&uo[ga.toolCallId]==null),tools:c,tracer:ka,telemetry:ue,messages:Ar,abortSignal:I,experimental_context:Dr})),Aa)){if(!ui.providerExecuted)continue;let ga=c?.[ui.toolName];ga?.type==="provider"&&ga.supportsDeferredResults&&(Ji.content.some(Vo=>Vo.type==="tool-result"&&Vo.toolCallId===ui.toolCallId)||oi.set(ui.toolCallId,{toolName:ui.toolName}))}for(let ui of Ji.content)ui.type==="tool-result"&&oi.delete(ui.toolCallId);let qs=function({content:ui,toolCalls:ga,toolOutputs:Vo,toolApprovalRequests:co,tools:ds}){let Uo=[];for(let _i of ui)switch(_i.type){case"text":case"reasoning":case"source":Uo.push(_i);break;case"file":Uo.push({type:"file",file:new F(_i),..._i.providerMetadata!=null?{providerMetadata:_i.providerMetadata}:{}});break;case"tool-call":Uo.push(ga.find(So=>So.toolCallId===_i.toolCallId));break;case"tool-result":{let So=ga.find(ps=>ps.toolCallId===_i.toolCallId);if(So==null){let ps=ds?.[_i.toolName];if(!(ps?.type==="provider"&&ps.supportsDeferredResults))throw Error(`Tool call ${_i.toolCallId} not found.`);_i.isError?Uo.push({type:"tool-error",toolCallId:_i.toolCallId,toolName:_i.toolName,input:void 0,error:_i.result,providerExecuted:!0,dynamic:_i.dynamic}):Uo.push({type:"tool-result",toolCallId:_i.toolCallId,toolName:_i.toolName,input:void 0,output:_i.result,providerExecuted:!0,dynamic:_i.dynamic});break}_i.isError?Uo.push({type:"tool-error",toolCallId:_i.toolCallId,toolName:_i.toolName,input:So.input,error:_i.result,providerExecuted:!0,dynamic:So.dynamic}):Uo.push({type:"tool-result",toolCallId:_i.toolCallId,toolName:_i.toolName,input:So.input,output:_i.result,providerExecuted:!0,dynamic:So.dynamic});break}case"tool-approval-request":{let So=ga.find(ps=>ps.toolCallId===_i.toolCallId);if(So==null)throw new xt({toolCallId:_i.toolCallId,approvalId:_i.approvalId});Uo.push({type:"tool-approval-request",approvalId:_i.approvalId,toolCall:So})}}return[...Uo,...Vo,...co]}({content:Ji.content,toolCalls:Aa,toolOutputs:Gn,toolApprovalRequests:Object.values(uo),tools:c});ji.push(...await cr({content:qs,tools:c}));let Xs=new Qe({content:qs,finishReason:Ji.finishReason.unified,rawFinishReason:Ji.finishReason.raw,usage:Sa(Ji.usage),warnings:Ji.warnings,providerMetadata:Ji.providerMetadata,request:(ws=Ji.request)!=null?ws:{},response:{...Ji.response,messages:structuredClone(ji)}});Bi({warnings:(us=Ji.warnings)!=null?us:[],provider:Si.provider,model:Si.modelId}),bn.push(Xs),await hi?.(Xs)}while((zn.length>0&&Gn.length===zn.length||oi.size>0)&&!await qt({stopConditions:wn,steps:bn}));Go.setAttributes(await Jn({telemetry:ue,attributes:{"ai.response.finishReason":Ji.finishReason.unified,"ai.response.text":{output:()=>x(Ji.content)},"ai.response.toolCalls":{output:()=>{let Ar=At(Ji.content);return Ar==null?void 0:JSON.stringify(Ar)}},"ai.response.providerMetadata":JSON.stringify(Ji.providerMetadata),"ai.usage.promptTokens":Ji.usage.inputTokens.total,"ai.usage.completionTokens":Ji.usage.outputTokens.total}}));let Kn=bn[bn.length-1],kr=bn.reduce((Ar,Qn)=>Ao(Ar,Qn.usage),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0});return await ii?.({finishReason:Kn.finishReason,rawFinishReason:Kn.rawFinishReason,usage:Kn.usage,content:Kn.content,text:Kn.text,reasoningText:Kn.reasoningText,reasoning:Kn.reasoning,files:Kn.files,sources:Kn.sources,toolCalls:Kn.toolCalls,staticToolCalls:Kn.staticToolCalls,dynamicToolCalls:Kn.dynamicToolCalls,toolResults:Kn.toolResults,staticToolResults:Kn.staticToolResults,dynamicToolResults:Kn.dynamicToolResults,request:Kn.request,response:Kn.response,warnings:Kn.warnings,providerMetadata:Kn.providerMetadata,steps:bn,totalUsage:kr,experimental_context:Dr}),Kn.finishReason==="stop"&&(Qo=await(D??Ze()).parseCompleteOutput({text:Kn.text},{response:Kn.response,usage:Kn.usage,finishReason:Kn.finishReason})),new Sr({steps:bn,totalUsage:kr,output:Qo})}})}catch(Go){throw Io(Go)}}async function Se({toolCalls:s,tools:c,tracer:v,telemetry:b,messages:S,abortSignal:z,experimental_context:N}){return(await Promise.all(s.map(async I=>as({toolCall:I,tools:c,tracer:v,telemetry:b,messages:S,abortSignal:z,experimental_context:N})))).filter(I=>I!=null)}var Sr=class{constructor(s){this.steps=s.steps,this._output=s.output,this.totalUsage=s.totalUsage}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get rawFinishReason(){return this.finalStep.rawFinishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get experimental_output(){return this.output}get output(){if(this._output==null)throw new ki;return this._output}};function At(s){let c=s.filter(v=>v.type==="tool-call");if(c.length!==0)return c.map(v=>({toolCallId:v.toolCallId,toolName:v.toolName,input:v.input}))}function St(s,c){let v=new Headers(s??{});for(let[b,S]of Object.entries(c))v.has(b)||v.set(b,S);return v}function dt({status:s,statusText:c,headers:v,textStream:b}){return new Response(b.pipeThrough(new TextEncoderStream),{status:s??200,statusText:c,headers:St(v,{"content-type":"text/plain; charset=utf-8"})})}function Ae({response:s,status:c,statusText:v,headers:b,stream:S}){let z=c??200;v!==void 0?s.writeHead(z,v,b):s.writeHead(z,b);let N=S.getReader();(async()=>{try{for(;;){let{done:I,value:H}=await N.read();if(I)break;s.write(H)||await new Promise(se=>{s.once("drain",se)})}}catch(I){throw I}finally{s.end()}})()}function Zt({response:s,status:c,statusText:v,headers:b,textStream:S}){Ae({response:s,status:c,statusText:v,headers:Object.fromEntries(St(b,{"content-type":"text/plain; charset=utf-8"}).entries()),stream:S.pipeThrough(new TextEncoderStream)})}var Jt=class extends TransformStream{constructor(){super({transform(s,c){c.enqueue(`data: ${JSON.stringify(s)}

`)},flush(s){s.enqueue(`data: [DONE]

`)}})}},Et={"content-type":"text/event-stream","cache-control":"no-cache",connection:"keep-alive","x-vercel-ai-ui-message-stream":"v1","x-accel-buffering":"no"};function Dt({status:s,statusText:c,headers:v,stream:b,consumeSseStream:S}){let z=b.pipeThrough(new Jt);if(S){let[N,I]=z.tee();z=N,S({stream:I})}return new Response(z.pipeThrough(new TextEncoderStream),{status:s,statusText:c,headers:St(v,Et)})}var Ur=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.union([h.z.strictObject({type:h.z.literal("text-start"),id:h.z.string(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("text-delta"),id:h.z.string(),delta:h.z.string(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("text-end"),id:h.z.string(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("error"),errorText:h.z.string()}),h.z.strictObject({type:h.z.literal("tool-input-start"),toolCallId:h.z.string(),toolName:h.z.string(),providerExecuted:h.z.boolean().optional(),dynamic:h.z.boolean().optional(),title:h.z.string().optional()}),h.z.strictObject({type:h.z.literal("tool-input-delta"),toolCallId:h.z.string(),inputTextDelta:h.z.string()}),h.z.strictObject({type:h.z.literal("tool-input-available"),toolCallId:h.z.string(),toolName:h.z.string(),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),providerMetadata:Qt.optional(),dynamic:h.z.boolean().optional(),title:h.z.string().optional()}),h.z.strictObject({type:h.z.literal("tool-input-error"),toolCallId:h.z.string(),toolName:h.z.string(),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),providerMetadata:Qt.optional(),dynamic:h.z.boolean().optional(),errorText:h.z.string(),title:h.z.string().optional()}),h.z.strictObject({type:h.z.literal("tool-approval-request"),approvalId:h.z.string(),toolCallId:h.z.string()}),h.z.strictObject({type:h.z.literal("tool-output-available"),toolCallId:h.z.string(),output:h.z.unknown(),providerExecuted:h.z.boolean().optional(),dynamic:h.z.boolean().optional(),preliminary:h.z.boolean().optional()}),h.z.strictObject({type:h.z.literal("tool-output-error"),toolCallId:h.z.string(),errorText:h.z.string(),providerExecuted:h.z.boolean().optional(),dynamic:h.z.boolean().optional()}),h.z.strictObject({type:h.z.literal("tool-output-denied"),toolCallId:h.z.string()}),h.z.strictObject({type:h.z.literal("reasoning-start"),id:h.z.string(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("reasoning-delta"),id:h.z.string(),delta:h.z.string(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("reasoning-end"),id:h.z.string(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("source-url"),sourceId:h.z.string(),url:h.z.string(),title:h.z.string().optional(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("source-document"),sourceId:h.z.string(),mediaType:h.z.string(),title:h.z.string(),filename:h.z.string().optional(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.literal("file"),url:h.z.string(),mediaType:h.z.string(),providerMetadata:Qt.optional()}),h.z.strictObject({type:h.z.custom(s=>typeof s=="string"&&s.startsWith("data-"),{message:'Type must start with "data-"'}),id:h.z.string().optional(),data:h.z.unknown(),transient:h.z.boolean().optional()}),h.z.strictObject({type:h.z.literal("start-step")}),h.z.strictObject({type:h.z.literal("finish-step")}),h.z.strictObject({type:h.z.literal("start"),messageId:h.z.string().optional(),messageMetadata:h.z.unknown().optional()}),h.z.strictObject({type:h.z.literal("finish"),finishReason:h.z.enum(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:h.z.unknown().optional()}),h.z.strictObject({type:h.z.literal("abort")}),h.z.strictObject({type:h.z.literal("message-metadata"),messageMetadata:h.z.unknown()})])));function hr(s){return s.type.startsWith("data-")}function ir(s){return s.type==="text"}function Xe(s){return s.type==="file"}function Lt(s){return s.type==="reasoning"}function yt(s){return s.type.startsWith("tool-")}function oa(s){return s.type==="dynamic-tool"}function qr(s){return yt(s)||oa(s)}function zt(s){return s.type.split("-").slice(1).join("-")}function Ne(s){return oa(s)?s.toolName:zt(s)}function rr({lastMessage:s,messageId:c}){return{message:s?.role==="assistant"?s:{id:c,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function Kt({stream:s,messageMetadataSchema:c,dataPartSchemas:v,runUpdateMessageJob:b,onError:S,onToolCall:z,onData:N}){return s.pipeThrough(new TransformStream({async transform(I,H){await b(async({state:se,write:ee})=>{var D,ue,_t,Oe;function qe(Me){let Dr=se.message.parts.filter(qr).find(dn=>dn.toolCallId===Me);if(Dr==null)throw Error(`no tool invocation found for tool call ${Me}`);return Dr}function Bt(Me){var Dr;let dn=se.message.parts.find(Fn=>yt(Fn)&&Fn.toolCallId===Me.toolCallId);dn!=null?(dn.state=Me.state,dn.input=Me.input,dn.output=Me.output,dn.errorText=Me.errorText,dn.rawInput=Me.rawInput,dn.preliminary=Me.preliminary,Me.title!==void 0&&(dn.title=Me.title),dn.providerExecuted=(Dr=Me.providerExecuted)!=null?Dr:dn.providerExecuted,Me.providerMetadata!=null&&dn.state==="input-available"&&(dn.callProviderMetadata=Me.providerMetadata)):se.message.parts.push({type:`tool-${Me.toolName}`,toolCallId:Me.toolCallId,state:Me.state,title:Me.title,input:Me.input,output:Me.output,rawInput:Me.rawInput,errorText:Me.errorText,providerExecuted:Me.providerExecuted,preliminary:Me.preliminary,...Me.providerMetadata!=null?{callProviderMetadata:Me.providerMetadata}:{}})}function yr(Me){var Dr,dn;let Fn=se.message.parts.find(hi=>hi.type==="dynamic-tool"&&hi.toolCallId===Me.toolCallId);Fn!=null?(Fn.state=Me.state,Fn.toolName=Me.toolName,Fn.input=Me.input,Fn.output=Me.output,Fn.errorText=Me.errorText,Fn.rawInput=(Dr=Me.rawInput)!=null?Dr:Fn.rawInput,Fn.preliminary=Me.preliminary,Me.title!==void 0&&(Fn.title=Me.title),Fn.providerExecuted=(dn=Me.providerExecuted)!=null?dn:Fn.providerExecuted,Me.providerMetadata!=null&&Fn.state==="input-available"&&(Fn.callProviderMetadata=Me.providerMetadata)):se.message.parts.push({type:"dynamic-tool",toolName:Me.toolName,toolCallId:Me.toolCallId,state:Me.state,input:Me.input,output:Me.output,errorText:Me.errorText,preliminary:Me.preliminary,providerExecuted:Me.providerExecuted,title:Me.title,...Me.providerMetadata!=null?{callProviderMetadata:Me.providerMetadata}:{}})}async function Gr(Me){if(Me!=null){let Dr=se.message.metadata!=null?Zo(se.message.metadata,Me):Me;c!=null&&await(0,q.validateTypes)({value:Dr,schema:c}),se.message.metadata=Dr}}switch(I.type){case"text-start":{let Me={type:"text",text:"",providerMetadata:I.providerMetadata,state:"streaming"};se.activeTextParts[I.id]=Me,se.message.parts.push(Me),ee();break}case"text-delta":{let Me=se.activeTextParts[I.id];Me.text+=I.delta,Me.providerMetadata=(D=I.providerMetadata)!=null?D:Me.providerMetadata,ee();break}case"text-end":{let Me=se.activeTextParts[I.id];Me.state="done",Me.providerMetadata=(ue=I.providerMetadata)!=null?ue:Me.providerMetadata,delete se.activeTextParts[I.id],ee();break}case"reasoning-start":{let Me={type:"reasoning",text:"",providerMetadata:I.providerMetadata,state:"streaming"};se.activeReasoningParts[I.id]=Me,se.message.parts.push(Me),ee();break}case"reasoning-delta":{let Me=se.activeReasoningParts[I.id];Me.text+=I.delta,Me.providerMetadata=(_t=I.providerMetadata)!=null?_t:Me.providerMetadata,ee();break}case"reasoning-end":{let Me=se.activeReasoningParts[I.id];Me.providerMetadata=(Oe=I.providerMetadata)!=null?Oe:Me.providerMetadata,Me.state="done",delete se.activeReasoningParts[I.id],ee();break}case"file":se.message.parts.push({type:"file",mediaType:I.mediaType,url:I.url}),ee();break;case"source-url":se.message.parts.push({type:"source-url",sourceId:I.sourceId,url:I.url,title:I.title,providerMetadata:I.providerMetadata}),ee();break;case"source-document":se.message.parts.push({type:"source-document",sourceId:I.sourceId,mediaType:I.mediaType,title:I.title,filename:I.filename,providerMetadata:I.providerMetadata}),ee();break;case"tool-input-start":{let Me=se.message.parts.filter(yt);se.partialToolCalls[I.toolCallId]={text:"",toolName:I.toolName,index:Me.length,dynamic:I.dynamic,title:I.title},I.dynamic?yr({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-streaming",input:void 0,providerExecuted:I.providerExecuted,title:I.title}):Bt({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-streaming",input:void 0,providerExecuted:I.providerExecuted,title:I.title}),ee();break}case"tool-input-delta":{let Me=se.partialToolCalls[I.toolCallId];Me.text+=I.inputTextDelta;let{value:Dr}=await fe(Me.text);Me.dynamic?yr({toolCallId:I.toolCallId,toolName:Me.toolName,state:"input-streaming",input:Dr,title:Me.title}):Bt({toolCallId:I.toolCallId,toolName:Me.toolName,state:"input-streaming",input:Dr,title:Me.title}),ee();break}case"tool-input-available":I.dynamic?yr({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-available",input:I.input,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata,title:I.title}):Bt({toolCallId:I.toolCallId,toolName:I.toolName,state:"input-available",input:I.input,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata,title:I.title}),ee(),z&&!I.providerExecuted&&await z({toolCall:I});break;case"tool-input-error":I.dynamic?yr({toolCallId:I.toolCallId,toolName:I.toolName,state:"output-error",input:I.input,errorText:I.errorText,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata}):Bt({toolCallId:I.toolCallId,toolName:I.toolName,state:"output-error",input:void 0,rawInput:I.input,errorText:I.errorText,providerExecuted:I.providerExecuted,providerMetadata:I.providerMetadata}),ee();break;case"tool-approval-request":{let Me=qe(I.toolCallId);Me.state="approval-requested",Me.approval={id:I.approvalId},ee();break}case"tool-output-denied":qe(I.toolCallId).state="output-denied",ee();break;case"tool-output-available":{let Me=qe(I.toolCallId);Me.type==="dynamic-tool"?yr({toolCallId:I.toolCallId,toolName:Me.toolName,state:"output-available",input:Me.input,output:I.output,preliminary:I.preliminary,providerExecuted:I.providerExecuted,title:Me.title}):Bt({toolCallId:I.toolCallId,toolName:zt(Me),state:"output-available",input:Me.input,output:I.output,providerExecuted:I.providerExecuted,preliminary:I.preliminary,title:Me.title}),ee();break}case"tool-output-error":{let Me=qe(I.toolCallId);Me.type==="dynamic-tool"?yr({toolCallId:I.toolCallId,toolName:Me.toolName,state:"output-error",input:Me.input,errorText:I.errorText,providerExecuted:I.providerExecuted,title:Me.title}):Bt({toolCallId:I.toolCallId,toolName:zt(Me),state:"output-error",input:Me.input,rawInput:Me.rawInput,errorText:I.errorText,providerExecuted:I.providerExecuted,title:Me.title}),ee();break}case"start-step":se.message.parts.push({type:"step-start"});break;case"finish-step":se.activeTextParts={},se.activeReasoningParts={};break;case"start":I.messageId!=null&&(se.message.id=I.messageId),await Gr(I.messageMetadata),(I.messageId!=null||I.messageMetadata!=null)&&ee();break;case"finish":I.finishReason!=null&&(se.finishReason=I.finishReason),await Gr(I.messageMetadata),I.messageMetadata!=null&&ee();break;case"message-metadata":await Gr(I.messageMetadata),I.messageMetadata!=null&&ee();break;case"error":S?.(Error(I.errorText));break;default:if(I.type.startsWith("data-")){if(v?.[I.type]!=null&&await(0,q.validateTypes)({value:I.data,schema:v[I.type]}),I.transient){N?.(I);break}let Me=I.id!=null?se.message.parts.find(Dr=>I.type===Dr.type&&I.id===Dr.id):void 0;Me!=null?Me.data=I.data:se.message.parts.push(I),N?.(I),ee()}}H.enqueue(I)})}}))}function sn({messageId:s,originalMessages:c=[],onFinish:v,onError:b,stream:S}){let z=c?.[c.length-1];z?.role!=="assistant"?z=void 0:s=z.id;let N=!1,I=S.pipeThrough(new TransformStream({transform(D,ue){D.type==="start"&&D.messageId==null&&s!=null&&(D.messageId=s),D.type==="abort"&&(N=!0),ue.enqueue(D)}}));if(v==null)return I;let H=rr({lastMessage:z?structuredClone(z):void 0,messageId:s??""}),se=!1,ee=async()=>{if(se||!v)return;se=!0;let D=H.message.id===z?.id;await v({isAborted:N,isContinuation:D,responseMessage:H.message,messages:[...D?c.slice(0,-1):c,H.message],finishReason:H.finishReason})};return Kt({stream:I,runUpdateMessageJob:async D=>{await D({state:H,write:()=>{}})},onError:b}).pipeThrough(new TransformStream({transform(D,ue){ue.enqueue(D)},async cancel(){await ee()},async flush(){await ee()}}))}function Oa({response:s,status:c,statusText:v,headers:b,stream:S,consumeSseStream:z}){let N=S.pipeThrough(new Jt);if(z){let[I,H]=N.tee();N=I,z({stream:H})}Ae({response:s,status:c,statusText:v,headers:Object.fromEntries(St(b,Et).entries()),stream:N.pipeThrough(new TextEncoderStream)})}function Or(s){let c=s.pipeThrough(new TransformStream);return c[Symbol.asyncIterator]=function(){let v=this.getReader(),b=!1;async function S(z){var N;b=!0;try{z&&await((N=v.cancel)==null?void 0:N.call(v))}finally{try{v.releaseLock()}catch{}}}return{async next(){if(b)return{done:!0,value:void 0};let{done:z,value:N}=await v.read();return z?(await S(!0),{done:!0,value:void 0}):{done:!1,value:N}},return:async()=>(await S(!0),{done:!0,value:void 0}),async throw(z){throw await S(!0),z}}},c}async function $i({stream:s,onError:c}){let v=s.getReader();try{for(;;){let{done:b}=await v.read();if(b)break}}catch(b){c?.(b)}finally{v.releaseLock()}}function yo(){let s,c;return{promise:new Promise((v,b)=>{s=v,c=b}),resolve:s,reject:c}}function Vn(){let s=[],c=null,v=!1,b=yo(),S=()=>{v=!0,b.resolve(),s.forEach(N=>N.cancel()),s=[],c?.close()},z=async()=>{if(v&&s.length===0){c?.close();return}if(s.length===0)return b=yo(),await b.promise,z();try{let{value:N,done:I}=await s[0].read();I?(s.shift(),s.length===0&&v?c?.close():await z()):c?.enqueue(N)}catch(N){c?.error(N),s.shift(),S()}};return{stream:new ReadableStream({start(N){c=N},pull:z,async cancel(){for(let N of s)await N.cancel();s=[],v=!0}}),addStream:N=>{if(v)throw Error("Cannot add inner stream: outer stream is closed");s.push(N.getReader()),b.resolve()},close:()=>{v=!0,b.resolve(),s.length===0&&c?.close()},terminate:S}}function Bs(){var s,c;return(c=(s=mr?.performance)==null?void 0:s.now())!=null?c:Date.now()}var Vs=(0,q.createIdGenerator)({prefix:"aitxt",size:24});function vs({model:s,tools:c,toolChoice:v,system:b,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:H,stopWhen:se=It(1),experimental_output:ee,output:D=ee,experimental_telemetry:ue,prepareStep:_t,providerOptions:Oe,experimental_activeTools:qe,activeTools:Bt=qe,experimental_repairToolCall:yr,experimental_transform:Gr,experimental_download:Me,includeRawChunks:Dr=!1,onChunk:dn,onError:Fn=({error:sa})=>{console.error(sa)},onFinish:hi,onAbort:ii,onStepFinish:bi,experimental_context:_n,_internal:{now:wn=Bs,generateId:fa=Vs,currentDate:ai=()=>new Date}={},...Pi}){return new k({model:wa(s),telemetry:ue,headers:H,settings:Pi,maxRetries:N,abortSignal:I,system:b,prompt:S,messages:z,tools:c,toolChoice:v,transforms:P(Gr),activeTools:Bt,repairToolCall:yr,stopConditions:P(se),output:D,providerOptions:Oe,prepareStep:_t,includeRawChunks:Dr,onChunk:dn,onError:Fn,onFinish:hi,onAbort:ii,onStepFinish:bi,now:wn,currentDate:ai,generateId:fa,experimental_context:_n,download:Me})}var k=class{constructor({model:s,telemetry:c,headers:v,settings:b,maxRetries:S,abortSignal:z,system:N,prompt:I,messages:H,tools:se,toolChoice:ee,transforms:D,activeTools:ue,repairToolCall:_t,stopConditions:Oe,output:qe,providerOptions:Bt,prepareStep:yr,includeRawChunks:Gr,now:Me,currentDate:Dr,generateId:dn,onChunk:Fn,onError:hi,onFinish:ii,onAbort:bi,onStepFinish:_n,experimental_context:wn,download:fa}){let ai,Pi,sa,Ba,Va;this._totalUsage=new q.DelayedPromise,this._finishReason=new q.DelayedPromise,this._rawFinishReason=new q.DelayedPromise,this._steps=new q.DelayedPromise,this.outputSpecification=qe,this.includeRawChunks=Gr,this.tools=se;let ka=[],Go=[],ss={},xs=[],ja=[],ls=new Map,To={},no={},ws=new TransformStream({async transform(vn,zn){var Gn,bn,oi,Kn;zn.enqueue(vn);let{part:kr}=vn;if((kr.type==="text-delta"||kr.type==="reasoning-delta"||kr.type==="source"||kr.type==="tool-call"||kr.type==="tool-result"||kr.type==="tool-input-start"||kr.type==="tool-input-delta"||kr.type==="raw")&&await Fn?.({chunk:kr}),kr.type==="error"&&await hi({error:Io(kr.error)}),kr.type==="text-start"&&(To[kr.id]={type:"text",text:"",providerMetadata:kr.providerMetadata},ka.push(To[kr.id])),kr.type==="text-delta"){let Ar=To[kr.id];if(Ar==null)return void zn.enqueue({part:{type:"error",error:`text part ${kr.id} not found`},partialOutput:void 0});Ar.text+=kr.text,Ar.providerMetadata=(Gn=kr.providerMetadata)!=null?Gn:Ar.providerMetadata}if(kr.type==="text-end"){let Ar=To[kr.id];if(Ar==null)return void zn.enqueue({part:{type:"error",error:`text part ${kr.id} not found`},partialOutput:void 0});Ar.providerMetadata=(bn=kr.providerMetadata)!=null?bn:Ar.providerMetadata,delete To[kr.id]}if(kr.type==="reasoning-start"&&(no[kr.id]={type:"reasoning",text:"",providerMetadata:kr.providerMetadata},ka.push(no[kr.id])),kr.type==="reasoning-delta"){let Ar=no[kr.id];if(Ar==null)return void zn.enqueue({part:{type:"error",error:`reasoning part ${kr.id} not found`},partialOutput:void 0});Ar.text+=kr.text,Ar.providerMetadata=(oi=kr.providerMetadata)!=null?oi:Ar.providerMetadata}if(kr.type==="reasoning-end"){let Ar=no[kr.id];if(Ar==null)return void zn.enqueue({part:{type:"error",error:`reasoning part ${kr.id} not found`},partialOutput:void 0});Ar.providerMetadata=(Kn=kr.providerMetadata)!=null?Kn:Ar.providerMetadata,delete no[kr.id]}if(kr.type==="file"&&ka.push({type:"file",file:kr.file}),kr.type==="source"&&ka.push(kr),kr.type==="tool-call"&&ka.push(kr),kr.type!=="tool-result"||kr.preliminary||ka.push(kr),kr.type==="tool-approval-request"&&ka.push(kr),kr.type==="tool-error"&&ka.push(kr),kr.type==="start-step"&&(ka=[],no={},To={},ss=kr.request,xs=kr.warnings),kr.type==="finish-step"){let Ar=await cr({content:ka,tools:se}),Qn=new Qe({content:ka,finishReason:kr.finishReason,rawFinishReason:kr.rawFinishReason,usage:kr.usage,warnings:xs,request:ss,response:{...kr.response,messages:[...Go,...Ar]},providerMetadata:kr.providerMetadata});await _n?.(Qn),Bi({warnings:xs,provider:s.provider,model:s.modelId}),ja.push(Qn),Go.push(...Ar),ai.resolve()}kr.type==="finish"&&(Va=kr.totalUsage,sa=kr.finishReason,Ba=kr.rawFinishReason)},async flush(vn){try{if(ja.length===0){let oi=new ki({message:"No output generated. Check the stream for errors."});On._finishReason.reject(oi),On._rawFinishReason.reject(oi),On._totalUsage.reject(oi),On._steps.reject(oi);return}let zn=sa??"other",Gn=Va??gs();On._finishReason.resolve(zn),On._rawFinishReason.resolve(Ba),On._totalUsage.resolve(Gn),On._steps.resolve(ja);let bn=ja[ja.length-1];await ii?.({finishReason:bn.finishReason,rawFinishReason:bn.rawFinishReason,totalUsage:Gn,usage:bn.usage,content:bn.content,text:bn.text,reasoningText:bn.reasoningText,reasoning:bn.reasoning,files:bn.files,sources:bn.sources,toolCalls:bn.toolCalls,staticToolCalls:bn.staticToolCalls,dynamicToolCalls:bn.dynamicToolCalls,toolResults:bn.toolResults,staticToolResults:bn.staticToolResults,dynamicToolResults:bn.dynamicToolResults,request:bn.request,response:bn.response,warnings:bn.warnings,providerMetadata:bn.providerMetadata,steps:ja,experimental_context:wn}),Pi.setAttributes(await Jn({telemetry:c,attributes:{"ai.response.finishReason":zn,"ai.response.text":{output:()=>bn.text},"ai.response.toolCalls":{output:()=>{var oi;return(oi=bn.toolCalls)!=null&&oi.length?JSON.stringify(bn.toolCalls):void 0}},"ai.response.providerMetadata":JSON.stringify(bn.providerMetadata),"ai.usage.inputTokens":Gn.inputTokens,"ai.usage.outputTokens":Gn.outputTokens,"ai.usage.totalTokens":Gn.totalTokens,"ai.usage.reasoningTokens":Gn.reasoningTokens,"ai.usage.cachedInputTokens":Gn.cachedInputTokens}}))}catch(zn){vn.error(zn)}finally{Pi.end()}}}),us=Vn();this.addStream=us.addStream,this.closeStream=us.close;let Ji=us.stream.getReader(),Qo=new ReadableStream({async start(vn){vn.enqueue({type:"start"})},async pull(vn){function zn(){bi?.({steps:ja}),vn.enqueue({type:"abort"}),vn.close()}try{let{done:Gn,value:bn}=await Ji.read();if(Gn)return void vn.close();if(z?.aborted)return void zn();vn.enqueue(bn)}catch(Gn){(0,q.isAbortError)(Gn)&&z?.aborted?zn():vn.error(Gn)}},cancel:vn=>us.stream.cancel(vn)});for(let vn of D)Qo=Qo.pipeThrough(vn({tools:se,stopStream(){us.terminate()}}));this.baseStream=Qo.pipeThrough(function(vn){let zn,Gn,bn="",oi="",Kn="";function kr({controller:Ar,partialOutput:Qn}){Ar.enqueue({part:{type:"text-delta",id:zn,text:oi,providerMetadata:Gn},partialOutput:Qn}),oi=""}return new TransformStream({async transform(Ar,Qn){var Si;if(Ar.type==="finish-step"&&oi.length>0&&kr({controller:Qn}),Ar.type!=="text-delta"&&Ar.type!=="text-start"&&Ar.type!=="text-end")return void Qn.enqueue({part:Ar,partialOutput:void 0});if(zn==null)zn=Ar.id;else if(Ar.id!==zn)return void Qn.enqueue({part:Ar,partialOutput:void 0});if(Ar.type==="text-start")return void Qn.enqueue({part:Ar,partialOutput:void 0});if(Ar.type==="text-end"){oi.length>0&&kr({controller:Qn}),Qn.enqueue({part:Ar,partialOutput:void 0});return}bn+=Ar.text,oi+=Ar.text,Gn=(Si=Ar.providerMetadata)!=null?Si:Gn;let Co=await vn.parsePartialOutput({text:bn});if(Co!==void 0){let cs=JSON.stringify(Co.partial);cs!==Kn&&(kr({controller:Qn,partialOutput:Co.partial}),Kn=cs)}}})}(qe??Ze())).pipeThrough(ws);let{maxRetries:Do,retry:ji}=Za({maxRetries:S,abortSignal:z}),Xo=Fo(c),lo=bt(b),Ss=ao({model:s,telemetry:c,headers:v,settings:{...lo,maxRetries:Do}}),On=this;ma({name:"ai.streamText",attributes:Jn({telemetry:c,attributes:{...ra({operationId:"ai.streamText",telemetry:c}),...Ss,"ai.prompt":{input:()=>JSON.stringify({system:N,prompt:I,messages:H})}}}),tracer:Xo,endWhenDone:!1,fn:async vn=>{Pi=vn;let zn=await _a({system:N,prompt:I,messages:H}),Gn=zn.messages,bn=[],{approvedToolApprovals:oi,deniedToolApprovals:Kn}=Zs({messages:Gn});if(Kn.length>0||oi.length>0){let Ar,Qn=[...oi,...Kn].filter(Aa=>Aa.toolCall.providerExecuted),Si=oi.filter(Aa=>!Aa.toolCall.providerExecuted),Co=Kn.filter(Aa=>!Aa.toolCall.providerExecuted),cs=Kn.filter(Aa=>Aa.toolCall.providerExecuted),Us=new ReadableStream({start(Aa){Ar=Aa}});On.addStream(Us);try{for(let uo of[...Co,...cs])Ar?.enqueue({type:"tool-output-denied",toolCallId:uo.toolCall.toolCallId,toolName:uo.toolCall.toolName});let Aa=[];if(await Promise.all(Si.map(async uo=>{let Ma=await as({toolCall:uo.toolCall,tools:se,tracer:Xo,telemetry:c,messages:Gn,abortSignal:z,experimental_context:wn,onPreliminaryToolResult:qs=>{Ar?.enqueue(qs)}});Ma!=null&&(Ar?.enqueue(Ma),Aa.push(Ma))})),Qn.length>0&&bn.push({role:"tool",content:Qn.map(uo=>({type:"tool-approval-response",approvalId:uo.approvalResponse.approvalId,approved:uo.approvalResponse.approved,reason:uo.approvalResponse.reason,providerExecuted:!0}))}),Aa.length>0||Co.length>0){let uo=[];for(let Ma of Aa)uo.push({type:"tool-result",toolCallId:Ma.toolCallId,toolName:Ma.toolName,output:await gt({toolCallId:Ma.toolCallId,input:Ma.input,tool:se?.[Ma.toolName],output:Ma.type==="tool-result"?Ma.output:Ma.error,errorMode:Ma.type==="tool-error"?"json":"none"})});for(let Ma of Co)uo.push({type:"tool-result",toolCallId:Ma.toolCall.toolCallId,toolName:Ma.toolCall.toolName,output:{type:"execution-denied",reason:Ma.approvalResponse.reason}});bn.push({role:"tool",content:uo})}}finally{Ar?.close()}}async function kr({currentStep:Ar,responseMessages:Qn,usage:Si}){var Co,cs,Us,Aa,uo,Ma;let qs,Xs,ui,ga=On.includeRawChunks;ai=new q.DelayedPromise;let Vo=[...Gn,...Qn],co=await yr?.({model:s,steps:ja,stepNumber:ja.length,messages:Vo,experimental_context:wn}),ds=wa((Co=co?.model)!=null?Co:s),Uo=await A({prompt:{system:(cs=co?.system)!=null?cs:zn.system,messages:(Us=co?.messages)!=null?Us:Vo},supportedUrls:await ds.supportedUrls,download:fa}),{toolChoice:_i,tools:So}=await fr({tools:se,toolChoice:(Aa=co?.toolChoice)!=null?Aa:ee,activeTools:(uo=co?.activeTools)!=null?uo:ue});wn=(Ma=co?.experimental_context)!=null?Ma:wn;let ps=Zo(Bt,co?.providerOptions),{result:{stream:El,response:Tl,request:bo},doStreamSpan:Yo,startTimestampMs:fl}=await ji(()=>ma({name:"ai.streamText.doStream",attributes:Jn({telemetry:c,attributes:{...ra({operationId:"ai.streamText.doStream",telemetry:c}),...Ss,"ai.model.provider":ds.provider,"ai.model.id":ds.modelId,"ai.prompt.messages":{input:()=>Wa(Uo)},"ai.prompt.tools":{input:()=>So?.map(xn=>JSON.stringify(xn))},"ai.prompt.toolChoice":{input:()=>_i!=null?JSON.stringify(_i):void 0},"gen_ai.system":ds.provider,"gen_ai.request.model":ds.modelId,"gen_ai.request.frequency_penalty":lo.frequencyPenalty,"gen_ai.request.max_tokens":lo.maxOutputTokens,"gen_ai.request.presence_penalty":lo.presencePenalty,"gen_ai.request.stop_sequences":lo.stopSequences,"gen_ai.request.temperature":lo.temperature,"gen_ai.request.top_k":lo.topK,"gen_ai.request.top_p":lo.topP}}),tracer:Xo,endWhenDone:!1,fn:async xn=>({startTimestampMs:Me(),doStreamSpan:xn,result:await ds.doStream({...lo,tools:So,toolChoice:_i,responseFormat:await qe?.responseFormat,prompt:Uo,providerOptions:ps,abortSignal:z,headers:v,includeRawChunks:ga})})})),xu=function({tools:xn,generatorStream:Ro,tracer:Ys,telemetry:el,system:ol,messages:Da,abortSignal:Ls,repairToolCall:es,experimental_context:Xi,generateId:ms}){let Oo,ks=null,eu=new ReadableStream({start(qi){ks=qi}}),Cl=new Set,Rl=new Map,sl=new Map,vl=!1;function ll(){vl&&Cl.size===0&&(Oo!=null&&ks.enqueue(Oo),ks.close())}let Ll=new TransformStream({async transform(qi,Ho){let bl=qi.type;switch(bl){case"stream-start":case"text-start":case"text-delta":case"text-end":case"reasoning-start":case"reasoning-delta":case"reasoning-end":case"tool-input-start":case"tool-input-delta":case"tool-input-end":case"source":case"response-metadata":case"error":case"raw":Ho.enqueue(qi);break;case"file":Ho.enqueue({type:"file",file:new re({data:qi.data,mediaType:qi.mediaType})});break;case"finish":Oo={type:"finish",finishReason:qi.finishReason.unified,rawFinishReason:qi.finishReason.raw,usage:Sa(qi.usage),providerMetadata:qi.providerMetadata};break;case"tool-approval-request":{let la=sl.get(qi.toolCallId);if(la==null){ks.enqueue({type:"error",error:new xt({toolCallId:qi.toolCallId,approvalId:qi.approvalId})});break}Ho.enqueue({type:"tool-approval-request",approvalId:qi.approvalId,toolCall:la});break}case"tool-call":try{let la=await Je({toolCall:qi,tools:xn,repairToolCall:es,system:ol,messages:Da});if(sl.set(la.toolCallId,la),Ho.enqueue(la),la.invalid){ks.enqueue({type:"tool-error",toolCallId:la.toolCallId,toolName:la.toolName,input:la.input,error:(0,q.getErrorMessage)(la.error),dynamic:!0,title:la.title});break}let tl=xn?.[la.toolName];if(tl==null)break;if(tl.onInputAvailable!=null&&await tl.onInputAvailable({input:la.input,toolCallId:la.toolCallId,messages:Da,abortSignal:Ls,experimental_context:Xi}),await he({tool:tl,toolCall:la,messages:Da,experimental_context:Xi})){ks.enqueue({type:"tool-approval-request",approvalId:ms(),toolCall:la});break}if(Rl.set(la.toolCallId,la.input),tl.execute!=null&&la.providerExecuted!==!0){let Ol=ms();Cl.add(Ol),as({toolCall:la,tools:xn,tracer:Ys,telemetry:el,messages:Da,abortSignal:Ls,experimental_context:Xi,onPreliminaryToolResult:_l=>{ks.enqueue(_l)}}).then(_l=>{ks.enqueue(_l),Cl.delete(Ol),ll()})}}catch(la){ks.enqueue({type:"error",error:la})}break;case"tool-result":{let la=qi.toolName;qi.isError?ks.enqueue({type:"tool-error",toolCallId:qi.toolCallId,toolName:la,input:Rl.get(qi.toolCallId),providerExecuted:!0,error:qi.result,dynamic:qi.dynamic}):Ho.enqueue({type:"tool-result",toolCallId:qi.toolCallId,toolName:la,input:Rl.get(qi.toolCallId),output:qi.result,providerExecuted:!0,dynamic:qi.dynamic});break}default:throw Error(`Unhandled chunk type: ${bl}`)}},flush(){vl=!0,ll()}});return new ReadableStream({start:async qi=>Promise.all([Ro.pipeThrough(Ll).pipeTo(new WritableStream({write(Ho){qi.enqueue(Ho)},close(){}})),eu.pipeTo(new WritableStream({write(Ho){qi.enqueue(Ho)},close(){qi.close()}}))])})}({tools:se,generatorStream:El,tracer:Xo,telemetry:c,system:N,messages:Vo,repairToolCall:_t,abortSignal:z,experimental_context:wn,generateId:dn}),wu=bo??{},gl=[],yl=[],ql={},al="other",zs=gs(),Xl=!0,Ns={id:dn(),timestamp:Dr(),modelId:s.modelId},Yl="";On.addStream(xu.pipeThrough(new TransformStream({async transform(xn,Ro){var Ys,el,ol,Da,Ls;if(xn.type==="stream-start"){qs=xn.warnings;return}if(Xl){let Xi=Me()-fl;Xl=!1,Yo.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Xi}),Yo.setAttributes({"ai.response.msToFirstChunk":Xi}),Ro.enqueue({type:"start-step",request:wu,warnings:qs??[]})}let es=xn.type;switch(es){case"tool-approval-request":case"text-start":case"text-end":case"reasoning-start":case"reasoning-end":case"file":case"source":Ro.enqueue(xn);break;case"text-delta":xn.delta.length>0&&(Ro.enqueue({type:"text-delta",id:xn.id,text:xn.delta,providerMetadata:xn.providerMetadata}),Yl+=xn.delta);break;case"reasoning-delta":Ro.enqueue({type:"reasoning-delta",id:xn.id,text:xn.delta,providerMetadata:xn.providerMetadata});break;case"tool-call":Ro.enqueue(xn),gl.push(xn);break;case"tool-result":Ro.enqueue(xn),xn.preliminary||yl.push(xn);break;case"tool-error":Ro.enqueue(xn),yl.push(xn);break;case"response-metadata":Ns={id:(Ys=xn.id)!=null?Ys:Ns.id,timestamp:(el=xn.timestamp)!=null?el:Ns.timestamp,modelId:(ol=xn.modelId)!=null?ol:Ns.modelId};break;case"finish":{zs=xn.usage,al=xn.finishReason,ui=xn.rawFinishReason,Xs=xn.providerMetadata;let Xi=Me()-fl;Yo.addEvent("ai.stream.finish"),Yo.setAttributes({"ai.response.msToFinish":Xi,"ai.response.avgOutputTokensPerSecond":1e3*((Da=zs.outputTokens)!=null?Da:0)/Xi});break}case"tool-input-start":{ql[xn.id]=xn.toolName;let Xi=se?.[xn.toolName];Xi?.onInputStart!=null&&await Xi.onInputStart({toolCallId:xn.id,messages:Vo,abortSignal:z,experimental_context:wn}),Ro.enqueue({...xn,dynamic:(Ls=xn.dynamic)!=null?Ls:Xi?.type==="dynamic",title:Xi?.title});break}case"tool-input-end":delete ql[xn.id],Ro.enqueue(xn);break;case"tool-input-delta":{let Xi=ql[xn.id],ms=se?.[Xi];ms?.onInputDelta!=null&&await ms.onInputDelta({inputTextDelta:xn.delta,toolCallId:xn.id,messages:Vo,abortSignal:z,experimental_context:wn}),Ro.enqueue(xn);break}case"error":Ro.enqueue(xn),al="error";break;case"raw":ga&&Ro.enqueue(xn);break;default:throw Error(`Unknown chunk type: ${es}`)}},async flush(xn){let Ro=gl.length>0?JSON.stringify(gl):void 0;try{Yo.setAttributes(await Jn({telemetry:c,attributes:{"ai.response.finishReason":al,"ai.response.text":{output:()=>Yl},"ai.response.toolCalls":{output:()=>Ro},"ai.response.id":Ns.id,"ai.response.model":Ns.modelId,"ai.response.timestamp":Ns.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(Xs),"ai.usage.inputTokens":zs.inputTokens,"ai.usage.outputTokens":zs.outputTokens,"ai.usage.totalTokens":zs.totalTokens,"ai.usage.reasoningTokens":zs.reasoningTokens,"ai.usage.cachedInputTokens":zs.cachedInputTokens,"gen_ai.response.finish_reasons":[al],"gen_ai.response.id":Ns.id,"gen_ai.response.model":Ns.modelId,"gen_ai.usage.input_tokens":zs.inputTokens,"gen_ai.usage.output_tokens":zs.outputTokens}}))}catch{}finally{Yo.end()}xn.enqueue({type:"finish-step",finishReason:al,rawFinishReason:ui,usage:zs,providerMetadata:Xs,response:{...Ns,headers:Tl?.headers}});let Ys=Ao(Si,zs);await ai.promise;let el=gl.filter(Da=>Da.providerExecuted!==!0),ol=yl.filter(Da=>Da.providerExecuted!==!0);for(let Da of gl){if(Da.providerExecuted!==!0)continue;let Ls=se?.[Da.toolName];Ls?.type==="provider"&&Ls.supportsDeferredResults&&(yl.some(es=>es.type==="tool-result"&&es.toolCallId===Da.toolCallId)||ls.set(Da.toolCallId,{toolName:Da.toolName}))}for(let Da of yl)Da.type==="tool-result"&&ls.delete(Da.toolCallId);if((el.length>0&&ol.length===el.length||ls.size>0)&&!await qt({stopConditions:Oe,steps:ja})){Qn.push(...await cr({content:ja[ja.length-1].content,tools:se}));try{await kr({currentStep:Ar+1,responseMessages:Qn,usage:Ys})}catch(Da){xn.enqueue({type:"error",error:Da}),On.closeStream()}}else xn.enqueue({type:"finish",finishReason:al,rawFinishReason:ui,totalUsage:Ys}),On.closeStream()}})))}Go.push(...bn),await kr({currentStep:0,responseMessages:bn,usage:gs()})}}).catch(vn=>{On.addStream(new ReadableStream({start(zn){zn.enqueue({type:"error",error:vn}),zn.close()}})),On.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(s=>s[s.length-1])}get content(){return this.finalStep.then(s=>s.content)}get warnings(){return this.finalStep.then(s=>s.warnings)}get providerMetadata(){return this.finalStep.then(s=>s.providerMetadata)}get text(){return this.finalStep.then(s=>s.text)}get reasoningText(){return this.finalStep.then(s=>s.reasoningText)}get reasoning(){return this.finalStep.then(s=>s.reasoning)}get sources(){return this.finalStep.then(s=>s.sources)}get files(){return this.finalStep.then(s=>s.files)}get toolCalls(){return this.finalStep.then(s=>s.toolCalls)}get staticToolCalls(){return this.finalStep.then(s=>s.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(s=>s.dynamicToolCalls)}get toolResults(){return this.finalStep.then(s=>s.toolResults)}get staticToolResults(){return this.finalStep.then(s=>s.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(s=>s.dynamicToolResults)}get usage(){return this.finalStep.then(s=>s.usage)}get request(){return this.finalStep.then(s=>s.request)}get response(){return this.finalStep.then(s=>s.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}get rawFinishReason(){return this.consumeStream(),this._rawFinishReason.promise}teeStream(){let[s,c]=this.baseStream.tee();return this.baseStream=c,s}get textStream(){return Or(this.teeStream().pipeThrough(new TransformStream({transform({part:s},c){s.type==="text-delta"&&c.enqueue(s.text)}})))}get fullStream(){return Or(this.teeStream().pipeThrough(new TransformStream({transform({part:s},c){c.enqueue(s)}})))}async consumeStream(s){var c;try{await $i({stream:this.fullStream,onError:s?.onError})}catch(v){(c=s?.onError)==null||c.call(s,v)}}get experimental_partialOutputStream(){return this.partialOutputStream}get partialOutputStream(){return Or(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:s},c){s!=null&&c.enqueue(s)}})))}get output(){return this.finalStep.then(s=>{var c;return((c=this.outputSpecification)!=null?c:Ze()).parseCompleteOutput({text:s.text},{response:s.response,usage:s.usage,finishReason:s.finishReason})})}toUIMessageStream({originalMessages:s,generateMessageId:c,onFinish:v,messageMetadata:b,sendReasoning:S=!0,sendSources:z=!1,sendStart:N=!0,sendFinish:I=!0,onError:H=De.getErrorMessage}={}){let se=c!=null?function({originalMessages:D,responseMessageId:ue}){if(D==null)return;let _t=D[D.length-1];return _t?.role==="assistant"?_t.id:typeof ue=="function"?ue():ue}({originalMessages:s,responseMessageId:c}):void 0,ee=D=>{var ue;let _t=(ue=this.tools)==null?void 0:ue[D.toolName];return _t==null?D.dynamic:_t?.type==="dynamic"||void 0};return Or(sn({stream:this.fullStream.pipeThrough(new TransformStream({transform:async(D,ue)=>{let _t=b?.({part:D}),Oe=D.type;switch(Oe){case"text-start":ue.enqueue({type:"text-start",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"text-delta":ue.enqueue({type:"text-delta",id:D.id,delta:D.text,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"text-end":ue.enqueue({type:"text-end",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"reasoning-start":ue.enqueue({type:"reasoning-start",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"reasoning-delta":S&&ue.enqueue({type:"reasoning-delta",id:D.id,delta:D.text,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"reasoning-end":ue.enqueue({type:"reasoning-end",id:D.id,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"file":ue.enqueue({type:"file",mediaType:D.file.mediaType,url:`data:${D.file.mediaType};base64,${D.file.base64}`});break;case"source":z&&D.sourceType==="url"&&ue.enqueue({type:"source-url",sourceId:D.id,url:D.url,title:D.title,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}}),z&&D.sourceType==="document"&&ue.enqueue({type:"source-document",sourceId:D.id,mediaType:D.mediaType,title:D.title,filename:D.filename,...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{}});break;case"tool-input-start":{let qe=ee(D);ue.enqueue({type:"tool-input-start",toolCallId:D.id,toolName:D.toolName,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...qe!=null?{dynamic:qe}:{},...D.title!=null?{title:D.title}:{}});break}case"tool-input-delta":ue.enqueue({type:"tool-input-delta",toolCallId:D.id,inputTextDelta:D.delta});break;case"tool-call":{let qe=ee(D);D.invalid?ue.enqueue({type:"tool-input-error",toolCallId:D.toolCallId,toolName:D.toolName,input:D.input,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{},...qe!=null?{dynamic:qe}:{},errorText:H(D.error),...D.title!=null?{title:D.title}:{}}):ue.enqueue({type:"tool-input-available",toolCallId:D.toolCallId,toolName:D.toolName,input:D.input,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...D.providerMetadata!=null?{providerMetadata:D.providerMetadata}:{},...qe!=null?{dynamic:qe}:{},...D.title!=null?{title:D.title}:{}});break}case"tool-approval-request":ue.enqueue({type:"tool-approval-request",approvalId:D.approvalId,toolCallId:D.toolCall.toolCallId});break;case"tool-result":{let qe=ee(D);ue.enqueue({type:"tool-output-available",toolCallId:D.toolCallId,output:D.output,...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...D.preliminary!=null?{preliminary:D.preliminary}:{},...qe!=null?{dynamic:qe}:{}});break}case"tool-error":{let qe=ee(D);ue.enqueue({type:"tool-output-error",toolCallId:D.toolCallId,errorText:H(D.error),...D.providerExecuted!=null?{providerExecuted:D.providerExecuted}:{},...qe!=null?{dynamic:qe}:{}});break}case"tool-output-denied":ue.enqueue({type:"tool-output-denied",toolCallId:D.toolCallId});break;case"error":ue.enqueue({type:"error",errorText:H(D.error)});break;case"start-step":ue.enqueue({type:"start-step"});break;case"finish-step":ue.enqueue({type:"finish-step"});break;case"start":N&&ue.enqueue({type:"start",..._t!=null?{messageMetadata:_t}:{},...se!=null?{messageId:se}:{}});break;case"finish":I&&ue.enqueue({type:"finish",finishReason:D.finishReason,..._t!=null?{messageMetadata:_t}:{}});break;case"abort":ue.enqueue(D);break;case"tool-input-end":case"raw":break;default:throw Error(`Unknown chunk type: ${Oe}`)}_t!=null&&Oe!=="start"&&Oe!=="finish"&&ue.enqueue({type:"message-metadata",messageMetadata:_t})}})),messageId:se??c?.(),originalMessages:s,onFinish:v,onError:H}))}pipeUIMessageStreamToResponse(s,{originalMessages:c,generateMessageId:v,onFinish:b,messageMetadata:S,sendReasoning:z,sendSources:N,sendFinish:I,sendStart:H,onError:se,...ee}={}){Oa({response:s,stream:this.toUIMessageStream({originalMessages:c,generateMessageId:v,onFinish:b,messageMetadata:S,sendReasoning:z,sendSources:N,sendFinish:I,sendStart:H,onError:se}),...ee})}pipeTextStreamToResponse(s,c){Zt({response:s,textStream:this.textStream,...c})}toUIMessageStreamResponse({originalMessages:s,generateMessageId:c,onFinish:v,messageMetadata:b,sendReasoning:S,sendSources:z,sendFinish:N,sendStart:I,onError:H,...se}={}){return Dt({stream:this.toUIMessageStream({originalMessages:s,generateMessageId:c,onFinish:v,messageMetadata:b,sendReasoning:S,sendSources:z,sendFinish:N,sendStart:I,onError:H}),...se})}toTextStreamResponse(s){return dt({textStream:this.textStream,...s})}},d=class{constructor(s){this.version="agent-v1",this.settings=s}get id(){return this.settings.id}get tools(){return this.settings.tools}async prepareCall(s){var c,v,b,S;let z={...this.settings,stopWhen:(c=this.settings.stopWhen)!=null?c:It(20),...s},{instructions:N,messages:I,prompt:H,...se}=(S=await((b=(v=this.settings).prepareCall)==null?void 0:b.call(v,z)))!=null?S:z;return{...se,system:N,messages:I,prompt:H}}async generate({abortSignal:s,...c}){return de({...await this.prepareCall(c),abortSignal:s})}async stream({abortSignal:s,experimental_transform:c,...v}){return vs({...await this.prepareCall(v),abortSignal:s,experimental_transform:c})}};function y({execute:s,onError:c=q.getErrorMessage,originalMessages:v,onFinish:b,generateId:S=q.generateId}){let z,N=[],I=new ReadableStream({start(se){z=se}});function H(se){try{z.enqueue(se)}catch{}}try{let se=s({writer:{write(ee){H(ee)},merge(ee){N.push((async()=>{let D=ee.getReader();for(;;){let{done:ue,value:_t}=await D.read();if(ue)break;H(_t)}})().catch(D=>{H({type:"error",errorText:c(D)})}))},onError:c}});se&&N.push(se.catch(ee=>{H({type:"error",errorText:c(ee)})}))}catch(se){H({type:"error",errorText:c(se)})}return new Promise(async se=>{for(;N.length>0;)await N.shift();se()}).finally(()=>{try{z.close()}catch{}}),sn({stream:I,messageId:S(),originalMessages:v,onFinish:b,onError:c})}function O({message:s,stream:c,onError:v,terminateOnError:b=!1}){var S;let z,N=!1,I=new ReadableStream({start(ee){z=ee}}),H=rr({messageId:(S=s?.id)!=null?S:"",lastMessage:s}),se=ee=>{v?.(ee),!N&&b&&(N=!0,z?.error(ee))};return $i({stream:Kt({stream:c,runUpdateMessageJob:ee=>ee({state:H,write:()=>{z?.enqueue(structuredClone(H.message))}}),onError:se}),onError:se}).finally(()=>{N||z==null||z.close()}),Or(I)}async function U(s,c){let v=[];for(let b of(c?.ignoreIncompleteToolCalls&&(s=s.map(S=>({...S,parts:S.parts.filter(z=>!qr(z)||z.state!=="input-streaming"&&z.state!=="input-available")}))),s))switch(b.role){case"system":{let S=b.parts.filter(N=>N.type==="text"),z=S.reduce((N,I)=>I.providerMetadata!=null?{...N,...I.providerMetadata}:N,{});v.push({role:"system",content:S.map(N=>N.text).join(""),...Object.keys(z).length>0?{providerOptions:z}:{}});break}case"user":v.push({role:"user",content:b.parts.map(S=>{var z;return ir(S)?{type:"text",text:S.text,...S.providerMetadata!=null?{providerOptions:S.providerMetadata}:{}}:Xe(S)?{type:"file",mediaType:S.mediaType,filename:S.filename,data:S.url,...S.providerMetadata!=null?{providerOptions:S.providerMetadata}:{}}:hr(S)?(z=c?.convertDataPart)==null?void 0:z.call(c,S):void 0}).filter(q.isNonNullable)});break;case"assistant":if(b.parts!=null){let S=[];async function z(){var N,I,H,se,ee,D;if(S.length===0)return;let ue=[];for(let Oe of S)if(ir(Oe))ue.push({type:"text",text:Oe.text,...Oe.providerMetadata!=null?{providerOptions:Oe.providerMetadata}:{}});else if(Xe(Oe))ue.push({type:"file",mediaType:Oe.mediaType,filename:Oe.filename,data:Oe.url});else if(Lt(Oe))ue.push({type:"reasoning",text:Oe.text,providerOptions:Oe.providerMetadata});else if(qr(Oe)){let qe=Ne(Oe);Oe.state!=="input-streaming"&&(ue.push({type:"tool-call",toolCallId:Oe.toolCallId,toolName:qe,input:Oe.state==="output-error"?(N=Oe.input)!=null?N:"rawInput"in Oe?Oe.rawInput:void 0:Oe.input,providerExecuted:Oe.providerExecuted,...Oe.callProviderMetadata!=null?{providerOptions:Oe.callProviderMetadata}:{}}),Oe.approval!=null&&ue.push({type:"tool-approval-request",approvalId:Oe.approval.id,toolCallId:Oe.toolCallId}),Oe.providerExecuted===!0&&Oe.state!=="approval-responded"&&(Oe.state==="output-available"||Oe.state==="output-error")&&ue.push({type:"tool-result",toolCallId:Oe.toolCallId,toolName:qe,output:await gt({toolCallId:Oe.toolCallId,input:Oe.input,output:Oe.state==="output-error"?Oe.errorText:Oe.output,tool:(I=c?.tools)==null?void 0:I[qe],errorMode:Oe.state==="output-error"?"json":"none"}),...Oe.callProviderMetadata!=null?{providerOptions:Oe.callProviderMetadata}:{}}))}else if(hr(Oe)){let qe=(H=c?.convertDataPart)==null?void 0:H.call(c,Oe);qe!=null&&ue.push(qe)}else throw Error(`Unsupported part: ${Oe}`);v.push({role:"assistant",content:ue});let _t=S.filter(Oe=>{var qe;return qr(Oe)&&(Oe.providerExecuted!==!0||((qe=Oe.approval)==null?void 0:qe.approved)!=null)});if(_t.length>0){let Oe=[];for(let qe of _t)if(((se=qe.approval)==null?void 0:se.approved)!=null&&Oe.push({type:"tool-approval-response",approvalId:qe.approval.id,approved:qe.approval.approved,reason:qe.approval.reason,providerExecuted:qe.providerExecuted}),qe.providerExecuted!==!0)switch(qe.state){case"output-denied":Oe.push({type:"tool-result",toolCallId:qe.toolCallId,toolName:Ne(qe),output:{type:"error-text",value:(ee=qe.approval.reason)!=null?ee:"Tool execution denied."},...qe.callProviderMetadata!=null?{providerOptions:qe.callProviderMetadata}:{}});break;case"output-error":case"output-available":{let Bt=Ne(qe);Oe.push({type:"tool-result",toolCallId:qe.toolCallId,toolName:Bt,output:await gt({toolCallId:qe.toolCallId,input:qe.input,output:qe.state==="output-error"?qe.errorText:qe.output,tool:(D=c?.tools)==null?void 0:D[Bt],errorMode:qe.state==="output-error"?"text":"none"}),...qe.callProviderMetadata!=null?{providerOptions:qe.callProviderMetadata}:{}})}}Oe.length>0&&v.push({role:"tool",content:Oe})}S=[]}for(let N of b.parts)ir(N)||Lt(N)||Xe(N)||qr(N)||hr(N)?S.push(N):N.type==="step-start"&&await z();await z()}break;default:{let S=b.role;throw new ho({originalMessage:b,message:`Unsupported role: ${S}`})}}return v}var le=(0,q.lazySchema)(()=>(0,q.zodSchema)(h.z.array(h.z.object({id:h.z.string(),role:h.z.enum(["system","user","assistant"]),metadata:h.z.unknown().optional(),parts:h.z.array(h.z.union([h.z.object({type:h.z.literal("text"),text:h.z.string(),state:h.z.enum(["streaming","done"]).optional(),providerMetadata:Qt.optional()}),h.z.object({type:h.z.literal("reasoning"),text:h.z.string(),state:h.z.enum(["streaming","done"]).optional(),providerMetadata:Qt.optional()}),h.z.object({type:h.z.literal("source-url"),sourceId:h.z.string(),url:h.z.string(),title:h.z.string().optional(),providerMetadata:Qt.optional()}),h.z.object({type:h.z.literal("source-document"),sourceId:h.z.string(),mediaType:h.z.string(),title:h.z.string(),filename:h.z.string().optional(),providerMetadata:Qt.optional()}),h.z.object({type:h.z.literal("file"),mediaType:h.z.string(),filename:h.z.string().optional(),url:h.z.string(),providerMetadata:Qt.optional()}),h.z.object({type:h.z.literal("step-start")}),h.z.object({type:h.z.string().startsWith("data-"),id:h.z.string().optional(),data:h.z.unknown()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("input-streaming"),input:h.z.unknown().optional(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("input-available"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("approval-requested"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.never().optional(),reason:h.z.never().optional()})}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("approval-responded"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.boolean(),reason:h.z.string().optional()})}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("output-available"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.unknown(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),preliminary:h.z.boolean().optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("output-error"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.string(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.literal("dynamic-tool"),toolName:h.z.string(),toolCallId:h.z.string(),state:h.z.literal("output-denied"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!1),reason:h.z.string().optional()})}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("input-streaming"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("input-available"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.never().optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("approval-requested"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.never().optional(),reason:h.z.never().optional()})}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("approval-responded"),input:h.z.unknown(),providerExecuted:h.z.boolean().optional(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.boolean(),reason:h.z.string().optional()})}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("output-available"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.unknown(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),preliminary:h.z.boolean().optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("output-error"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.never().optional(),errorText:h.z.string(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!0),reason:h.z.string().optional()}).optional()}),h.z.object({type:h.z.string().startsWith("tool-"),toolCallId:h.z.string(),state:h.z.literal("output-denied"),providerExecuted:h.z.boolean().optional(),input:h.z.unknown(),output:h.z.never().optional(),errorText:h.z.never().optional(),callProviderMetadata:Qt.optional(),approval:h.z.object({id:h.z.string(),approved:h.z.literal(!1),reason:h.z.string().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty")));async function E({messages:s,metadataSchema:c,dataSchemas:v,tools:b}){try{if(s==null)return{success:!1,error:new An({parameter:"messages",value:s,message:"messages parameter must be provided"})};let S=await(0,q.validateTypes)({value:s,schema:le});if(c)for(let z of S)await(0,q.validateTypes)({value:z.metadata,schema:c});if(v)for(let z of S)for(let N of z.parts.filter(I=>I.type.startsWith("data-"))){let I=N.type.slice(5),H=v[I];if(!H)return{success:!1,error:new De.TypeValidationError({value:N.data,cause:`No data schema found for data part ${I}`})};await(0,q.validateTypes)({value:N.data,schema:H})}if(b)for(let z of S)for(let N of z.parts.filter(I=>I.type.startsWith("tool-"))){let I=N.type.slice(5),H=b[I];if(!H)return{success:!1,error:new De.TypeValidationError({value:N.input,cause:`No tool schema found for tool part ${I}`})};(N.state==="input-available"||N.state==="output-available"||N.state==="output-error"&&N.input!==void 0)&&await(0,q.validateTypes)({value:N.input,schema:H.inputSchema}),N.state==="output-available"&&H.outputSchema&&await(0,q.validateTypes)({value:N.output,schema:H.outputSchema})}return{success:!0,data:S}}catch(S){return{success:!1,error:S}}}async function X({messages:s,metadataSchema:c,dataSchemas:v,tools:b}){let S=await E({messages:s,metadataSchema:c,dataSchemas:v,tools:b});if(!S.success)throw S.error;return S.data}async function be({agent:s,uiMessages:c,options:v,abortSignal:b,experimental_transform:S,...z}){let N=await X({messages:c,tools:s.tools}),I=await U(N,{tools:s.tools});return(await s.stream({prompt:I,options:v,abortSignal:b,experimental_transform:S})).toUIMessageStream(z)}async function je({headers:s,status:c,statusText:v,consumeSseStream:b,...S}){return Dt({headers:s,status:c,statusText:v,consumeSseStream:b,stream:await be(S)})}async function it({response:s,headers:c,status:v,statusText:b,consumeSseStream:S,...z}){Oa({response:s,headers:c,status:v,statusText:b,consumeSseStream:S,stream:await be(z)})}async function Rt({model:s,value:c,providerOptions:v,maxRetries:b,abortSignal:S,headers:z,experimental_telemetry:N}){let I=Ms(s),{maxRetries:H,retry:se}=Za({maxRetries:b,abortSignal:S}),ee=(0,q.withUserAgentSuffix)(z??{},`ai/${ta}`),D=ao({model:I,telemetry:N,headers:ee,settings:{maxRetries:H}}),ue=Fo(N);return ma({name:"ai.embed",attributes:Jn({telemetry:N,attributes:{...ra({operationId:"ai.embed",telemetry:N}),...D,"ai.value":{input:()=>JSON.stringify(c)}}}),tracer:ue,fn:async _t=>{let{embedding:Oe,usage:qe,warnings:Bt,response:yr,providerMetadata:Gr}=await se(()=>ma({name:"ai.embed.doEmbed",attributes:Jn({telemetry:N,attributes:{...ra({operationId:"ai.embed.doEmbed",telemetry:N}),...D,"ai.values":{input:()=>[JSON.stringify(c)]}}}),tracer:ue,fn:async Me=>{var Dr;let dn=await I.doEmbed({values:[c],abortSignal:S,headers:ee,providerOptions:v}),Fn=dn.embeddings[0],hi=(Dr=dn.usage)!=null?Dr:{tokens:NaN};return Me.setAttributes(await Jn({telemetry:N,attributes:{"ai.embeddings":{output:()=>dn.embeddings.map(ii=>JSON.stringify(ii))},"ai.usage.tokens":hi.tokens}})),{embedding:Fn,usage:hi,warnings:dn.warnings,providerMetadata:dn.providerMetadata,response:dn.response}}}));return _t.setAttributes(await Jn({telemetry:N,attributes:{"ai.embedding":{output:()=>JSON.stringify(Oe)},"ai.usage.tokens":qe.tokens}})),Bi({warnings:Bt,provider:I.provider,model:I.modelId}),new et({value:c,embedding:Oe,usage:qe,warnings:Bt,providerMetadata:Gr,response:yr})}})}var et=class{constructor(s){this.value=s.value,this.embedding=s.embedding,this.usage=s.usage,this.warnings=s.warnings,this.providerMetadata=s.providerMetadata,this.response=s.response}};function ar(s,c){if(c<=0)throw Error("chunkSize must be greater than 0");let v=[];for(let b=0;b<s.length;b+=c)v.push(s.slice(b,b+c));return v}async function Ht({model:s,values:c,maxParallelCalls:v=1/0,maxRetries:b,abortSignal:S,headers:z,providerOptions:N,experimental_telemetry:I}){let H=Ms(s),{maxRetries:se,retry:ee}=Za({maxRetries:b,abortSignal:S}),D=(0,q.withUserAgentSuffix)(z??{},`ai/${ta}`),ue=ao({model:H,telemetry:I,headers:D,settings:{maxRetries:se}}),_t=Fo(I);return ma({name:"ai.embedMany",attributes:Jn({telemetry:I,attributes:{...ra({operationId:"ai.embedMany",telemetry:I}),...ue,"ai.values":{input:()=>c.map(Oe=>JSON.stringify(Oe))}}}),tracer:_t,fn:async Oe=>{var qe;let Bt,[yr,Gr]=await Promise.all([H.maxEmbeddingsPerCall,H.supportsParallelCalls]);if(yr==null||yr===1/0){let{embeddings:ii,usage:bi,warnings:_n,response:wn,providerMetadata:fa}=await ee(()=>ma({name:"ai.embedMany.doEmbed",attributes:Jn({telemetry:I,attributes:{...ra({operationId:"ai.embedMany.doEmbed",telemetry:I}),...ue,"ai.values":{input:()=>c.map(ai=>JSON.stringify(ai))}}}),tracer:_t,fn:async ai=>{var Pi;let sa=await H.doEmbed({values:c,abortSignal:S,headers:D,providerOptions:N}),Ba=sa.embeddings,Va=(Pi=sa.usage)!=null?Pi:{tokens:NaN};return ai.setAttributes(await Jn({telemetry:I,attributes:{"ai.embeddings":{output:()=>Ba.map(ka=>JSON.stringify(ka))},"ai.usage.tokens":Va.tokens}})),{embeddings:Ba,usage:Va,warnings:sa.warnings,providerMetadata:sa.providerMetadata,response:sa.response}}}));return Oe.setAttributes(await Jn({telemetry:I,attributes:{"ai.embeddings":{output:()=>ii.map(ai=>JSON.stringify(ai))},"ai.usage.tokens":bi.tokens}})),Bi({warnings:_n,provider:H.provider,model:H.modelId}),new Xt({values:c,embeddings:ii,usage:bi,warnings:_n,providerMetadata:fa,responses:[wn]})}let Me=ar(c,yr),Dr=[],dn=[],Fn=[],hi=0;for(let ii of ar(Me,Gr?v:1))for(let bi of await Promise.all(ii.map(_n=>ee(()=>ma({name:"ai.embedMany.doEmbed",attributes:Jn({telemetry:I,attributes:{...ra({operationId:"ai.embedMany.doEmbed",telemetry:I}),...ue,"ai.values":{input:()=>_n.map(wn=>JSON.stringify(wn))}}}),tracer:_t,fn:async wn=>{var fa;let ai=await H.doEmbed({values:_n,abortSignal:S,headers:D,providerOptions:N}),Pi=ai.embeddings,sa=(fa=ai.usage)!=null?fa:{tokens:NaN};return wn.setAttributes(await Jn({telemetry:I,attributes:{"ai.embeddings":{output:()=>Pi.map(Ba=>JSON.stringify(Ba))},"ai.usage.tokens":sa.tokens}})),{embeddings:Pi,usage:sa,warnings:ai.warnings,providerMetadata:ai.providerMetadata,response:ai.response}}})))))if(Dr.push(...bi.embeddings),dn.push(...bi.warnings),Fn.push(bi.response),hi+=bi.usage.tokens,bi.providerMetadata)if(Bt)for(let[_n,wn]of Object.entries(bi.providerMetadata))Bt[_n]={...(qe=Bt[_n])!=null?qe:{},...wn};else Bt={...bi.providerMetadata};return Oe.setAttributes(await Jn({telemetry:I,attributes:{"ai.embeddings":{output:()=>Dr.map(ii=>JSON.stringify(ii))},"ai.usage.tokens":hi}})),Bi({warnings:dn,provider:H.provider,model:H.modelId}),new Xt({values:c,embeddings:Dr,usage:{tokens:hi},warnings:dn,providerMetadata:Bt,responses:Fn})}})}var Xt=class{constructor(s){this.values=s.values,this.embeddings=s.embeddings,this.usage=s.usage,this.warnings=s.warnings,this.providerMetadata=s.providerMetadata,this.responses=s.responses}};async function Nt({model:s,prompt:c,n:v=1,maxImagesPerCall:b,size:S,aspectRatio:z,seed:N,providerOptions:I,maxRetries:H,abortSignal:se,headers:ee}){var D,ue,_t;let Oe=function(_n){if(typeof _n!="string"){if(_n.specificationVersion!=="v3"&&_n.specificationVersion!=="v2")throw new xr({version:_n.specificationVersion,provider:_n.provider,modelId:_n.modelId});return Ii(_n)}return Ko().imageModel(_n)}(s),qe=(0,q.withUserAgentSuffix)(ee??{},`ai/${ta}`),{retry:Bt}=Za({maxRetries:H,abortSignal:se}),yr=(D=b??await kt(Oe))!=null?D:1,Gr=Math.ceil(v/yr),Me=Array.from({length:Gr},(_n,wn)=>{if(wn<Gr-1)return yr;let fa=v%yr;return fa===0?yr:fa}),Dr=await Promise.all(Me.map(async _n=>Bt(()=>{var wn;let{prompt:fa,files:ai,mask:Pi}=typeof(wn=c)=="string"?{prompt:wn,files:void 0,mask:void 0}:{prompt:wn.text,files:wn.images.map(Mt),mask:wn.mask?Mt(wn.mask):void 0};return Oe.doGenerate({prompt:fa,files:ai,mask:Pi,n:_n,abortSignal:se,headers:qe,size:S,aspectRatio:z,seed:N,providerOptions:I??{}})}))),dn=[],Fn=[],hi=[],ii={},bi={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};for(let _n of Dr){if(dn.push(..._n.images.map(wn=>{var fa;return new F({data:wn,mediaType:(fa=fo({data:wn,signatures:fs}))!=null?fa:"image/png"})})),Fn.push(..._n.warnings),_n.usage!=null&&(ue=bi,_t=_n.usage,bi={inputTokens:Ra(ue.inputTokens,_t.inputTokens),outputTokens:Ra(ue.outputTokens,_t.outputTokens),totalTokens:Ra(ue.totalTokens,_t.totalTokens)}),_n.providerMetadata)for(let[wn,fa]of Object.entries(_n.providerMetadata))if(wn==="gateway"){let ai=ii[wn];ai!=null&&typeof ai=="object"?ii[wn]={...ai,...fa}:ii[wn]=fa;let Pi=ii[wn].images;Array.isArray(Pi)&&Pi.length===0&&delete ii[wn].images}else ii[wn]!=null||(ii[wn]={images:[]}),ii[wn].images.push(..._n.providerMetadata[wn].images);hi.push(_n.response)}if(Bi({warnings:Fn,provider:Oe.provider,model:Oe.modelId}),!dn.length)throw new Tr({responses:hi});return new Vt({images:dn,warnings:Fn,responses:hi,providerMetadata:ii,usage:bi})}var Vt=class{constructor(s){this.images=s.images,this.warnings=s.warnings,this.responses=s.responses,this.providerMetadata=s.providerMetadata,this.usage=s.usage}get image(){return this.images[0]}};async function kt(s){return s.maxImagesPerCall instanceof Function?s.maxImagesPerCall({modelId:s.modelId}):s.maxImagesPerCall}function Mt(s){if(typeof s=="string"&&s.startsWith("http"))return{type:"url",url:s};if(typeof s=="string"&&s.startsWith("data:")){let{mediaType:v,base64Content:b}=Pn(s);if(b!=null){let S=(0,q.convertBase64ToUint8Array)(b);return{type:"file",data:S,mediaType:v||fo({data:S,signatures:fs})||"image/png"}}}let c=R(s);return{type:"file",data:c,mediaType:fo({data:c,signatures:fs})||"image/png"}}var un={type:"no-schema",jsonSchema:async()=>{},validatePartialResult:async({value:s,textDelta:c})=>({success:!0,value:{partial:s,textDelta:c}}),validateFinalResult:async(s,c)=>s===void 0?{success:!1,error:new Jr({message:"No object generated: response did not match schema.",text:c.text,response:c.response,usage:c.usage,finishReason:c.finishReason})}:{success:!0,value:s},createElementStream(){throw new De.UnsupportedFunctionalityError({functionality:"element streams in no-schema mode"})}};function vi({output:s,schema:c,enumValues:v}){switch(s){case"object":let b;return b=(0,q.asSchema)(c),{type:"object",jsonSchema:async()=>await b.jsonSchema,validatePartialResult:async({value:z,textDelta:N})=>({success:!0,value:{partial:z,textDelta:N}}),validateFinalResult:async z=>(0,q.safeValidateTypes)({value:z,schema:b}),createElementStream(){throw new De.UnsupportedFunctionalityError({functionality:"element streams in object mode"})}};case"array":let S;return S=(0,q.asSchema)(c),{type:"array",jsonSchema:async()=>{let{$schema:z,...N}=await S.jsonSchema;return{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:N}},required:["elements"],additionalProperties:!1}},async validatePartialResult({value:z,latestObject:N,isFirstDelta:I,isFinalDelta:H}){var se;if(!(0,De.isJSONObject)(z)||!(0,De.isJSONArray)(z.elements))return{success:!1,error:new De.TypeValidationError({value:z,cause:"value must be an object that contains an array of elements"})};let ee=z.elements,D=[];for(let Oe=0;Oe<ee.length;Oe++){let qe=ee[Oe],Bt=await(0,q.safeValidateTypes)({value:qe,schema:S});if(Oe!==ee.length-1||H){if(!Bt.success)return Bt;D.push(Bt.value)}}let ue=(se=N?.length)!=null?se:0,_t="";return I&&(_t+="["),ue>0&&(_t+=","),_t+=D.slice(ue).map(Oe=>JSON.stringify(Oe)).join(","),H&&(_t+="]"),{success:!0,value:{partial:D,textDelta:_t}}},async validateFinalResult(z){if(!(0,De.isJSONObject)(z)||!(0,De.isJSONArray)(z.elements))return{success:!1,error:new De.TypeValidationError({value:z,cause:"value must be an object that contains an array of elements"})};let N=z.elements;for(let I of N){let H=await(0,q.safeValidateTypes)({value:I,schema:S});if(!H.success)return H}return{success:!0,value:N}},createElementStream(z){let N=0;return Or(z.pipeThrough(new TransformStream({transform(I,H){switch(I.type){case"object":{let se=I.object;for(;N<se.length;N++)H.enqueue(se[N]);break}case"text-delta":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${I}`)}}})))}};case"enum":return{type:"enum",jsonSchema:async()=>({$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:v}},required:["result"],additionalProperties:!1}),async validateFinalResult(z){if(!(0,De.isJSONObject)(z)||typeof z.result!="string")return{success:!1,error:new De.TypeValidationError({value:z,cause:'value must be an object that contains a string in the "result" property.'})};let N=z.result;return v.includes(N)?{success:!0,value:N}:{success:!1,error:new De.TypeValidationError({value:z,cause:"value must be a string in the enum"})}},async validatePartialResult({value:z,textDelta:N}){if(!(0,De.isJSONObject)(z)||typeof z.result!="string")return{success:!1,error:new De.TypeValidationError({value:z,cause:'value must be an object that contains a string in the "result" property.'})};let I=z.result,H=v.filter(se=>se.startsWith(I));return z.result.length===0||H.length===0?{success:!1,error:new De.TypeValidationError({value:z,cause:"value must be a string in the enum"})}:{success:!0,value:{partial:H.length>1?I:H[0],textDelta:N}}},createElementStream(){throw new De.UnsupportedFunctionalityError({functionality:"element streams in enum mode"})}};case"no-schema":return un;default:throw Error(`Unsupported output: ${s}`)}}async function Ei(s,c,v){let b=await(0,q.safeParseJSON)({text:s});if(!b.success)throw new Jr({message:"No object generated: could not parse the response.",cause:b.error,text:s,response:v.response,usage:v.usage,finishReason:v.finishReason});let S=await c.validateFinalResult(b.value,{text:s,response:v.response,usage:v.usage});if(!S.success)throw new Jr({message:"No object generated: response did not match schema.",cause:S.error,text:s,response:v.response,usage:v.usage,finishReason:v.finishReason});return S.value}async function qn(s,c,v,b){try{return await Ei(s,c,b)}catch(S){if(v!=null&&Jr.isInstance(S)&&(De.JSONParseError.isInstance(S.cause)||De.TypeValidationError.isInstance(S.cause))){let z=await v({text:s,error:S.cause});if(z===null)throw S;return await Ei(z,c,b)}throw S}}function na({output:s,schema:c,schemaName:v,schemaDescription:b,enumValues:S}){if(s!=null&&s!=="object"&&s!=="array"&&s!=="enum"&&s!=="no-schema")throw new An({parameter:"output",value:s,message:"Invalid output type."});if(s==="no-schema"){if(c!=null)throw new An({parameter:"schema",value:c,message:"Schema is not supported for no-schema output."});if(b!=null)throw new An({parameter:"schemaDescription",value:b,message:"Schema description is not supported for no-schema output."});if(v!=null)throw new An({parameter:"schemaName",value:v,message:"Schema name is not supported for no-schema output."});if(S!=null)throw new An({parameter:"enumValues",value:S,message:"Enum values are not supported for no-schema output."})}if(s==="object"){if(c==null)throw new An({parameter:"schema",value:c,message:"Schema is required for object output."});if(S!=null)throw new An({parameter:"enumValues",value:S,message:"Enum values are not supported for object output."})}if(s==="array"){if(c==null)throw new An({parameter:"schema",value:c,message:"Element schema is required for array output."});if(S!=null)throw new An({parameter:"enumValues",value:S,message:"Enum values are not supported for array output."})}if(s==="enum"){if(c!=null)throw new An({parameter:"schema",value:c,message:"Schema is not supported for enum output."});if(b!=null)throw new An({parameter:"schemaDescription",value:b,message:"Schema description is not supported for enum output."});if(v!=null)throw new An({parameter:"schemaName",value:v,message:"Schema name is not supported for enum output."});if(S==null)throw new An({parameter:"enumValues",value:S,message:"Enum values are required for enum output."});for(let z of S)if(typeof z!="string")throw new An({parameter:"enumValues",value:z,message:"Enum values must be strings."})}}var Oi=(0,q.createIdGenerator)({prefix:"aiobj",size:24});async function mi(s){let{model:c,output:v="object",system:b,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:H,experimental_repairText:se,experimental_telemetry:ee,experimental_download:D,providerOptions:ue,_internal:{generateId:_t=Oi,currentDate:Oe=()=>new Date}={},...qe}=s,Bt=wa(c),yr="enum"in s?s.enum:void 0,{schema:Gr,schemaDescription:Me,schemaName:Dr}="schema"in s?s:{};na({output:v,schema:Gr,schemaName:Dr,schemaDescription:Me,enumValues:yr});let{maxRetries:dn,retry:Fn}=Za({maxRetries:N,abortSignal:I}),hi=vi({output:v,schema:Gr,enumValues:yr}),ii=bt(qe),bi=(0,q.withUserAgentSuffix)(H??{},`ai/${ta}`),_n=ao({model:Bt,telemetry:ee,headers:bi,settings:{...ii,maxRetries:dn}}),wn=Fo(ee),fa=await hi.jsonSchema();try{return await ma({name:"ai.generateObject",attributes:Jn({telemetry:ee,attributes:{...ra({operationId:"ai.generateObject",telemetry:ee}),..._n,"ai.prompt":{input:()=>JSON.stringify({system:b,prompt:S,messages:z})},"ai.schema":fa!=null?{input:()=>JSON.stringify(fa)}:void 0,"ai.schema.name":Dr,"ai.schema.description":Me,"ai.settings.output":hi.type}}),tracer:wn,fn:async ai=>{var Pi;let sa,Ba,Va,ka,Go,ss,xs,ja,ls=await _a({system:b,prompt:S,messages:z}),To=await A({prompt:ls,supportedUrls:await Bt.supportedUrls,download:D}),no=await Fn(()=>ma({name:"ai.generateObject.doGenerate",attributes:Jn({telemetry:ee,attributes:{...ra({operationId:"ai.generateObject.doGenerate",telemetry:ee}),..._n,"ai.prompt.messages":{input:()=>Wa(To)},"gen_ai.system":Bt.provider,"gen_ai.request.model":Bt.modelId,"gen_ai.request.frequency_penalty":ii.frequencyPenalty,"gen_ai.request.max_tokens":ii.maxOutputTokens,"gen_ai.request.presence_penalty":ii.presencePenalty,"gen_ai.request.temperature":ii.temperature,"gen_ai.request.top_k":ii.topK,"gen_ai.request.top_p":ii.topP}}),tracer:wn,fn:async us=>{var Ji,Qo,Do,ji,Xo,lo,Ss,On;let vn,zn=await Bt.doGenerate({responseFormat:{type:"json",schema:fa,name:Dr,description:Me},...bt(qe),prompt:To,providerOptions:ue,abortSignal:I,headers:bi}),Gn={id:(Qo=(Ji=zn.response)==null?void 0:Ji.id)!=null?Qo:_t(),timestamp:(ji=(Do=zn.response)==null?void 0:Do.timestamp)!=null?ji:Oe(),modelId:(lo=(Xo=zn.response)==null?void 0:Xo.modelId)!=null?lo:Bt.modelId,headers:(Ss=zn.response)==null?void 0:Ss.headers,body:(On=zn.response)==null?void 0:On.body},bn=x(zn.content),oi=(vn=zn.content.filter(Kn=>Kn.type==="reasoning"),vn.length===0?void 0:vn.map(Kn=>Kn.text).join(`
`));if(bn===void 0)throw new Jr({message:"No object generated: the model did not return a response.",response:Gn,usage:Sa(zn.usage),finishReason:zn.finishReason.unified});return us.setAttributes(await Jn({telemetry:ee,attributes:{"ai.response.finishReason":zn.finishReason.unified,"ai.response.object":{output:()=>bn},"ai.response.id":Gn.id,"ai.response.model":Gn.modelId,"ai.response.timestamp":Gn.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(zn.providerMetadata),"ai.usage.promptTokens":zn.usage.inputTokens.total,"ai.usage.completionTokens":zn.usage.outputTokens.total,"gen_ai.response.finish_reasons":[zn.finishReason.unified],"gen_ai.response.id":Gn.id,"gen_ai.response.model":Gn.modelId,"gen_ai.usage.input_tokens":zn.usage.inputTokens.total,"gen_ai.usage.output_tokens":zn.usage.outputTokens.total}})),{...zn,objectText:bn,reasoning:oi,responseData:Gn}}}));sa=no.objectText,Ba=no.finishReason.unified,Va=Sa(no.usage),ka=no.warnings,xs=no.providerMetadata,ss=(Pi=no.request)!=null?Pi:{},Go=no.responseData,ja=no.reasoning,Bi({warnings:ka,provider:Bt.provider,model:Bt.modelId});let ws=await qn(sa,hi,se,{response:Go,usage:Va,finishReason:Ba});return ai.setAttributes(await Jn({telemetry:ee,attributes:{"ai.response.finishReason":Ba,"ai.response.object":{output:()=>JSON.stringify(ws)},"ai.response.providerMetadata":JSON.stringify(xs),"ai.usage.promptTokens":Va.inputTokens,"ai.usage.completionTokens":Va.outputTokens}})),new vo({object:ws,reasoning:ja,finishReason:Ba,usage:Va,warnings:ka,request:ss,response:Go,providerMetadata:xs})}})}catch(ai){throw Io(ai)}}var vo=class{constructor(s){this.object=s.object,this.finishReason=s.finishReason,this.usage=s.usage,this.warnings=s.warnings,this.providerMetadata=s.providerMetadata,this.response=s.response,this.request=s.request,this.reasoning=s.reasoning}toJsonResponse(s){var c;return new Response(JSON.stringify(this.object),{status:(c=s?.status)!=null?c:200,headers:St(s?.headers,{"content-type":"application/json; charset=utf-8"})})}};function Ni(s,c){if(s.length!==c.length)throw new An({parameter:"vector1,vector2",value:{vector1Length:s.length,vector2Length:c.length},message:"Vectors must have the same length"});let v=s.length;if(v===0)return 0;let b=0,S=0,z=0;for(let N=0;N<v;N++){let I=s[N],H=c[N];b+=I*I,S+=H*H,z+=I*H}return b===0||S===0?0:z/(Math.sqrt(b)*Math.sqrt(S))}function ha(s){let[c,v]=s.split(",");if(c.split(";")[0].split(":")[1]==null||v==null)throw Error("Invalid data URL format");try{return window.atob(v)}catch{throw Error("Error decoding data URL")}}function to(s,c){if(s===c)return!0;if(s==null||c==null)return!1;if(typeof s!="object"&&typeof c!="object")return s===c;if(s.constructor!==c.constructor)return!1;if(s instanceof Date&&c instanceof Date)return s.getTime()===c.getTime();if(Array.isArray(s)){if(s.length!==c.length)return!1;for(let S=0;S<s.length;S++)if(!to(s[S],c[S]))return!1;return!0}let v=Object.keys(s),b=Object.keys(c);if(v.length!==b.length)return!1;for(let S of v)if(!b.includes(S)||!to(s[S],c[S]))return!1;return!0}var ua=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(s){return new Promise((c,v)=>{this.queue.push(async()=>{try{await s(),c()}catch(b){v(b)}}),this.processQueue()})}};function Ga({chunks:s,initialDelayInMs:c=0,chunkDelayInMs:v=0,_internal:b}){var S;let z=(S=b?.delay)!=null?S:q.delay,N=0;return new ReadableStream({async pull(I){N<s.length?(await z(N===0?c:v),I.enqueue(s[N++])):I.close()}})}var Ui=(0,q.createIdGenerator)({prefix:"aiobj",size:24});function za(s){let{model:c,output:v="object",system:b,prompt:S,messages:z,maxRetries:N,abortSignal:I,headers:H,experimental_repairText:se,experimental_telemetry:ee,experimental_download:D,providerOptions:ue,onError:_t=({error:hi})=>{console.error(hi)},onFinish:Oe,_internal:{generateId:qe=Ui,currentDate:Bt=()=>new Date,now:yr=Bs}={},...Gr}=s,Me="enum"in s&&s.enum?s.enum:void 0,{schema:Dr,schemaDescription:dn,schemaName:Fn}="schema"in s?s:{};return na({output:v,schema:Dr,schemaName:Fn,schemaDescription:dn,enumValues:Me}),new Na({model:c,telemetry:ee,headers:H,settings:Gr,maxRetries:N,abortSignal:I,outputStrategy:vi({output:v,schema:Dr,enumValues:Me}),system:b,prompt:S,messages:z,schemaName:Fn,schemaDescription:dn,providerOptions:ue,repairText:se,onError:_t,onFinish:Oe,download:D,generateId:qe,currentDate:Bt,now:yr})}var Na=class{constructor({model:s,headers:c,telemetry:v,settings:b,maxRetries:S,abortSignal:z,outputStrategy:N,system:I,prompt:H,messages:se,schemaName:ee,schemaDescription:D,providerOptions:ue,repairText:_t,onError:Oe,onFinish:qe,download:Bt,generateId:yr,currentDate:Gr,now:Me}){this._object=new q.DelayedPromise,this._usage=new q.DelayedPromise,this._providerMetadata=new q.DelayedPromise,this._warnings=new q.DelayedPromise,this._request=new q.DelayedPromise,this._response=new q.DelayedPromise,this._finishReason=new q.DelayedPromise;let Dr=wa(s),{maxRetries:dn,retry:Fn}=Za({maxRetries:S,abortSignal:z}),hi=bt(b),ii=ao({model:Dr,telemetry:v,headers:c,settings:{...hi,maxRetries:dn}}),bi=Fo(v),_n=this,wn=Vn(),fa=new TransformStream({transform(ai,Pi){Pi.enqueue(ai),ai.type==="error"&&Oe({error:Io(ai.error)})}});this.baseStream=wn.stream.pipeThrough(fa),ma({name:"ai.streamObject",attributes:Jn({telemetry:v,attributes:{...ra({operationId:"ai.streamObject",telemetry:v}),...ii,"ai.prompt":{input:()=>JSON.stringify({system:I,prompt:H,messages:se})},"ai.schema":{input:async()=>JSON.stringify(await N.jsonSchema())},"ai.schema.name":ee,"ai.schema.description":D,"ai.settings.output":N.type}}),tracer:bi,endWhenDone:!1,fn:async ai=>{let Pi,sa,Ba,Va,ka,Go,ss,xs=await _a({system:I,prompt:H,messages:se}),ja={responseFormat:{type:"json",schema:await N.jsonSchema(),name:ee,description:D},...bt(b),prompt:await A({prompt:xs,supportedUrls:await Dr.supportedUrls,download:Bt}),providerOptions:ue,abortSignal:z,headers:c,includeRawChunks:!1},{result:{stream:ls,response:To,request:no},doStreamSpan:ws,startTimestampMs:us}=await Fn(()=>ma({name:"ai.streamObject.doStream",attributes:Jn({telemetry:v,attributes:{...ra({operationId:"ai.streamObject.doStream",telemetry:v}),...ii,"ai.prompt.messages":{input:()=>Wa(ja.prompt)},"gen_ai.system":Dr.provider,"gen_ai.request.model":Dr.modelId,"gen_ai.request.frequency_penalty":hi.frequencyPenalty,"gen_ai.request.max_tokens":hi.maxOutputTokens,"gen_ai.request.presence_penalty":hi.presencePenalty,"gen_ai.request.temperature":hi.temperature,"gen_ai.request.top_k":hi.topK,"gen_ai.request.top_p":hi.topP}}),tracer:bi,endWhenDone:!1,fn:async On=>({startTimestampMs:Me(),doStreamSpan:On,result:await Dr.doStream(ja)})}));_n._request.resolve(no??{});let Ji=gs(),Qo="",Do="",ji={id:yr(),timestamp:Gr(),modelId:Dr.modelId},Xo=!0,lo=!0,Ss=ls.pipeThrough(new TransformStream({transform:(On,vn)=>{switch(On.type){case"text-delta":vn.enqueue(On.delta);break;case"response-metadata":case"finish":case"error":case"stream-start":vn.enqueue(On)}}})).pipeThrough(new TransformStream({async transform(On,vn){var zn,Gn,bn;if(typeof On=="object"&&On.type==="stream-start"){Pi=On.warnings;return}if(Xo){let oi=Me()-us;Xo=!1,ws.addEvent("ai.stream.firstChunk",{"ai.stream.msToFirstChunk":oi}),ws.setAttributes({"ai.stream.msToFirstChunk":oi})}if(typeof On=="string"){Qo+=On,Do+=On;let{value:oi,state:Kn}=await fe(Qo);if(oi!==void 0&&!to(Go,oi)){let kr=await N.validatePartialResult({value:oi,textDelta:Do,latestObject:ss,isFirstDelta:lo,isFinalDelta:Kn==="successful-parse"});kr.success&&!to(ss,kr.value.partial)&&(Go=oi,ss=kr.value.partial,vn.enqueue({type:"object",object:ss}),vn.enqueue({type:"text-delta",textDelta:kr.value.textDelta}),Do="",lo=!1)}return}switch(On.type){case"response-metadata":ji={id:(zn=On.id)!=null?zn:ji.id,timestamp:(Gn=On.timestamp)!=null?Gn:ji.timestamp,modelId:(bn=On.modelId)!=null?bn:ji.modelId};break;case"finish":Do!==""&&vn.enqueue({type:"text-delta",textDelta:Do}),sa=On.finishReason.unified,Ji=Sa(On.usage),Ba=On.providerMetadata,vn.enqueue({...On,finishReason:On.finishReason.unified,usage:Ji,response:ji}),Bi({warnings:Pi??[],provider:Dr.provider,model:Dr.modelId}),_n._usage.resolve(Ji),_n._providerMetadata.resolve(Ba),_n._warnings.resolve(Pi),_n._response.resolve({...ji,headers:To?.headers}),_n._finishReason.resolve(sa??"other");try{Va=await qn(Qo,N,_t,{response:ji,usage:Ji,finishReason:sa}),_n._object.resolve(Va)}catch(oi){ka=oi,_n._object.reject(oi)}break;default:vn.enqueue(On)}},async flush(On){try{let vn=Ji??{promptTokens:NaN,completionTokens:NaN,totalTokens:NaN};ws.setAttributes(await Jn({telemetry:v,attributes:{"ai.response.finishReason":sa,"ai.response.object":{output:()=>JSON.stringify(Va)},"ai.response.id":ji.id,"ai.response.model":ji.modelId,"ai.response.timestamp":ji.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(Ba),"ai.usage.inputTokens":vn.inputTokens,"ai.usage.outputTokens":vn.outputTokens,"ai.usage.totalTokens":vn.totalTokens,"ai.usage.reasoningTokens":vn.reasoningTokens,"ai.usage.cachedInputTokens":vn.cachedInputTokens,"gen_ai.response.finish_reasons":[sa],"gen_ai.response.id":ji.id,"gen_ai.response.model":ji.modelId,"gen_ai.usage.input_tokens":vn.inputTokens,"gen_ai.usage.output_tokens":vn.outputTokens}})),ws.end(),ai.setAttributes(await Jn({telemetry:v,attributes:{"ai.usage.inputTokens":vn.inputTokens,"ai.usage.outputTokens":vn.outputTokens,"ai.usage.totalTokens":vn.totalTokens,"ai.usage.reasoningTokens":vn.reasoningTokens,"ai.usage.cachedInputTokens":vn.cachedInputTokens,"ai.response.object":{output:()=>JSON.stringify(Va)},"ai.response.providerMetadata":JSON.stringify(Ba)}})),await qe?.({usage:vn,object:Va,error:ka,response:{...ji,headers:To?.headers},warnings:Pi,providerMetadata:Ba})}catch(vn){On.enqueue({type:"error",error:vn})}finally{ai.end()}}}));wn.addStream(Ss)}}).catch(ai=>{wn.addStream(new ReadableStream({start(Pi){Pi.enqueue({type:"error",error:ai}),Pi.close()}}))}).finally(()=>{wn.close()}),this.outputStrategy=N}get object(){return this._object.promise}get usage(){return this._usage.promise}get providerMetadata(){return this._providerMetadata.promise}get warnings(){return this._warnings.promise}get request(){return this._request.promise}get response(){return this._response.promise}get finishReason(){return this._finishReason.promise}get partialObjectStream(){return Or(this.baseStream.pipeThrough(new TransformStream({transform(s,c){switch(s.type){case"object":c.enqueue(s.object);break;case"text-delta":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${s}`)}}})))}get elementStream(){return this.outputStrategy.createElementStream(this.baseStream)}get textStream(){return Or(this.baseStream.pipeThrough(new TransformStream({transform(s,c){switch(s.type){case"text-delta":c.enqueue(s.textDelta);break;case"object":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${s}`)}}})))}get fullStream(){return Or(this.baseStream)}pipeTextStreamToResponse(s,c){Zt({response:s,textStream:this.textStream,...c})}toTextStreamResponse(s){return dt({textStream:this.textStream,...s})}},Pa=class extends F{constructor({data:s,mediaType:c}){super({data:s,mediaType:c});let v="mp3";if(c){let b=c.split("/");b.length===2&&c!=="audio/mpeg"&&(v=b[1])}if(!v)throw Error("Audio format must be provided or determinable from media type");this.format=v}};async function Mo({model:s,text:c,voice:v,outputFormat:b,instructions:S,speed:z,language:N,providerOptions:I={},maxRetries:H,abortSignal:se,headers:ee}){var D;let ue=function(Bt){var yr,Gr;if(typeof Bt!="string"){if(Bt.specificationVersion!=="v3"&&Bt.specificationVersion!=="v2")throw new xr({version:Bt.specificationVersion,provider:Bt.provider,modelId:Bt.modelId});return is(Bt)}return(Gr=(yr=Ko()).speechModel)==null?void 0:Gr.call(yr,Bt)}(s);if(!ue)throw Error("Model could not be resolved");let _t=(0,q.withUserAgentSuffix)(ee??{},`ai/${ta}`),{retry:Oe}=Za({maxRetries:H,abortSignal:se}),qe=await Oe(()=>ue.doGenerate({text:c,voice:v,outputFormat:b,instructions:S,speed:z,language:N,abortSignal:se,headers:_t,providerOptions:I}));if(!qe.audio||qe.audio.length===0)throw new di({responses:[qe.response]});return Bi({warnings:qe.warnings,provider:ue.provider,model:ue.modelId}),new En({audio:new Pa({data:qe.audio,mediaType:(D=fo({data:qe.audio,signatures:Rs}))!=null?D:"audio/mp3"}),warnings:qe.warnings,responses:[qe.response],providerMetadata:qe.providerMetadata})}var En=class{constructor(s){var c;this.audio=s.audio,this.warnings=s.warnings,this.responses=s.responses,this.providerMetadata=(c=s.providerMetadata)!=null?c:{}}};function li({messages:s,reasoning:c="none",toolCalls:v=[],emptyMessages:b="remove"}){for(let S of((c==="all"||c==="before-last-message")&&(s=s.map((z,N)=>z.role!=="assistant"||typeof z.content=="string"||c==="before-last-message"&&N===s.length-1?z:{...z,content:z.content.filter(I=>I.type!=="reasoning")})),v==="none"?v=[]:v==="all"?v=[{type:"all"}]:v==="before-last-message"?v=[{type:"before-last-message"}]:typeof v=="string"&&(v=[{type:v}]),v)){let z=S.type==="all"?void 0:S.type==="before-last-message"?1:Number(S.type.slice(12).slice(0,-9)),N=new Set,I=new Set;if(z!=null){for(let H of s.slice(-z))if((H.role==="assistant"||H.role==="tool")&&typeof H.content!="string")for(let se of H.content)se.type==="tool-call"||se.type==="tool-result"?N.add(se.toolCallId):(se.type==="tool-approval-request"||se.type==="tool-approval-response")&&I.add(se.approvalId)}s=s.map((H,se)=>{if(H.role!=="assistant"&&H.role!=="tool"||typeof H.content=="string"||z&&se>=s.length-z)return H;let ee={},D={};return{...H,content:H.content.filter(ue=>ue.type!=="tool-call"&&ue.type!=="tool-result"&&ue.type!=="tool-approval-request"&&ue.type!=="tool-approval-response"||(ue.type==="tool-call"?ee[ue.toolCallId]=ue.toolName:ue.type==="tool-approval-request"&&(D[ue.approvalId]=ee[ue.toolCallId]),!!((ue.type==="tool-call"||ue.type==="tool-result")&&N.has(ue.toolCallId)||(ue.type==="tool-approval-request"||ue.type==="tool-approval-response")&&I.has(ue.approvalId))||S.tools!=null&&!S.tools.includes(ue.type==="tool-call"||ue.type==="tool-result"?ue.toolName:D[ue.approvalId])))}})}return b==="remove"&&(s=s.filter(S=>S.content.length>0)),s}var so={word:/\S+\s+/m,line:/\n+/m};function bs({delayInMs:s=10,chunking:c="word",_internal:{delay:v=q.delay}={}}={}){let b;if(typeof c=="function")b=S=>{let z=c(S);if(z==null)return null;if(!z.length)throw Error("Chunking function must return a non-empty string.");if(!S.startsWith(z))throw Error(`Chunking function must return a match that is a prefix of the buffer. Received: "${z}" expected to start with "${S}"`);return z};else{let S=typeof c=="string"?so[c]:c;if(S==null)throw new De.InvalidArgumentError({argument:"chunking",message:`Chunking must be "word" or "line" or a RegExp. Received: ${c}`});b=z=>{let N=S.exec(z);return N?z.slice(0,N.index)+N?.[0]:null}}return()=>{let S="",z="";return new TransformStream({async transform(N,I){let H;if(N.type!=="text-delta"){S.length>0&&(I.enqueue({type:"text-delta",text:S,id:z}),S=""),I.enqueue(N);return}for(N.id!==z&&S.length>0&&(I.enqueue({type:"text-delta",text:S,id:z}),S=""),S+=N.text,z=N.id;(H=b(S))!=null;)I.enqueue({type:"text-delta",text:H,id:z}),S=S.slice(H.length),await v(s)}})}}function Bo({settings:s}){return{specificationVersion:"v3",transformParams:async({params:c})=>Zo(s,c)}}function Wo({settings:s}){return{specificationVersion:"v3",transformParams:async({params:c})=>Zo(s,c)}}function _s({tagName:s,separator:c=`
`,startWithReasoning:v=!1}){let b=`<${s}>`,S=`</${s}>`;return{specificationVersion:"v3",wrapGenerate:async({doGenerate:z})=>{let{content:N,...I}=await z(),H=[];for(let se of N){if(se.type!=="text"){H.push(se);continue}let ee=v?b+se.text:se.text,D=RegExp(`${b}(.*?)${S}`,"gs"),ue=Array.from(ee.matchAll(D));if(!ue.length){H.push(se);continue}let _t=ue.map(qe=>qe[1]).join(c),Oe=ee;for(let qe=ue.length-1;qe>=0;qe--){let Bt=ue[qe],yr=Oe.slice(0,Bt.index),Gr=Oe.slice(Bt.index+Bt[0].length);Oe=yr+(yr.length>0&&Gr.length>0?c:"")+Gr}H.push({type:"reasoning",text:_t}),H.push({type:"text",text:Oe})}return{content:H,...I}},wrapStream:async({doStream:z})=>{let N,{stream:I,...H}=await z(),se={};return{stream:I.pipeThrough(new TransformStream({transform:(ee,D)=>{if(ee.type==="text-start"){N=ee;return}if(ee.type==="text-end"&&N&&(D.enqueue(N),N=void 0),ee.type!=="text-delta")return void D.enqueue(ee);se[ee.id]==null&&(se[ee.id]={isFirstReasoning:!0,isFirstText:!0,afterSwitch:!1,isReasoning:v,buffer:"",idCounter:0,textId:ee.id});let ue=se[ee.id];function _t(Oe){if(Oe.length>0){let qe=!ue.afterSwitch||(ue.isReasoning?ue.isFirstReasoning:ue.isFirstText)?"":c;ue.isReasoning&&(ue.afterSwitch||ue.isFirstReasoning)&&D.enqueue({type:"reasoning-start",id:`reasoning-${ue.idCounter}`}),ue.isReasoning?D.enqueue({type:"reasoning-delta",delta:qe+Oe,id:`reasoning-${ue.idCounter}`}):(N&&(D.enqueue(N),N=void 0),D.enqueue({type:"text-delta",delta:qe+Oe,id:ue.textId})),ue.afterSwitch=!1,ue.isReasoning?ue.isFirstReasoning=!1:ue.isFirstText=!1}}for(ue.buffer+=ee.delta;;){let Oe=ue.isReasoning?S:b,qe=function(Bt,yr){if(yr.length===0)return null;let Gr=Bt.indexOf(yr);if(Gr!==-1)return Gr;for(let Me=Bt.length-1;Me>=0;Me--){let Dr=Bt.substring(Me);if(yr.startsWith(Dr))return Me}return null}(ue.buffer,Oe);if(qe==null){_t(ue.buffer),ue.buffer="";break}if(_t(ue.buffer.slice(0,qe)),qe+Oe.length<=ue.buffer.length)ue.buffer=ue.buffer.slice(qe+Oe.length),ue.isReasoning&&D.enqueue({type:"reasoning-end",id:`reasoning-${ue.idCounter++}`}),ue.isReasoning=!ue.isReasoning,ue.afterSwitch=!0;else{ue.buffer=ue.buffer.slice(qe);break}}}})),...H}}}}function T(){return{specificationVersion:"v3",wrapStream:async({doGenerate:s})=>{let c=await s(),v=0;return{stream:new ReadableStream({start(b){for(let S of(b.enqueue({type:"stream-start",warnings:c.warnings}),b.enqueue({type:"response-metadata",...c.response}),c.content))switch(S.type){case"text":S.text.length>0&&(b.enqueue({type:"text-start",id:String(v)}),b.enqueue({type:"text-delta",id:String(v),delta:S.text}),b.enqueue({type:"text-end",id:String(v)}),v++);break;case"reasoning":b.enqueue({type:"reasoning-start",id:String(v),providerMetadata:S.providerMetadata}),b.enqueue({type:"reasoning-delta",id:String(v),delta:S.text}),b.enqueue({type:"reasoning-end",id:String(v)}),v++;break;default:b.enqueue(S)}b.enqueue({type:"finish",finishReason:c.finishReason,usage:c.usage,providerMetadata:c.providerMetadata}),b.close()}}),request:c.request,response:c.response}}}}function o(s){return JSON.stringify(s.input)}function l({prefix:s="Input Examples:",format:c=o,remove:v=!0}={}){return{specificationVersion:"v3",transformParams:async({params:b})=>{var S;if(!((S=b.tools)!=null&&S.length))return b;let z=b.tools.map(N=>{var I;if(N.type!=="function"||!((I=N.inputExamples)!=null&&I.length))return N;let H=N.inputExamples.map((D,ue)=>c(D,ue)).join(`
`),se=`${s}
${H}`,ee=N.description?`${N.description}

${se}`:se;return{...N,description:ee,inputExamples:v?void 0:N.inputExamples}});return{...b,tools:z}}}}var C=({model:s,middleware:c,modelId:v,providerId:b})=>[...P(c)].reverse().reduce((S,z)=>Z({model:S,middleware:z,modelId:v,providerId:b}),s),Z=({model:s,middleware:{transformParams:c,wrapGenerate:v,wrapStream:b,overrideProvider:S,overrideModelId:z,overrideSupportedUrls:N},modelId:I,providerId:H})=>{var se,ee,D;async function ue({params:_t,type:Oe}){return c?await c({params:_t,type:Oe,model:s}):_t}return{specificationVersion:"v3",provider:(se=H??S?.({model:s}))!=null?se:s.provider,modelId:(ee=I??z?.({model:s}))!=null?ee:s.modelId,supportedUrls:(D=N?.({model:s}))!=null?D:s.supportedUrls,async doGenerate(_t){let Oe=await ue({params:_t,type:"generate"}),qe=async()=>s.doGenerate(Oe);return v?v({doGenerate:qe,doStream:async()=>s.doStream(Oe),params:Oe,model:s}):qe()},async doStream(_t){let Oe=await ue({params:_t,type:"stream"}),qe=async()=>s.doGenerate(Oe),Bt=async()=>s.doStream(Oe);return b?b({doGenerate:qe,doStream:Bt,params:Oe,model:s}):Bt()}}},oe=({model:s,middleware:c,modelId:v,providerId:b})=>[...P(c)].reverse().reduce((S,z)=>Be({model:S,middleware:z,modelId:v,providerId:b}),s),Be=({model:s,middleware:{transformParams:c,wrapEmbed:v,overrideProvider:b,overrideModelId:S,overrideMaxEmbeddingsPerCall:z,overrideSupportsParallelCalls:N},modelId:I,providerId:H})=>{var se,ee,D,ue;async function _t({params:Oe}){return c?await c({params:Oe,model:s}):Oe}return{specificationVersion:"v3",provider:(se=H??b?.({model:s}))!=null?se:s.provider,modelId:(ee=I??S?.({model:s}))!=null?ee:s.modelId,maxEmbeddingsPerCall:(D=z?.({model:s}))!=null?D:s.maxEmbeddingsPerCall,supportsParallelCalls:(ue=N?.({model:s}))!=null?ue:s.supportsParallelCalls,async doEmbed(Oe){let qe=await _t({params:Oe}),Bt=async()=>s.doEmbed(qe);return v?v({doEmbed:Bt,params:qe,model:s}):Bt()}}};function ot(s){return"specificationVersion"in s&&s.specificationVersion==="v3"?s:{specificationVersion:"v3",languageModel:c=>Rr(s.languageModel(c)),embeddingModel:c=>tr(s.textEmbeddingModel(c)),imageModel:c=>Ii(s.imageModel(c)),transcriptionModel:s.transcriptionModel?c=>As(s.transcriptionModel(c)):void 0,speechModel:s.speechModel?c=>is(s.speechModel(c)):void 0,rerankingModel:void 0}}function or({provider:s,languageModelMiddleware:c}){let v=ot(s);return{specificationVersion:"v3",languageModel:b=>C({model:v.languageModel(b),middleware:c}),embeddingModel:v.embeddingModel,imageModel:v.imageModel,transcriptionModel:v.transcriptionModel,speechModel:v.speechModel,rerankingModel:v.rerankingModel}}function Ir({languageModels:s,embeddingModels:c,imageModels:v,transcriptionModels:b,speechModels:S,rerankingModels:z,fallbackProvider:N}){let I=N?ot(N):void 0;return{specificationVersion:"v3",languageModel(H){if(s!=null&&H in s)return s[H];if(I)return I.languageModel(H);throw new De.NoSuchModelError({modelId:H,modelType:"languageModel"})},embeddingModel(H){if(c!=null&&H in c)return c[H];if(I)return I.embeddingModel(H);throw new De.NoSuchModelError({modelId:H,modelType:"embeddingModel"})},imageModel(H){if(v!=null&&H in v)return v[H];if(I?.imageModel)return I.imageModel(H);throw new De.NoSuchModelError({modelId:H,modelType:"imageModel"})},transcriptionModel(H){if(b!=null&&H in b)return b[H];if(I?.transcriptionModel)return I.transcriptionModel(H);throw new De.NoSuchModelError({modelId:H,modelType:"transcriptionModel"})},speechModel(H){if(S!=null&&H in S)return S[H];if(I?.speechModel)return I.speechModel(H);throw new De.NoSuchModelError({modelId:H,modelType:"speechModel"})},rerankingModel(H){if(z!=null&&H in z)return z[H];if(I?.rerankingModel)return I.rerankingModel(H);throw new De.NoSuchModelError({modelId:H,modelType:"rerankingModel"})}}}var tn="AI_NoSuchProviderError",yn=`vercel.ai.error.${tn}`,ut=Symbol.for(yn),gr=class extends De.NoSuchModelError{constructor({modelId:s,modelType:c,providerId:v,availableProviders:b,message:S=`No such provider: ${v} (available providers: ${b.join()})`}){super({errorName:tn,modelId:s,modelType:c,message:S}),this[pe]=!0,this.providerId=v,this.availableProviders=b}static isInstance(s){return De.AISDKError.hasMarker(s,yn)}};function _r(s,{separator:c=":",languageModelMiddleware:v}={}){let b=new Er({separator:c,languageModelMiddleware:v});for(let[S,z]of Object.entries(s))b.registerProvider({id:S,provider:z});return b}pe=ut;var Er=class{constructor({separator:s,languageModelMiddleware:c}){this.providers={},this.separator=s,this.languageModelMiddleware=c}registerProvider({id:s,provider:c}){this.providers[s]=c}getProvider(s,c){let v=this.providers[s];if(v==null)throw new gr({modelId:s,modelType:c,providerId:s,availableProviders:Object.keys(this.providers)});return v}splitId(s,c){let v=s.indexOf(this.separator);if(v===-1)throw new De.NoSuchModelError({modelId:s,modelType:c,message:`Invalid ${c} id for registry: ${s} (must be in the format "providerId${this.separator}modelId")`});return[s.slice(0,v),s.slice(v+this.separator.length)]}languageModel(s){var c,v;let[b,S]=this.splitId(s,"languageModel"),z=(v=(c=this.getProvider(b,"languageModel")).languageModel)==null?void 0:v.call(c,S);if(z==null)throw new De.NoSuchModelError({modelId:s,modelType:"languageModel"});return this.languageModelMiddleware!=null&&(z=C({model:z,middleware:this.languageModelMiddleware})),z}embeddingModel(s){var c;let[v,b]=this.splitId(s,"embeddingModel"),S=this.getProvider(v,"embeddingModel"),z=(c=S.embeddingModel)==null?void 0:c.call(S,b);if(z==null)throw new De.NoSuchModelError({modelId:s,modelType:"embeddingModel"});return z}imageModel(s){var c;let[v,b]=this.splitId(s,"imageModel"),S=this.getProvider(v,"imageModel"),z=(c=S.imageModel)==null?void 0:c.call(S,b);if(z==null)throw new De.NoSuchModelError({modelId:s,modelType:"imageModel"});return z}transcriptionModel(s){var c;let[v,b]=this.splitId(s,"transcriptionModel"),S=this.getProvider(v,"transcriptionModel"),z=(c=S.transcriptionModel)==null?void 0:c.call(S,b);if(z==null)throw new De.NoSuchModelError({modelId:s,modelType:"transcriptionModel"});return z}speechModel(s){var c;let[v,b]=this.splitId(s,"speechModel"),S=this.getProvider(v,"speechModel"),z=(c=S.speechModel)==null?void 0:c.call(S,b);if(z==null)throw new De.NoSuchModelError({modelId:s,modelType:"speechModel"});return z}rerankingModel(s){var c;let[v,b]=this.splitId(s,"rerankingModel"),S=this.getProvider(v,"rerankingModel"),z=(c=S.rerankingModel)==null?void 0:c.call(S,b);if(z==null)throw new De.NoSuchModelError({modelId:s,modelType:"rerankingModel"});return z}};async function ln({model:s,documents:c,query:v,topN:b,maxRetries:S,abortSignal:z,headers:N,providerOptions:I,experimental_telemetry:H}){if(c.length===0)return new mn({originalDocuments:[],ranking:[],providerMetadata:void 0,response:{timestamp:new Date,modelId:s.modelId}});let{maxRetries:se,retry:ee}=Za({maxRetries:S,abortSignal:z}),D=typeof c[0]=="string"?{type:"text",values:c}:{type:"object",values:c},ue=ao({model:s,telemetry:H,headers:N,settings:{maxRetries:se}}),_t=Fo(H);return ma({name:"ai.rerank",attributes:Jn({telemetry:H,attributes:{...ra({operationId:"ai.rerank",telemetry:H}),...ue,"ai.documents":{input:()=>c.map(Oe=>JSON.stringify(Oe))}}}),tracer:_t,fn:async()=>{var Oe,qe;let{ranking:Bt,response:yr,providerMetadata:Gr,warnings:Me}=await ee(()=>ma({name:"ai.rerank.doRerank",attributes:Jn({telemetry:H,attributes:{...ra({operationId:"ai.rerank.doRerank",telemetry:H}),...ue,"ai.documents":{input:()=>c.map(Dr=>JSON.stringify(Dr))}}}),tracer:_t,fn:async Dr=>{let dn=await s.doRerank({documents:D,query:v,topN:b,providerOptions:I,abortSignal:z,headers:N}),Fn=dn.ranking;return Dr.setAttributes(await Jn({telemetry:H,attributes:{"ai.ranking.type":D.type,"ai.ranking":{output:()=>Fn.map(hi=>JSON.stringify(hi))}}})),{ranking:Fn,providerMetadata:dn.providerMetadata,response:dn.response,warnings:dn.warnings}}}));return Bi({warnings:Me??[],provider:s.provider,model:s.modelId}),new mn({originalDocuments:c,ranking:Bt.map(Dr=>({originalIndex:Dr.index,score:Dr.relevanceScore,document:c[Dr.index]})),providerMetadata:Gr,response:{id:yr?.id,timestamp:(Oe=yr?.timestamp)!=null?Oe:new Date,modelId:(qe=yr?.modelId)!=null?qe:s.modelId,headers:yr?.headers,body:yr?.body}})}})}var mn=class{constructor(s){this.originalDocuments=s.originalDocuments,this.ranking=s.ranking,this.response=s.response,this.providerMetadata=s.providerMetadata}get rerankedDocuments(){return this.ranking.map(s=>s.document)}},Rn=class extends De.AISDKError{constructor(s){super({name:"AI_NoTranscriptGeneratedError",message:"No transcript generated."}),this.responses=s.responses}};async function Mn({model:s,audio:c,providerOptions:v={},maxRetries:b,abortSignal:S,headers:z}){let N=function(D){var ue,_t;if(typeof D!="string"){if(D.specificationVersion!=="v3"&&D.specificationVersion!=="v2")throw new xr({version:D.specificationVersion,provider:D.provider,modelId:D.modelId});return As(D)}return(_t=(ue=Ko()).transcriptionModel)==null?void 0:_t.call(ue,D)}(s);if(!N)throw Error("Model could not be resolved");let{retry:I}=Za({maxRetries:b,abortSignal:S}),H=(0,q.withUserAgentSuffix)(z??{},`ai/${ta}`),se=c instanceof URL?(await Fa({url:c})).data:R(c),ee=await I(()=>{var D;return N.doGenerate({audio:se,abortSignal:S,headers:H,providerOptions:v,mediaType:(D=fo({data:se,signatures:Rs}))!=null?D:"audio/wav"})});if(Bi({warnings:ee.warnings,provider:N.provider,model:N.modelId}),!ee.text)throw new Rn({responses:[ee.response]});return new $o({text:ee.text,segments:ee.segments,language:ee.language,durationInSeconds:ee.durationInSeconds,warnings:ee.warnings,responses:[ee.response],providerMetadata:ee.providerMetadata})}var $o=class{constructor(s){var c;this.text=s.text,this.segments=s.segments,this.language=s.language,this.durationInSeconds=s.durationInSeconds,this.warnings=s.warnings,this.responses=s.responses,this.providerMetadata=(c=s.providerMetadata)!=null?c:{}}};async function ro({stream:s,onTextPart:c}){let v=s.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:b,value:S}=await v.read();if(b)break;await c(S)}}async function Vi({api:s,prompt:c,credentials:v,headers:b,body:S,streamProtocol:z="data",setCompletion:N,setLoading:I,setError:H,setAbortController:se,onFinish:ee,onError:D,fetch:ue=fetch}){var _t;try{I(!0),H(void 0);let Oe=new AbortController;se(Oe),N("");let qe=await ue(s,{method:"POST",body:JSON.stringify({prompt:c,...S}),credentials:v,headers:(0,q.withUserAgentSuffix)({"Content-Type":"application/json",...b},`ai-sdk/${ta}`,(0,q.getRuntimeEnvironmentUserAgent)()),signal:Oe.signal}).catch(yr=>{throw yr});if(!qe.ok)throw Error((_t=await qe.text())!=null?_t:"Failed to fetch the chat response.");if(!qe.body)throw Error("The response body is empty.");let Bt="";switch(z){case"text":await ro({stream:qe.body,onTextPart:yr=>{Bt+=yr,N(Bt)}});break;case"data":await $i({stream:(0,q.parseJsonEventStream)({stream:qe.body,schema:Ur}).pipeThrough(new TransformStream({async transform(yr){if(!yr.success)throw yr.error;let Gr=yr.value;if(Gr.type==="text-delta")Bt+=Gr.delta,N(Bt);else if(Gr.type==="error")throw Error(Gr.errorText)}})),onError:yr=>{throw yr}});break;default:throw Error(`Unknown stream protocol: ${z}`)}return ee&&ee(c,Bt),se(null),Bt}catch(Oe){if(Oe.name==="AbortError")return se(null),null;Oe instanceof Error&&D&&D(Oe),H(Oe)}finally{I(!1)}}async function Hi(s){if(s==null)return[];if(!mr.FileList||!(s instanceof mr.FileList))throw Error("FileList is not supported in the current environment");return Promise.all(Array.from(s).map(async c=>{let{name:v,type:b}=c;return{type:"file",mediaType:b,filename:v,url:await new Promise((S,z)=>{let N=new FileReader;N.onload=I=>{var H;S((H=I.target)==null?void 0:H.result)},N.onerror=I=>z(I),N.readAsDataURL(c)})}}))}var Eo=class{constructor({api:s="/api/chat",credentials:c,headers:v,body:b,fetch:S,prepareSendMessagesRequest:z,prepareReconnectToStreamRequest:N}){this.api=s,this.credentials=c,this.headers=v,this.body=b,this.fetch=S,this.prepareSendMessagesRequest=z,this.prepareReconnectToStreamRequest=N}async sendMessages({abortSignal:s,...c}){var v,b,S,z,N;let I=await(0,q.resolve)(this.body),H=await(0,q.resolve)(this.headers),se=await(0,q.resolve)(this.credentials),ee={...(0,q.normalizeHeaders)(H),...(0,q.normalizeHeaders)(c.headers)},D=await((v=this.prepareSendMessagesRequest)==null?void 0:v.call(this,{api:this.api,id:c.chatId,messages:c.messages,body:{...I,...c.body},headers:ee,credentials:se,requestMetadata:c.metadata,trigger:c.trigger,messageId:c.messageId})),ue=(b=D?.api)!=null?b:this.api,_t=D?.headers!==void 0?(0,q.normalizeHeaders)(D.headers):ee,Oe=D?.body!==void 0?D.body:{...I,...c.body,id:c.chatId,messages:c.messages,trigger:c.trigger,messageId:c.messageId},qe=(S=D?.credentials)!=null?S:se,Bt=(z=this.fetch)!=null?z:mr.fetch,yr=await Bt(ue,{method:"POST",headers:(0,q.withUserAgentSuffix)({"Content-Type":"application/json",..._t},`ai-sdk/${ta}`,(0,q.getRuntimeEnvironmentUserAgent)()),body:JSON.stringify(Oe),credentials:qe,signal:s});if(!yr.ok)throw Error((N=await yr.text())!=null?N:"Failed to fetch the chat response.");if(!yr.body)throw Error("The response body is empty.");return this.processResponseStream(yr.body)}async reconnectToStream(s){var c,v,b,S,z;let N=await(0,q.resolve)(this.body),I=await(0,q.resolve)(this.headers),H=await(0,q.resolve)(this.credentials),se={...(0,q.normalizeHeaders)(I),...(0,q.normalizeHeaders)(s.headers)},ee=await((c=this.prepareReconnectToStreamRequest)==null?void 0:c.call(this,{api:this.api,id:s.chatId,body:{...N,...s.body},headers:se,credentials:H,requestMetadata:s.metadata})),D=(v=ee?.api)!=null?v:`${this.api}/${s.chatId}/stream`,ue=ee?.headers!==void 0?(0,q.normalizeHeaders)(ee.headers):se,_t=(b=ee?.credentials)!=null?b:H,Oe=(S=this.fetch)!=null?S:mr.fetch,qe=await Oe(D,{method:"GET",headers:(0,q.withUserAgentSuffix)(ue,`ai-sdk/${ta}`,(0,q.getRuntimeEnvironmentUserAgent)()),credentials:_t});if(qe.status===204)return null;if(!qe.ok)throw Error((z=await qe.text())!=null?z:"Failed to fetch the chat response.");if(!qe.body)throw Error("The response body is empty.");return this.processResponseStream(qe.body)}},Os=class extends Eo{constructor(s={}){super(s)}processResponseStream(s){return(0,q.parseJsonEventStream)({stream:s,schema:Ur}).pipeThrough(new TransformStream({async transform(c,v){if(!c.success)throw c.error;v.enqueue(c.value)}}))}},Hs=class{constructor({generateId:s=q.generateId,id:c=s(),transport:v=new Os,messageMetadataSchema:b,dataPartSchemas:S,state:z,onError:N,onToolCall:I,onFinish:H,onData:se,sendAutomaticallyWhen:ee}){this.activeResponse=void 0,this.jobExecutor=new ua,this.sendMessage=async(D,ue)=>{var _t,Oe,qe,Bt;let yr;if(D==null)return void await this.makeRequest({trigger:"submit-message",messageId:(_t=this.lastMessage)==null?void 0:_t.id,...ue});if(yr="text"in D||"files"in D?{parts:[...Array.isArray(D.files)?D.files:await Hi(D.files),..."text"in D&&D.text!=null?[{type:"text",text:D.text}]:[]]}:D,D.messageId!=null){let Gr=this.state.messages.findIndex(Me=>Me.id===D.messageId);if(Gr===-1)throw Error(`message with id ${D.messageId} not found`);if(this.state.messages[Gr].role!=="user")throw Error(`message with id ${D.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,Gr+1),this.state.replaceMessage(Gr,{...yr,id:D.messageId,role:(Oe=yr.role)!=null?Oe:"user",metadata:D.metadata})}else this.state.pushMessage({...yr,id:(qe=yr.id)!=null?qe:this.generateId(),role:(Bt=yr.role)!=null?Bt:"user",metadata:D.metadata});await this.makeRequest({trigger:"submit-message",messageId:D.messageId,...ue})},this.regenerate=async({messageId:D,...ue}={})=>{let _t=D==null?this.state.messages.length-1:this.state.messages.findIndex(Oe=>Oe.id===D);if(_t===-1)throw Error(`message ${D} not found`);this.state.messages=this.state.messages.slice(0,this.messages[_t].role==="assistant"?_t:_t+1),await this.makeRequest({trigger:"regenerate-message",messageId:D,...ue})},this.resumeStream=async(D={})=>{await this.makeRequest({trigger:"resume-stream",...D})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolApprovalResponse=async({id:D,approved:ue,reason:_t})=>this.jobExecutor.run(async()=>{var Oe,qe;let Bt=this.state.messages,yr=Bt[Bt.length-1],Gr=Me=>qr(Me)&&Me.state==="approval-requested"&&Me.approval.id===D?{...Me,state:"approval-responded",approval:{id:D,approved:ue,reason:_t}}:Me;this.state.replaceMessage(Bt.length-1,{...yr,parts:yr.parts.map(Gr)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(Gr)),this.status!=="streaming"&&this.status!=="submitted"&&((Oe=this.sendAutomaticallyWhen)==null?void 0:Oe.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(qe=this.lastMessage)==null?void 0:qe.id})}),this.addToolOutput=async({state:D="output-available",tool:ue,toolCallId:_t,output:Oe,errorText:qe})=>this.jobExecutor.run(async()=>{var Bt,yr;let Gr=this.state.messages,Me=Gr[Gr.length-1],Dr=dn=>qr(dn)&&dn.toolCallId===_t?{...dn,state:D,output:Oe,errorText:qe}:dn;this.state.replaceMessage(Gr.length-1,{...Me,parts:Me.parts.map(Dr)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(Dr)),this.status!=="streaming"&&this.status!=="submitted"&&((Bt=this.sendAutomaticallyWhen)==null?void 0:Bt.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(yr=this.lastMessage)==null?void 0:yr.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var D;(this.status==="streaming"||this.status==="submitted")&&((D=this.activeResponse)==null?void 0:D.abortController)&&this.activeResponse.abortController.abort()},this.id=c,this.transport=v,this.generateId=s,this.messageMetadataSchema=b,this.dataPartSchemas=S,this.state=z,this.onError=N,this.onToolCall=I,this.onFinish=H,this.onData=se,this.sendAutomaticallyWhen=ee}get status(){return this.state.status}setStatus({status:s,error:c}){this.status!==s&&(this.state.status=s,this.state.error=c)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(s){this.state.messages=s}async makeRequest({trigger:s,metadata:c,headers:v,body:b,messageId:S}){var z,N,I,H;this.setStatus({status:"submitted",error:void 0});let se=this.lastMessage,ee=!1,D=!1,ue=!1;try{let _t,Oe={state:rr({lastMessage:this.state.snapshot(se),messageId:this.generateId()}),abortController:new AbortController};if(Oe.abortController.signal.addEventListener("abort",()=>{ee=!0}),this.activeResponse=Oe,s==="resume-stream"){let Bt=await this.transport.reconnectToStream({chatId:this.id,metadata:c,headers:v,body:b});if(Bt==null)return void this.setStatus({status:"ready"});_t=Bt}else _t=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:Oe.abortController.signal,metadata:c,headers:v,body:b,trigger:s,messageId:S});let qe=Bt=>this.jobExecutor.run(()=>Bt({state:Oe.state,write:()=>{var yr;this.setStatus({status:"streaming"}),Oe.state.message.id===((yr=this.lastMessage)==null?void 0:yr.id)?this.state.replaceMessage(this.state.messages.length-1,Oe.state.message):this.state.pushMessage(Oe.state.message)}}));await $i({stream:Kt({stream:_t,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:qe,onError:Bt=>{throw Bt}}),onError:Bt=>{throw Bt}}),this.setStatus({status:"ready"})}catch(_t){if(ee||_t.name==="AbortError")return ee=!0,this.setStatus({status:"ready"}),null;ue=!0,_t instanceof TypeError&&(_t.message.toLowerCase().includes("fetch")||_t.message.toLowerCase().includes("network"))&&(D=!0),this.onError&&_t instanceof Error&&this.onError(_t),this.setStatus({status:"error",error:_t})}finally{try{(N=this.onFinish)==null||N.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:ee,isDisconnect:D,isError:ue,finishReason:(z=this.activeResponse)==null?void 0:z.state.finishReason})}catch(_t){console.error(_t)}this.activeResponse=void 0}((I=this.sendAutomaticallyWhen)==null?void 0:I.call(this,{messages:this.state.messages}))&&!ue&&await this.makeRequest({trigger:"submit-message",messageId:(H=this.lastMessage)==null?void 0:H.id,metadata:c,headers:v,body:b})}};function Gs({messages:s}){let c=s[s.length-1];if(!c||c.role!=="assistant")return!1;let v=c.parts.reduce((S,z,N)=>z.type==="step-start"?N:S,-1),b=c.parts.slice(v+1).filter(qr).filter(S=>!S.providerExecuted);return b.filter(S=>S.state==="approval-responded").length>0&&b.every(S=>S.state==="output-available"||S.state==="output-error"||S.state==="approval-responded")}function Qs({messages:s}){let c=s[s.length-1];if(!c||c.role!=="assistant")return!1;let v=c.parts.reduce((S,z,N)=>z.type==="step-start"?N:S,-1),b=c.parts.slice(v+1).filter(qr).filter(S=>!S.providerExecuted);return b.length>0&&b.every(S=>S.state==="output-available"||S.state==="output-error")}var os=class extends Eo{constructor(s={}){super(s)}processResponseStream(s){return function({stream:c}){return c.pipeThrough(new TransformStream({start(v){v.enqueue({type:"start"}),v.enqueue({type:"start-step"}),v.enqueue({type:"text-start",id:"text-1"})},async transform(v,b){b.enqueue({type:"text-delta",id:"text-1",delta:v})},async flush(v){v.enqueue({type:"text-end",id:"text-1"}),v.enqueue({type:"finish-step"}),v.enqueue({type:"finish"})}}))}({stream:s.pipeThrough(new TextDecoderStream)})}};_.s(["AbstractChat",()=>Hs,"DefaultChatTransport",()=>Os,"Experimental_Agent",()=>d,"HttpChatTransport",()=>Eo,"InvalidArgumentError",()=>An,"InvalidDataContentError",()=>Qi,"InvalidMessageRoleError",()=>ni,"InvalidStreamPartError",()=>nn,"InvalidToolApprovalError",()=>_o,"InvalidToolInputError",()=>Ya,"JsonToSseTransformStream",()=>Jt,"MessageConversionError",()=>ho,"NoImageGeneratedError",()=>Tr,"NoObjectGeneratedError",()=>Jr,"NoOutputGeneratedError",()=>ki,"NoSpeechGeneratedError",()=>di,"NoSuchProviderError",()=>gr,"NoSuchToolError",()=>Un,"Output",()=>Ie,"RetryError",()=>yi,"SerialJobExecutor",()=>ua,"TextStreamChatTransport",()=>os,"ToolCallNotFoundForApprovalError",()=>xt,"ToolCallRepairError",()=>ea,"ToolLoopAgent",()=>d,"UI_MESSAGE_STREAM_HEADERS",()=>Et,"UnsupportedModelVersionError",()=>xr,"addToolInputExamplesMiddleware",()=>l,"assistantModelMessageSchema",()=>wo,"callCompletionApi",()=>Vi,"consumeStream",()=>$i,"convertFileListToFileUIParts",()=>Hi,"convertToModelMessages",()=>U,"cosineSimilarity",()=>Ni,"createAgentUIStream",()=>be,"createAgentUIStreamResponse",()=>je,"createProviderRegistry",()=>_r,"createTextStreamResponse",()=>dt,"createUIMessageStream",()=>y,"createUIMessageStreamResponse",()=>Dt,"customProvider",()=>Ir,"defaultEmbeddingSettingsMiddleware",()=>Bo,"defaultSettingsMiddleware",()=>Wo,"embed",()=>Rt,"embedMany",()=>Ht,"experimental_createProviderRegistry",()=>_r,"experimental_customProvider",()=>Ir,"experimental_generateImage",()=>Nt,"experimental_generateSpeech",()=>Mo,"experimental_transcribe",()=>Mn,"extractReasoningMiddleware",()=>_s,"generateImage",()=>Nt,"generateObject",()=>mi,"generateText",()=>de,"getStaticToolName",()=>zt,"getTextFromDataUrl",()=>ha,"getToolName",()=>Ne,"getToolOrDynamicToolName",()=>Ne,"hasToolCall",()=>nt,"isDataUIPart",()=>hr,"isDeepEqualData",()=>to,"isFileUIPart",()=>Xe,"isReasoningUIPart",()=>Lt,"isStaticToolUIPart",()=>yt,"isTextUIPart",()=>ir,"isToolOrDynamicToolUIPart",()=>qr,"isToolUIPart",()=>qr,"lastAssistantMessageIsCompleteWithApprovalResponses",()=>Gs,"lastAssistantMessageIsCompleteWithToolCalls",()=>Qs,"modelMessageSchema",()=>ko,"parsePartialJson",()=>fe,"pipeAgentUIStreamToResponse",()=>it,"pipeTextStreamToResponse",()=>Zt,"pipeUIMessageStreamToResponse",()=>Oa,"pruneMessages",()=>li,"readUIMessageStream",()=>O,"rerank",()=>ln,"safeValidateUIMessages",()=>E,"simulateReadableStream",()=>Ga,"simulateStreamingMiddleware",()=>T,"smoothStream",()=>bs,"stepCountIs",()=>It,"streamObject",()=>za,"streamText",()=>vs,"systemModelMessageSchema",()=>go,"toolModelMessageSchema",()=>Lo,"uiMessageChunkSchema",()=>Ur,"userModelMessageSchema",()=>Po,"validateUIMessages",()=>X,"wrapEmbeddingModel",()=>oe,"wrapLanguageModel",()=>C,"wrapProvider",()=>or],97804)}]),(mr.TURBOPACK||(mr.TURBOPACK=[])).push(["chunks/turbopack-node_modules_next_dist_esm_build_templates_edge-wrapper_98149c2d.js",{otherChunks:["chunks/[root-of-the-server]__5f5efe2e._.js","chunks/_7ece717d._.js","chunks/node_modules_@opentelemetry_api_build_esm_a886cc58._.js","chunks/node_modules_@ai-sdk_provider-utils_dist_index_mjs_995f32ad._.js","chunks/src_services_ai-providers_ts_f30e308f._.js","chunks/node_modules_c144a9c7._.js","chunks/node_modules_a458cac4._.js"],runtimeModuleIds:[66060]}]),(()=>{let _;if(!Array.isArray(mr.TURBOPACK))return;let g=new WeakMap;function xe(Re,L){this.m=Re,this.e=L}let n=xe.prototype,Ke=Object.prototype.hasOwnProperty,M=typeof Symbol<"u"&&Symbol.toStringTag;function ie(Re,L,V){Ke.call(Re,L)||Object.defineProperty(Re,L,V)}function Fe(Re,L){let V=Re[L];return V||(V=ge(L),Re[L]=V),V}function ge(Re){return{exports:{},error:void 0,id:Re,namespaceObject:void 0}}function Ee(Re,L){ie(Re,"__esModule",{value:!0}),M&&ie(Re,M,{value:"Module"});let V=0;for(;V<L.length;){let K=L[V++],Le=L[V++];if(typeof Le=="number")if(Le===0)ie(Re,K,{value:L[V++],enumerable:!0,writable:!1});else throw Error(`unexpected tag: ${Le}`);else typeof L[V]=="function"?ie(Re,K,{get:Le,set:L[V++],enumerable:!0}):ie(Re,K,{get:Le,enumerable:!0})}Object.seal(Re)}n.s=function(Re,L){let V,K;L!=null?K=(V=Fe(this.c,L)).exports:(V=this.m,K=this.e),V.namespaceObject=K,Ee(K,Re)},n.j=function(Re,L){var V,K;let Le,at,Wt;L!=null?at=(Le=Fe(this.c,L)).exports:(Le=this.m,at=this.e);let wr=(V=Le,K=at,(Wt=g.get(V))||(g.set(V,Wt=[]),V.exports=V.namespaceObject=new Proxy(K,{get(J,Xr){if(Ke.call(J,Xr)||Xr==="default"||Xr==="__esModule")return Reflect.get(J,Xr);for(let Yr of Wt){let hn=Reflect.get(Yr,Xr);if(hn!==void 0)return hn}},ownKeys(J){let Xr=Reflect.ownKeys(J);for(let Yr of Wt)for(let hn of Reflect.ownKeys(Yr))hn==="default"||Xr.includes(hn)||Xr.push(hn);return Xr}})),Wt);typeof Re=="object"&&Re!==null&&wr.push(Re)},n.v=function(Re,L){(L!=null?Fe(this.c,L):this.m).exports=Re},n.n=function(Re,L){let V;(V=L!=null?Fe(this.c,L):this.m).exports=V.namespaceObject=Re};let W=Object.getPrototypeOf?Re=>Object.getPrototypeOf(Re):Re=>Re.__proto__,ne=[null,W({}),W([]),W(W)];function B(Re,L,V){let K=[],Le=-1;for(let at=Re;(typeof at=="object"||typeof at=="function")&&!ne.includes(at);at=W(at))for(let Wt of Object.getOwnPropertyNames(at))K.push(Wt,function(wr,J){return()=>wr[J]}(Re,Wt)),Le===-1&&Wt==="default"&&(Le=K.length-1);return V&&Le>=0||(Le>=0?K.splice(Le,1,0,Re):K.push("default",0,Re)),Ee(L,K),L}function ce(Re){return typeof Re=="function"?function(...L){return Re.apply(this,L)}:Object.create(null)}function Te(Re){let L=ct(Re,this.m);if(L.namespaceObject)return L.namespaceObject;let V=L.exports;return L.namespaceObject=B(V,ce(V),V&&V.__esModule)}function ye(Re){let L=Re.indexOf("#");L!==-1&&(Re=Re.substring(0,L));let V=Re.indexOf("?");return V!==-1&&(Re=Re.substring(0,V)),Re}function ht(Re){return typeof Re=="string"?Re:Re.path}function Y(){let Re,L;return{promise:new Promise((V,K)=>{L=K,Re=V}),resolve:Re,reject:L}}n.i=Te,n.A=function(Re){return this.r(Re)(Te.bind(this))},n.t=typeof Hc=="function"?Hc:function(){throw Error("Unexpected use of runtime require")},n.r=function(Re){return ct(Re,this.m).exports},n.f=function(Re){function L(V){if(V=ye(V),Ke.call(Re,V))return Re[V].module();let K=Error(`Cannot find module '${V}'`);throw K.code="MODULE_NOT_FOUND",K}return L.keys=()=>Object.keys(Re),L.resolve=V=>{if(V=ye(V),Ke.call(Re,V))return Re[V].id();let K=Error(`Cannot find module '${V}'`);throw K.code="MODULE_NOT_FOUND",K},L.import=async V=>await L(V),L};let Ge=Symbol("turbopack queues"),te=Symbol("turbopack exports"),Ye=Symbol("turbopack error");function We(Re){Re&&Re.status!==1&&(Re.status=1,Re.forEach(L=>L.queueCount--),Re.forEach(L=>L.queueCount--?L.queueCount++:L()))}n.a=function(Re,L){let V=this.m,K=L?Object.assign([],{status:-1}):void 0,Le=new Set,{resolve:at,reject:Wt,promise:wr}=Y(),J=Object.assign(wr,{[te]:V.exports,[Ge]:Yr=>{K&&Yr(K),Le.forEach(Yr),J.catch(()=>{})}}),Xr={get:()=>J,set(Yr){Yr!==J&&(J[te]=Yr)}};Object.defineProperty(V,"exports",Xr),Object.defineProperty(V,"namespaceObject",Xr),Re(function(Yr){let hn=Yr.map(nr=>{if(nr!==null&&typeof nr=="object"){if(Ge in nr)return nr;if(nr!=null&&typeof nr=="object"&&"then"in nr&&typeof nr.then=="function"){let fn=Object.assign([],{status:0}),Zr={[te]:{},[Ge]:dr=>dr(fn)};return nr.then(dr=>{Zr[te]=dr,We(fn)},dr=>{Zr[Ye]=dr,We(fn)}),Zr}}return{[te]:nr,[Ge]:()=>{}}}),ti=()=>hn.map(nr=>{if(nr[Ye])throw nr[Ye];return nr[te]}),{promise:Zn,resolve:lr}=Y(),st=Object.assign(()=>lr(ti),{queueCount:0});function Ut(nr){nr!==K&&!Le.has(nr)&&(Le.add(nr),nr&&nr.status===0&&(st.queueCount++,nr.push(st)))}return hn.map(nr=>nr[Ge](Ut)),st.queueCount?Zn:ti()},function(Yr){Yr?Wt(J[Ye]=Yr):at(J[te]),We(K)}),K&&K.status===-1&&(K.status=0)};let rt=function(Re){let L=new URL(Re,"x:/"),V={};for(let K in L)V[K]=L[K];for(let K in V.href=Re,V.pathname=Re.replace(/[?#].*/,""),V.origin=V.protocol="",V.toString=V.toJSON=(...Le)=>Re,V)Object.defineProperty(this,K,{enumerable:!0,configurable:!0,value:V[K]})};function $t(Re,L){throw Error(`Invariant: ${L(Re)}`)}rt.prototype=URL.prototype,n.U=rt,n.z=function(Re){throw Error("dynamic usage of require is not supported")},n.g=mr;let Pt=xe.prototype;var er,Gt=((er=Gt||{})[er.Runtime=0]="Runtime",er[er.Parent=1]="Parent",er[er.Update=2]="Update",er);let Ve=new Map;n.M=Ve;let sr=new Map,pe=new Map;async function ve(Re,L,V){let K;if(typeof V=="string")return h(Re,L,Yt(V));let Le=V.included||[],at=Le.map(J=>!!Ve.has(J)||sr.get(J));if(at.length>0&&at.every(J=>J))return void await Promise.all(at);let Wt=V.moduleChunks||[],wr=Wt.map(J=>pe.get(J)).filter(J=>J);if(wr.length>0){if(wr.length===Wt.length)return void await Promise.all(wr);let J=new Set;for(let Xr of Wt)pe.has(Xr)||J.add(Xr);for(let Xr of J){let Yr=h(Re,L,Yt(Xr));pe.set(Xr,Yr),wr.push(Yr)}K=Promise.all(wr)}else for(let J of(K=h(Re,L,Yt(V.path)),Wt))pe.has(J)||pe.set(J,K);for(let J of Le)sr.has(J)||sr.set(J,K);await K}Pt.l=function(Re){return ve(1,this.m.id,Re)};let q=Promise.resolve(void 0),vt=new WeakMap;function h(Re,L,V){let K=_.loadChunkCached(Re,V),Le=vt.get(K);if(Le===void 0){let at=vt.set.bind(vt,K,q);Le=K.then(at).catch(Wt=>{let wr;switch(Re){case 0:wr=`as a runtime dependency of chunk ${L}`;break;case 1:wr=`from module ${L}`;break;case 2:wr="from an HMR update";break;default:$t(Re,Xr=>`Unknown source type: ${Xr}`)}let J=Error(`Failed to load chunk ${V} ${wr}${Wt?`: ${Wt}`:""}`,Wt?{cause:Wt}:void 0);throw J.name="ChunkLoadError",J}),vt.set(K,Le)}return Le}function Yt(Re){return`${Re.split("/").map(L=>encodeURIComponent(L)).join("/")}`}Pt.L=function(Re){return h(1,this.m.id,Re)},Pt.R=function(Re){let L=this.r(Re);return L?.default??L},Pt.P=function(Re){return`/ROOT/${Re??""}`},Pt.b=function(Re){let L=new Blob([`self.TURBOPACK_WORKER_LOCATION = ${JSON.stringify(location.origin)};
self.TURBOPACK_CHUNK_SUFFIX = ${JSON.stringify("")};
self.TURBOPACK_NEXT_CHUNK_URLS = ${JSON.stringify(Re.reverse().map(Yt),null,2)};
importScripts(...self.TURBOPACK_NEXT_CHUNK_URLS.map(c => self.TURBOPACK_WORKER_LOCATION + c).reverse());`],{type:"text/javascript"});return URL.createObjectURL(L)};let lt=/\.js(?:\?[^#]*)?(?:#.*)?$/;n.w=function(Re,L,V){return _.loadWebAssembly(1,this.m.id,Re,L,V)},n.u=function(Re,L){return _.loadWebAssemblyModule(1,this.m.id,Re,L)};let ur={};n.c=ur;let ct=(Re,L)=>{let V=ur[Re];if(V){if(V.error)throw V.error;return V}return mt(Re,Gt.Parent,L.id)};function mt(Re,L,V){let K=Ve.get(Re);if(typeof K!="function")throw Error(function(wr,J,Xr){let Yr;switch(J){case 0:Yr=`as a runtime entry of chunk ${Xr}`;break;case 1:Yr=`because it was required from module ${Xr}`;break;case 2:Yr="because of an HMR update";break;default:$t(J,hn=>`Unknown source type: ${hn}`)}return`Module ${wr} was instantiated ${Yr}, but the module factory is not available.`}(Re,L,V));let Le=ge(Re),at=Le.exports;ur[Re]=Le;let Wt=new xe(Le,at);try{K(Wt,Le,at)}catch(wr){throw Le.error=wr,wr}return Le.namespaceObject&&Le.exports!==Le.namespaceObject&&B(Le.exports,Le.namespaceObject),Le}function Nr(Re){let L,V=function(K){if(typeof K=="string")return K;let Le=decodeURIComponent((typeof TURBOPACK_NEXT_CHUNK_URLS<"u"?TURBOPACK_NEXT_CHUNK_URLS.pop():K.getAttribute("src")).replace(/[?#].*$/,""));return Le.startsWith("")?Le.slice(0):Le}(Re[0]);return Re.length===2?L=Re[1]:(L=void 0,function(K,Le,at,Wt){let wr=1;for(;wr<K.length;){let J=K[wr],Xr=wr+1;for(;Xr<K.length&&typeof K[Xr]!="function";)Xr++;if(Xr===K.length)throw Error("malformed chunk format, expected a factory function");if(!at.has(J)){let Yr=K[Xr];for(Object.defineProperty(Yr,"name",{value:"module evaluation"});wr<Xr;wr++)J=K[wr],at.set(J,Yr)}wr=Xr+1}}(Re,0,Ve)),_.registerChunk(V,L)}function Vr(Re,L,V=!1){let K;try{K=L()}catch(Le){throw Error(`Failed to load external module ${Re}: ${Le}`)}return!V||K.__esModule?K:B(K,ce(K),!0)}n.y=async function(Re){let L;try{L=await import(Re)}catch(V){throw Error(`Failed to load external module ${Re}: ${V}`)}return L&&L.__esModule&&L.default&&"default"in L.default?B(L.default,ce(L),!0):L},Vr.resolve=(Re,L)=>Hc.resolve(Re,L),n.x=Vr,_={registerChunk(Re,L){Sn.add(Re),function(V){let K=Kr.get(V);if(K!=null){for(let Le of K)Le.requiredChunks.delete(V),Le.requiredChunks.size===0&&Pr(Le.runtimeModuleIds,Le.chunkPath);Kr.delete(V)}}(Re),L!=null&&(L.otherChunks.length===0?Pr(L.runtimeModuleIds,Re):function(V,K,Le){let at=new Set,Wt={runtimeModuleIds:Le,chunkPath:V,requiredChunks:at};for(let wr of K){let J=ht(wr);if(Sn.has(J))continue;at.add(J);let Xr=Kr.get(J);Xr==null&&(Xr=new Set,Kr.set(J,Xr)),Xr.add(Wt)}Wt.requiredChunks.size===0&&Pr(Wt.runtimeModuleIds,Wt.chunkPath)}(Re,L.otherChunks.filter(V=>{var K;return K=ht(V),lt.test(K)}),L.runtimeModuleIds))},loadChunkCached(Re,L){throw Error("chunk loading is not supported")},async loadWebAssembly(Re,L,V,K,Le){let at=await Dn(V,K);return await WebAssembly.instantiate(at,Le)},loadWebAssemblyModule:async(Re,L,V,K)=>Dn(V,K)};let Sn=new Set,Kr=new Map;function Pr(Re,L){for(let V of Re)(function(K,Le){let at=ur[Le];if(at){if(at.error)throw at.error;return}mt(Le,Gt.Runtime,K)})(L,V)}async function Dn(Re,L){let V;try{V=L()}catch{}if(!V)throw Error(`dynamically loading WebAssembly is not supported in this runtime as global was not injected for chunk '${Re}'`);return V}let Nn=mr.TURBOPACK;mr.TURBOPACK={push:Nr},Nn.forEach(Nr)})(),function(){let _={exports:{},loaded:!1};return function(xe,n){var Ke=Object.create,M=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,Fe=Object.getOwnPropertyNames,ge=Object.getPrototypeOf,Ee=Object.prototype.hasOwnProperty,W=Ve=>M(Ve,"__esModule",{value:!0}),ne=(Ve,sr)=>{W(Ve);for(var pe in sr)M(Ve,pe,{get:sr[pe],enumerable:!0})},B=(Ve,sr,pe)=>{if(sr&&typeof sr=="object"||typeof sr=="function")for(let ve of Fe(sr))!Ee.call(Ve,ve)&&ve!=="default"&&M(Ve,ve,{get:()=>sr[ve],enumerable:!(pe=ie(sr,ve))||pe.enumerable});return Ve},ce=Ve=>B(W(M(Ve!=null?Ke(ge(Ve)):{},"default",Ve&&Ve.__esModule&&"default"in Ve?{get:()=>Ve.default,enumerable:!0}:{value:Ve,enumerable:!0})),Ve);ne(n,{default:()=>$t});var Te=ce((Sg(),Tp(nc))),ye="@next/request-context",ht=Symbol.for(ye),Y=Symbol.for("internal.storage");function Ge(){let Ve=mr;if(!Ve[ht]){let sr=new Te.AsyncLocalStorage,pe={get:()=>sr.getStore(),[Y]:sr};Ve[ht]=pe}return Ve[ht]}var te=Ge();function Ye(Ve,sr){return te[Y].run(Ve,sr)}function We(Ve){let sr={};return Ve&&Ve.forEach((pe,ve)=>{sr[ve]=pe,ve.toLowerCase()==="set-cookie"&&(sr[ve]=rt(pe))}),sr}function rt(Ve){let sr=[],pe=0,ve,q,vt,h,Yt;function lt(){for(;pe<Ve.length&&/\s/.test(Ve.charAt(pe));)pe+=1;return pe<Ve.length}function ur(){return q=Ve.charAt(pe),q!=="="&&q!==";"&&q!==","}for(;pe<Ve.length;){for(ve=pe,Yt=!1;lt();)if(q=Ve.charAt(pe),q===","){for(vt=pe,pe+=1,lt(),h=pe;pe<Ve.length&&ur();)pe+=1;pe<Ve.length&&Ve.charAt(pe)==="="?(Yt=!0,pe=h,sr.push(Ve.substring(ve,vt)),ve=pe):pe=vt+1}else pe+=1;(!Yt||pe>=Ve.length)&&sr.push(Ve.substring(ve,Ve.length))}return sr}function $t(Ve){let sr=Ve.staticRoutes.map(ve=>({regexp:new RegExp(ve.namedRegex),page:ve.page})),pe=Ve.dynamicRoutes?.map(ve=>({regexp:new RegExp(ve.namedRegex),page:ve.page}))||[];return async function(ve,q){let vt=new URL(ve.url).pathname,h={};if(Ve.nextConfig?.basePath&&vt.startsWith(Ve.nextConfig.basePath)&&(vt=vt.replace(Ve.nextConfig.basePath,"")||"/"),Ve.nextConfig?.i18n)for(let lt of Ve.nextConfig.i18n.locales){let ur=new RegExp(`^/${lt}($|/)`,"i");if(vt.match(ur)){vt=vt.replace(ur,"/")||"/";break}}for(let lt of sr)if(lt.regexp.exec(vt)){h.name=lt.page;break}if(!h.name){let lt=er(vt);for(let ur of pe||[]){if(lt&&!er(ur.page))continue;let ct=ur.regexp.exec(vt);if(ct){h={name:ur.page,params:ct.groups};break}}}let Yt=await Ye({waitUntil:q.waitUntil},()=>mr._ENTRIES[`middleware_${Ve.name}`].default.call({},{request:{url:ve.url,method:ve.method,headers:We(ve.headers),ip:Pt(ve.headers,Gt.Ip),geo:{city:Pt(ve.headers,Gt.City,!0),country:Pt(ve.headers,Gt.Country,!0),latitude:Pt(ve.headers,Gt.Latitude),longitude:Pt(ve.headers,Gt.Longitude),region:Pt(ve.headers,Gt.Region,!0)},nextConfig:Ve.nextConfig,page:h,body:ve.body}}));return Yt.waitUntil&&q.waitUntil(Yt.waitUntil),Yt.response}}function Pt(Ve,sr,pe=!1){let ve=Ve.get(sr)||void 0;return pe&&ve?decodeURIComponent(ve):ve}function er(Ve){return Ve==="/api"||Ve.startsWith("/api/")}var Gt;(function(Ve){Ve.City="x-vercel-ip-city",Ve.Country="x-vercel-ip-country",Ve.Ip="x-real-ip",Ve.Latitude="x-vercel-ip-latitude",Ve.Longitude="x-vercel-ip-longitude",Ve.Region="x-vercel-ip-country-region"})(Gt||(Gt={}))}(_,_.exports),_.exports}.call({}).default({name:"app/api/repos/[id]/summarize/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_global-error",regex:"^/_global\\-error(?:/)?$",routeKeys:{},namedRegex:"^/_global\\-error(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/api/explain",regex:"^/api/explain(?:/)?$",routeKeys:{},namedRegex:"^/api/explain(?:/)?$"},{page:"/api/repos",regex:"^/api/repos(?:/)?$",routeKeys:{},namedRegex:"^/api/repos(?:/)?$"},{page:"/api/test-connection",regex:"^/api/test\\-connection(?:/)?$",routeKeys:{},namedRegex:"^/api/test\\-connection(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"}],dynamicRoutes:[{page:"/api/repos/[id]/commits",regex:"^/api/repos/([^/]+?)/commits(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/commits(?:/)?$"},{page:"/api/repos/[id]/commits/[sha]",regex:"^/api/repos/([^/]+?)/commits/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid",nxtPsha:"nxtPsha"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/commits/(?<nxtPsha>[^/]+?)(?:/)?$"},{page:"/api/repos/[id]/commits/[sha]/content",regex:"^/api/repos/([^/]+?)/commits/([^/]+?)/content(?:/)?$",routeKeys:{nxtPid:"nxtPid",nxtPsha:"nxtPsha"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/commits/(?<nxtPsha>[^/]+?)/content(?:/)?$"},{page:"/api/repos/[id]/summarize",regex:"^/api/repos/([^/]+?)/summarize(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/repos/(?<nxtPid>[^/]+?)/summarize(?:/)?$"},{page:"/explore/[id]",regex:"^/explore/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/explore/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/explore/[id]/timeline",regex:"^/explore/([^/]+?)/timeline(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/explore/(?<nxtPid>[^/]+?)/timeline(?:/)?$"}],nextConfig:{basePath:""}})))(_u,_u,_u);export{xv as default};
