(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,t)=>{a.exports=e.r(76562)},30175,75254,e=>{"use strict";var a=e.i(71645);let t=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},l=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:d="",children:r,iconNode:o,...m},c)=>(0,a.createElement)("svg",{ref:c,...n,width:t,height:t,stroke:e,strokeWidth:i?24*Number(s)/Number(t):s,className:l("lucide",d),...!r&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(m)&&{"aria-hidden":"true"},...m},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(r)?r:[r]])),i=(e,n)=>{let i=(0,a.forwardRef)(({className:i,...d},r)=>(0,a.createElement)(s,{ref:r,iconNode:n,className:l(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...d}));return i.displayName=t(e),i};e.s(["default",()=>i],75254);let d=i("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>d],30175)},39616,e=>{"use strict";let a=(0,e.i(75254).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>a],39616)},31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},83086,e=>{"use strict";let a=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>a],83086)},27989,e=>{e.v({closeBtn:"SettingsModal-module__TCnG-q__closeBtn",content:"SettingsModal-module__TCnG-q__content",description:"SettingsModal-module__TCnG-q__description",fadeIn:"SettingsModal-module__TCnG-q__fadeIn",field:"SettingsModal-module__TCnG-q__field",footer:"SettingsModal-module__TCnG-q__footer",form:"SettingsModal-module__TCnG-q__form",header:"SettingsModal-module__TCnG-q__header",label:"SettingsModal-module__TCnG-q__label",modal:"SettingsModal-module__TCnG-q__modal",overlay:"SettingsModal-module__TCnG-q__overlay",slideUp:"SettingsModal-module__TCnG-q__slideUp",spin:"SettingsModal-module__TCnG-q__spin",spinner:"SettingsModal-module__TCnG-q__spinner",tab:"SettingsModal-module__TCnG-q__tab",tabActive:"SettingsModal-module__TCnG-q__tabActive",tabs:"SettingsModal-module__TCnG-q__tabs",testBtn:"SettingsModal-module__TCnG-q__testBtn",testError:"SettingsModal-module__TCnG-q__testError",testRow:"SettingsModal-module__TCnG-q__testRow",testSuccess:"SettingsModal-module__TCnG-q__testSuccess"})},31767,37727,34161,43531,63209,45502,e=>{"use strict";var a=e.i(43476),t=e.i(71645),l=e.i(75254);let n=(0,l.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>n],37727);let s=(0,l.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["Key",()=>s],34161);let i=(0,l.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>i],43531);let d=(0,l.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>d],63209);var r=e.i(31278),o=e.i(27989);function m(e){switch(e){case"gemini":return["gemini-3-flash-preview","gemini-3-pro-preview","gemini-2.0-flash","gemini-2.0-pro-exp-02-05","gemini-1.5-pro"];case"openai":return["gpt-5.2","gpt-5.2-chat-latest","gpt-5.1","gpt-5","gpt-4o","o3-mini","o1"];case"anthropic":return["claude-opus-4-5-20251101","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022"];case"ollama":return["llama3.2","llama3.1","codellama","mistral","phi3","qwen2.5"];case"lmstudio":return["deepseek-r1-distill-llama-8b","meta-llama-3.1-8b-instruct","qwen2.5-7b-instruct"];default:return[]}}let c={gemini:"Google Gemini",openai:"OpenAI GPT",anthropic:"Anthropic Claude",ollama:"Ollama (Local)",lmstudio:"LMStudio (Local)"};e.s(["PROVIDER_NAMES",0,c,"getAvailableModels",()=>m],45502);let u="grepbase_ai_settings";function _({isOpen:e,onClose:l}){let[_,h]=(0,t.useState)("gemini"),[g,p]=(0,t.useState)({gemini:{apiKey:"",model:"gemini-3-flash-preview"},openai:{apiKey:"",model:"gpt-5.2"},anthropic:{apiKey:"",model:"claude-sonnet-4-5-20250929"},ollama:{apiKey:"",model:"llama3.2",baseUrl:"http://localhost:11434/v1"},lmstudio:{apiKey:"",model:"deepseek-r1-distill-llama-8b",baseUrl:"http://127.0.0.1:1234/v1"}}),[y,f]=(0,t.useState)(!1),[x,S]=(0,t.useState)(null),[j,C]=(0,t.useState)(null);function v(e,a,t){p(l=>({...l,[e]:{...l[e],[a]:t}})),S(null)}async function N(){f(!0),S(null),C(null);try{let e=g[_];if("ollama"!==_&&"lmstudio"!==_&&!e.apiKey)throw Error("API key is required");let a=await fetch("/api/test-connection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:_,baseUrl:e.baseUrl,apiKey:e.apiKey})}),t=await a.json();if(!a.ok)throw Error(t.error||"Connection failed");S("success"),t.models?.length&&C(`Found ${t.models.length} model(s): ${t.models.slice(0,3).join(", ")}${t.models.length>3?"...":""}`)}catch(e){S("error"),C(e instanceof Error?e.message:"Connection failed")}finally{f(!1)}}if((0,t.useEffect)(()=>{let e=localStorage.getItem(u);if(e)try{let a=JSON.parse(e);p(e=>({...e,...a})),a.activeProvider&&h(a.activeProvider)}catch(e){console.error("Failed to parse saved settings:",e)}},[]),!e)return null;let b=g[_],k=m(_);return(0,a.jsx)("div",{className:o.default.overlay,onClick:l,children:(0,a.jsxs)("div",{className:o.default.modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:o.default.header,children:[(0,a.jsx)("h2",{children:"API Settings"}),(0,a.jsx)("button",{className:o.default.closeBtn,onClick:l,children:(0,a.jsx)(n,{size:20})})]}),(0,a.jsxs)("div",{className:o.default.content,children:[(0,a.jsx)("p",{className:o.default.description,children:"Configure your AI provider. Keys are stored locally in your browser."}),(0,a.jsx)("div",{className:o.default.tabs,children:["gemini","openai","anthropic","ollama","lmstudio"].map(e=>(0,a.jsx)("button",{className:`${o.default.tab} ${_===e?o.default.tabActive:""}`,onClick:()=>{h(e),S(null)},children:c[e]},e))}),(0,a.jsxs)("div",{className:o.default.form,children:["ollama"!==_&&"lmstudio"!==_?(0,a.jsxs)("div",{className:o.default.field,children:[(0,a.jsxs)("label",{className:o.default.label,children:[(0,a.jsx)(s,{size:14}),"API Key"]}),(0,a.jsx)("input",{type:"password",className:"input",placeholder:`Enter your ${c[_]} API key`,value:b.apiKey,onChange:e=>v(_,"apiKey",e.target.value)})]}):(0,a.jsxs)("div",{className:o.default.field,children:[(0,a.jsx)("label",{className:o.default.label,children:"Base URL"}),(0,a.jsx)("input",{type:"text",className:"input",placeholder:"lmstudio"===_?"http://127.0.0.1:1234/v1":"http://localhost:11434/v1",value:b.baseUrl||"",onChange:e=>v(_,"baseUrl",e.target.value)})]}),("ollama"===_||"lmstudio"===_)&&(0,a.jsxs)("div",{className:o.default.field,children:[(0,a.jsx)("label",{className:o.default.label,children:"Custom Model Name (optional)"}),(0,a.jsx)("input",{type:"text",className:"input",placeholder:"e.g., deepseek-r1:8b, qwen2.5:7b",value:b.model,onChange:e=>v(_,"model",e.target.value)}),(0,a.jsx)("small",{style:{color:"var(--text-muted)",marginTop:"4px",display:"block"},children:"Leave empty to use default, or enter your model name"})]}),(0,a.jsxs)("div",{className:o.default.field,children:[(0,a.jsx)("label",{className:o.default.label,children:"Model"}),(0,a.jsx)("select",{className:"input",value:b.model,onChange:e=>v(_,"model",e.target.value),children:k.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:o.default.testRow,children:[(0,a.jsx)("button",{className:`btn btn-secondary ${o.default.testBtn}`,onClick:N,disabled:y,children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Loader2,{size:16,className:o.default.spinner}),"Testing..."]}):"Test Connection"}),"success"===x&&(0,a.jsxs)("span",{className:o.default.testSuccess,children:[(0,a.jsx)(i,{size:16}),"Connected!"]}),"error"===x&&(0,a.jsxs)("span",{className:o.default.testError,children:[(0,a.jsx)(d,{size:16}),j||"Connection failed"]})]})]})]}),(0,a.jsxs)("div",{className:o.default.footer,children:[(0,a.jsx)("button",{className:"btn btn-secondary",onClick:l,children:"Cancel"}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:function(){localStorage.setItem(u,JSON.stringify({...g,activeProvider:_})),l()},children:"Save Settings"})]})]})})}function h(){let e=localStorage.getItem(u);if(!e)return null;try{let a=JSON.parse(e),t=a.activeProvider||"gemini";return{provider:t,config:a[t]}}catch{return null}}e.s(["default",()=>_,"getAISettings",()=>h],31767)},94351,9964,84614,87316,e=>{"use strict";var a=e.i(75254);let t=(0,a.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>t],94351);let l=(0,a.default)("git-commit-horizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);e.s(["GitCommit",()=>l],9964);let n=(0,a.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>n],84614);let s=(0,a.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},73375,63059,e=>{"use strict";var a=e.i(75254);let t=(0,a.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375);let l=(0,a.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>l],63059)},12310,e=>{e.v({aiSummaryContent:"page-module__80SFBq__aiSummaryContent",aiSummaryHeader:"page-module__80SFBq__aiSummaryHeader",aiSummarySection:"page-module__80SFBq__aiSummarySection",calendarContainer:"page-module__80SFBq__calendarContainer",commitAuthor:"page-module__80SFBq__commitAuthor",commitItem:"page-module__80SFBq__commitItem",commitItemHeader:"page-module__80SFBq__commitItemHeader",commitList:"page-module__80SFBq__commitList",commitMessage:"page-module__80SFBq__commitMessage",commitSha:"page-module__80SFBq__commitSha",container:"page-module__80SFBq__container",dayPanel:"page-module__80SFBq__dayPanel",dayPanelClose:"page-module__80SFBq__dayPanelClose",dayPanelHeader:"page-module__80SFBq__dayPanelHeader",dayPanelSub:"page-module__80SFBq__dayPanelSub",dayPanelTitle:"page-module__80SFBq__dayPanelTitle",errorState:"page-module__80SFBq__errorState",header:"page-module__80SFBq__header",headerBadge:"page-module__80SFBq__headerBadge",headerCenter:"page-module__80SFBq__headerCenter",headerLeft:"page-module__80SFBq__headerLeft",headerRight:"page-module__80SFBq__headerRight",loadingState:"page-module__80SFBq__loadingState",main:"page-module__80SFBq__main",repoInfo:"page-module__80SFBq__repoInfo",repoName:"page-module__80SFBq__repoName",slideIn:"page-module__80SFBq__slideIn",spin:"page-module__80SFBq__spin",spinner:"page-module__80SFBq__spinner",summaryLoading:"page-module__80SFBq__summaryLoading",summaryPlaceholder:"page-module__80SFBq__summaryPlaceholder",summaryText:"page-module__80SFBq__summaryText"})},35528,e=>{e.v({calendar:"CalendarTimeline-module__StRJnq__calendar",commitIndicator:"CalendarTimeline-module__StRJnq__commitIndicator",day:"CalendarTimeline-module__StRJnq__day",dayHasCommits:"CalendarTimeline-module__StRJnq__dayHasCommits",dayLoader:"CalendarTimeline-module__StRJnq__dayLoader",dayNumber:"CalendarTimeline-module__StRJnq__dayNumber",dayOutside:"CalendarTimeline-module__StRJnq__dayOutside",daySelected:"CalendarTimeline-module__StRJnq__daySelected",dayToday:"CalendarTimeline-module__StRJnq__dayToday",fadeIn:"CalendarTimeline-module__StRJnq__fadeIn",firstCommitBtn:"CalendarTimeline-module__StRJnq__firstCommitBtn",grid:"CalendarTimeline-module__StRJnq__grid",header:"CalendarTimeline-module__StRJnq__header",headerCenter:"CalendarTimeline-module__StRJnq__headerCenter",intensity0:"CalendarTimeline-module__StRJnq__intensity0",intensity1:"CalendarTimeline-module__StRJnq__intensity1",intensity2:"CalendarTimeline-module__StRJnq__intensity2",intensity3:"CalendarTimeline-module__StRJnq__intensity3",intensity4:"CalendarTimeline-module__StRJnq__intensity4",legend:"CalendarTimeline-module__StRJnq__legend",legendBox:"CalendarTimeline-module__StRJnq__legendBox",legendLabel:"CalendarTimeline-module__StRJnq__legendLabel",legendScale:"CalendarTimeline-module__StRJnq__legendScale",monthYear:"CalendarTimeline-module__StRJnq__monthYear",navBtn:"CalendarTimeline-module__StRJnq__navBtn",navBtnDisabled:"CalendarTimeline-module__StRJnq__navBtnDisabled",spin:"CalendarTimeline-module__StRJnq__spin",weekday:"CalendarTimeline-module__StRJnq__weekday",weekdays:"CalendarTimeline-module__StRJnq__weekdays"})},31292,e=>{"use strict";var a=e.i(43476),t=e.i(71645),l=e.i(18566),n=e.i(30175),s=e.i(94351),i=e.i(39616);let d=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var r=e.i(31278),o=e.i(9964),m=e.i(84614),c=e.i(87316),u=e.i(83086),_=e.i(37727),h=e.i(12310),g=e.i(31767),p=e.i(73375),y=e.i(63059),f=e.i(35528);let x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=["January","February","March","April","May","June","July","August","September","October","November","December"];function j({commits:e,onDayClick:l,selectedDate:n,loading:s=!1}){let i=(0,t.useMemo)(()=>{let a=new Map;return e.forEach(e=>{let t=new Date(e.date),l=`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`;a.has(l)||a.set(l,[]),a.get(l).push(e)}),a},[e]),d=(0,t.useMemo)(()=>0===e.length?new Date:new Date(Math.min(...e.map(e=>new Date(e.date)).map(e=>e.getTime()))),[e]),m=(0,t.useMemo)(()=>{let a=new Set;return e.forEach(e=>{let t=new Date(e.date);a.add(`${t.getFullYear()}-${t.getMonth()}`)}),Array.from(a).map(e=>{let[a,t]=e.split("-").map(Number);return{year:a,month:t}}).sort((e,a)=>e.year!==a.year?e.year-a.year:e.month-a.month)},[e]),[c,u]=(0,t.useState)(()=>new Date(d.getFullYear(),d.getMonth(),1)),_=(0,t.useMemo)(()=>m.findIndex(e=>e.year===c.getFullYear()&&e.month===c.getMonth()),[c,m]),h=(0,t.useMemo)(()=>{let e=c.getFullYear(),a=c.getMonth(),t=new Date(e,a,1).getDay(),l=new Date(e,a+1,0).getDate(),n=new Date(e,a,0).getDate(),s=[];for(let l=t-1;l>=0;l--){let t=new Date(e,a-1,n-l),d=`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`;s.push({date:t,isCurrentMonth:!1,commits:i.get(d)||[]})}for(let t=1;t<=l;t++){let l=new Date(e,a,t),n=`${l.getFullYear()}-${l.getMonth()}-${l.getDate()}`;s.push({date:l,isCurrentMonth:!0,commits:i.get(n)||[]})}let d=42-s.length;for(let t=1;t<=d;t++){let l=new Date(e,a+1,t),n=`${l.getFullYear()}-${l.getMonth()}-${l.getDate()}`;s.push({date:l,isCurrentMonth:!1,commits:i.get(n)||[]})}return s},[c,i]),g=_>0,j=_<m.length-1;function C(e){return!!n&&e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}return(0,a.jsxs)("div",{className:f.default.calendar,children:[(0,a.jsxs)("div",{className:f.default.header,children:[(0,a.jsx)("button",{className:`${f.default.navBtn} ${!g?f.default.navBtnDisabled:""}`,onClick:function(){if(_>0){let e=m[_-1];u(new Date(e.year,e.month,1))}},disabled:!g,"aria-label":"Previous month with commits",children:(0,a.jsx)(p.ChevronLeft,{size:24})}),(0,a.jsxs)("div",{className:f.default.headerCenter,children:[(0,a.jsxs)("h2",{className:f.default.monthYear,children:[S[c.getMonth()]," ",c.getFullYear()]}),(0,a.jsxs)("button",{className:f.default.firstCommitBtn,onClick:function(){if(m.length>0){let e=m[0];u(new Date(e.year,e.month,1))}},children:[(0,a.jsx)(o.GitCommit,{size:14}),"First Commit"]})]}),(0,a.jsx)("button",{className:`${f.default.navBtn} ${!j?f.default.navBtnDisabled:""}`,onClick:function(){if(_<m.length-1){let e=m[_+1];u(new Date(e.year,e.month,1))}},disabled:!j,"aria-label":"Next month with commits",children:(0,a.jsx)(y.ChevronRight,{size:24})})]}),(0,a.jsx)("div",{className:f.default.weekdays,children:x.map(e=>(0,a.jsx)("div",{className:f.default.weekday,children:e},e))}),(0,a.jsx)("div",{className:f.default.grid,children:h.map((e,t)=>{var n,i;let d,m=e.commits.length>0,c=0===(n=e.commits.length)?0:1===n?1:n<=3?2:n<=6?3:4;return(0,a.jsxs)("button",{className:`
                                ${f.default.day}
                                ${!e.isCurrentMonth?f.default.dayOutside:""}
                                ${m?f.default.dayHasCommits:""}
                                ${m?f.default[`intensity${c}`]:""}
                                ${C(e.date)?f.default.daySelected:""}
                                ${(i=e.date,d=new Date,i.getFullYear()===d.getFullYear()&&i.getMonth()===d.getMonth()&&i.getDate()===d.getDate())?f.default.dayToday:""}
                            `,onClick:()=>m&&l(e.date,e.commits),disabled:!m||s,"aria-label":`${e.date.toDateString()}${m?`, ${e.commits.length} commit(s)`:""}`,children:[(0,a.jsx)("span",{className:f.default.dayNumber,children:e.date.getDate()}),m&&(0,a.jsxs)("div",{className:f.default.commitIndicator,children:[(0,a.jsx)(o.GitCommit,{size:12}),(0,a.jsx)("span",{children:e.commits.length})]}),s&&C(e.date)&&(0,a.jsx)(r.Loader2,{size:16,className:f.default.dayLoader})]},t)})}),(0,a.jsxs)("div",{className:f.default.legend,children:[(0,a.jsx)("span",{className:f.default.legendLabel,children:"Activity:"}),(0,a.jsxs)("div",{className:f.default.legendScale,children:[(0,a.jsx)("div",{className:`${f.default.legendBox} ${f.default.intensity0}`}),(0,a.jsx)("div",{className:`${f.default.legendBox} ${f.default.intensity1}`}),(0,a.jsx)("div",{className:`${f.default.legendBox} ${f.default.intensity2}`}),(0,a.jsx)("div",{className:`${f.default.legendBox} ${f.default.intensity3}`}),(0,a.jsx)("div",{className:`${f.default.legendBox} ${f.default.intensity4}`})]}),(0,a.jsx)("span",{className:f.default.legendLabel,children:"More"})]})]})}function C({params:e}){let{id:p}=(0,t.use)(e),y=(0,l.useRouter)(),[f,x]=(0,t.useState)(null),[S,C]=(0,t.useState)([]),[v,N]=(0,t.useState)(!0),[b,k]=(0,t.useState)(null),[q,w]=(0,t.useState)(!1),[T,M]=(0,t.useState)(null),[B,F]=(0,t.useState)([]),[$,R]=(0,t.useState)(!1),[D,J]=(0,t.useState)(!1),[A,I]=(0,t.useState)("");async function L(e,a){M(e),F(a),R(!0),I("");let t=(0,g.getAISettings)();if(!t)return void I("Configure AI settings to generate commit summaries.");J(!0);try{let e=await fetch("/api/explain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t.provider,apiKey:t.config.apiKey,model:t.config.model,baseUrl:t.config.baseUrl,type:"day-summary",commits:a.map(e=>({sha:e.sha,message:e.message,authorName:e.authorName,date:e.date})),projectName:f?.name,projectOwner:f?.owner})});if(!e.ok)throw Error("Failed to generate summary");let l=e.body?.getReader(),n=new TextDecoder;if(l)for(;;){let{done:e,value:a}=await l.read();if(e)break;let t=n.decode(a,{stream:!0});I(e=>e+t)}}catch(e){console.error("Failed to generate day summary:",e),I("Failed to generate AI summary. Please try again.")}finally{J(!1)}}return((0,t.useEffect)(()=>{!async function(){try{let e=await fetch(`/api/repos/${p}/commits`),a=await e.json();if(!e.ok)throw Error(a.error||"Failed to fetch repository");x(a.repository),C(a.commits),N(!1)}catch(e){k(e instanceof Error?e.message:"Something went wrong"),N(!1)}}()},[p]),v)?(0,a.jsxs)("div",{className:h.default.loadingState,children:[(0,a.jsx)(r.Loader2,{size:32,className:h.default.spinner}),(0,a.jsx)("p",{children:"Loading timeline..."})]}):b?(0,a.jsxs)("div",{className:h.default.errorState,children:[(0,a.jsx)("p",{children:b}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>y.push("/"),children:"Go Home"})]}):f&&0!==S.length?(0,a.jsxs)("div",{className:h.default.container,children:[(0,a.jsxs)("header",{className:h.default.header,children:[(0,a.jsxs)("div",{className:h.default.headerLeft,children:[(0,a.jsx)("button",{className:"btn btn-ghost",onClick:()=>y.push("/"),children:(0,a.jsx)(s.Home,{size:18})}),(0,a.jsxs)("button",{className:"btn btn-ghost",onClick:()=>y.push(`/explore/${p}`),children:[(0,a.jsx)(d,{size:18}),"Back to Code"]})]}),(0,a.jsxs)("div",{className:h.default.headerCenter,children:[(0,a.jsxs)("div",{className:h.default.repoInfo,children:[(0,a.jsx)(n.BookOpen,{size:18}),(0,a.jsxs)("span",{className:h.default.repoName,children:[f.owner,"/",f.name]})]}),(0,a.jsxs)("span",{className:h.default.headerBadge,children:[(0,a.jsx)(c.Calendar,{size:14}),"Timeline View"]})]}),(0,a.jsx)("div",{className:h.default.headerRight,children:(0,a.jsx)("button",{className:"btn btn-ghost",onClick:()=>w(!0),children:(0,a.jsx)(i.Settings,{size:18})})})]}),(0,a.jsxs)("main",{className:h.default.main,children:[(0,a.jsx)("div",{className:h.default.calendarContainer,children:(0,a.jsx)(j,{commits:S,onDayClick:L,selectedDate:T,loading:D})}),$&&(0,a.jsxs)("aside",{className:h.default.dayPanel,children:[(0,a.jsxs)("div",{className:h.default.dayPanelHeader,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:h.default.dayPanelTitle,children:T?.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,a.jsxs)("span",{className:h.default.dayPanelSub,children:[B.length," commit",1!==B.length?"s":""]})]}),(0,a.jsx)("button",{className:h.default.dayPanelClose,onClick:function(){R(!1),M(null),F([]),I("")},"aria-label":"Close panel",children:(0,a.jsx)(_.X,{size:20})})]}),(0,a.jsx)("div",{className:h.default.commitList,children:B.map(e=>(0,a.jsxs)("div",{className:h.default.commitItem,children:[(0,a.jsxs)("div",{className:h.default.commitItemHeader,children:[(0,a.jsx)(o.GitCommit,{size:14}),(0,a.jsx)("code",{className:h.default.commitSha,children:e.sha.substring(0,7)})]}),(0,a.jsx)("p",{className:h.default.commitMessage,children:e.message.split("\n")[0]}),(0,a.jsxs)("span",{className:h.default.commitAuthor,children:[(0,a.jsx)(m.User,{size:12}),e.authorName||"Unknown"]})]},e.id))}),(0,a.jsxs)("div",{className:h.default.aiSummarySection,children:[(0,a.jsxs)("div",{className:h.default.aiSummaryHeader,children:[(0,a.jsx)(u.Sparkles,{size:16}),(0,a.jsx)("span",{children:"AI Summary"})]}),(0,a.jsx)("div",{className:h.default.aiSummaryContent,children:D?(0,a.jsxs)("div",{className:h.default.summaryLoading,children:[(0,a.jsx)(r.Loader2,{size:20,className:h.default.spinner}),(0,a.jsx)("span",{children:"Generating summary..."})]}):A?(0,a.jsx)("div",{className:h.default.summaryText,children:A.split("\n").map((e,t)=>e.trim()?(0,a.jsx)("p",{children:e},t):(0,a.jsx)("br",{},t))}):(0,a.jsx)("p",{className:h.default.summaryPlaceholder,children:"Click a day with commits to see the AI summary."})})]})]})]}),(0,a.jsx)(g.default,{isOpen:q,onClose:()=>w(!1)})]}):(0,a.jsxs)("div",{className:h.default.errorState,children:[(0,a.jsx)("p",{children:"No commits found for this repository."}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>y.push("/"),children:"Go Home"})]})}e.s(["default",()=>C,"runtime",0,"edge"],31292)}]);